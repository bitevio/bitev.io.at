
  // Prisma Schema auto-generated by bitev , Please dont touch anything ...
  generator client {
    provider = "prisma-client-js"
    previewFeatures=["clientExtensions"]
  }
  generator jsonSchema {
    provider = "prisma-json-schema-generator"
   // keepRelationScalarFields = "true"
    output ="models"
    persistOriginalType="true"
  }
  
  datasource db {
    provider = "mongodb"
    url      = env("DATABASE_URL")
  } 

  model Insights {
    id String @id @default(auto()) @map("_id") @db.ObjectId
    active Boolean?   @default(false)  
    name String?     @unique
    description String?     
    views Json?     
    icon String?      
    createdAt DateTime? @default(now()) 
    updatedAt DateTime? @updatedAt
 }

 model marketplaces_local{
  id String @id @default(auto()) @map("_id") @db.ObjectId
  key String @unique
  config Json? 
 }


  
    model controls {
      id String @id @default(auto()) @map("_id") @db.ObjectId
      employee employees?    @relation(fields:[employeeId],references:[id])
             employeeId String? @db.ObjectId 
               
      datetime String?     
      action Json?     
      device devices?    @relation(fields:[deviceId],references:[id])
             deviceId String? @db.ObjectId 
               
      function_code function_codes?    @relation(fields:[function_codeId],references:[id])
             function_codeId String? @db.ObjectId 
               
      planning planning?    @relation(fields:[planningId],references:[id])
             planningId String? @db.ObjectId 
               
      details Json?      
      createdAt DateTime? @default(now()) 
      updatedAt DateTime? @updatedAt
   }
    
    model departments {
      id String @id @default(auto()) @map("_id") @db.ObjectId
      name String?     
      description String?      
      createdAt DateTime? @default(now()) 
      updatedAt DateTime? @updatedAt
   }
    
    model devices {
      id String @id @default(auto()) @map("_id") @db.ObjectId
      name String?     
      code Float?     
      password String?     
      controls controls[]     
      imei String?      
      createdAt DateTime? @default(now()) 
      updatedAt DateTime? @updatedAt
   }
    
    model employees {
      id String @id @default(auto()) @map("_id") @db.ObjectId
      first_name String?     
      last_name String?     
      role Roles?    @relation(fields:[roleId],references:[id])
             roleId String? @db.ObjectId 
               
      facials Json[]     
      email String?     @unique
      password String?     
      controls controls[]     
      planning planning?    @relation(fields:[planningId],references:[id])
             planningId String? @db.ObjectId 
                
      createdAt DateTime? @default(now()) 
      updatedAt DateTime? @updatedAt
   }
    
    model events {
      id String @id @default(auto()) @map("_id") @db.ObjectId
      start_datetime String?     
      end_datetime String?     
      planning planning?    @relation(fields:[planningId],references:[id])
             planningId String? @db.ObjectId 
                
      createdAt DateTime? @default(now()) 
      updatedAt DateTime? @updatedAt
   }
    
    model function_codes {
      id String @id @default(auto()) @map("_id") @db.ObjectId
      name String?     
      code String?     
      description String?     
      colour String?     
      finish Boolean?   @default(false)  
      controls controls[]      
      createdAt DateTime? @default(now()) 
      updatedAt DateTime? @updatedAt
   }
    
    model Medias {
      id String @id @default(auto()) @map("_id") @db.ObjectId
      ref String?     
      driver String?     
      filename String?     
      filedisk String?     
      asseturl String?     
      url String?     
      details Json?     
      data Json?      
      createdAt DateTime? @default(now()) 
      updatedAt DateTime? @updatedAt
   }
    
    model planning {
      id String @id @default(auto()) @map("_id") @db.ObjectId
      name String?     
      code String?     @unique
      start_date String?     
      end_date String?     
      employees employees[]     
      model timesheets_models?    @relation(fields:[modelId],references:[id])
             modelId String? @db.ObjectId 
               
      controls controls[]     
      events events[]      
      createdAt DateTime? @default(now()) 
      updatedAt DateTime? @updatedAt
   }
    
    model rate_classes {
      id String @id @default(auto()) @map("_id") @db.ObjectId
      code String?     
      name String?     
      rate Float?     
      colour String?      
      createdAt DateTime? @default(now()) 
      updatedAt DateTime? @updatedAt
   }
    
    model Roles {
      id String @id @default(auto()) @map("_id") @db.ObjectId
      name String?     @unique
      description String?     
      permissions Json?     
      employees employees[]      
      createdAt DateTime? @default(now()) 
      updatedAt DateTime? @updatedAt
   }
    
    model Settings {
      id String @id @default(auto()) @map("_id") @db.ObjectId
      project_name String?     
      project_title String?     
      project_description String?     
      project_logo Json?     
      public_background Json?     
      public_note String?     
      activity Boolean?   @default(false)  
      mapbox_token String?      
      createdAt DateTime? @default(now()) 
      updatedAt DateTime? @updatedAt
   }
    
    model timesheets_models {
      id String @id @default(auto()) @map("_id") @db.ObjectId
      name String?     
      timetables timetables[]     
      description String?     
      plannings planning[]      
      createdAt DateTime? @default(now()) 
      updatedAt DateTime? @updatedAt
   }
    
    model timetables {
      id String @id @default(auto()) @map("_id") @db.ObjectId
      name String?     
      description String?     
      days_of_week Json[]     
      start_time String?     
      end_time String?     
      day_lag Float?   @default(0)  
      included Boolean?   @default(false)  
      timesheets_model timesheets_models?    @relation(fields:[timesheets_modelId],references:[id])
             timesheets_modelId String? @db.ObjectId 
                
      createdAt DateTime? @default(now()) 
      updatedAt DateTime? @updatedAt
   }
    
    model Users {
      id String @id @default(auto()) @map("_id") @db.ObjectId
      email String?     
      password String?      
      createdAt DateTime? @default(now()) 
      updatedAt DateTime? @updatedAt
   }
    
    model Webhooks {
      id String @id @default(auto()) @map("_id") @db.ObjectId
      name String?     @unique
      status Json?     
      method Json?     
      actions Json[]     
      collections Json[]      
      createdAt DateTime? @default(now()) 
      updatedAt DateTime? @updatedAt
   }
    