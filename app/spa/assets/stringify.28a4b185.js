import{T as vL}from"./TouchPan.8cbd0012.js";import{O as mL,r as Qt,c as gt,c1 as GW,c3 as L0,l as Au,M as gL,aO as yL,g as Th,P as dc,al as KW,h as Tt,b3 as bL,cb as wL,L as sk,cc as QW,w as Tr,an as YW,cd as ZW,ce as XW,ak as Nl,au as lk,n as Rj,b6 as eU,bg as tU,c5 as nU,aD as Fd,d as $o,p as bd,o as mf,cf as uk,cg as ck,aq as Rr,aF as ms,f as vt,$ as gg,t as gf,i as lo,av as Hd,B as Vs,C as fk,F as dk,Y as kL,s as Qs,z as xL,ch as hk,m as pk,bF as vk,as as ln,ax as iu,ay as ou,az as Lv,E as Bi,aA as Ys,V as vi,aE as wd,aC as jc,a2 as mk,ar as Sa,at as Ro,bA as kd,bx as rU,ci as iU,aw as is,Q as jL,aB as oU,a7 as CL,aG as aU,u as N1,aV as SL,a as sU,c8 as lU,cj as uU,X as cU,c7 as fU,bI as dU,aW as hU,aU as Bj,ck as pU}from"./index.ea08f9f2.js";import{Q as zj}from"./QTabs.d7e754f2.js";import{Q as qf,b as D0,a as vU,u as mU}from"./QTabPanels.300736f5.js";import{Q as gU}from"./QMenu.393d38a8.js";import{Q as qj}from"./QToolbar.02c67485.js";import{Q as yU}from"./QChip.fcdd2968.js";import{Q as bU}from"./QImg.5a9ab135.js";import{Q as wU}from"./QScrollArea.ecdca24b.js";import{c as kU,Q as xU,a as jU}from"./QTable.ff2b889b.js";import{u as gk}from"./use-dialog-plugin-component.cb570f72.js";import{b as Fj}from"./route-block.b5bad31b.js";import{h as Hj}from"./moment.9709ab41.js";const Vj="q-slider__marker-labels",CU=n=>({value:n}),SU=({marker:n})=>Tt("div",{key:n.value,style:n.style,class:n.classes},n.label),TL=[34,37,40,33,39,38],TU={...gL,...yL,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:n=>n>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},OU=["pan","update:modelValue","change"];function EU({updateValue:n,updatePosition:e,getDragging:t,formAttrs:r}){const{props:i,emit:o,slots:a,proxy:{$q:s}}=Th(),l=mL(i,s),u=wL(r),c=Qt(!1),f=Qt(!1),d=Qt(!1),h=Qt(!1),v=gt(()=>i.vertical===!0?"--v":"--h"),p=gt(()=>"-"+(i.switchLabelSide===!0?"switched":"standard")),m=gt(()=>i.vertical===!0?i.reverse===!0:i.reverse!==(s.lang.rtl===!0)),g=gt(()=>isNaN(i.innerMin)===!0||i.innerMin<i.min?i.min:i.innerMin),y=gt(()=>isNaN(i.innerMax)===!0||i.innerMax>i.max?i.max:i.innerMax),b=gt(()=>i.disable!==!0&&i.readonly!==!0&&g.value<y.value),w=gt(()=>(String(i.step).trim().split(".")[1]||"").length),k=gt(()=>i.step===0?1:i.step),x=gt(()=>b.value===!0?i.tabindex||0:-1),C=gt(()=>i.max-i.min),T=gt(()=>y.value-g.value),M=gt(()=>P(g.value)),B=gt(()=>P(y.value)),_=gt(()=>i.vertical===!0?m.value===!0?"bottom":"top":m.value===!0?"right":"left"),N=gt(()=>i.vertical===!0?"height":"width"),$=gt(()=>i.vertical===!0?"width":"height"),j=gt(()=>i.vertical===!0?"vertical":"horizontal"),D=gt(()=>{const H={role:"slider","aria-valuemin":g.value,"aria-valuemax":y.value,"aria-orientation":j.value,"data-step":i.step};return i.disable===!0?H["aria-disabled"]="true":i.readonly===!0&&(H["aria-readonly"]="true"),H}),q=gt(()=>`q-slider q-slider${v.value} q-slider--${c.value===!0?"":"in"}active inline no-wrap `+(i.vertical===!0?"row":"column")+(i.disable===!0?" disabled":" q-slider--enabled"+(b.value===!0?" q-slider--editable":""))+(d.value==="both"?" q-slider--focus":"")+(i.label||i.labelAlways===!0?" q-slider--label":"")+(i.labelAlways===!0?" q-slider--label-always":"")+(l.value===!0?" q-slider--dark":"")+(i.dense===!0?" q-slider--dense q-slider--dense"+v.value:""));function R(H){const U="q-slider__"+H;return`${U} ${U}${v.value} ${U}${v.value}${p.value}`}function G(H){const U="q-slider__"+H;return`${U} ${U}${v.value}`}const A=gt(()=>{const H=i.selectionColor||i.color;return"q-slider__selection absolute"+(H!==void 0?` text-${H}`:"")}),I=gt(()=>G("markers")+" absolute overflow-hidden"),z=gt(()=>G("track-container")),F=gt(()=>R("pin")),L=gt(()=>R("label")),O=gt(()=>R("text-container")),V=gt(()=>R("marker-labels-container")+(i.markerLabelsClass!==void 0?` ${i.markerLabelsClass}`:"")),Z=gt(()=>"q-slider__track relative-position no-outline"+(i.trackColor!==void 0?` bg-${i.trackColor}`:"")),te=gt(()=>{const H={[$.value]:i.trackSize};return i.trackImg!==void 0&&(H.backgroundImage=`url(${i.trackImg}) !important`),H}),ve=gt(()=>"q-slider__inner absolute"+(i.innerTrackColor!==void 0?` bg-${i.innerTrackColor}`:"")),ue=gt(()=>{const H={[_.value]:`${100*M.value}%`,[N.value]:`${100*(B.value-M.value)}%`};return i.innerTrackImg!==void 0&&(H.backgroundImage=`url(${i.innerTrackImg}) !important`),H});function ge(H){const{min:U,max:se,step:Q}=i;let we=U+H*(se-U);if(Q>0){const Oe=(we-U)%Q;we+=(Math.abs(Oe)>=Q/2?(Oe<0?-1:1)*Q:0)-Oe}return w.value>0&&(we=parseFloat(we.toFixed(w.value))),dc(we,g.value,y.value)}function P(H){return C.value===0?0:(H-i.min)/C.value}function S(H,U){const se=KW(H),Q=i.vertical===!0?dc((se.top-U.top)/U.height,0,1):dc((se.left-U.left)/U.width,0,1);return dc(m.value===!0?1-Q:Q,M.value,B.value)}const ae=gt(()=>GW(i.markers)===!0?i.markers:k.value),ce=gt(()=>{const H=[],U=ae.value,se=i.max;let Q=i.min;do H.push(Q),Q+=U;while(Q<se);return H.push(se),H}),ne=gt(()=>{const H=` ${Vj}${v.value}-`;return Vj+`${H}${i.switchMarkerLabelsSide===!0?"switched":"standard"}${H}${m.value===!0?"rtl":"ltr"}`}),ye=gt(()=>i.markerLabels===!1?null:Ue(i.markerLabels).map((H,U)=>({index:U,value:H.value,label:H.label||H.value,classes:ne.value+(H.classes!==void 0?" "+H.classes:""),style:{...pt(H.value),...H.style||{}}}))),Ce=gt(()=>({markerList:ye.value,markerMap:Ke.value,classes:ne.value,getStyle:pt})),Se=gt(()=>{if(T.value!==0){const H=100*ae.value/T.value;return{...ue.value,backgroundSize:i.vertical===!0?`2px ${H}%`:`${H}% 2px`}}return null});function Ue(H){if(H===!1)return null;if(H===!0)return ce.value.map(CU);if(typeof H=="function")return ce.value.map(se=>{const Q=H(se);return L0(Q)===!0?{...Q,value:se}:{value:se,label:Q}});const U=({value:se})=>se>=i.min&&se<=i.max;return Array.isArray(H)===!0?H.map(se=>L0(se)===!0?se:{value:se}).filter(U):Object.keys(H).map(se=>{const Q=H[se],we=Number(se);return L0(Q)===!0?{...Q,value:we}:{value:we,label:Q}}).filter(U)}function pt(H){return{[_.value]:`${100*(H-i.min)/C.value}%`}}const Ke=gt(()=>{if(i.markerLabels===!1)return null;const H={};return ye.value.forEach(U=>{H[U.value]=U}),H});function Me(){if(a["marker-label-group"]!==void 0)return a["marker-label-group"](Ce.value);const H=a["marker-label"]||SU;return ye.value.map(U=>H({marker:U,...Ce.value}))}const et=gt(()=>[[vL,le,void 0,{[j.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function le(H){H.isFinal===!0?(h.value!==void 0&&(e(H.evt),H.touch===!0&&n(!0),h.value=void 0,o("pan","end")),c.value=!1,d.value=!1):H.isFirst===!0?(h.value=t(H.evt),e(H.evt),n(),c.value=!0,o("pan","start")):(e(H.evt),n())}function be(){d.value=!1}function Le(H){e(H,t(H)),n(),f.value=!0,c.value=!0,document.addEventListener("mouseup",Ee,!0)}function Ee(){f.value=!1,c.value=!1,n(!0),be(),document.removeEventListener("mouseup",Ee,!0)}function ct(H){e(H,t(H)),n(!0)}function it(H){TL.includes(H.keyCode)&&n(!0)}function at(H){if(i.vertical===!0)return null;const U=s.lang.rtl!==i.reverse?1-H:H;return{transform:`translateX(calc(${2*U-1} * ${i.thumbSize} / 2 + ${50-100*U}%))`}}function Bt(H){const U=gt(()=>f.value===!1&&(d.value===H.focusValue||d.value==="both")?" q-slider--focus":""),se=gt(()=>`q-slider__thumb q-slider__thumb${v.value} q-slider__thumb${v.value}-${m.value===!0?"rtl":"ltr"} absolute non-selectable`+U.value+(H.thumbColor.value!==void 0?` text-${H.thumbColor.value}`:"")),Q=gt(()=>({width:i.thumbSize,height:i.thumbSize,[_.value]:`${100*H.ratio.value}%`,zIndex:d.value===H.focusValue?2:void 0})),we=gt(()=>H.labelColor.value!==void 0?` text-${H.labelColor.value}`:""),Oe=gt(()=>at(H.ratio.value)),Fe=gt(()=>"q-slider__text"+(H.labelTextColor.value!==void 0?` text-${H.labelTextColor.value}`:""));return()=>{const Xe=[Tt("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[Tt("path",{d:i.thumbPath})]),Tt("div",{class:"q-slider__focus-ring fit"})];return(i.label===!0||i.labelAlways===!0)&&(Xe.push(Tt("div",{class:F.value+" absolute fit no-pointer-events"+we.value},[Tt("div",{class:L.value,style:{minWidth:i.thumbSize}},[Tt("div",{class:O.value,style:Oe.value},[Tt("span",{class:Fe.value},H.label.value)])])])),i.name!==void 0&&i.disable!==!0&&u(Xe,"push")),Tt("div",{class:se.value,style:Q.value,...H.getNodeData()},Xe)}}function zt(H,U,se,Q){const we=[];i.innerTrackColor!=="transparent"&&we.push(Tt("div",{key:"inner",class:ve.value,style:ue.value})),i.selectionColor!=="transparent"&&we.push(Tt("div",{key:"selection",class:A.value,style:H.value})),i.markers!==!1&&we.push(Tt("div",{key:"marker",class:I.value,style:Se.value})),Q(we);const Oe=[bL("div",{key:"trackC",class:z.value,tabindex:U.value,...se.value},[Tt("div",{class:Z.value,style:te.value},we)],"slide",b.value,()=>et.value)];if(i.markerLabels!==!1){const Fe=i.switchMarkerLabelsSide===!0?"unshift":"push";Oe[Fe](Tt("div",{key:"markerL",class:V.value},Me()))}return Oe}return Au(()=>{document.removeEventListener("mouseup",Ee,!0)}),{state:{active:c,focus:d,preventFocus:f,dragging:h,editable:b,classes:q,tabindex:x,attributes:D,step:k,decimals:w,trackLen:C,innerMin:g,innerMinRatio:M,innerMax:y,innerMaxRatio:B,positionProp:_,sizeProp:N,isReversed:m},methods:{onActivate:Le,onMobileClick:ct,onBlur:be,onKeyup:it,getContent:zt,getThumbRenderFn:Bt,convertRatioToModel:ge,convertModelToRatio:P,getDraggingRatio:S}}}const MU=()=>({});var Ku=sk({name:"QSlider",props:{...TU,modelValue:{required:!0,default:null,validator:n=>typeof n=="number"||n===null},labelValue:[String,Number]},emits:OU,setup(n,{emit:e}){const{proxy:{$q:t}}=Th(),{state:r,methods:i}=EU({updateValue:v,updatePosition:m,getDragging:p,formAttrs:QW(n)}),o=Qt(null),a=Qt(0),s=Qt(0);function l(){s.value=n.modelValue===null?r.innerMin.value:dc(n.modelValue,r.innerMin.value,r.innerMax.value)}Tr(()=>`${n.modelValue}|${r.innerMin.value}|${r.innerMax.value}`,l),l();const u=gt(()=>i.convertModelToRatio(s.value)),c=gt(()=>r.active.value===!0?a.value:u.value),f=gt(()=>{const b={[r.positionProp.value]:`${100*r.innerMinRatio.value}%`,[r.sizeProp.value]:`${100*(c.value-r.innerMinRatio.value)}%`};return n.selectionImg!==void 0&&(b.backgroundImage=`url(${n.selectionImg}) !important`),b}),d=i.getThumbRenderFn({focusValue:!0,getNodeData:MU,ratio:c,label:gt(()=>n.labelValue!==void 0?n.labelValue:s.value),thumbColor:gt(()=>n.thumbColor||n.color),labelColor:gt(()=>n.labelColor),labelTextColor:gt(()=>n.labelTextColor)}),h=gt(()=>r.editable.value!==!0?{}:t.platform.is.mobile===!0?{onClick:i.onMobileClick}:{onMousedown:i.onActivate,onFocus:g,onBlur:i.onBlur,onKeydown:y,onKeyup:i.onKeyup});function v(b){s.value!==n.modelValue&&e("update:modelValue",s.value),b===!0&&e("change",s.value)}function p(){return o.value.getBoundingClientRect()}function m(b,w=r.dragging.value){const k=i.getDraggingRatio(b,w);s.value=i.convertRatioToModel(k),a.value=n.snap!==!0||n.step===0?k:i.convertModelToRatio(s.value)}function g(){r.focus.value=!0}function y(b){if(!TL.includes(b.keyCode))return;YW(b);const w=([34,33].includes(b.keyCode)?10:1)*r.step.value,k=([34,37,40].includes(b.keyCode)?-1:1)*(r.isReversed.value===!0?-1:1)*(n.vertical===!0?-1:1)*w;s.value=dc(parseFloat((s.value+k).toFixed(r.decimals.value)),r.innerMin.value,r.innerMax.value),v()}return()=>{const b=i.getContent(f,r.tabindex,h,w=>{w.push(d())});return Tt("div",{ref:o,class:r.classes.value+(n.modelValue===null?" q-slider--no-value":""),...r.attributes.value,"aria-valuenow":n.modelValue},b)}}});const $U=/^rgb(a)?\((\d{1,3}),(\d{1,3}),(\d{1,3}),?([01]?\.?\d*?)?\)$/;function Wj({r:n,g:e,b:t,a:r}){const i=r!==void 0;if(n=Math.round(n),e=Math.round(e),t=Math.round(t),n>255||e>255||t>255||i&&r>100)throw new TypeError("Expected 3 numbers below 256 (and optionally one below 100)");return r=i?(Math.round(255*r/100)|1<<8).toString(16).slice(1):"","#"+(t|e<<8|n<<16|1<<24).toString(16).slice(1)+r}function Uj({r:n,g:e,b:t,a:r}){return`rgb${r!==void 0?"a":""}(${n},${e},${t}${r!==void 0?","+r/100:""})`}function OL(n){if(typeof n!="string")throw new TypeError("Expected a string");n=n.replace(/^#/,""),n.length===3?n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]:n.length===4&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]);const e=parseInt(n,16);return n.length>6?{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:Math.round((e&255)/2.55)}:{r:e>>16,g:e>>8&255,b:e&255}}function Jj({h:n,s:e,v:t,a:r}){let i,o,a;e=e/100,t=t/100,n=n/360;const s=Math.floor(n*6),l=n*6-s,u=t*(1-e),c=t*(1-l*e),f=t*(1-(1-l)*e);switch(s%6){case 0:i=t,o=f,a=u;break;case 1:i=c,o=t,a=u;break;case 2:i=u,o=t,a=f;break;case 3:i=u,o=c,a=t;break;case 4:i=f,o=u,a=t;break;case 5:i=t,o=u,a=c;break}return{r:Math.round(i*255),g:Math.round(o*255),b:Math.round(a*255),a:r}}function R0({r:n,g:e,b:t,a:r}){const i=Math.max(n,e,t),o=Math.min(n,e,t),a=i-o,s=i===0?0:a/i,l=i/255;let u;switch(i){case o:u=0;break;case n:u=e-t+a*(e<t?6:0),u/=6*a;break;case e:u=t-n+a*2,u/=6*a;break;case t:u=n-e+a*4,u/=6*a;break}return{h:Math.round(u*360),s:Math.round(s*100),v:Math.round(l*100),a:r}}function EL(n){if(typeof n!="string")throw new TypeError("Expected a string");const e=n.replace(/ /g,""),t=$U.exec(e);if(t===null)return OL(e);const r={r:Math.min(255,parseInt(t[2],10)),g:Math.min(255,parseInt(t[3],10)),b:Math.min(255,parseInt(t[4],10))};if(t[1]){const i=parseFloat(t[5]);r.a=Math.min(1,isNaN(i)===!0?1:i)*100}return r}function AU(n){if(typeof n!="string"&&(!n||n.r===void 0))throw new TypeError("Expected a string or a {r, g, b} object as color");const e=typeof n=="string"?EL(n):n,t=e.r/255,r=e.g/255,i=e.b/255,o=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4),a=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4),s=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4);return .2126*o+.7152*a+.0722*s}const _U=["rgb(255,204,204)","rgb(255,230,204)","rgb(255,255,204)","rgb(204,255,204)","rgb(204,255,230)","rgb(204,255,255)","rgb(204,230,255)","rgb(204,204,255)","rgb(230,204,255)","rgb(255,204,255)","rgb(255,153,153)","rgb(255,204,153)","rgb(255,255,153)","rgb(153,255,153)","rgb(153,255,204)","rgb(153,255,255)","rgb(153,204,255)","rgb(153,153,255)","rgb(204,153,255)","rgb(255,153,255)","rgb(255,102,102)","rgb(255,179,102)","rgb(255,255,102)","rgb(102,255,102)","rgb(102,255,179)","rgb(102,255,255)","rgb(102,179,255)","rgb(102,102,255)","rgb(179,102,255)","rgb(255,102,255)","rgb(255,51,51)","rgb(255,153,51)","rgb(255,255,51)","rgb(51,255,51)","rgb(51,255,153)","rgb(51,255,255)","rgb(51,153,255)","rgb(51,51,255)","rgb(153,51,255)","rgb(255,51,255)","rgb(255,0,0)","rgb(255,128,0)","rgb(255,255,0)","rgb(0,255,0)","rgb(0,255,128)","rgb(0,255,255)","rgb(0,128,255)","rgb(0,0,255)","rgb(128,0,255)","rgb(255,0,255)","rgb(245,0,0)","rgb(245,123,0)","rgb(245,245,0)","rgb(0,245,0)","rgb(0,245,123)","rgb(0,245,245)","rgb(0,123,245)","rgb(0,0,245)","rgb(123,0,245)","rgb(245,0,245)","rgb(214,0,0)","rgb(214,108,0)","rgb(214,214,0)","rgb(0,214,0)","rgb(0,214,108)","rgb(0,214,214)","rgb(0,108,214)","rgb(0,0,214)","rgb(108,0,214)","rgb(214,0,214)","rgb(163,0,0)","rgb(163,82,0)","rgb(163,163,0)","rgb(0,163,0)","rgb(0,163,82)","rgb(0,163,163)","rgb(0,82,163)","rgb(0,0,163)","rgb(82,0,163)","rgb(163,0,163)","rgb(92,0,0)","rgb(92,46,0)","rgb(92,92,0)","rgb(0,92,0)","rgb(0,92,46)","rgb(0,92,92)","rgb(0,46,92)","rgb(0,0,92)","rgb(46,0,92)","rgb(92,0,92)","rgb(255,255,255)","rgb(205,205,205)","rgb(178,178,178)","rgb(153,153,153)","rgb(127,127,127)","rgb(102,102,102)","rgb(76,76,76)","rgb(51,51,51)","rgb(25,25,25)","rgb(0,0,0)"],Gj="M5 5 h10 v10 h-10 v-10 z",NU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAH0lEQVQoU2NkYGAwZkAFZ5G5jPRRgOYEVDeB3EBjBQBOZwTVugIGyAAAAABJRU5ErkJggg==";var sst=sk({name:"QColor",props:{...gL,...yL,modelValue:String,defaultValue:String,defaultView:{type:String,default:"spectrum",validator:n=>["spectrum","tune","palette"].includes(n)},formatModel:{type:String,default:"auto",validator:n=>["auto","hex","rgb","hexa","rgba"].includes(n)},palette:Array,noHeader:Boolean,noHeaderTabs:Boolean,noFooter:Boolean,square:Boolean,flat:Boolean,bordered:Boolean,disable:Boolean,readonly:Boolean},emits:["update:modelValue","change"],setup(n,{emit:e}){const{proxy:t}=Th(),{$q:r}=t,i=mL(n,r),{getCache:o}=mU(),a=Qt(null),s=Qt(null),l=gt(()=>n.formatModel==="auto"?null:n.formatModel.indexOf("hex")>-1),u=gt(()=>n.formatModel==="auto"?null:n.formatModel.indexOf("a")>-1),c=Qt(n.formatModel==="auto"?n.modelValue===void 0||n.modelValue===null||n.modelValue===""||n.modelValue.startsWith("#")?"hex":"rgb":n.formatModel.startsWith("hex")?"hex":"rgb"),f=Qt(n.defaultView),d=Qt(N(n.modelValue||n.defaultValue)),h=gt(()=>n.disable!==!0&&n.readonly!==!0),v=gt(()=>n.modelValue===void 0||n.modelValue===null||n.modelValue===""||n.modelValue.startsWith("#")),p=gt(()=>l.value!==null?l.value:v.value),m=gt(()=>({type:"hidden",name:n.name,value:d.value[p.value===!0?"hex":"rgb"]})),g=wL(m),y=gt(()=>u.value!==null?u.value:d.value.a!==void 0),b=gt(()=>({backgroundColor:d.value.rgb||"#000"})),w=gt(()=>`q-color-picker__header-content q-color-picker__header-content--${(d.value.a!==void 0&&d.value.a<65?!0:AU(d.value)>.4)?"light":"dark"}`),k=gt(()=>({background:`hsl(${d.value.h},100%,50%)`})),x=gt(()=>({top:`${100-d.value.v}%`,[r.lang.rtl===!0?"right":"left"]:`${d.value.s}%`})),C=gt(()=>n.palette!==void 0&&n.palette.length>0?n.palette:_U),T=gt(()=>"q-color-picker"+(n.bordered===!0?" q-color-picker--bordered":"")+(n.square===!0?" q-color-picker--square no-border-radius":"")+(n.flat===!0?" q-color-picker--flat no-shadow":"")+(n.disable===!0?" disabled":"")+(i.value===!0?" q-color-picker--dark q-dark":"")),M=gt(()=>n.disable===!0?{"aria-disabled":"true"}:n.readonly===!0?{"aria-readonly":"true"}:{}),B=gt(()=>[[vL,G,void 0,{prevent:!0,stop:!0,mouse:!0}]]);Tr(()=>n.modelValue,ue=>{const ge=N(ue||n.defaultValue);ge.hex!==d.value.hex&&(d.value=ge)}),Tr(()=>n.defaultValue,ue=>{if(!n.modelValue&&ue){const ge=N(ue);ge.hex!==d.value.hex&&(d.value=ge)}});function _(ue,ge){d.value.hex=Wj(ue),d.value.rgb=Uj(ue),d.value.r=ue.r,d.value.g=ue.g,d.value.b=ue.b,d.value.a=ue.a;const P=d.value[p.value===!0?"hex":"rgb"];e("update:modelValue",P),ge===!0&&e("change",P)}function N(ue){const ge=u.value!==void 0?u.value:n.formatModel==="auto"?null:n.formatModel.indexOf("a")>-1;if(typeof ue!="string"||ue.length===0||ZW.anyColor(ue.replace(/ /g,""))!==!0)return{h:0,s:0,v:0,r:0,g:0,b:0,a:ge===!0?100:void 0,hex:void 0,rgb:void 0};const P=EL(ue);return ge===!0&&P.a===void 0&&(P.a=100),P.hex=Wj(P),P.rgb=Uj(P),Object.assign(P,R0(P))}function $(ue,ge,P){const S=a.value;if(S===null)return;const ae=S.clientWidth,ce=S.clientHeight,ne=S.getBoundingClientRect();let ye=Math.min(ae,Math.max(0,ue-ne.left));r.lang.rtl===!0&&(ye=ae-ye);const Ce=Math.min(ce,Math.max(0,ge-ne.top)),Se=Math.round(100*ye/ae),Ue=Math.round(100*Math.max(0,Math.min(1,-(Ce/ce)+1))),pt=Jj({h:d.value.h,s:Se,v:Ue,a:y.value===!0?d.value.a:void 0});d.value.s=Se,d.value.v=Ue,_(pt,P)}function j(ue,ge){const P=Math.round(ue),S=Jj({h:P,s:d.value.s,v:d.value.v,a:y.value===!0?d.value.a:void 0});d.value.h=P,_(S,ge)}function D(ue,ge,P,S,ae){if(S!==void 0&&Nl(S),!/^[0-9]+$/.test(ue)){ae===!0&&t.$forceUpdate();return}const ce=Math.floor(Number(ue));if(ce<0||ce>P){ae===!0&&t.$forceUpdate();return}const ne={r:ge==="r"?ce:d.value.r,g:ge==="g"?ce:d.value.g,b:ge==="b"?ce:d.value.b,a:y.value===!0?ge==="a"?ce:d.value.a:void 0};if(ge!=="a"){const ye=R0(ne);d.value.h=ye.h,d.value.s=ye.s,d.value.v=ye.v}if(_(ne,ae),S!==void 0&&ae!==!0&&S.target.selectionEnd!==void 0){const ye=S.target.selectionEnd;Rj(()=>{S.target.setSelectionRange(ye,ye)})}}function q(ue,ge){let P;const S=ue.target.value;if(Nl(ue),c.value==="hex"){if(S.length!==(y.value===!0?9:7)||!/^#[0-9A-Fa-f]+$/.test(S))return!0;P=OL(S)}else{let ce;if(S.endsWith(")"))if(y.value!==!0&&S.startsWith("rgb(")){if(ce=S.substring(4,S.length-1).split(",").map(ne=>parseInt(ne,10)),ce.length!==3||!/^rgb\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3}\)$/.test(S))return!0}else if(y.value===!0&&S.startsWith("rgba(")){if(ce=S.substring(5,S.length-1).split(","),ce.length!==4||!/^rgba\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3},(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/.test(S))return!0;for(let ye=0;ye<3;ye++){const Ce=parseInt(ce[ye],10);if(Ce<0||Ce>255)return!0;ce[ye]=Ce}const ne=parseFloat(ce[3]);if(ne<0||ne>1)return!0;ce[3]=ne}else return!0;else return!0;if(ce[0]<0||ce[0]>255||ce[1]<0||ce[1]>255||ce[2]<0||ce[2]>255||y.value===!0&&(ce[3]<0||ce[3]>1))return!0;P={r:ce[0],g:ce[1],b:ce[2],a:y.value===!0?ce[3]*100:void 0}}const ae=R0(P);if(d.value.h=ae.h,d.value.s=ae.s,d.value.v=ae.v,_(P,ge),ge!==!0){const ce=ue.target.selectionEnd;Rj(()=>{ue.target.setSelectionRange(ce,ce)})}}function R(ue){const ge=N(ue),P={r:ge.r,g:ge.g,b:ge.b,a:ge.a};P.a===void 0&&(P.a=d.value.a),d.value.h=ge.h,d.value.s=ge.s,d.value.v=ge.v,_(P,!0)}function G(ue){ue.isFinal?$(ue.position.left,ue.position.top,!0):A(ue)}const A=XW(ue=>{$(ue.position.left,ue.position.top)},20);function I(ue){$(ue.pageX-window.pageXOffset,ue.pageY-window.pageYOffset,!0)}function z(ue){$(ue.pageX-window.pageXOffset,ue.pageY-window.pageYOffset)}function F(ue){s.value!==null&&(s.value.$el.style.opacity=ue?1:0)}function L(){const ue=[];return n.noHeaderTabs!==!0&&ue.push(Tt(zj,{class:"q-color-picker__header-tabs",modelValue:c.value,dense:!0,align:"justify",...o("topVTab",{"onUpdate:modelValue":ge=>{c.value=ge}})},()=>[Tt(qf,{label:"HEX"+(y.value===!0?"A":""),name:"hex",ripple:!1}),Tt(qf,{label:"RGB"+(y.value===!0?"A":""),name:"rgb",ripple:!1})])),ue.push(Tt("div",{class:"q-color-picker__header-banner row flex-center no-wrap"},[Tt("input",{class:"fit",value:d.value[c.value],...h.value!==!0?{readonly:!0}:{},...o("topIn",{onInput:ge=>{F(q(ge)===!0)},onChange:Nl,onBlur:ge=>{q(ge,!0)===!0&&t.$forceUpdate(),F(!1)}})}),Tt(lk,{ref:s,class:"q-color-picker__error-icon absolute no-pointer-events",name:r.iconSet.type.negative})])),Tt("div",{class:"q-color-picker__header relative-position overflow-hidden"},[Tt("div",{class:"q-color-picker__header-bg absolute-full"}),Tt("div",{class:w.value,style:b.value},ue)])}function O(){return Tt(vU,{modelValue:f.value,animated:!0},()=>[Tt(D0,{class:"q-color-picker__spectrum-tab overflow-hidden",name:"spectrum"},Z),Tt(D0,{class:"q-pa-md q-color-picker__tune-tab",name:"tune"},te),Tt(D0,{class:"q-color-picker__palette-tab",name:"palette"},ve)])}function V(){return Tt("div",{class:"q-color-picker__footer relative-position overflow-hidden"},[Tt(zj,{class:"absolute-full",modelValue:f.value,dense:!0,align:"justify",...o("ftIn",{"onUpdate:modelValue":ue=>{f.value=ue}})},()=>[Tt(qf,{icon:r.iconSet.colorPicker.spectrum,name:"spectrum",ripple:!1}),Tt(qf,{icon:r.iconSet.colorPicker.tune,name:"tune",ripple:!1}),Tt(qf,{icon:r.iconSet.colorPicker.palette,name:"palette",ripple:!1})])])}function Z(){const ue={ref:a,class:"q-color-picker__spectrum non-selectable relative-position cursor-pointer"+(h.value!==!0?" readonly":""),style:k.value,...h.value===!0?{onClick:I,onMousedown:z}:{}},ge=[Tt("div",{style:{paddingBottom:"100%"}}),Tt("div",{class:"q-color-picker__spectrum-white absolute-full"}),Tt("div",{class:"q-color-picker__spectrum-black absolute-full"}),Tt("div",{class:"absolute",style:x.value},[d.value.hex!==void 0?Tt("div",{class:"q-color-picker__spectrum-circle"}):null])],P=[Tt(Ku,{class:"q-color-picker__hue non-selectable",modelValue:d.value.h,min:0,max:360,trackSize:"8px",innerTrackColor:"transparent",selectionColor:"transparent",readonly:h.value!==!0,thumbPath:Gj,"onUpdate:modelValue":j,...o("lazyhue",{onChange:S=>j(S,!0)})})];return y.value===!0&&P.push(Tt(Ku,{class:"q-color-picker__alpha non-selectable",modelValue:d.value.a,min:0,max:100,trackSize:"8px",trackColor:"white",innerTrackColor:"transparent",selectionColor:"transparent",trackImg:NU,readonly:h.value!==!0,hideSelection:!0,thumbPath:Gj,...o("alphaSlide",{"onUpdate:modelValue":S=>D(S,"a",100),onChange:S=>D(S,"a",100,void 0,!0)})})),[bL("div",ue,ge,"spec",h.value,()=>B.value),Tt("div",{class:"q-color-picker__sliders"},P)]}function te(){return[Tt("div",{class:"row items-center no-wrap"},[Tt("div","R"),Tt(Ku,{modelValue:d.value.r,min:0,max:255,color:"red",dark:i.value,readonly:h.value!==!0,...o("rSlide",{"onUpdate:modelValue":ue=>D(ue,"r",255),onChange:ue=>D(ue,"r",255,void 0,!0)})}),Tt("input",{value:d.value.r,maxlength:3,readonly:h.value!==!0,onChange:Nl,...o("rIn",{onInput:ue=>D(ue.target.value,"r",255,ue),onBlur:ue=>D(ue.target.value,"r",255,ue,!0)})})]),Tt("div",{class:"row items-center no-wrap"},[Tt("div","G"),Tt(Ku,{modelValue:d.value.g,min:0,max:255,color:"green",dark:i.value,readonly:h.value!==!0,...o("gSlide",{"onUpdate:modelValue":ue=>D(ue,"g",255),onChange:ue=>D(ue,"g",255,void 0,!0)})}),Tt("input",{value:d.value.g,maxlength:3,readonly:h.value!==!0,onChange:Nl,...o("gIn",{onInput:ue=>D(ue.target.value,"g",255,ue),onBlur:ue=>D(ue.target.value,"g",255,ue,!0)})})]),Tt("div",{class:"row items-center no-wrap"},[Tt("div","B"),Tt(Ku,{modelValue:d.value.b,min:0,max:255,color:"blue",readonly:h.value!==!0,dark:i.value,...o("bSlide",{"onUpdate:modelValue":ue=>D(ue,"b",255),onChange:ue=>D(ue,"b",255,void 0,!0)})}),Tt("input",{value:d.value.b,maxlength:3,readonly:h.value!==!0,onChange:Nl,...o("bIn",{onInput:ue=>D(ue.target.value,"b",255,ue),onBlur:ue=>D(ue.target.value,"b",255,ue,!0)})})]),y.value===!0?Tt("div",{class:"row items-center no-wrap"},[Tt("div","A"),Tt(Ku,{modelValue:d.value.a,color:"grey",readonly:h.value!==!0,dark:i.value,...o("aSlide",{"onUpdate:modelValue":ue=>D(ue,"a",100),onChange:ue=>D(ue,"a",100,void 0,!0)})}),Tt("input",{value:d.value.a,maxlength:3,readonly:h.value!==!0,onChange:Nl,...o("aIn",{onInput:ue=>D(ue.target.value,"a",100,ue),onBlur:ue=>D(ue.target.value,"a",100,ue,!0)})})]):null]}function ve(){const ue=ge=>Tt("div",{class:"q-color-picker__cube col-auto",style:{backgroundColor:ge},...h.value===!0?o("palette#"+ge,{onClick:()=>{R(ge)}}):{}});return[Tt("div",{class:"row items-center q-color-picker__palette-rows"+(h.value===!0?" q-color-picker__palette-rows--editable":"")},C.value.map(ue))]}return()=>{const ue=[O()];return n.name!==void 0&&n.disable!==!0&&g(ue,"push"),n.noHeader!==!0&&ue.unshift(L()),n.noFooter!==!0&&ue.push(V()),Tt("div",{class:T.value,...M.value},ue)}}}),lst=sk({name:"QPopupProxy",props:{...eU,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(n,{slots:e,emit:t,attrs:r}){const{proxy:i}=Th(),{$q:o}=i,a=Qt(!1),s=Qt(null),l=gt(()=>parseInt(n.breakpoint,10)),{canShow:u}=tU({showing:a});function c(){return o.screen.width<l.value||o.screen.height<l.value?"dialog":"menu"}const f=Qt(c()),d=gt(()=>f.value==="menu"?{maxHeight:"99vh"}:{});Tr(()=>c(),p=>{a.value!==!0&&(f.value=p)});function h(p){a.value=!0,t("show",p)}function v(p){a.value=!1,f.value=c(),t("hide",p)}return Object.assign(i,{show(p){u(p)===!0&&s.value.show(p)},hide(p){s.value.hide(p)},toggle(p){s.value.toggle(p)}}),nU(i,"currentComponent",()=>({type:f.value,ref:s.value})),()=>{const p={ref:s,...d.value,...r,onShow:h,onHide:v};let m;return f.value==="dialog"?m=Fd:(m=gU,Object.assign(p,{target:n.target,contextMenu:n.contextMenu,noParentEvent:!0,separateClosePopup:!0})),Tt(m,p,e.default)}}});let yf=Symbol("map"),bf=Symbol("api"),ML=Symbol("marker"),$L=Symbol("markerCluster"),Dv=Symbol("CustomMarker"),AL=Symbol("mapTilesLoaded"),zc="click dblclick drag dragend dragstart mousedown mousemove mouseout mouseover mouseup rightclick".split(" ");var IU=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r;if(Array.isArray(e)){var i=e.length;if(i!=t.length)return!1;for(r=i;r--!==0;)if(!n(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var o=Object.keys(e);if(i=o.length,i!==Object.keys(t).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=i;r--!==0;)if(i=o[r],!n(e[i],t[i]))return!1;return!0}return e!==e&&t!==t};class Hl{constructor({apiKey:e,channel:t,client:r,id:i="__googleMapsScriptId",libraries:o=[],language:a,region:s,version:l,mapIds:u,nonce:c,retries:f=3,url:d="https://maps.googleapis.com/maps/api/js"}){if(this.CALLBACK="__googleMapsCallback",this.callbacks=[],this.loading=this.done=!1,this.errors=[],this.version=l,this.apiKey=e,this.channel=t,this.client=r,this.id=i||"__googleMapsScriptId",this.libraries=o,this.language=a,this.region=s,this.mapIds=u,this.nonce=c,this.retries=f,this.url=d,Hl.instance){if(!IU(this.options,Hl.instance.options))throw Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(Hl.instance.options)}`);return Hl.instance}Hl.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url}}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+=`?callback=${this.CALLBACK}`,this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),0<this.libraries.length&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),e}deleteScript(){let e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,t)=>{this.loadCallback(r=>{r?t(r.error):e(window.google)})})}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){if(document.getElementById(this.id))this.callback();else{var e=this.createUrl(),t=document.createElement("script");t.id=this.id,t.type="text/javascript",t.src=e,t.onerror=this.loadErrorCallback.bind(this),t.defer=!0,t.async=!0,this.nonce&&(t.nonce=this.nonce),document.head.appendChild(t)}}reset(){this.deleteScript(),this.loading=this.done=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){this.errors.push(e),this.errors.length<=this.retries?(e=this.errors.length*Math.pow(2,this.errors.length),console.log(`Failed to load Google Maps script, retrying in ${e} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},e)):(this.onerrorEvent=e,this.callback())}setCallback(){window.__googleMapsCallback=this.callback.bind(this)}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){this.resetIfRetryingFailed(),this.done?this.callback():window.google&&window.google.maps&&window.google.maps.version?(console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),this.callback()):this.loading||(this.loading=!0,this.setCallback(),this.setScript())}}function PU(n){return class extends n.OverlayView{constructor(e){super();let{element:t,...r}=e;this.element=t,this.opts=r,this.opts.map&&this.setMap(this.opts.map)}getPosition(){return this.opts.position?this.opts.position instanceof n.LatLng?this.opts.position:new n.LatLng(this.opts.position):null}getVisible(){if(!this.element)return!1;let e=this.element;return e.style.display!=="none"&&e.style.visibility!=="hidden"&&(e.style.opacity===""||.01<Number(e.style.opacity))}onAdd(){if(this.element){var e=this.getPanes();e&&e.overlayMouseTarget.appendChild(this.element)}}draw(){if(this.element){var e=this.getProjection().fromLatLngToDivPixel(this.getPosition());if(e){this.element.style.position="absolute";let r=this.element.offsetHeight;var t=this.element.offsetWidth;switch(this.opts.anchorPoint){case"TOP_CENTER":t=e.x-t/2,e=e.y;break;case"BOTTOM_CENTER":t=e.x-t/2,e=e.y-r;break;case"LEFT_CENTER":t=e.x,e=e.y-r/2;break;case"RIGHT_CENTER":t=e.x-t,e=e.y-r/2;break;case"TOP_LEFT":t=e.x,e=e.y;break;case"TOP_RIGHT":t=e.x-t,e=e.y;break;case"BOTTOM_LEFT":t=e.x,e=e.y-r;break;case"BOTTOM_RIGHT":t=e.x-t,e=e.y-r;break;default:t=e.x-t/2,e=e.y-r/2}this.element.style.left=t+"px",this.element.style.top=e+"px",this.element.style.transform=`translateX(${this.opts.offsetX||0}px) translateY(${this.opts.offsetY||0}px)`,this.opts.zIndex&&(this.element.style.zIndex=this.opts.zIndex.toString())}}}onRemove(){this.element&&this.element.remove()}setOptions(e){this.opts=e,this.draw()}}}let Kj,Qj="bounds_changed center_changed click dblclick drag dragend dragstart heading_changed idle maptypeid_changed mousemove mouseout mouseover projection_changed resize rightclick tilesloaded tilt_changed zoom_changed".split(" ");var _L=$o({props:{apiPromise:{type:Promise},apiKey:{type:String,default:""},version:{type:String,default:"weekly"},libraries:{type:Array,default:()=>["places"]},region:{type:String,required:!1},language:{type:String,required:!1},backgroundColor:{type:String,required:!1},center:{type:Object,default:()=>({lat:0,lng:0})},clickableIcons:{type:Boolean,required:!1,default:void 0},controlSize:{type:Number,required:!1},disableDefaultUi:{type:Boolean,required:!1,default:void 0},disableDoubleClickZoom:{type:Boolean,required:!1,default:void 0},draggable:{type:Boolean,required:!1,default:void 0},draggableCursor:{type:String,required:!1},draggingCursor:{type:String,required:!1},fullscreenControl:{type:Boolean,required:!1,default:void 0},fullscreenControlPosition:{type:String,required:!1},gestureHandling:{type:String,required:!1},heading:{type:Number,required:!1},keyboardShortcuts:{type:Boolean,required:!1,default:void 0},mapTypeControl:{type:Boolean,required:!1,default:void 0},mapTypeControlOptions:{type:Object,required:!1},mapTypeId:{type:[Number,String],required:!1},mapId:{type:String,required:!1},maxZoom:{type:Number,required:!1},minZoom:{type:Number,required:!1},noClear:{type:Boolean,required:!1,default:void 0},panControl:{type:Boolean,required:!1,default:void 0},panControlPosition:{type:String,required:!1},restriction:{type:Object,required:!1},rotateControl:{type:Boolean,required:!1,default:void 0},rotateControlPosition:{type:String,required:!1},scaleControl:{type:Boolean,required:!1,default:void 0},scaleControlStyle:{type:Number,required:!1},scrollwheel:{type:Boolean,required:!1,default:void 0},streetView:{type:Object,required:!1},streetViewControl:{type:Boolean,required:!1,default:void 0},streetViewControlPosition:{type:String,required:!1},styles:{type:Array,required:!1},tilt:{type:Number,required:!1},zoom:{type:Number,required:!1},zoomControl:{type:Boolean,required:!1,default:void 0},zoomControlPosition:{type:String,required:!1}},emits:Qj,setup(n,{emit:e}){let t=Qt(),r=Qt(!1),i=Qt(),o=Qt(),a=Qt(!1);bd(yf,i),bd(bf,o),bd(AL,a);let s=()=>{const c={...n};Object.keys(c).forEach(d=>{c[d]===void 0&&delete c[d]});var f=d=>{var h;return d?{position:(h=o.value)===null||h===void 0?void 0:h.ControlPosition[d]}:{}};return f={scaleControlOptions:n.scaleControlStyle?{style:n.scaleControlStyle}:{},panControlOptions:f(n.panControlPosition),zoomControlOptions:f(n.zoomControlPosition),rotateControlOptions:f(n.rotateControlPosition),streetViewControlOptions:f(n.streetViewControlPosition),fullscreenControlOptions:f(n.fullscreenControlPosition),disableDefaultUI:n.disableDefaultUi},{...c,...f}},l=Tr([o,i],([c,f])=>{c&&f&&(c.event.addListenerOnce(f,"tilesloaded",()=>{a.value=!0}),setTimeout(l,0))},{immediate:!0}),u=c=>{o.value=Qs(c.maps),i.value=Qs(new c.maps.Map(t.value,s())),c=PU(o.value),o.value[Dv]=c,Qj.forEach(f=>{var d;(d=i.value)===null||d===void 0||d.addListener(f,h=>e(f,h))}),r.value=!0,c=Object.keys(n).filter(f=>!"apiPromise apiKey version libraries region language center zoom".split(" ").includes(f)).map(f=>gf(n,f)),Tr([()=>n.center,()=>n.zoom,...c],([f,d],[h,v])=>{var p,m,g;const{center:y,zoom:b,...w}=s();(p=i.value)===null||p===void 0||p.setOptions(w),d!==void 0&&d!==v&&((m=i.value)===null||m===void 0||m.setZoom(d)),d=!h||f.lng!==h.lng||f.lat!==h.lat,f&&d&&((g=i.value)===null||g===void 0||g.panTo(f))})};return mf(()=>{if(n.apiPromise&&n.apiPromise instanceof Promise)n.apiPromise.then(u);else{try{const{apiKey:c,region:f,version:d,language:h,libraries:v}=n;Kj=new Hl({apiKey:c,region:f,version:d,language:h,libraries:v})}catch(c){console.error(c)}Kj.load().then(u)}}),Au(()=>{var c;a.value=!1,i.value&&((c=o.value)===null||c===void 0||c.event.clearInstanceListeners(i.value))}),{mapRef:t,ready:r,map:i,api:o,mapTilesLoaded:a}}});function yk(n,e){if(e===void 0&&(e={}),e=e.insertAt,n&&typeof document!="undefined"){var t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}}yk(`
.mapdiv[data-v-177d06e3] {
  width: 100%;
  height: 100%;
}
`);let LU=hk();uk("data-v-177d06e3");let DU={ref:"mapRef",class:"mapdiv"};ck();let RU=LU(n=>(Rr(),ms("div",null,[vt("div",DU,null,512),gg(n.$slots,"default",{ready:n.ready,map:n.map,api:n.api,mapTilesLoaded:n.mapTilesLoaded},void 0,!0)])));_L.render=RU;_L.__scopeId="data-v-177d06e3";var Vd=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r;if(Array.isArray(e)){var i=e.length;if(i!=t.length)return!1;for(r=i;r--!==0;)if(!n(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var o=Object.keys(e);if(i=o.length,i!==Object.keys(t).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=i;r--!==0;)if(i=o[r],!n(e[i],t[i]))return!1;return!0}return e!==e&&t!==t};let wf=(n,e,t,r)=>{const i=Qt(),o=lo(yf,Qt()),a=lo(bf,Qt()),s=lo($L,Qt()),l=gt(()=>!!(s.value&&a.value&&(i.value instanceof a.value.Marker||i.value instanceof a.value[Dv])));return Tr([o,t],(u,[c,f])=>{var d,h,v;u=!Vd(t.value,f)||o.value!==c,o.value&&a.value&&u&&(i.value?(i.value.setOptions(t.value),l.value&&((d=s.value)===null||d===void 0||d.removeMarker(i.value),(h=s.value)===null||h===void 0||h.addMarker(i.value))):(i.value=n==="Marker"?Qs(new a.value[n](t.value)):n===Dv?Qs(new a.value[n](t.value)):Qs(new a.value[n]({...t.value,map:o.value})),l.value?(v=s.value)===null||v===void 0||v.addMarker(i.value):i.value.setMap(o.value),e.forEach(p=>{var m;(m=i.value)===null||m===void 0||m.addListener(p,g=>r(p,g))})))},{immediate:!0}),Au(()=>{var u,c;i.value&&((u=a.value)===null||u===void 0||u.event.clearInstanceListeners(i.value),l.value?(c=s.value)===null||c===void 0||c.removeMarker(i.value):i.value.setMap(null))}),i},Yj="animation_changed click dblclick rightclick dragstart dragend drag mouseover mousedown mouseout mouseup draggable_changed clickable_changed contextmenu cursor_changed flat_changed rightclick zindex_changed icon_changed position_changed shape_changed title_changed visible_changed".split(" ");var ust=$o({name:"Marker",props:{options:{type:Object,required:!0}},emits:Yj,setup(n,{emit:e,expose:t,slots:r}){return n=gf(n,"options"),e=wf("Marker",Yj,n,e),bd(ML,e),t({marker:e}),()=>{var i;return(i=r.default)===null||i===void 0?void 0:i.call(r)}}});$o({name:"Polyline",props:{options:{type:Object,required:!0}},emits:zc,setup(n,{emit:e}){return n=gf(n,"options"),{polyline:wf("Polyline",zc,n,e)}},render:()=>null});$o({name:"Polygon",props:{options:{type:Object,required:!0}},emits:zc,setup(n,{emit:e}){return n=gf(n,"options"),{polygon:wf("Polygon",zc,n,e)}},render:()=>null});let Zj=zc.concat(["bounds_changed"]);$o({name:"Rectangle",props:{options:{type:Object,required:!0}},emits:Zj,setup(n,{emit:e}){return n=gf(n,"options"),{rectangle:wf("Rectangle",Zj,n,e)}},render:()=>null});let Xj=zc.concat(["center_changed","radius_changed"]);$o({name:"Circle",props:{options:{type:Object,required:!0}},emits:Xj,setup(n,{emit:e}){return n=gf(n,"options"),{circle:wf("Circle",Xj,n,e)}},render:()=>null});var BU=$o({props:{position:{type:String,required:!0},index:{type:Number,default:1}},emits:["content:loaded"],setup(n,{emit:e}){let t=Qt(null),r=lo(yf,Qt()),i=lo(bf,Qt()),o=lo(AL,Qt(!1)),a=Qt(!1),s=Tr([o,i,t],([c,f,d])=>{f&&c&&d&&(l(n.position),a.value=!0,e("content:loaded"),setTimeout(s,0))},{immediate:!0}),l=c=>{r.value&&i.value&&t.value&&r.value.controls[i.value.ControlPosition[c]].push(t.value)},u=c=>{if(r.value&&i.value){let f=null;c=i.value.ControlPosition[c],r.value.controls[c].forEach((d,h)=>{d===t.value&&(f=h)}),f!==null&&r.value.controls[c].removeAt(f)}};return Au(()=>u(n.position)),Tr(()=>n.position,(c,f)=>{u(f),l(c)}),Tr(()=>n.index,c=>{c&&t.value&&(t.value.index=n.index)}),{controlRef:t,showContent:a}}});let zU={ref:"controlRef"};BU.render=function(n){return Rr(),ms(dk,null,[Hd(`
    v-show must be used instead of v-if otherwise there
    would be no rendered content pushed to the map controls
  `),Vs(vt("div",zU,[gg(n.$slots,"default")],512),[[fk,n.showContent]])],2112)};let eC="closeclick content_changed domready position_changed visible zindex_changed".split(" ");var NL=$o({inheritAttrs:!1,props:{options:{type:Object,default:()=>({})}},emits:eC,setup(n,{slots:e,emit:t}){let r=Qt(),i=Qt(),o=lo(yf,Qt()),a=lo(bf,Qt()),s=lo(ML,Qt()),l,u=gt(()=>{var c;return(c=e.default)===null||c===void 0?void 0:c.call(e).some(f=>f.type!==kL)});return mf(()=>{Tr([o,()=>n.options],([,c],[f,d])=>{f=!Vd(c,d)||o.value!==f,o.value&&a.value&&f&&(r.value?(r.value.setOptions({...c,content:u.value?i.value:c.content}),s.value||r.value.open({map:o.value})):(r.value=Qs(new a.value.InfoWindow({...c,content:u.value?i.value:c.content})),s.value?l=s.value.addListener("click",()=>{r.value&&r.value.open({map:o.value,anchor:s.value})}):r.value.open({map:o.value}),eC.forEach(h=>{var v;(v=r.value)===null||v===void 0||v.addListener(h,p=>t(h,p))})))},{immediate:!0})}),Au(()=>{var c;l&&l.remove(),r.value&&((c=a.value)===null||c===void 0||c.event.clearInstanceListeners(r.value),r.value.close())}),{infoWindow:r,infoWindowRef:i,hasSlotContent:u}}});yk(`
.info-window-wrapper[data-v-5b373d6e] {
  display: none;
}
.mapdiv .info-window-wrapper[data-v-5b373d6e] {
  display: inline-block;
}
`);let qU=hk();uk("data-v-5b373d6e");let FU={key:0,class:"info-window-wrapper"};ck();let HU=qU(n=>n.hasSlotContent?(Rr(),ms("div",FU,[vt("div",xL({ref:"infoWindowRef"},n.$attrs),[gg(n.$slots,"default",{},void 0,!0)],16)])):Hd("v-if",!0));NL.render=HU;NL.__scopeId="data-v-5b373d6e";function I1(n,e,t,r,i,o){if(!(i-r<=t)){var a=r+i>>1;IL(n,e,a,r,i,o%2),I1(n,e,t,r,a-1,o+1),I1(n,e,t,a+1,i,o+1)}}function IL(n,e,t,r,i,o){for(;i>r;){if(600<i-r){var a=i-r+1,s=t-r+1,l=Math.log(a),u=.5*Math.exp(2*l/3);l=.5*Math.sqrt(l*u*(a-u)/a)*(0>s-a/2?-1:1),IL(n,e,t,Math.max(r,Math.floor(t-s*u/a+l)),Math.min(i,Math.floor(t+(a-s)*u/a+l)),o)}for(a=e[2*t+o],s=r,u=i,Ff(n,e,r,t),e[2*i+o]>a&&Ff(n,e,r,i);s<u;){for(Ff(n,e,s,u),s++,u--;e[2*s+o]<a;)s++;for(;e[2*u+o]>a;)u--}e[2*r+o]===a?Ff(n,e,r,u):(u++,Ff(n,e,u,i)),u<=t&&(r=u+1),t<=u&&(i=u-1)}}function Ff(n,e,t,r){B0(n,t,r),B0(e,2*t,2*r),B0(e,2*t+1,2*r+1)}function B0(n,e,t){let r=n[e];n[e]=n[t],n[t]=r}let VU=n=>n[0],WU=n=>n[1];class tC{constructor(e,t=VU,r=WU,i=64,o=Float64Array){this.nodeSize=i,this.points=e;let a=this.ids=new(65536>e.length?Uint16Array:Uint32Array)(e.length);o=this.coords=new o(2*e.length);for(let s=0;s<e.length;s++)a[s]=s,o[2*s]=t(e[s]),o[2*s+1]=r(e[s]);I1(a,o,i,0,a.length-1,0)}range(e,t,r,i){{var o=this.ids,a=this.coords,s=this.nodeSize;let u=[0,o.length-1,0],c=[],f,d;for(;u.length;){var l=u.pop();let h=u.pop(),v=u.pop();if(h-v<=s){for(l=v;l<=h;l++)f=a[2*l],d=a[2*l+1],f>=e&&f<=r&&d>=t&&d<=i&&c.push(o[l]);continue}let p=Math.floor((v+h)/2);f=a[2*p],d=a[2*p+1],f>=e&&f<=r&&d>=t&&d<=i&&c.push(o[p]);let m=(l+1)%2;(l===0?e<=f:t<=d)&&(u.push(v),u.push(p-1),u.push(m)),(l===0?r>=f:i>=d)&&(u.push(p+1),u.push(h),u.push(m))}e=c}return e}within(e,t,r){{var i=this.ids,o=this.coords,a=this.nodeSize;let f=[0,i.length-1,0],d=[],h=r*r;for(;f.length;){var s=f.pop();let v=f.pop();var l=f.pop();if(v-l<=a){for(s=l;s<=v;s++){l=o[2*s]-e;var u=o[2*s+1]-t;l=l*l+u*u,l<=h&&d.push(i[s])}continue}u=Math.floor((l+v)/2);let p=o[2*u],m=o[2*u+1];{var c=p-e;let g=m-t;c=c*c+g*g}c<=h&&d.push(i[u]),c=(s+1)%2,(s===0?e-r<=p:t-r<=m)&&(f.push(l),f.push(u-1),f.push(c)),(s===0?e+r>=p:t+r>=m)&&(f.push(u+1),f.push(v),f.push(c))}e=d}return e}}let UU={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:n=>n},Rv=Math.fround||(n=>e=>(n[0]=+e,n[0]))(new Float32Array(1));class JU{constructor(e){this.options=xd(Object.create(UU),e),this.trees=Array(this.options.maxZoom+1)}load(e){let{log:t,minZoom:r,maxZoom:i,nodeSize:o}=this.options;t&&console.time("total time");var a=`prepare ${e.length} points`;t&&console.time(a),this.points=e;let s=[];for(let l=0;l<e.length;l++)e[l].geometry&&s.push(KU(e[l],l));for(this.trees[i+1]=new tC(s,rC,iC,o,Float32Array),t&&console.timeEnd(a),e=i;e>=r;e--)a=+Date.now(),s=this._cluster(s,e),this.trees[e]=new tC(s,rC,iC,o,Float32Array),t&&console.log("z%d: %d clusters in %dms",e,s.length,+Date.now()-a);return t&&console.timeEnd("total time"),this}getClusters(e,t){let r=((e[0]+180)%360+360)%360-180;var i=Math.max(-90,Math.min(90,e[1])),o=e[2]===180?180:((e[2]+180)%360+360)%360-180;let a=Math.max(-90,Math.min(90,e[3]));if(360<=e[2]-e[0])r=-180,o=180;else if(r>o){var s=this.getClusters([r,i,180,a],t);return i=this.getClusters([-180,i,o,a],t),s.concat(i)}t=this.trees[this._limitZoom(t)],o=t.range(r/360+.5,sv(a),o/360+.5,sv(i)),i=[];for(s of o)o=t.points[s],i.push(o.numPoints?nC(o):this.points[o.index]);return i}getChildren(e){var t=this._getOriginId(e),r=this._getOriginZoom(e);let i=this.trees[r];if(!i||(t=i.points[t],!t))throw Error("No cluster with the specified id.");t=i.within(t.x,t.y,this.options.radius/(this.options.extent*Math.pow(2,r-1))),r=[];for(let o of t)t=i.points[o],t.parentId===e&&r.push(t.numPoints?nC(t):this.points[t.index]);if(r.length===0)throw Error("No cluster with the specified id.");return r}getLeaves(e,t,r){let i=[];return this._appendLeaves(i,e,t||10,r||0,0),i}getTile(e,t,r){let i=this.trees[this._limitZoom(e)];e=Math.pow(2,e);let{extent:o,radius:a}=this.options,s=a/o,l=(r-s)/e,u=(r+1+s)/e,c={features:[]};return this._addTileFeatures(i.range((t-s)/e,l,(t+1+s)/e,u),i.points,t,r,e,c),t===0&&this._addTileFeatures(i.range(1-s/e,l,1,u),i.points,e,r,e,c),t===e-1&&this._addTileFeatures(i.range(0,l,s/e,u),i.points,-1,r,e,c),c.features.length?c:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom&&(e=this.getChildren(e),t++,e.length===1);)e=e[0].properties.cluster_id;return t}_appendLeaves(e,t,r,i,o){t=this.getChildren(t);for(let a of t)if((t=a.properties)&&t.cluster?o=o+t.point_count<=i?o+t.point_count:this._appendLeaves(e,t.cluster_id,r,i,o):o<i?o++:e.push(a),e.length===r)break;return o}_addTileFeatures(e,t,r,i,o,a){for(let u of e){e=t[u];let c=e.numPoints;var s=void 0;let f;var l=void 0;c?(s=PL(e),f=e.x,l=e.y):(l=this.points[e.index],s=l.properties,f=l.geometry.coordinates[0]/360+.5,l=sv(l.geometry.coordinates[1])),s={type:1,geometry:[[Math.round(this.options.extent*(f*o-r)),Math.round(this.options.extent*(l*o-i))]],tags:s};let d;c?d=e.id:this.options.generateId?d=e.index:this.points[e.index].id&&(d=this.points[e.index].id),d!==void 0&&(s.id=d),a.features.push(s)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){let r=[],{radius:i,extent:o,reduce:a,minPoints:s}=this.options,l=i/(o*Math.pow(2,t));for(let h=0;h<e.length;h++){var u=e[h];if(u.zoom<=t)continue;u.zoom=t;let v=this.trees[t+1];var c=v.within(u.x,u.y,l),f=u.numPoints||1;let p=f;for(let m of c){var d=v.points[m];d.zoom>t&&(p+=d.numPoints||1)}if(p>f&&p>=s){d=u.x*f;let m=u.y*f;f=a&&1<f?this._map(u,!0):null;let g=(h<<5)+(t+1)+this.points.length;for(let y of c){if(c=v.points[y],c.zoom<=t)continue;c.zoom=t;let b=c.numPoints||1;d+=c.x*b,m+=c.y*b,c.parentId=g,a&&(f||(f=this._map(u,!0)),a(f,this._map(c)))}u.parentId=g,r.push(GU(d/p,m/p,g,p,f))}else if(r.push(u),1<p)for(let m of c)u=v.points[m],u.zoom<=t||(u.zoom=t,r.push(u))}return r}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t){if(e.numPoints)return t?xd({},e.properties):e.properties;e=this.points[e.index].properties;let r=this.options.map(e);return t&&r===e?xd({},r):r}}function GU(n,e,t,r,i){return{x:Rv(n),y:Rv(e),zoom:1/0,id:t,parentId:-1,numPoints:r,properties:i}}function KU(n,e){let[t,r]=n.geometry.coordinates;return{x:Rv(t/360+.5),y:Rv(sv(r)),zoom:1/0,index:e,parentId:-1}}function nC(n){var e=n.id,t=PL(n);return{type:"Feature",id:e,properties:t,geometry:{type:"Point",coordinates:[360*(n.x-.5),360*Math.atan(Math.exp((180-360*n.y)*Math.PI/180))/Math.PI-90]}}}function PL(n){let e=n.numPoints,t=1e4<=e?`${Math.round(e/1e3)}k`:1e3<=e?`${Math.round(e/100)/10}k`:e;return xd(xd({},n.properties),{cluster:!0,cluster_id:n.id,point_count:e,point_count_abbreviated:t})}function sv(n){return n=Math.sin(n*Math.PI/180),n=.5-.25*Math.log((1+n)/(1-n))/Math.PI,0>n?0:1<n?1:n}function xd(n,e){for(let t in e)n[t]=e[t];return n}function rC(n){return n.x}function iC(n){return n.y}class P1{constructor({markers:e,position:t}){this.markers=e,t&&(this._position=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t))}get bounds(){if(this.markers.length!==0||this._position)return this.markers.reduce((e,t)=>e.extend(t.getPosition()),new google.maps.LatLngBounds(this._position,this._position))}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>e.getVisible()).length}push(e){this.markers.push(e)}delete(){this.marker&&(this.marker.setMap(null),delete this.marker),this.markers.length=0}}class QU{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return YU(e)}}let YU=n=>n.map(e=>new P1({position:e.getPosition(),markers:[e]}));class ZU extends QU{constructor(e){var{maxZoom:t,radius:r=60}=e,i=["maxZoom","radius"],o={},a;for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>i.indexOf(a)&&(o[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var s=0;for(a=Object.getOwnPropertySymbols(e);s<a.length;s++)0>i.indexOf(a[s])&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(o[a[s]]=e[a[s]])}super({maxZoom:t}),this.superCluster=new JU(Object.assign({maxZoom:this.maxZoom,radius:r},o)),this.state={zoom:null}}calculate(e){let t=!1;if(!Vd(e.markers,this.markers)){t=!0,this.markers=[...e.markers];var r=this.markers.map(i=>({type:"Feature",geometry:{type:"Point",coordinates:[i.getPosition().lng(),i.getPosition().lat()]},properties:{marker:i}}));this.superCluster.load(r)}return r={zoom:e.map.getZoom()},t||this.state.zoom>this.maxZoom&&r.zoom>this.maxZoom||(t=t||!Vd(this.state,r)),this.state=r,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(this.transformCluster.bind(this))}transformCluster({geometry:{coordinates:[e,t]},properties:r}){return r.cluster?new P1({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(i=>i.properties.marker),position:new google.maps.LatLng({lat:t,lng:e})}):(e=r.marker,new P1({markers:[e],position:e.getPosition()}))}}class XU{constructor(e,t){this.markers={sum:e.length},e=t.map(i=>i.count);let r=e.reduce((i,o)=>i+o,0);this.clusters={count:t.length,markers:{mean:r/t.length,sum:r,min:Math.min(...e),max:Math.max(...e)}}}}class eJ{render({count:e,position:t},r){return r=window.btoa(`
  <svg fill="${e>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240">
    <circle cx="120" cy="120" opacity=".6" r="70" />
    <circle cx="120" cy="120" opacity=".3" r="90" />
    <circle cx="120" cy="120" opacity=".2" r="110" />
  </svg>`),new google.maps.Marker({position:t,icon:{url:`data:image/svg+xml;base64,${r}`,scaledSize:new google.maps.Size(45,45)},label:{text:String(e),color:"rgba(255,255,255,0.9)",fontSize:"12px"},title:`Cluster of ${e} markers`,zIndex:Number(google.maps.Marker.MAX_ZINDEX)+e})}}class bk{constructor(){var e=bk,t=google.maps.OverlayView;for(let r in t.prototype)e.prototype[r]=t.prototype[r]}}var Cc,wk=Cc||(Cc={});wk.CLUSTERING_BEGIN="clusteringbegin";wk.CLUSTERING_END="clusteringend";wk.CLUSTER_CLICK="click";let tJ=(n,e,t)=>{t.fitBounds(e.bounds)};class nJ extends bk{constructor({map:e,markers:t=[],algorithm:r=new ZU({}),renderer:i=new eJ,onClusterClick:o=tJ}){super(),this.markers=[...t],this.clusters=[],this.algorithm=r,this.renderer=i,this.onClusterClick=o,e&&this.setMap(e)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach(r=>{this.addMarker(r,!0)}),t||this.render()}removeMarker(e,t){let r=this.markers.indexOf(e);return r===-1?!1:(e.setMap(null),this.markers.splice(r,1),t||this.render(),!0)}removeMarkers(e,t){let r=!1;return e.forEach(i=>{r=this.removeMarker(i,!0)||r}),r&&!t&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){let e=this.getMap();if(e instanceof google.maps.Map&&this.getProjection()){google.maps.event.trigger(this,Cc.CLUSTERING_BEGIN,this);let{clusters:t,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});(r||r==null)&&(this.reset(),this.clusters=t,this.renderClusters()),google.maps.event.trigger(this,Cc.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>e.setMap(null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){let e=new XU(this.markers,this.clusters),t=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e),this.onClusterClick&&r.marker.addListener("click",i=>{google.maps.event.trigger(this,Cc.CLUSTER_CLICK,r),this.onClusterClick(i,r,t)})),r.marker.setMap(t)})}}let oC=Object.values(Cc);$o({name:"MarkerCluster",props:{options:{type:Object,default:()=>({})}},emits:oC,setup(n,{emit:e,expose:t,slots:r}){let i=Qt(),o=lo(yf,Qt()),a=lo(bf,Qt());return bd($L,i),Tr(o,()=>{o.value&&(i.value=Qs(new nJ({map:o.value,...n.options})),oC.forEach(s=>{var l;(l=i.value)===null||l===void 0||l.addListener(s,u=>e(s,u))}))},{immediate:!0}),Au(()=>{var s;i.value&&((s=a.value)===null||s===void 0||s.event.clearInstanceListeners(i.value),i.value.clearMarkers(),i.value.setMap(null))}),t({markerCluster:i}),()=>{var s;return(s=r.default)===null||s===void 0?void 0:s.call(r)}}});var LL=$o({inheritAttrs:!1,props:{options:{type:Object,required:!0}},setup(n,{slots:e,emit:t}){let r=Qt(),i=Qt(),o=gt(()=>{var s;return(s=e.default)===null||s===void 0?void 0:s.call(e).some(l=>l.type!==kL)}),a=gt(()=>({...n.options,element:r.value}));return mf(()=>{i=wf(Dv,[],a,t)}),{customMarkerRef:r,customMarker:i,hasSlotContent:o}}});yk(`
.custom-marker-wrapper[data-v-b9d5ec8a] {
  display: none;
}
.mapdiv .custom-marker-wrapper[data-v-b9d5ec8a] {
  display: inline-block;
}
`);let rJ=hk();uk("data-v-b9d5ec8a");let iJ={key:0,class:"custom-marker-wrapper"};ck();let oJ=rJ(n=>n.hasSlotContent?(Rr(),ms("div",iJ,[vt("div",xL({ref:"customMarkerRef",style:{cursor:n.$attrs.onClick?"pointer":void 0}},n.$attrs),[gg(n.$slots,"default",{},void 0,!0)],16)])):Hd("v-if",!0));LL.render=oJ;LL.__scopeId="data-v-b9d5ec8a";$o({name:"HeatmapLayer",props:{options:{type:Object,default:()=>({})}},setup(n){let e=Qt(),t=lo(yf,Qt()),r=lo(bf,Qt());return Tr([t,()=>n.options],([,i],[o,a])=>{var s;if(o=!Vd(i,a)||t.value!==o,t.value&&r.value&&o){if(i=structuredClone(i),i.data&&!(i.data instanceof r.value.MVCArray)){let l=r.value.LatLng;i.data=(s=i.data)===null||s===void 0?void 0:s.map(u=>u instanceof l||"location"in u&&(u.location instanceof l||u.location===null)?u:"location"in u?{...u,location:new l(u.location)}:new l(u))}e.value?e.value.setOptions(i):e.value=Qs(new r.value.visualization.HeatmapLayer({...i,map:t.value}))}},{immediate:!0}),Au(()=>{e.value&&e.value.setMap(null)}),{heatmapLayer:e}},render:()=>null});function ei(n){this.content=n}ei.prototype={constructor:ei,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,i=r.find(n),o=r.content.slice();return i==-1?o.push(t||n,e):(o[i+1]=e,t&&(o[i]=t)),new ei(o)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new ei(t)},addToStart:function(n,e){return new ei([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new ei(t)},addBefore:function(n,e,t){var r=this.remove(e),i=r.content.slice(),o=r.find(n);return i.splice(o==-1?i.length:o,0,e,t),new ei(i)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=ei.from(n),n.size?new ei(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=ei.from(n),n.size?new ei(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=ei.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};ei.from=function(n){if(n instanceof ei)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new ei(e)};function DL(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let i=n.child(r),o=e.child(r);if(i==o){t+=i.nodeSize;continue}if(!i.sameMarkup(o))return t;if(i.isText&&i.text!=o.text){for(let a=0;i.text[a]==o.text[a];a++)t++;return t}if(i.content.size||o.content.size){let a=DL(i.content,o.content,t+1);if(a!=null)return a}t+=i.nodeSize}}function RL(n,e,t,r){for(let i=n.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:t,b:r};let a=n.child(--i),s=e.child(--o),l=a.nodeSize;if(a==s){t-=l,r-=l;continue}if(!a.sameMarkup(s))return{a:t,b:r};if(a.isText&&a.text!=s.text){let u=0,c=Math.min(a.text.length,s.text.length);for(;u<c&&a.text[a.text.length-u-1]==s.text[s.text.length-u-1];)u++,t--,r--;return{a:t,b:r}}if(a.content.size||s.content.size){let u=RL(a.content,s.content,t-1,r-1);if(u)return u}t-=l,r-=l}}class We{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,i=0,o){for(let a=0,s=0;s<t;a++){let l=this.content[a],u=s+l.nodeSize;if(u>e&&r(l,i+s,o||null,a)!==!1&&l.content.size){let c=s+1;l.nodesBetween(Math.max(0,e-c),Math.min(l.content.size,t-c),r,i+c)}s=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,i){let o="",a=!0;return this.nodesBetween(e,t,(s,l)=>{s.isText?(o+=s.text.slice(Math.max(e,l)-l,t-l),a=!r):s.isLeaf?(i?o+=typeof i=="function"?i(s):i:s.type.spec.leafText&&(o+=s.type.spec.leafText(s)),a=!r):!a&&s.isBlock&&(o+=r,a=!0)},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(r)&&(i[i.length-1]=t.withText(t.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new We(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],i=0;if(t>e)for(let o=0,a=0;a<t;o++){let s=this.content[o],l=a+s.nodeSize;l>e&&((a<e||l>t)&&(s.isText?s=s.cut(Math.max(0,e-a),Math.min(s.text.length,t-a)):s=s.cut(Math.max(0,e-a-1),Math.min(s.content.size,t-a-1))),r.push(s),i+=s.nodeSize),a=l}return new We(r,i)}cutByIndex(e,t){return e==t?We.empty:e==0&&t==this.content.length?this:new We(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let i=this.content.slice(),o=this.size+t.nodeSize-r.nodeSize;return i[e]=t,new We(i,o)}addToStart(e){return new We([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new We(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let i=this.content[t];e(i,r,t),r+=i.nodeSize}}findDiffStart(e,t=0){return DL(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return RL(this,e,t,r)}findIndex(e,t=-1){if(e==0)return ip(0,e);if(e==this.size)return ip(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),a=i+o.nodeSize;if(a>=e)return a==e||t>0?ip(r+1,a):ip(r,i);i=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return We.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new We(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return We.empty;let t,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(t||(t=e.slice(0,i)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new We(t||e,r)}static from(e){if(!e)return We.empty;if(e instanceof We)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new We([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}We.empty=new We([],0);const z0={index:0,offset:0};function ip(n,e){return z0.index=n,z0.offset=e,z0}function Bv(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!Bv(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!Bv(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}class Tn{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),r=!0),t&&t.push(o)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Bv(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);return r.create(t.attrs)}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Tn.none;if(e instanceof Tn)return[e];let t=e.slice();return t.sort((r,i)=>r.type.rank-i.type.rank),t}}Tn.none=[];class zv extends Error{}class yt{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=zL(this.content,e+this.openStart,t);return r&&new yt(r,this.openStart,this.openEnd)}removeBetween(e,t){return new yt(BL(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return yt.empty;let r=t.openStart||0,i=t.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new yt(We.fromJSON(e,t.content),r,i)}static maxOpen(e,t=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)i++;return new yt(e,r,i)}}yt.empty=new yt(We.empty,0,0);function BL(n,e,t){let{index:r,offset:i}=n.findIndex(e),o=n.maybeChild(r),{index:a,offset:s}=n.findIndex(t);if(i==e||o.isText){if(s!=t&&!n.child(a).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=a)throw new RangeError("Removing non-flat range");return n.replaceChild(r,o.copy(BL(o.content,e-i-1,t-i-1)))}function zL(n,e,t,r){let{index:i,offset:o}=n.findIndex(e),a=n.maybeChild(i);if(o==e||a.isText)return r&&!r.canReplace(i,i,t)?null:n.cut(0,e).append(t).append(n.cut(e));let s=zL(a.content,e-o-1,t);return s&&n.replaceChild(i,a.copy(s))}function aJ(n,e,t){if(t.openStart>n.depth)throw new zv("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new zv("Inconsistent open depths");return qL(n,e,t,0)}function qL(n,e,t,r){let i=n.index(r),o=n.node(r);if(i==e.index(r)&&r<n.depth-t.openStart){let a=qL(n,e,t,r+1);return o.copy(o.content.replaceChild(i,a))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let a=n.parent,s=a.content;return su(a,s.cut(0,n.parentOffset).append(t.content).append(s.cut(e.parentOffset)))}else{let{start:a,end:s}=sJ(t,n);return su(o,HL(n,a,s,e,r))}else return su(o,qv(n,e,r))}function FL(n,e){if(!e.type.compatibleContent(n.type))throw new zv("Cannot join "+e.type.name+" onto "+n.type.name)}function L1(n,e,t){let r=n.node(t);return FL(r,e.node(t)),r}function au(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function jd(n,e,t,r){let i=(e||n).node(t),o=0,a=e?e.index(t):i.childCount;n&&(o=n.index(t),n.depth>t?o++:n.textOffset&&(au(n.nodeAfter,r),o++));for(let s=o;s<a;s++)au(i.child(s),r);e&&e.depth==t&&e.textOffset&&au(e.nodeBefore,r)}function su(n,e){return n.type.checkContent(e),n.copy(e)}function HL(n,e,t,r,i){let o=n.depth>i&&L1(n,e,i+1),a=r.depth>i&&L1(t,r,i+1),s=[];return jd(null,n,i,s),o&&a&&e.index(i)==t.index(i)?(FL(o,a),au(su(o,HL(n,e,t,r,i+1)),s)):(o&&au(su(o,qv(n,e,i+1)),s),jd(e,t,i,s),a&&au(su(a,qv(t,r,i+1)),s)),jd(r,null,i,s),new We(s)}function qv(n,e,t){let r=[];if(jd(null,n,t,r),n.depth>t){let i=L1(n,e,t+1);au(su(i,qv(n,e,t+1)),r)}return jd(e,null,t,r),new We(r)}function sJ(n,e){let t=e.depth-n.openStart,i=e.node(t).copy(n.content);for(let o=t-1;o>=0;o--)i=e.node(o).copy(We.from(i));return{start:i.resolveNoCache(n.openStart+t),end:i.resolveNoCache(i.content.size-n.openEnd-t)}}class Wd{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(t);return r?e.child(t).cut(r):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Tn.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),i=e.maybeChild(t);if(!r){let s=r;r=i,i=s}let o=r.marks;for(var a=0;a<o.length;a++)o[a].type.spec.inclusive===!1&&(!i||!o[a].isInSet(i.marks))&&(o=o[a--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new Fv(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],i=0,o=t;for(let a=e;;){let{index:s,offset:l}=a.content.findIndex(o),u=o-l;if(r.push(a,s,i+l),!u||(a=a.child(s),a.isText))break;o=u-1,i+=l+1}return new Wd(t,r,o)}static resolveCached(e,t){for(let i=0;i<q0.length;i++){let o=q0[i];if(o.pos==t&&o.doc==e)return o}let r=q0[F0]=Wd.resolve(e,t);return F0=(F0+1)%lJ,r}}let q0=[],F0=0,lJ=12;class Fv{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const uJ=Object.create(null);class Go{constructor(e,t,r,i=Tn.none){this.type=e,this.attrs=t,this.marks=i,this.content=r||We.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,i=0){this.content.nodesBetween(e,t,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,i){return this.content.textBetween(e,t,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&Bv(this.attrs,t||e.defaultAttrs||uJ)&&Tn.sameSet(this.marks,r||Tn.none)}copy(e=null){return e==this.content?this:new Go(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Go(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return yt.empty;let i=this.resolve(e),o=this.resolve(t),a=r?0:i.sharedDepth(t),s=i.start(a),u=i.node(a).content.cut(i.pos-s,o.pos-s);return new yt(u,i.depth-a,o.depth-a)}replace(e,t,r){return aJ(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let i=this.content.child(t-1);return{node:i,index:t-1,offset:r-i.nodeSize}}resolve(e){return Wd.resolveCached(this,e)}resolveNoCache(e){return Wd.resolve(this,e)}rangeHasMark(e,t,r){let i=!1;return t>e&&this.nodesBetween(e,t,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),VL(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=We.empty,i=0,o=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,i,o),s=a&&a.matchFragment(this.content,t);if(!s||!s.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,t,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),a=o&&o.matchFragment(this.content,t);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=Tn.none;for(let t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!Tn.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let i=We.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,i,r)}}Go.prototype.text=void 0;class Hv extends Go{constructor(e,t,r,i){if(super(e,t,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):VL(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Hv(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Hv(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function VL(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class du{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new cJ(e,t);if(r.next==null)return du.empty;let i=WL(r);r.next&&r.err("Unexpected trailing text");let o=gJ(mJ(i));return yJ(o,r),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let i=this;for(let o=t;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let i=[this];function o(a,s){let l=a.matchFragment(e,r);if(l&&(!t||l.validEnd))return We.from(s.map(u=>u.createAndFill()));for(let u=0;u<a.next.length;u++){let{type:c,next:f}=a.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let d=o(f,s.concat(c));if(d)return d}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let a=[];for(let s=i;s.type;s=s.via)a.push(s.type);return a.reverse()}for(let a=0;a<o.next.length;a++){let{type:s,next:l}=o.next[a];!s.isLeaf&&!s.hasRequiredAttrs()&&!(s.name in t)&&(!i.type||l.validEnd)&&(r.push({match:s.contentMatch,type:s,via:i}),t[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&t(r.next[i].next)}return t(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)o+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return o}).join(`
`)}}du.empty=new du(!0);class cJ{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function WL(n){let e=[];do e.push(fJ(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function fJ(n){let e=[];do e.push(dJ(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function dJ(n){let e=vJ(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=hJ(n,e);else break;return e}function aC(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function hJ(n,e){let t=aC(n),r=t;return n.eat(",")&&(n.next!="}"?r=aC(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function pJ(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let i=[];for(let o in t){let a=t[o];a.groups.indexOf(e)>-1&&i.push(a)}return i.length==0&&n.err("No node type or group '"+e+"' found"),i}function vJ(n){if(n.eat("(")){let e=WL(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=pJ(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function mJ(n){let e=[[]];return i(o(n,0),t()),e;function t(){return e.push([])-1}function r(a,s,l){let u={term:l,to:s};return e[a].push(u),u}function i(a,s){a.forEach(l=>l.to=s)}function o(a,s){if(a.type=="choice")return a.exprs.reduce((l,u)=>l.concat(o(u,s)),[]);if(a.type=="seq")for(let l=0;;l++){let u=o(a.exprs[l],s);if(l==a.exprs.length-1)return u;i(u,s=t())}else if(a.type=="star"){let l=t();return r(s,l),i(o(a.expr,l),l),[r(l)]}else if(a.type=="plus"){let l=t();return i(o(a.expr,s),l),i(o(a.expr,l),l),[r(l)]}else{if(a.type=="opt")return[r(s)].concat(o(a.expr,s));if(a.type=="range"){let l=s;for(let u=0;u<a.min;u++){let c=t();i(o(a.expr,l),c),l=c}if(a.max==-1)i(o(a.expr,l),l);else for(let u=a.min;u<a.max;u++){let c=t();r(l,c),i(o(a.expr,l),c),l=c}return[r(l)]}else{if(a.type=="name")return[r(s,void 0,a.value)];throw new Error("Unknown expr type")}}}}function UL(n,e){return e-n}function sC(n,e){let t=[];return r(e),t.sort(UL);function r(i){let o=n[i];if(o.length==1&&!o[0].term)return r(o[0].to);t.push(i);for(let a=0;a<o.length;a++){let{term:s,to:l}=o[a];!s&&t.indexOf(l)==-1&&r(l)}}}function gJ(n){let e=Object.create(null);return t(sC(n,0));function t(r){let i=[];r.forEach(a=>{n[a].forEach(({term:s,to:l})=>{if(!s)return;let u;for(let c=0;c<i.length;c++)i[c][0]==s&&(u=i[c][1]);sC(n,l).forEach(c=>{u||i.push([s,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let o=e[r.join(",")]=new du(r.indexOf(n.length-1)>-1);for(let a=0;a<i.length;a++){let s=i[a][1].sort(UL);o.next.push({type:i[a][0],next:e[s.join(",")]||t(s)})}return o}}function yJ(n,e){for(let t=0,r=[n];t<r.length;t++){let i=r[t],o=!i.validEnd,a=[];for(let s=0;s<i.next.length;s++){let{type:l,next:u}=i.next[s];a.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),r.indexOf(u)==-1&&r.push(u)}o&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function JL(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function GL(n,e){let t=Object.create(null);for(let r in n){let i=e&&e[r];if(i===void 0){let o=n[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=i}return t}function KL(n){let e=Object.create(null);if(n)for(let t in n)e[t]=new bJ(n[t]);return e}class Vv{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=KL(r.attrs),this.defaultAttrs=JL(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==du.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:GL(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Go(this,this.computeAttrs(e),We.from(t),Tn.setFrom(r))}createChecked(e=null,t,r){return t=We.from(t),this.checkContent(t),new Go(this,this.computeAttrs(e),t,Tn.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=We.from(t),t.size){let a=this.contentMatch.fillBefore(t);if(!a)return null;t=a.append(t)}let i=this.contentMatch.matchFragment(t),o=i&&i.fillBefore(We.empty,!0);return o?new Go(this,e,t.append(o),Tn.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:Tn.none:e}static compile(e,t){let r=Object.create(null);e.forEach((o,a)=>r[o]=new Vv(o,t,a));let i=t.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}}class bJ{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class yg{constructor(e,t,r,i){this.name=e,this.rank=t,this.schema=r,this.spec=i,this.attrs=KL(i.attrs),this.excluded=null;let o=JL(this.attrs);this.instance=o?new Tn(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Tn(this,GL(this.attrs,e))}static compile(e,t){let r=Object.create(null),i=0;return e.forEach((o,a)=>r[o]=new yg(o,i++,t,a)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}excludes(e){return this.excluded.indexOf(e)>-1}}class QL{constructor(e){this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=ei.from(e.nodes),t.marks=ei.from(e.marks||{}),this.nodes=Vv.compile(this.spec.nodes,this),this.marks=yg.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],a=o.spec.content||"",s=o.spec.marks;o.contentMatch=r[a]||(r[a]=du.parse(a,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet=s=="_"?null:s?lC(this,s.split(" ")):s==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],a=o.spec.excludes;o.excluded=a==null?[o]:a==""?[]:lC(this,a.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Vv){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,i)}text(e,t){let r=this.nodes.text;return new Hv(r,r.defaultAttrs,e,Tn.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Go.fromJSON(this,e)}markFromJSON(e){return Tn.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function lC(n,e){let t=[];for(let r=0;r<e.length;r++){let i=e[r],o=n.marks[i],a=o;if(o)t.push(o);else for(let s in n.marks){let l=n.marks[s];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&t.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}class hu{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,t={}){let r=new cC(this,t,!1);return r.addAll(e,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new cC(this,t,!0);return r.addAll(e,t.from,t.to),yt.maxOpen(r.finish())}matchTag(e,t,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(xJ(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){let a=o.getAttrs(e);if(a===!1)continue;o.attrs=a||void 0}return o}}}matchStyle(e,t,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let a=this.styles[o],s=a.style;if(!(s.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||s.length>e.length&&(s.charCodeAt(e.length)!=61||s.slice(e.length+1)!=t))){if(a.getAttrs){let l=a.getAttrs(t);if(l===!1)continue;a.attrs=l||void 0}return a}}}static schemaRules(e){let t=[];function r(i){let o=i.priority==null?50:i.priority,a=0;for(;a<t.length;a++){let s=t[a];if((s.priority==null?50:s.priority)<o)break}t.splice(a,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(a=>{r(a=fC(a)),a.mark=i})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(a=>{r(a=fC(a)),a.node=i})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new hu(e,hu.schemaRules(e)))}}const YL={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},wJ={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},ZL={ol:!0,ul:!0},Wv=1,Uv=2,Cd=4;function uC(n,e,t){return e!=null?(e?Wv:0)|(e==="full"?Uv:0):n&&n.whitespace=="pre"?Wv|Uv:t&~Cd}class op{constructor(e,t,r,i,o,a,s){this.type=e,this.attrs=t,this.marks=r,this.pendingMarks=i,this.solid=o,this.options=s,this.content=[],this.activeMarks=Tn.none,this.stashMarks=[],this.match=a||(s&Cd?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(We.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Wv)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let t=We.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(We.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}popFromStashMark(e){for(let t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]}applyPending(e){for(let t=0,r=this.pendingMarks;t<r.length;t++){let i=r[t];(this.type?this.type.allowsMarkType(i.type):CJ(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!YL.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class cC{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0;let i=t.topNode,o,a=uC(null,t.preserveWhitespace,0)|(r?Cd:0);i?o=new op(i.type,i.attrs,Tn.none,Tn.none,!0,t.topMatch||i.type.contentMatch,a):r?o=new op(null,null,Tn.none,Tn.none,!0,null,a):o=new op(e.schema.topNodeType,null,Tn.none,Tn.none,!0,null,a),this.nodes=[o],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(e.nodeType==3)this.addTextNode(e);else if(e.nodeType==1){let t=e.getAttribute("style"),r=t?this.readStyles(jJ(t)):null,i=this.top;if(r!=null)for(let o=0;o<r.length;o++)this.addPendingMark(r[o]);if(this.addElement(e),r!=null)for(let o=0;o<r.length;o++)this.removePendingMark(r[o],i)}}addTextNode(e){let t=e.nodeValue,r=this.top;if(r.options&Uv||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(r.options&Wv)r.options&Uv?t=t.replace(/\r\n?/g,`
`):t=t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],o=e.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)}addElement(e,t){let r=e.nodeName.toLowerCase(),i;ZL.hasOwnProperty(r)&&this.parser.normalizeLists&&kJ(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,t));if(o?o.ignore:wJ.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let a,s=this.top,l=this.needsBlock;if(YL.hasOwnProperty(r))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),a=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}this.addAll(e),a&&this.sync(s),this.needsBlock=l}else this.addElementByRule(e,o,o.consuming===!1?i:void 0)}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let t=Tn.none;e:for(let r=0;r<e.length;r+=2)for(let i=void 0;;){let o=this.parser.matchStyle(e[r],e[r+1],this,i);if(!o)continue e;if(o.ignore)return null;if(t=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(t),o.consuming===!1)i=o;else break}return t}addElementByRule(e,t,r){let i,o,a;t.node?(o=this.parser.schema.nodes[t.node],o.isLeaf?this.insertNode(o.create(t.attrs))||this.leafFallback(e):i=this.enter(o,t.attrs||null,t.preserveWhitespace)):(a=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(a));let s=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=e;typeof t.contentElement=="string"?l=e.querySelector(t.contentElement):typeof t.contentElement=="function"?l=t.contentElement(e):t.contentElement&&(l=t.contentElement),this.findAround(e,l,!0),this.addAll(l)}i&&this.sync(s)&&this.open--,a&&this.removePendingMark(a,s)}addAll(e,t,r){let i=t||0;for(let o=t?e.childNodes[t]:e.firstChild,a=r==null?null:e.childNodes[r];o!=a;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o);this.findAtPoint(e,i)}findPlace(e){let t,r;for(let i=this.open;i>=0;i--){let o=this.nodes[i],a=o.findWrapping(e);if(a&&(!t||t.length>a.length)&&(t=a,r=o,!a.length)||o.solid)break}if(!t)return!1;this.sync(r);for(let i=0;i<t.length;i++)this.enterInner(t[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();let t=this.top;t.applyPending(e.type),t.match&&(t.match=t.match.matchType(e.type));let r=t.activeMarks;for(let i=0;i<e.marks.length;i++)(!t.type||t.type.allowsMarkType(e.marks[i].type))&&(r=e.marks[i].addToSet(r));return t.content.push(e.mark(r)),!0}return!1}enter(e,t,r){let i=this.findPlace(e.create(t));return i&&this.enterInner(e,t,!0,r),i}enterInner(e,t=null,r=!1,i){this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let a=uC(e,i,o.options);o.options&Cd&&o.content.length==0&&(a|=Cd),this.nodes.push(new op(e,t,o.activeMarks,o.pendingMarks,r,null,a)),this.open++}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),a=(s,l)=>{for(;s>=0;s--){let u=t[s];if(u==""){if(s==t.length-1||s==0)continue;for(;l>=o;l--)if(a(s-1,l))return!0;return!1}else{let c=l>0||l==0&&i?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!c||c.name!=u&&c.groups.indexOf(u)==-1)return!1;l--}}return!0};return a(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let t=SJ(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,t){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let a=i.popFromStashMark(e);a&&i.type&&i.type.allowsMarkType(a.type)&&(i.activeMarks=a.addToSet(i.activeMarks))}if(i==t)break}}}function kJ(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&ZL.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function xJ(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function jJ(n){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,t,r=[];for(;t=e.exec(n);)r.push(t[1],t[2].trim());return r}function fC(n){let e={};for(let t in n)e[t]=n[t];return e}function CJ(n,e){let t=e.schema.nodes;for(let r in t){let i=t[r];if(!i.allowsMarkType(n))continue;let o=[],a=s=>{o.push(s);for(let l=0;l<s.edgeCount;l++){let{type:u,next:c}=s.edge(l);if(u==e||o.indexOf(c)<0&&a(c))return!0}};if(a(i.contentMatch))return!0}}function SJ(n,e){for(let t=0;t<e.length;t++)if(n.eq(e[t]))return e[t]}class ls{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=H0(t).createDocumentFragment());let i=r,o=[];return e.forEach(a=>{if(o.length||a.marks.length){let s=0,l=0;for(;s<o.length&&l<a.marks.length;){let u=a.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(o[s][0])||u.type.spec.spanning===!1)break;s++,l++}for(;s<o.length;)i=o.pop()[1];for(;l<a.marks.length;){let u=a.marks[l++],c=this.serializeMark(u,a.isInline,t);c&&(o.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(a,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:i}=ls.renderSpec(H0(t),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,t,r={}){let i=this.marks[e.type.name];return i&&ls.renderSpec(H0(r),i(e,t))}static renderSpec(e,t,r=null){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let i=t[0],o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));let a,s=r?e.createElementNS(r,i):e.createElement(i),l=t[1],u=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){u=2;for(let c in l)if(l[c]!=null){let f=c.indexOf(" ");f>0?s.setAttributeNS(c.slice(0,f),c.slice(f+1),l[c]):s.setAttribute(c,l[c])}}for(let c=u;c<t.length;c++){let f=t[c];if(f===0){if(c<t.length-1||c>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}else{let{dom:d,contentDOM:h}=ls.renderSpec(e,f,r);if(s.appendChild(d),h){if(a)throw new RangeError("Multiple content holes");a=h}}}return{dom:s,contentDOM:a}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ls(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=dC(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return dC(e.marks)}}function dC(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function H0(n){return n.document||window.document}const XL=65535,eD=Math.pow(2,16);function TJ(n,e){return n+e*eD}function hC(n){return n&XL}function OJ(n){return(n-(n&XL))/eD}const tD=1,nD=2,lv=4,rD=8;class D1{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&rD)>0}get deletedBefore(){return(this.delInfo&(tD|lv))>0}get deletedAfter(){return(this.delInfo&(nD|lv))>0}get deletedAcross(){return(this.delInfo&lv)>0}}class Zi{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Zi.empty)return Zi.empty}recover(e){let t=0,r=hC(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+t+OJ(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?i:0);if(l>e)break;let u=this.ranges[s+o],c=this.ranges[s+a],f=l+u;if(e<=f){let d=u?e==l?-1:e==f?1:t:t,h=l+i+(d<0?0:c);if(r)return h;let v=e==(t<0?l:f)?null:TJ(s/3,e-l),p=e==l?nD:e==f?tD:lv;return(t<0?e!=l:e!=f)&&(p|=rD),new D1(h,p,v)}i+=c-u}return r?e+i:new D1(e+i,0,null)}touches(e,t){let r=0,i=hC(t),o=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?r:0);if(l>e)break;let u=this.ranges[s+o],c=l+u;if(e<=c&&s==i*3)return!0;r+=this.ranges[s+a]-u}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let a=this.ranges[i],s=a-(this.inverted?o:0),l=a+(this.inverted?0:o),u=this.ranges[i+t],c=this.ranges[i+r];e(s,s+u,l,l+c),o+=c-u}}invert(){return new Zi(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Zi.empty:new Zi(e<0?[0,-e,0]:[0,0,e])}}Zi.empty=new Zi([]);class Sc{constructor(e=[],t,r=0,i=e.length){this.maps=e,this.mirror=t,this.from=r,this.to=i}slice(e=0,t=this.maps.length){return new Sc(this.maps,this.mirror,e,t)}copy(){return new Sc(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),t!=null&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,r=this.maps.length;t<e.maps.length;t++){let i=e.getMirror(t);this.appendMap(e.maps[t],i!=null&&i<t?r+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this.maps.length+e.maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e.maps[t].invert(),i!=null&&i>t?r-i-1:void 0)}}invert(){let e=new Sc;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let i=0;for(let o=this.from;o<this.to;o++){let a=this.maps[o],s=a.mapResult(e,t);if(s.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,e=this.maps[l].recover(s.recover);continue}}i|=s.delInfo,e=s.pos}return r?e:new D1(e,i,null)}}const V0=Object.create(null);class Ji{getMap(){return Zi.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=V0[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in V0)throw new RangeError("Duplicate use of step JSON ID "+e);return V0[e]=t,t.prototype.jsonID=e,t}}class zr{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new zr(e,null)}static fail(e){return new zr(null,e)}static fromReplace(e,t,r,i){try{return zr.ok(e.replace(t,r,i))}catch(o){if(o instanceof zv)return zr.fail(o.message);throw o}}}function kk(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let o=n.child(i);o.content.size&&(o=o.copy(kk(o.content,e,o))),o.isInline&&(o=e(o,t,i)),r.push(o)}return We.fromArray(r)}class Ws extends Ji{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new yt(kk(t.content,(a,s)=>!a.isAtom||!s.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),t.openStart,t.openEnd);return zr.fromReplace(e,this.from,this.to,o)}invert(){return new Ea(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Ws(t.pos,r.pos,this.mark)}merge(e){return e instanceof Ws&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ws(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ws(t.from,t.to,e.markFromJSON(t.mark))}}Ji.jsonID("addMark",Ws);class Ea extends Ji{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new yt(kk(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return zr.fromReplace(e,this.from,this.to,r)}invert(){return new Ws(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Ea(t.pos,r.pos,this.mark)}merge(e){return e instanceof Ea&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ea(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ea(t.from,t.to,e.markFromJSON(t.mark))}}Ji.jsonID("removeMark",Ea);class Us extends Ji{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return zr.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return zr.fromReplace(e,this.pos,this.pos+1,new yt(We.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new Us(this.pos,t.marks[i]);return new Us(this.pos,this.mark)}}return new qc(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Us(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Us(t.pos,e.markFromJSON(t.mark))}}Ji.jsonID("addNodeMark",Us);class qc extends Ji{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return zr.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return zr.fromReplace(e,this.pos,this.pos+1,new yt(We.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Us(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new qc(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new qc(t.pos,e.markFromJSON(t.mark))}}Ji.jsonID("removeNodeMark",qc);class Si extends Ji{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&R1(e,this.from,this.to)?zr.fail("Structure replace would overwrite content"):zr.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Zi([this.from,this.to-this.from,this.slice.size])}invert(e){return new Si(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new Si(t.pos,Math.max(t.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Si)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?yt.empty:new yt(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Si(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?yt.empty:new yt(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Si(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Si(t.from,t.to,yt.fromJSON(e,t.slice),!!t.structure)}}Ji.jsonID("replace",Si);class Jr extends Ji{constructor(e,t,r,i,o,a,s=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=a,this.structure=s}apply(e){if(this.structure&&(R1(e,this.from,this.gapFrom)||R1(e,this.gapTo,this.to)))return zr.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return zr.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?zr.fromReplace(e,this.from,this.to,r):zr.fail("Content does not fit in gap")}getMap(){return new Zi([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Jr(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||o>r.pos?null:new Jr(t.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Jr(t.from,t.to,t.gapFrom,t.gapTo,yt.fromJSON(e,t.slice),t.insert,!!t.structure)}}Ji.jsonID("replaceAround",Jr);function R1(n,e,t){let r=n.resolve(e),i=t-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let a=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function EJ(n,e,t,r){let i=[],o=[],a,s;n.doc.nodesBetween(e,t,(l,u,c)=>{if(!l.isInline)return;let f=l.marks;if(!r.isInSet(f)&&c.type.allowsMarkType(r.type)){let d=Math.max(u,e),h=Math.min(u+l.nodeSize,t),v=r.addToSet(f);for(let p=0;p<f.length;p++)f[p].isInSet(v)||(a&&a.to==d&&a.mark.eq(f[p])?a.to=h:i.push(a=new Ea(d,h,f[p])));s&&s.to==d?s.to=h:o.push(s=new Ws(d,h,r))}}),i.forEach(l=>n.step(l)),o.forEach(l=>n.step(l))}function MJ(n,e,t,r){let i=[],o=0;n.doc.nodesBetween(e,t,(a,s)=>{if(!a.isInline)return;o++;let l=null;if(r instanceof yg){let u=a.marks,c;for(;c=r.isInSet(u);)(l||(l=[])).push(c),u=c.removeFromSet(u)}else r?r.isInSet(a.marks)&&(l=[r]):l=a.marks;if(l&&l.length){let u=Math.min(s+a.nodeSize,t);for(let c=0;c<l.length;c++){let f=l[c],d;for(let h=0;h<i.length;h++){let v=i[h];v.step==o-1&&f.eq(i[h].style)&&(d=v)}d?(d.to=u,d.step=o):i.push({style:f,from:Math.max(s,e),to:u,step:o})}}}),i.forEach(a=>n.step(new Ea(a.from,a.to,a.style)))}function $J(n,e,t,r=t.contentMatch){let i=n.doc.nodeAt(e),o=[],a=e+1;for(let s=0;s<i.childCount;s++){let l=i.child(s),u=a+l.nodeSize,c=r.matchType(l.type);if(!c)o.push(new Si(a,u,yt.empty));else{r=c;for(let f=0;f<l.marks.length;f++)t.allowsMarkType(l.marks[f].type)||n.step(new Ea(a,u,l.marks[f]))}a=u}if(!r.validEnd){let s=r.fillBefore(We.empty,!0);n.replace(a,a,new yt(s,0,0))}for(let s=o.length-1;s>=0;s--)n.step(o[s])}function AJ(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function bg(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let i=n.$from.node(r),o=n.$from.index(r),a=n.$to.indexAfter(r);if(r<n.depth&&i.canReplace(o,a,t))return r;if(r==0||i.type.spec.isolating||!AJ(i,o,a))break}return null}function _J(n,e,t){let{$from:r,$to:i,depth:o}=e,a=r.before(o+1),s=i.after(o+1),l=a,u=s,c=We.empty,f=0;for(let v=o,p=!1;v>t;v--)p||r.index(v)>0?(p=!0,c=We.from(r.node(v).copy(c)),f++):l--;let d=We.empty,h=0;for(let v=o,p=!1;v>t;v--)p||i.after(v+1)<i.end(v)?(p=!0,d=We.from(i.node(v).copy(d)),h++):u++;n.step(new Jr(l,u,a,s,new yt(c.append(d),f,h),c.size-f,!0))}function NJ(n,e,t=null,r=n){let i=IJ(n,e),o=i&&PJ(r,e);return o?i.map(pC).concat({type:e,attrs:t}).concat(o.map(pC)):null}function pC(n){return{type:n,attrs:null}}function IJ(n,e){let{parent:t,startIndex:r,endIndex:i}=n,o=t.contentMatchAt(r).findWrapping(e);if(!o)return null;let a=o.length?o[0]:e;return t.canReplaceWith(r,i,a)?o:null}function PJ(n,e){let{parent:t,startIndex:r,endIndex:i}=n,o=t.child(r),a=e.contentMatch.findWrapping(o.type);if(!a)return null;let l=(a.length?a[a.length-1]:e).contentMatch;for(let u=r;l&&u<i;u++)l=l.matchType(t.child(u).type);return!l||!l.validEnd?null:a}function LJ(n,e,t){let r=We.empty;for(let a=t.length-1;a>=0;a--){if(r.size){let s=t[a].type.contentMatch.matchFragment(r);if(!s||!s.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=We.from(t[a].type.create(t[a].attrs,r))}let i=e.start,o=e.end;n.step(new Jr(i,o,i,o,new yt(r,0,0),t.length,!0))}function DJ(n,e,t,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=n.steps.length;n.doc.nodesBetween(e,t,(a,s)=>{if(a.isTextblock&&!a.hasMarkup(r,i)&&RJ(n.doc,n.mapping.slice(o).map(s),r)){n.clearIncompatible(n.mapping.slice(o).map(s,1),r);let l=n.mapping.slice(o),u=l.map(s,1),c=l.map(s+a.nodeSize,1);return n.step(new Jr(u,c,u+1,c-1,new yt(We.from(r.create(i,null,a.marks)),0,0),1,!0)),!1}})}function RJ(n,e,t){let r=n.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,t)}function BJ(n,e,t,r,i){let o=n.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");t||(t=o.type);let a=t.create(r,null,i||o.marks);if(o.isLeaf)return n.replaceWith(e,e+o.nodeSize,a);if(!t.validContent(o.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new Jr(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new yt(We.from(a),0,0),1,!0))}function Tc(n,e,t=1,r){let i=n.resolve(e),o=i.depth-t,a=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=t-2;u>o;u--,c--){let f=i.node(u),d=i.index(u);if(f.type.spec.isolating)return!1;let h=f.content.cutByIndex(d,f.childCount),v=r&&r[c]||f;if(v!=f&&(h=h.replaceChild(0,v.type.create(v.attrs))),!f.canReplace(d+1,f.childCount)||!v.type.validContent(h))return!1}let s=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(s,s,l?l.type:i.node(o+1).type)}function zJ(n,e,t=1,r){let i=n.doc.resolve(e),o=We.empty,a=We.empty;for(let s=i.depth,l=i.depth-t,u=t-1;s>l;s--,u--){o=We.from(i.node(s).copy(o));let c=r&&r[u];a=We.from(c?c.type.create(c.attrs,a):i.node(s).copy(a))}n.step(new Si(e,e,new yt(o.append(a),t,t),!0))}function iD(n,e){let t=n.resolve(e),r=t.index();return qJ(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function qJ(n,e){return!!(n&&e&&!n.isLeaf&&n.canAppend(e))}function FJ(n,e,t){let r=new Si(e-t,e+t,yt.empty,!0);n.step(r)}function HJ(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,t))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,t))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function VJ(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let i=t.content;for(let o=0;o<t.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(t.openStart==0&&t.size?2:1);o++)for(let a=r.depth;a>=0;a--){let s=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,l=r.index(a)+(s>0?1:0),u=r.node(a),c=!1;if(o==1)c=u.canReplace(l,l,i);else{let f=u.contentMatchAt(l).findWrapping(i.firstChild.type);c=f&&u.canReplaceWith(l,l,f[0])}if(c)return s==0?r.pos:s<0?r.before(a+1):r.after(a+1)}return null}function xk(n,e,t=e,r=yt.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),o=n.resolve(t);return oD(i,o,r)?new Si(e,t,r):new WJ(i,o,r).fit()}function oD(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class WJ{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=We.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=We.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,a=r.depth,s=i.depth;for(;a&&s&&o.childCount==1;)o=o.firstChild.content,a--,s--;let l=new yt(o,a,s);return e>-1?new Jr(r.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||r.pos!=this.$to.pos?new Si(r.pos,i.pos,l):null}findFittable(){for(let e=1;e<=2;e++)for(let t=this.unplaced.openStart;t>=0;t--){let r,i=null;t?(i=W0(this.unplaced.content,t-1).firstChild,r=i.content):r=this.unplaced.content;let o=r.firstChild;for(let a=this.depth;a>=0;a--){let{type:s,match:l}=this.frontier[a],u,c=null;if(e==1&&(o?l.matchType(o.type)||(c=l.fillBefore(We.from(o),!1)):i&&s.compatibleContent(i.type)))return{sliceDepth:t,frontierDepth:a,parent:i,inject:c};if(e==2&&o&&(u=l.findWrapping(o.type)))return{sliceDepth:t,frontierDepth:a,parent:i,wrap:u};if(i&&l.matchType(i.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=W0(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new yt(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=W0(e,t);if(i.childCount<=1&&t>0){let o=e.size-t<=t+i.size;this.unplaced=new yt(ad(e,t-1,1),t-1,o?t-1:r)}else this.unplaced=new yt(ad(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let p=0;p<o.length;p++)this.openFrontierNode(o[p]);let a=this.unplaced,s=r?r.content:a.content,l=a.openStart-e,u=0,c=[],{match:f,type:d}=this.frontier[t];if(i){for(let p=0;p<i.childCount;p++)c.push(i.child(p));f=f.matchFragment(i)}let h=s.size+e-(a.content.size-a.openEnd);for(;u<s.childCount;){let p=s.child(u),m=f.matchType(p.type);if(!m)break;u++,(u>1||l==0||p.content.size)&&(f=m,c.push(aD(p.mark(d.allowedMarks(p.marks)),u==1?l:0,u==s.childCount?h:-1)))}let v=u==s.childCount;v||(h=-1),this.placed=sd(this.placed,t,We.from(c)),this.frontier[t].match=f,v&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let p=0,m=s;p<h;p++){let g=m.lastChild;this.frontier.push({type:g.type,match:g.contentMatchAt(g.childCount)}),m=g.content}this.unplaced=v?e==0?yt.empty:new yt(ad(a.content,e-1,1),e-1,h<0?a.openEnd:e-1):new yt(ad(a.content,e,u),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!U0(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=U0(e,t,i,r,o);if(!!a){for(let s=t-1;s>=0;s--){let{match:l,type:u}=this.frontier[s],c=U0(e,s,u,l,!0);if(!c||c.childCount)continue e}return{depth:t,fit:a,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=sd(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=sd(this.placed,this.depth,We.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(We.empty,!0);t.childCount&&(this.placed=sd(this.placed,this.frontier.length,t))}}function ad(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(ad(n.firstChild.content,e-1,t)))}function sd(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(sd(n.lastChild.content,e-1,t)))}function W0(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function aD(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,aD(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(We.empty,!0)))),n.copy(r)}function U0(n,e,t,r,i){let o=n.node(e),a=i?n.indexAfter(e):n.index(e);if(a==o.childCount&&!t.compatibleContent(o.type))return null;let s=r.fillBefore(o.content,!0,a);return s&&!UJ(t,o.content,a)?s:null}function UJ(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function JJ(n){return n.spec.defining||n.spec.definingForContent}function GJ(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let i=n.doc.resolve(e),o=n.doc.resolve(t);if(oD(i,o,r))return n.step(new Si(e,t,r));let a=lD(i,n.doc.resolve(t));a[a.length-1]==0&&a.pop();let s=-(i.depth+1);a.unshift(s);for(let d=i.depth,h=i.pos-1;d>0;d--,h--){let v=i.node(d).type.spec;if(v.defining||v.definingAsContext||v.isolating)break;a.indexOf(d)>-1?s=d:i.before(d)==h&&a.splice(1,0,-d)}let l=a.indexOf(s),u=[],c=r.openStart;for(let d=r.content,h=0;;h++){let v=d.firstChild;if(u.push(v),h==r.openStart)break;d=v.content}for(let d=c-1;d>=0;d--){let h=u[d].type,v=JJ(h);if(v&&i.node(l).type!=h)c=d;else if(v||!h.isTextblock)break}for(let d=r.openStart;d>=0;d--){let h=(d+c+1)%(r.openStart+1),v=u[h];if(!!v)for(let p=0;p<a.length;p++){let m=a[(p+l)%a.length],g=!0;m<0&&(g=!1,m=-m);let y=i.node(m-1),b=i.index(m-1);if(y.canReplaceWith(b,b,v.type,v.marks))return n.replace(i.before(m),g?o.after(m):t,new yt(sD(r.content,0,r.openStart,h),h,r.openEnd))}}let f=n.steps.length;for(let d=a.length-1;d>=0&&(n.replace(e,t,r),!(n.steps.length>f));d--){let h=a[d];h<0||(e=i.before(h),t=o.after(h))}}function sD(n,e,t,r,i){if(e<t){let o=n.firstChild;n=n.replaceChild(0,o.copy(sD(o.content,e+1,t,r,o)))}if(e>r){let o=i.contentMatchAt(0),a=o.fillBefore(n).append(n);n=a.append(o.matchFragment(a).fillBefore(We.empty,!0))}return n}function KJ(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let i=HJ(n.doc,e,r.type);i!=null&&(e=t=i)}n.replaceRange(e,t,new yt(We.from(r),0,0))}function QJ(n,e,t){let r=n.doc.resolve(e),i=n.doc.resolve(t),o=lD(r,i);for(let a=0;a<o.length;a++){let s=o[a],l=a==o.length-1;if(l&&s==0||r.node(s).type.contentMatch.validEnd)return n.delete(r.start(s),i.end(s));if(s>0&&(l||r.node(s-1).canReplace(r.index(s-1),i.indexAfter(s-1))))return n.delete(r.before(s),i.after(s))}for(let a=1;a<=r.depth&&a<=i.depth;a++)if(e-r.start(a)==r.depth-a&&t>r.end(a)&&i.end(a)-t!=i.depth-a)return n.delete(r.before(a),t);n.delete(e,t)}function lD(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let i=r;i>=0;i--){let o=n.start(i);if(o<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&t.push(i)}return t}class Oc extends Ji{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return zr.fail("No node at attribute step's position");let r=Object.create(null);for(let o in t.attrs)r[o]=t.attrs[o];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return zr.fromReplace(e,this.pos,this.pos+1,new yt(We.from(i),0,t.isLeaf?0:1))}getMap(){return Zi.empty}invert(e){return new Oc(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Oc(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Oc(t.pos,t.attr,t.value)}}Ji.jsonID("attr",Oc);let Fc=class extends Error{};Fc=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};Fc.prototype=Object.create(Error.prototype);Fc.prototype.constructor=Fc;Fc.prototype.name="TransformError";class YJ{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Sc}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Fc(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=yt.empty){let i=xk(this.doc,e,t,r);return i&&this.step(i),this}replaceWith(e,t,r){return this.replace(e,t,new yt(We.from(r),0,0))}delete(e,t){return this.replace(e,t,yt.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return GJ(this,e,t,r),this}replaceRangeWith(e,t,r){return KJ(this,e,t,r),this}deleteRange(e,t){return QJ(this,e,t),this}lift(e,t){return _J(this,e,t),this}join(e,t=1){return FJ(this,e,t),this}wrap(e,t){return LJ(this,e,t),this}setBlockType(e,t=e,r,i=null){return DJ(this,e,t,r,i),this}setNodeMarkup(e,t,r=null,i=[]){return BJ(this,e,t,r,i),this}setNodeAttribute(e,t,r){return this.step(new Oc(e,t,r)),this}addNodeMark(e,t){return this.step(new Us(e,t)),this}removeNodeMark(e,t){if(!(t instanceof Tn)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t=t.isInSet(r.marks),!t)return this}return this.step(new qc(e,t)),this}split(e,t=1,r){return zJ(this,e,t,r),this}addMark(e,t,r){return EJ(this,e,t,r),this}removeMark(e,t,r){return MJ(this,e,t,r),this}clearIncompatible(e,t,r){return $J(this,e,t,r),this}}const J0=Object.create(null);class wn{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new uD(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=yt.empty){let r=t.content.lastChild,i=null;for(let s=0;s<t.openEnd;s++)i=r,r=r.lastChild;let o=e.steps.length,a=this.ranges;for(let s=0;s<a.length;s++){let{$from:l,$to:u}=a[s],c=e.mapping.slice(o);e.replaceRange(c.map(l.pos),c.map(u.pos),s?yt.empty:t),s==0&&gC(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:a,$to:s}=i[o],l=e.mapping.slice(r),u=l.map(a.pos),c=l.map(s.pos);o?e.deleteRange(u,c):(e.replaceRangeWith(u,c,t),gC(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let i=e.parent.inlineContent?new $n(e):rc(e.node(0),e.parent,e.pos,e.index(),t,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let a=t<0?rc(e.node(0),e.node(o),e.before(o+1),e.index(o),t,r):rc(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,r);if(a)return a}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Ei(e.node(0))}static atStart(e){return rc(e,e,0,0,1)||new Ei(e)}static atEnd(e){return rc(e,e,e.content.size,e.childCount,-1)||new Ei(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=J0[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in J0)throw new RangeError("Duplicate use of selection JSON ID "+e);return J0[e]=t,t.prototype.jsonID=e,t}getBookmark(){return $n.between(this.$anchor,this.$head).getBookmark()}}wn.prototype.visible=!0;class uD{constructor(e,t){this.$from=e,this.$to=t}}let vC=!1;function mC(n){!vC&&!n.parent.inlineContent&&(vC=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class $n extends wn{constructor(e,t=e){mC(e),mC(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return wn.near(r);let i=e.resolve(t.map(this.anchor));return new $n(i.parent.inlineContent?i:r,r)}replace(e,t=yt.empty){if(super.replace(e,t),t==yt.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof $n&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new wg(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new $n(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let i=e.resolve(t);return new this(i,r==t?i:e.resolve(r))}static between(e,t,r){let i=e.pos-t.pos;if((!r||i)&&(r=i>=0?1:-1),!t.parent.inlineContent){let o=wn.findFrom(t,r,!0)||wn.findFrom(t,-r,!0);if(o)t=o.$head;else return wn.near(t,r)}return e.parent.inlineContent||(i==0?e=t:(e=(wn.findFrom(e,-r,!0)||wn.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new $n(e,t)}}wn.jsonID("text",$n);class wg{constructor(e,t){this.anchor=e,this.head=t}map(e){return new wg(e.map(this.anchor),e.map(this.head))}resolve(e){return $n.between(e.resolve(this.anchor),e.resolve(this.head))}}class nn extends wn{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:i}=t.mapResult(this.anchor),o=e.resolve(i);return r?wn.near(o):new nn(o)}content(){return new yt(We.from(this.node),0,0)}eq(e){return e instanceof nn&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new jk(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new nn(e.resolve(t.anchor))}static create(e,t){return new nn(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}nn.prototype.visible=!1;wn.jsonID("node",nn);class jk{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new wg(r,r):new jk(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&nn.isSelectable(r)?new nn(t):wn.near(t)}}class Ei extends wn{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=yt.empty){if(t==yt.empty){e.delete(0,e.doc.content.size);let r=wn.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Ei(e)}map(e){return new Ei(e)}eq(e){return e instanceof Ei}getBookmark(){return ZJ}}wn.jsonID("all",Ei);const ZJ={map(){return this},resolve(n){return new Ei(n)}};function rc(n,e,t,r,i,o=!1){if(e.inlineContent)return $n.create(n,t);for(let a=r-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){let s=e.child(a);if(s.isAtom){if(!o&&nn.isSelectable(s))return nn.create(n,t-(i<0?s.nodeSize:0))}else{let l=rc(n,s,t+i,i<0?s.childCount:0,i,o);if(l)return l}t+=s.nodeSize*i}return null}function gC(n,e,t){let r=n.steps.length-1;if(r<e)return;let i=n.steps[r];if(!(i instanceof Si||i instanceof Jr))return;let o=n.mapping.maps[r],a;o.forEach((s,l,u,c)=>{a==null&&(a=c)}),n.setSelection(wn.near(n.doc.resolve(a),t))}const yC=1,ap=2,bC=4;class XJ extends YJ{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|yC)&~ap,this.storedMarks=null,this}get selectionSet(){return(this.updated&yC)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=ap,this}ensureMarks(e){return Tn.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&ap)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~ap,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Tn.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r==null?t:r,!e)return this.deleteRange(t,r);let o=this.storedMarks;if(!o){let a=this.doc.resolve(t);o=r==t?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,i.text(e,o)),this.selection.empty||this.setSelection(wn.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=bC,this}get scrolledIntoView(){return(this.updated&bC)>0}}function wC(n,e){return!e||!n?n:n.bind(e)}class ld{constructor(e,t,r){this.name=e,this.init=wC(t.init,r),this.apply=wC(t.apply,r)}}const eG=[new ld("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new ld("selection",{init(n,e){return n.selection||wn.atStart(e.doc)},apply(n){return n.selection}}),new ld("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new ld("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class G0{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=eG.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new ld(r.key,r.spec.state,r))})}}class Gl{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let a=0;a<this.config.plugins.length;a++){let s=this.config.plugins[a];if(s.spec.appendTransaction){let l=i?i[a].n:0,u=i?i[a].state:this,c=l<t.length&&s.spec.appendTransaction.call(s,l?t.slice(l):t,u,r);if(c&&r.filterTransaction(c,a)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<a?{state:r,n:t.length}:{state:this,n:0})}t.push(c),r=r.applyInner(c),o=!0}i&&(i[a]={state:r,n:t.length})}}if(!o)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Gl(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new XJ(this)}static create(e){let t=new G0(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Gl(t);for(let i=0;i<t.fields.length;i++)r[t.fields[i].name]=t.fields[i].init(e,r);return r}reconfigure(e){let t=new G0(this.schema,e.plugins),r=t.fields,i=new Gl(t);for(let o=0;o<r.length;o++){let a=r[o].name;i[a]=this.hasOwnProperty(a)?this[a]:r[o].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(t[r]=o.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new G0(e.schema,e.plugins),o=new Gl(i);return i.fields.forEach(a=>{if(a.name=="doc")o.doc=Go.fromJSON(e.schema,t.doc);else if(a.name=="selection")o.selection=wn.fromJSON(o.doc,t.selection);else if(a.name=="storedMarks")t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let s in r){let l=r[s],u=l.spec.state;if(l.key==a.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(t,s)){o[a.name]=u.fromJSON.call(l,e,t[s],o);return}}o[a.name]=a.init(e,o)}}),o}}function cD(n,e,t){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=cD(i,e,{})),t[r]=i}return t}class Gi{constructor(e){this.spec=e,this.props={},e.props&&cD(e.props,this,this.props),this.key=e.key?e.key.key:fD("plugin")}getState(e){return e[this.key]}}const K0=Object.create(null);function fD(n){return n in K0?n+"$"+ ++K0[n]:(K0[n]=0,n+"$")}class Oh{constructor(e="key"){this.key=fD(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Qi=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},Ud=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let kC=null;const es=function(n,e,t){let r=kC||(kC=document.createRange());return r.setEnd(n,t==null?n.nodeValue.length:t),r.setStart(n,e||0),r},pu=function(n,e,t,r){return t&&(xC(n,e,t,r,-1)||xC(n,e,t,r,1))},tG=/^(img|br|input|textarea|hr)$/i;function xC(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:Ta(n))){let o=n.parentNode;if(!o||o.nodeType!=1||rG(n)||tG.test(n.nodeName)||n.contentEditable=="false")return!1;e=Qi(n)+(i<0?0:1),n=o}else if(n.nodeType==1){if(n=n.childNodes[e+(i<0?-1:0)],n.contentEditable=="false")return!1;e=i<0?Ta(n):0}else return!1}}function Ta(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function nG(n,e,t){for(let r=e==0,i=e==Ta(n);r||i;){if(n==t)return!0;let o=Qi(n);if(n=n.parentNode,!n)return!1;r=r&&o==0,i=i&&o==Ta(n)}}function rG(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const kg=function(n){return n.focusNode&&pu(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function hc(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function iG(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}const al=typeof navigator!="undefined"?navigator:null,jC=typeof document!="undefined"?document:null,yl=al&&al.userAgent||"",B1=/Edge\/(\d+)/.exec(yl),dD=/MSIE \d/.exec(yl),z1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(yl),Hi=!!(dD||z1||B1),Zs=dD?document.documentMode:z1?+z1[1]:B1?+B1[1]:0,ta=!Hi&&/gecko\/(\d+)/i.test(yl);ta&&+(/Firefox\/(\d+)/.exec(yl)||[0,0])[1];const q1=!Hi&&/Chrome\/(\d+)/.exec(yl),qi=!!q1,oG=q1?+q1[1]:0,Mi=!Hi&&!!al&&/Apple Computer/.test(al.vendor),Hc=Mi&&(/Mobile\/\w+/.test(yl)||!!al&&al.maxTouchPoints>2),go=Hc||(al?/Mac/.test(al.platform):!1),Oa=/Android \d/.test(yl),xg=!!jC&&"webkitFontSmoothing"in jC.documentElement.style,aG=xg?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function sG(n){return{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function $s(n,e){return typeof n=="number"?n:n[e]}function lG(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function CC(n,e,t){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,o=n.dom.ownerDocument;for(let a=t||n.dom;a;a=Ud(a)){if(a.nodeType!=1)continue;let s=a,l=s==o.body,u=l?sG(o):lG(s),c=0,f=0;if(e.top<u.top+$s(r,"top")?f=-(u.top-e.top+$s(i,"top")):e.bottom>u.bottom-$s(r,"bottom")&&(f=e.bottom-u.bottom+$s(i,"bottom")),e.left<u.left+$s(r,"left")?c=-(u.left-e.left+$s(i,"left")):e.right>u.right-$s(r,"right")&&(c=e.right-u.right+$s(i,"right")),c||f)if(l)o.defaultView.scrollBy(c,f);else{let d=s.scrollLeft,h=s.scrollTop;f&&(s.scrollTop+=f),c&&(s.scrollLeft+=c);let v=s.scrollLeft-d,p=s.scrollTop-h;e={left:e.left-v,top:e.top-p,right:e.right-v,bottom:e.bottom-p}}if(l)break}}function uG(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,a=t+1;a<Math.min(innerHeight,e.bottom);a+=5){let s=n.root.elementFromPoint(o,a);if(!s||s==n.dom||!n.dom.contains(s))continue;let l=s.getBoundingClientRect();if(l.top>=t-20){r=s,i=l.top;break}}return{refDOM:r,refTop:i,stack:hD(n.dom)}}function hD(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=Ud(r));return e}function cG({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;pD(t,r==0?0:r-e)}function pD(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:i,left:o}=n[t];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let Qu=null;function fG(n){if(n.setActive)return n.setActive();if(Qu)return n.focus(Qu);let e=hD(n);n.focus(Qu==null?{get preventScroll(){return Qu={preventScroll:!0},!0}}:void 0),Qu||(Qu=!1,pD(e,0))}function vD(n,e){let t,r=2e8,i,o=0,a=e.top,s=e.top;for(let l=n.firstChild,u=0;l;l=l.nextSibling,u++){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=es(l).getClientRects();else continue;for(let f=0;f<c.length;f++){let d=c[f];if(d.top<=a&&d.bottom>=s){a=Math.max(d.bottom,a),s=Math.min(d.top,s);let h=d.left>e.left?d.left-e.left:d.right<e.left?e.left-d.right:0;if(h<r){t=l,r=h,i=h&&t.nodeType==3?{left:d.right<e.left?d.right:d.left,top:e.top}:e,l.nodeType==1&&h&&(o=u+(e.left>=(d.left+d.right)/2?1:0));continue}}!t&&(e.left>=d.right&&e.top>=d.top||e.left>=d.left&&e.top>=d.bottom)&&(o=u+1)}}return t&&t.nodeType==3?dG(t,i):!t||r&&t.nodeType==1?{node:n,offset:o}:vD(t,i)}function dG(n,e){let t=n.nodeValue.length,r=document.createRange();for(let i=0;i<t;i++){r.setEnd(n,i+1),r.setStart(n,i);let o=Ls(r,1);if(o.top!=o.bottom&&Ck(e,o))return{node:n,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:n,offset:0}}function Ck(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function hG(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function pG(n,e,t){let{node:r,offset:i}=vD(e,t),o=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();o=a.left!=a.right&&t.left>(a.left+a.right)/2?1:-1}return n.docView.posFromDOM(r,i,o)}function vG(n,e,t,r){let i=-1;for(let o=e;o!=n.dom;){let a=n.docView.nearestDesc(o,!0);if(!a)return null;if(a.node.isBlock&&a.parent){let s=a.dom.getBoundingClientRect();if(s.left>r.left||s.top>r.top)i=a.posBefore;else if(s.right<r.left||s.bottom<r.top)i=a.posAfter;else break}o=a.dom.parentNode}return i>-1?i:n.docView.posFromDOM(e,t,1)}function mD(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),o=i;;){let a=n.childNodes[o];if(a.nodeType==1){let s=a.getClientRects();for(let l=0;l<s.length;l++){let u=s[l];if(Ck(e,u))return mD(a,e,u)}}if((o=(o+1)%r)==i)break}return n}function mG(n,e){let t=n.dom.ownerDocument,r,i=0;if(t.caretPositionFromPoint)try{let l=t.caretPositionFromPoint(e.left,e.top);l&&({offsetNode:r,offset:i}=l)}catch{}if(!r&&t.caretRangeFromPoint){let l=t.caretRangeFromPoint(e.left,e.top);l&&({startContainer:r,startOffset:i}=l)}let o=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),a;if(!o||!n.dom.contains(o.nodeType!=1?o.parentNode:o)){let l=n.dom.getBoundingClientRect();if(!Ck(e,l)||(o=mD(n.dom,e,l),!o))return null}if(Mi)for(let l=o;r&&l;l=Ud(l))l.draggable&&(r=void 0);if(o=hG(o,e),r){if(ta&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let l=r.childNodes[i],u;l.nodeName=="IMG"&&(u=l.getBoundingClientRect()).right<=e.left&&u.bottom>e.top&&i++}r==n.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=n.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=vG(n,r,i,e))}a==null&&(a=pG(n,o,e));let s=n.docView.nearestDesc(o,!0);return{pos:a,inside:s?s.posAtStart-s.border:-1}}function Ls(n,e){let t=n.getClientRects();return t.length?t[e<0?0:t.length-1]:n.getBoundingClientRect()}const gG=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function gD(n,e,t){let{node:r,offset:i,atom:o}=n.docView.domFromPos(e,t<0?-1:1),a=xg||ta;if(r.nodeType==3)if(a&&(gG.test(r.nodeValue)||(t<0?!i:i==r.nodeValue.length))){let l=Ls(es(r,i,i),t);if(ta&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=Ls(es(r,i-1,i-1),-1);if(u.top==l.top){let c=Ls(es(r,i,i+1),-1);if(c.top!=l.top)return Hf(c,c.left<u.left)}}return l}else{let l=i,u=i,c=t<0?1:-1;return t<0&&!i?(u++,c=-1):t>=0&&i==r.nodeValue.length?(l--,c=1):t<0?l--:u++,Hf(Ls(es(r,l,u),1),c<0)}if(!n.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(t<0||i==Ta(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return Q0(l.getBoundingClientRect(),!1)}if(o==null&&i<Ta(r)){let l=r.childNodes[i];if(l.nodeType==1)return Q0(l.getBoundingClientRect(),!0)}return Q0(r.getBoundingClientRect(),t>=0)}if(o==null&&i&&(t<0||i==Ta(r))){let l=r.childNodes[i-1],u=l.nodeType==3?es(l,Ta(l)-(a?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return Hf(Ls(u,1),!1)}if(o==null&&i<Ta(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?es(l,0,a?0:1):l.nodeType==1?l:null:null;if(u)return Hf(Ls(u,-1),!0)}return Hf(Ls(r.nodeType==3?es(r):r,-t),t>=0)}function Hf(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function Q0(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function yD(n,e,t){let r=n.state,i=n.root.activeElement;r!=e&&n.updateState(e),i!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),i!=n.dom&&i&&i.focus()}}function yG(n,e,t){let r=e.selection,i=t=="up"?r.$from:r.$to;return yD(n,e,()=>{let{node:o}=n.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let s=n.docView.nearestDesc(o,!0);if(!s)break;if(s.node.isBlock){o=s.dom;break}o=s.dom.parentNode}let a=gD(n,i.pos,1);for(let s=o.firstChild;s;s=s.nextSibling){let l;if(s.nodeType==1)l=s.getClientRects();else if(s.nodeType==3)l=es(s,0,s.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let c=l[u];if(c.bottom>c.top+1&&(t=="up"?a.top-c.top>(c.bottom-a.top)*2:c.bottom-a.bottom>(a.bottom-c.top)*2))return!1}}return!0})}const bG=/[\u0590-\u08ac]/;function wG(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,a=i==r.parent.content.size,s=n.domSelection();return!bG.test(r.parent.textContent)||!s.modify?t=="left"||t=="backward"?o:a:yD(n,e,()=>{let{focusNode:l,focusOffset:u,anchorNode:c,anchorOffset:f}=n.domSelectionRange(),d=s.caretBidiLevel;s.modify("move",t,"character");let h=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:v,focusOffset:p}=n.domSelectionRange(),m=v&&!h.contains(v.nodeType==1?v:v.parentNode)||l==v&&u==p;try{s.collapse(c,f),l&&(l!=c||u!=f)&&s.extend&&s.extend(l,u)}catch{}return d!=null&&(s.caretBidiLevel=d),m})}let SC=null,TC=null,OC=!1;function kG(n,e,t){return SC==e&&TC==t?OC:(SC=e,TC=t,OC=t=="up"||t=="down"?yG(n,e,t):wG(n,e,t))}const Ko=0,EC=1,pc=2,Ra=3;class Eh{constructor(e,t,r,i){this.parent=e,this.children=t,this.dom=r,this.contentDOM=i,this.dirty=Ko,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let i=this.children[t];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,a;if(e==this.contentDOM)o=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(a)+a.size:this.posAtStart}else{let o,a;if(e==this.contentDOM)o=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(a):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>Qi(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return(i==null?r>0:i)?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),a;if(o&&(!t||o.node))if(r&&(a=o.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return o}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let i=this.children[t],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let a=this.children[r],s=o+a.size;if(s>e||a instanceof wD){i=e-o;break}o=s}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof bD&&o.side>=0;r--);if(t<=0){let o,a=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,a=!1);return o&&t&&a&&!o.border&&!o.domAtom?o.domFromPos(o.size,t):{node:this.contentDOM,offset:o?Qi(o.dom)+1:0}}else{let o,a=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,a=!1);return o&&a&&!o.border&&!o.domAtom?o.domFromPos(0,t):{node:this.contentDOM,offset:o?Qi(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let a=r,s=0;;s++){let l=this.children[s],u=a+l.size;if(i==-1&&e<=u){let c=a+l.border;if(e>=c&&t<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,t,c);e=a;for(let f=s;f>0;f--){let d=this.children[f-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){i=Qi(d.dom)+1;break}e-=d.size}i==-1&&(i=0)}if(i>-1&&(u>t||s==this.children.length-1)){t=u;for(let c=s+1;c<this.children.length;c++){let f=this.children[c];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){o=Qi(f.dom);break}t+=f.size}o==-1&&(o=this.contentDOM.childNodes.length);break}a=u}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,i=!1){let o=Math.min(e,t),a=Math.max(e,t);for(let d=0,h=0;d<this.children.length;d++){let v=this.children[d],p=h+v.size;if(o>h&&a<p)return v.setSelection(e-h-v.border,t-h-v.border,r,i);h=p}let s=this.domFromPos(e,e?-1:1),l=t==e?s:this.domFromPos(t,t?-1:1),u=r.getSelection(),c=!1;if((ta||Mi)&&e==t){let{node:d,offset:h}=s;if(d.nodeType==3){if(c=!!(h&&d.nodeValue[h-1]==`
`),c&&h==d.nodeValue.length)for(let v=d,p;v;v=v.parentNode){if(p=v.nextSibling){p.nodeName=="BR"&&(s=l={node:p.parentNode,offset:Qi(p)+1});break}let m=v.pmViewDesc;if(m&&m.node&&m.node.isBlock)break}}else{let v=d.childNodes[h-1];c=v&&(v.nodeName=="BR"||v.contentEditable=="false")}}if(ta&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let d=u.focusNode.childNodes[u.focusOffset];d&&d.contentEditable=="false"&&(i=!0)}if(!(i||c&&Mi)&&pu(s.node,s.offset,u.anchorNode,u.anchorOffset)&&pu(l.node,l.offset,u.focusNode,u.focusOffset))return;let f=!1;if((u.extend||e==t)&&!c){u.collapse(s.node,s.offset);try{e!=t&&u.extend(l.node,l.offset),f=!0}catch{}}if(!f){if(e>t){let h=s;s=l,l=h}let d=document.createRange();d.setEnd(l.node,l.offset),d.setStart(s.node,s.offset),u.removeAllRanges(),u.addRange(d)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],a=r+o.size;if(r==a?e<=a&&t>=r:e<a&&t>r){let s=r+o.border,l=a-o.border;if(e>=s&&t<=l){this.dirty=e==r||t==a?pc:EC,e==s&&t==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Ra:o.markDirty(e-s,t-s);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?pc:Ra}r=a}this.dirty=pc}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?pc:EC;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class bD extends Eh{constructor(e,t,r,i){let o,a=t.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!t.type.spec.raw){if(a.nodeType!=1){let s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return this.dirty==Ko&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class xG extends Eh{constructor(e,t,r,i){super(e,[],t,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class vu extends Eh{constructor(e,t,r,i){super(e,[],r,i),this.mark=t}static create(e,t,r,i){let o=i.nodeViews[t.type.name],a=o&&o(t,i,r);return(!a||!a.dom)&&(a=ls.renderSpec(document,t.type.spec.toDOM(t,r))),new vu(e,t,a.dom,a.contentDOM||a.dom)}parseRule(){return this.dirty&Ra||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return this.dirty!=Ra&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=Ko){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Ko}}slice(e,t,r){let i=vu.create(this.parent,this.mark,!0,r),o=this.children,a=this.size;t<a&&(o=V1(o,t,a,r)),e>0&&(o=V1(o,0,e,r));for(let s=0;s<o.length;s++)o[s].parent=i;return i.children=o,i}}class mu extends Eh{constructor(e,t,r,i,o,a,s,l,u){super(e,[],o,a),this.node=t,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=s,a&&this.updateChildren(l,u)}static create(e,t,r,i,o,a){let s=o.nodeViews[t.type.name],l,u=s&&s(t,o,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)},r,i),c=u&&u.dom,f=u&&u.contentDOM;if(t.isText){if(!c)c=document.createTextNode(t.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:f}=ls.renderSpec(document,t.type.spec.toDOM(t)));!f&&!t.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));let d=c;return c=jD(c,r,t),u?l=new jG(e,t,r,i,c,f||null,d,u,o,a+1):t.isText?new jg(e,t,r,i,c,d,o):new mu(e,t,r,i,c,f||null,d,o,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>We.empty)}return e}matchesNode(e,t,r){return this.dirty==Ko&&e.eq(this.node)&&H1(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,i=t,o=e.composing?this.localCompositionInfo(e,t):null,a=o&&o.pos>-1?o:null,s=o&&o.pos<0,l=new SG(this,a&&a.node,e);EG(this.node,this.innerDeco,(u,c,f)=>{u.spec.marks?l.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!f&&l.syncToMarks(c==this.node.childCount?Tn.none:this.node.child(c).marks,r,e),l.placeWidget(u,e,i)},(u,c,f,d)=>{l.syncToMarks(u.marks,r,e);let h;l.findNodeMatch(u,c,f,d)||s&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(h=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(u,c,f,h,e)||l.updateNextNode(u,c,f,e,d)||l.addNode(u,c,f,e,i),i+=u.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==pc)&&(a&&this.protectLocalComposition(e,a),kD(this.contentDOM,this.children,e),Hc&&MG(this.dom))}localCompositionInfo(e,t){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof $n)||r<t||i>t+this.node.content.size)return null;let o=e.domSelectionRange(),a=$G(o.focusNode,o.focusOffset);if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let s=a.nodeValue,l=AG(this.node.content,s,r-t,i-t);return l<0?null:{node:a,pos:l,text:s}}else return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:i}){if(this.getDesc(t))return;let o=t;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let a=new xG(this,o,t,i);e.input.compositionNodes.push(a),this.children=V1(this.children,r,r+i.length,e,a)}update(e,t,r,i){return this.dirty==Ra||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,i),!0)}updateInner(e,t,r,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Ko}updateOuterDeco(e){if(H1(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=xD(this.dom,this.nodeDOM,F1(this.outerDeco,this.node,t),F1(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function MC(n,e,t,r,i){return jD(r,e,n),new mu(void 0,n,e,t,r,r,r,i,0)}class jg extends mu{constructor(e,t,r,i,o,a,s){super(e,t,r,i,o,null,a,s,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,i){return this.dirty==Ra||this.dirty!=Ko&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=Ko||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Ko,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let i=this.node.cut(e,t),o=document.createTextNode(i.text);return new jg(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=Ra)}get domAtom(){return!1}}class wD extends Eh{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Ko&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class jG extends mu{constructor(e,t,r,i,o,a,s,l,u,c){super(e,t,r,i,o,a,s,u,c),this.spec=l}update(e,t,r,i){if(this.dirty==Ra)return!1;if(this.spec.update){let o=this.spec.update(e,t,r);return o&&this.updateInner(e,t,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,i){this.spec.setSelection?this.spec.setSelection(e,t,r):super.setSelection(e,t,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function kD(n,e,t){let r=n.firstChild,i=!1;for(let o=0;o<e.length;o++){let a=e[o],s=a.dom;if(s.parentNode==n){for(;s!=r;)r=$C(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(s,r);if(a instanceof vu){let l=r?r.previousSibling:n.lastChild;kD(a.contentDOM,a.children,t),r=l?l.nextSibling:n.firstChild}}for(;r;)r=$C(r),i=!0;i&&t.trackWrites==n&&(t.trackWrites=null)}const Sd=function(n){n&&(this.nodeName=n)};Sd.prototype=Object.create(null);const Kl=[new Sd];function F1(n,e,t){if(n.length==0)return Kl;let r=t?Kl[0]:new Sd,i=[r];for(let o=0;o<n.length;o++){let a=n[o].type.attrs;if(!!a){a.nodeName&&i.push(r=new Sd(a.nodeName));for(let s in a){let l=a[s];l!=null&&(t&&i.length==1&&i.push(r=new Sd(e.isInline?"span":"div")),s=="class"?r.class=(r.class?r.class+" ":"")+l:s=="style"?r.style=(r.style?r.style+";":"")+l:s!="nodeName"&&(r[s]=l))}}}return i}function xD(n,e,t,r){if(t==Kl&&r==Kl)return e;let i=e;for(let o=0;o<r.length;o++){let a=r[o],s=t[o];if(o){let l;s&&s.nodeName==a.nodeName&&i!=n&&(l=i.parentNode)&&l.nodeName.toLowerCase()==a.nodeName||(l=document.createElement(a.nodeName),l.pmIsDeco=!0,l.appendChild(i),s=Kl[0]),i=l}CG(i,s||Kl[0],a)}return i}function CG(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&n.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&n.classList.add(i[o]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)n.style.removeProperty(i[1])}t.style&&(n.style.cssText+=t.style)}}function jD(n,e,t){return xD(n,n,Kl,F1(e,t,n.nodeType!=1))}function H1(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function $C(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class SG{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=TG(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let i=0,o=this.stack.length>>1,a=Math.min(o,e.length);for(;i<a&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=Ko,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let s=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++)if(this.top.children[l].matchesMark(e[o])){s=l;break}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{let l=vu.create(this.top,e[o],t,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,r,i){let o=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(e,t,r))o=this.top.children.indexOf(a,this.index);else for(let s=this.index,l=Math.min(this.top.children.length,s+5);s<l;s++){let u=this.top.children[s];if(u.matchesNode(e,t,r)&&!this.preMatch.matched.has(u)){o=s;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,t,r,i,o){let a=this.top.children[i];return a.dirty==Ra&&a.dom==a.contentDOM&&(a.dirty=pc),a.update(e,t,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=t}}updateNextNode(e,t,r,i,o){for(let a=this.index;a<this.top.children.length;a++){let s=this.top.children[a];if(s instanceof mu){let l=this.preMatch.matched.get(s);if(l!=null&&l!=o)return!1;let u=s.dom;if(!(this.lock&&(u==this.lock||u.nodeType==1&&u.contains(this.lock.parentNode))&&!(e.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==e.text&&s.dirty!=Ra&&H1(t,s.outerDeco)))&&s.update(e,t,r,i))return this.destroyBetween(this.index,a),s.dom!=u&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,t,r,i,o){this.top.children.splice(this.index++,0,mu.create(this.top,e,t,r,i,o)),this.changed=!0}placeWidget(e,t,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new bD(this.top,e,t,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof vu;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof jg)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Mi||qi)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new wD(this.top,[],r,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}}function TG(n,e){let t=e,r=t.children.length,i=n.childCount,o=new Map,a=[];e:for(;i>0;){let s;for(;;)if(r){let u=t.children[r-1];if(u instanceof vu)t=u,r=u.children.length;else{s=u,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let l=s.node;if(!!l){if(l!=n.child(i-1))break;--i,o.set(s,i),a.push(s)}}return{index:i,matched:o,matches:a.reverse()}}function OG(n,e){return n.type.side-e.type.side}function EG(n,e,t,r){let i=e.locals(n),o=0;if(i.length==0){for(let u=0;u<n.childCount;u++){let c=n.child(u);r(c,i,e.forChild(o,c),u),o+=c.nodeSize}return}let a=0,s=[],l=null;for(let u=0;;){if(a<i.length&&i[a].to==o){let v=i[a++],p;for(;a<i.length&&i[a].to==o;)(p||(p=[v])).push(i[a++]);if(p){p.sort(OG);for(let m=0;m<p.length;m++)t(p[m],u,!!l)}else t(v,u,!!l)}let c,f;if(l)f=-1,c=l,l=null;else if(u<n.childCount)f=u,c=n.child(u++);else break;for(let v=0;v<s.length;v++)s[v].to<=o&&s.splice(v--,1);for(;a<i.length&&i[a].from<=o&&i[a].to>o;)s.push(i[a++]);let d=o+c.nodeSize;if(c.isText){let v=d;a<i.length&&i[a].from<v&&(v=i[a].from);for(let p=0;p<s.length;p++)s[p].to<v&&(v=s[p].to);v<d&&(l=c.cut(v-o),c=c.cut(0,v-o),d=v,f=-1)}let h=c.isInline&&!c.isLeaf?s.filter(v=>!v.inline):s.slice();r(c,h,e.forChild(o,c),f),o=d}}function MG(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function $G(n,e){for(;;){if(n.nodeType==3)return n;if(n.nodeType==1&&e>0){if(n.childNodes.length>e&&n.childNodes[e].nodeType==3)return n.childNodes[e];n=n.childNodes[e-1],e=Ta(n)}else if(n.nodeType==1&&e<n.childNodes.length)n=n.childNodes[e],e=0;else return null}}function AG(n,e,t,r){for(let i=0,o=0;i<n.childCount&&o<=r;){let a=n.child(i++),s=o;if(o+=a.nodeSize,!a.isText)continue;let l=a.text;for(;i<n.childCount;){let u=n.child(i++);if(o+=u.nodeSize,!u.isText)break;l+=u.text}if(o>=t){let u=s<r?l.lastIndexOf(e,r-s-1):-1;if(u>=0&&u+e.length+s>=t)return s+u;if(t==r&&l.length>=r+e.length-s&&l.slice(r-s,r-s+e.length)==e)return r}}return-1}function V1(n,e,t,r,i){let o=[];for(let a=0,s=0;a<n.length;a++){let l=n[a],u=s,c=s+=l.size;u>=t||c<=e?o.push(l):(u<e&&o.push(l.slice(0,e-u,r)),i&&(o.push(i),i=void 0),c>t&&o.push(l.slice(t-u,l.size,r)))}return o}function Sk(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let i=n.docView.nearestDesc(t.focusNode),o=i&&i.size==0,a=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(a<0)return null;let s=r.resolve(a),l,u;if(kg(t)){for(l=s;i&&!i.node;)i=i.parent;let c=i.node;if(i&&c.isAtom&&nn.isSelectable(c)&&i.parent&&!(c.isInline&&nG(t.focusNode,t.focusOffset,i.dom))){let f=i.posBefore;u=new nn(a==f?s:r.resolve(f))}}else{let c=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(c<0)return null;l=r.resolve(c)}if(!u){let c=e=="pointer"||n.state.selection.head<s.pos&&!o?1:-1;u=Tk(n,l,s,c)}return u}function CD(n){return n.editable?n.hasFocus():TD(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function ds(n,e=!1){let t=n.state.selection;if(SD(n,t),!!CD(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&qi){let r=n.domSelectionRange(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&pu(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)NG(n);else{let{anchor:r,head:i}=t,o,a;AC&&!(t instanceof $n)&&(t.$from.parent.inlineContent||(o=_C(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(a=_C(n,t.to))),n.docView.setSelection(r,i,n.root,e),AC&&(o&&NC(o),a&&NC(a)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&_G(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const AC=Mi||qi&&oG<63;function _C(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),i=r<t.childNodes.length?t.childNodes[r]:null,o=r?t.childNodes[r-1]:null;if(Mi&&i&&i.contentEditable=="false")return Y0(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return Y0(i);if(o)return Y0(o)}}function Y0(n){return n.contentEditable="true",Mi&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function NC(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function _G(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!CD(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function NG(n){let e=n.domSelection(),t=document.createRange(),r=n.cursorWrapper.dom,i=r.nodeName=="IMG";i?t.setEnd(r.parentNode,Qi(r)+1):t.setEnd(r,0),t.collapse(!1),e.removeAllRanges(),e.addRange(t),!i&&!n.state.selection.visible&&Hi&&Zs<=11&&(r.disabled=!0,r.disabled=!1)}function SD(n,e){if(e instanceof nn){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(IC(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else IC(n)}function IC(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function Tk(n,e,t,r){return n.someProp("createSelectionBetween",i=>i(n,e,t))||$n.between(e,t,r)}function PC(n){return n.editable&&!n.hasFocus()?!1:TD(n)}function TD(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function IG(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return pu(e.node,e.offset,t.anchorNode,t.anchorOffset)}function W1(n,e){let{$anchor:t,$head:r}=n.selection,i=e>0?t.max(r):t.min(r),o=i.parent.inlineContent?i.depth?n.doc.resolve(e>0?i.after():i.before()):null:i;return o&&wn.findFrom(o,e)}function Vl(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function LC(n,e,t){let r=n.state.selection;if(r instanceof $n){if(!r.empty||t.indexOf("s")>-1)return!1;if(n.endOfTextblock(e>0?"right":"left")){let i=W1(n.state,e);return i&&i instanceof nn?Vl(n,i):!1}else if(!(go&&t.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,a;if(!o||o.isText)return!1;let s=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(a=n.docView.descAt(s))&&!a.contentDOM?nn.isSelectable(o)?Vl(n,new nn(e<0?n.state.doc.resolve(i.pos-o.nodeSize):i)):xg?Vl(n,new $n(n.state.doc.resolve(e<0?s:s+o.nodeSize))):!1:!1}}else{if(r instanceof nn&&r.node.isInline)return Vl(n,new $n(e>0?r.$to:r.$from));{let i=W1(n.state,e);return i?Vl(n,i):!1}}}function Jv(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Td(n){let e=n.pmViewDesc;return e&&e.size==0&&(n.nextSibling||n.nodeName!="BR")}function Z0(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i,o,a=!1;for(ta&&t.nodeType==1&&r<Jv(t)&&Td(t.childNodes[r])&&(a=!0);;)if(r>0){if(t.nodeType!=1)break;{let s=t.childNodes[r-1];if(Td(s))i=t,o=--r;else if(s.nodeType==3)t=s,r=t.nodeValue.length;else break}}else{if(OD(t))break;{let s=t.previousSibling;for(;s&&Td(s);)i=t.parentNode,o=Qi(s),s=s.previousSibling;if(s)t=s,r=Jv(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}a?U1(n,t,r):i&&U1(n,i,o)}function X0(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i=Jv(t),o,a;for(;;)if(r<i){if(t.nodeType!=1)break;let s=t.childNodes[r];if(Td(s))o=t,a=++r;else break}else{if(OD(t))break;{let s=t.nextSibling;for(;s&&Td(s);)o=s.parentNode,a=Qi(s)+1,s=s.nextSibling;if(s)t=s,r=0,i=Jv(t);else{if(t=t.parentNode,t==n.dom)break;r=i=0}}}o&&U1(n,o,a)}function OD(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function U1(n,e,t){let r=n.domSelection();if(kg(r)){let o=document.createRange();o.setEnd(e,t),o.setStart(e,t),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&ds(n)},50)}function DC(n,e,t){let r=n.state.selection;if(r instanceof $n&&!r.empty||t.indexOf("s")>-1||go&&t.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let a=W1(n.state,e);if(a&&a instanceof nn)return Vl(n,a)}if(!i.parent.inlineContent){let a=e<0?i:o,s=r instanceof Ei?wn.near(a,e):wn.findFrom(a,e);return s?Vl(n,s):!1}return!1}function RC(n,e){if(!(n.state.selection instanceof $n))return!0;let{$head:t,$anchor:r,empty:i}=n.state.selection;if(!t.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(o&&!o.isText){let a=n.state.tr;return e<0?a.delete(t.pos-o.nodeSize,t.pos):a.delete(t.pos,t.pos+o.nodeSize),n.dispatch(a),!0}return!1}function BC(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function PG(n){if(!Mi||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;BC(n,r,"true"),setTimeout(()=>BC(n,r,"false"),20)}return!1}function LG(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function DG(n,e){let t=e.keyCode,r=LG(e);return t==8||go&&t==72&&r=="c"?RC(n,-1)||Z0(n):t==46||go&&t==68&&r=="c"?RC(n,1)||X0(n):t==13||t==27?!0:t==37||go&&t==66&&r=="c"?LC(n,-1,r)||Z0(n):t==39||go&&t==70&&r=="c"?LC(n,1,r)||X0(n):t==38||go&&t==80&&r=="c"?DC(n,-1,r)||Z0(n):t==40||go&&t==78&&r=="c"?PG(n)||DC(n,1,r)||X0(n):r==(go?"m":"c")&&(t==66||t==73||t==89||t==90)}function ED(n,e){n.someProp("transformCopied",h=>{e=h(e,n)});let t=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let h=r.firstChild;t.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let a=n.someProp("clipboardSerializer")||ls.fromSchema(n.state.schema),s=ID(),l=s.createElement("div");l.appendChild(a.serializeFragment(r,{document:s}));let u=l.firstChild,c,f=0;for(;u&&u.nodeType==1&&(c=ND[u.nodeName.toLowerCase()]);){for(let h=c.length-1;h>=0;h--){let v=s.createElement(c[h]);for(;l.firstChild;)v.appendChild(l.firstChild);l.appendChild(v),f++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${o}${f?` -${f}`:""} ${JSON.stringify(t)}`);let d=n.someProp("clipboardTextSerializer",h=>h(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:d}}function MD(n,e,t,r,i){let o=i.parent.type.spec.code,a,s;if(!t&&!e)return null;let l=e&&(r||o||!t);if(l){if(n.someProp("transformPastedText",d=>{e=d(e,o||r,n)}),o)return e?new yt(We.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):yt.empty;let f=n.someProp("clipboardTextParser",d=>d(e,i,r,n));if(f)s=f;else{let d=i.marks(),{schema:h}=n.state,v=ls.fromSchema(h);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(p=>{let m=a.appendChild(document.createElement("p"));p&&m.appendChild(v.serializeNode(h.text(p,d)))})}}else n.someProp("transformPastedHTML",f=>{t=f(t,n)}),a=zG(t),xg&&qG(a);let u=a&&a.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let f=+c[3];f>0;f--){let d=a.firstChild;for(;d&&d.nodeType!=1;)d=d.nextSibling;if(!d)break;a=d}if(s||(s=(n.someProp("clipboardParser")||n.someProp("domParser")||hu.fromSchema(n.state.schema)).parseSlice(a,{preserveWhitespace:!!(l||c),context:i,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!RG.test(d.parentNode.nodeName)?{ignore:!0}:null}})),c)s=FG(zC(s,+c[1],+c[2]),c[4]);else if(s=yt.maxOpen(BG(s.content,i),!0),s.openStart||s.openEnd){let f=0,d=0;for(let h=s.content.firstChild;f<s.openStart&&!h.type.spec.isolating;f++,h=h.firstChild);for(let h=s.content.lastChild;d<s.openEnd&&!h.type.spec.isolating;d++,h=h.lastChild);s=zC(s,f,d)}return n.someProp("transformPasted",f=>{s=f(s,n)}),s}const RG=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function BG(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),o,a=[];if(n.forEach(s=>{if(!a)return;let l=i.findWrapping(s.type),u;if(!l)return a=null;if(u=a.length&&o.length&&AD(l,o,s,a[a.length-1],0))a[a.length-1]=u;else{a.length&&(a[a.length-1]=_D(a[a.length-1],o.length));let c=$D(s,l);a.push(c),i=i.matchType(c.type),o=l}}),a)return We.from(a)}return n}function $D(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,We.from(n));return n}function AD(n,e,t,r,i){if(i<n.length&&i<e.length&&n[i]==e[i]){let o=AD(n,e,t,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?t.type:n[i+1]))return r.copy(r.content.append(We.from($D(t,n,i+1))))}}function _D(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,_D(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(We.empty,!0);return n.copy(t.append(r))}function J1(n,e,t,r,i,o){let a=e<0?n.firstChild:n.lastChild,s=a.content;return i<r-1&&(s=J1(s,e,t,r,i+1,o)),i>=t&&(s=e<0?a.contentMatchAt(0).fillBefore(s,n.childCount>1||o<=i).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(We.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,a.copy(s))}function zC(n,e,t){return e<n.openStart&&(n=new yt(J1(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new yt(J1(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const ND={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let qC=null;function ID(){return qC||(qC=document.implementation.createHTMLDocument("title"))}function zG(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=ID().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),i;if((i=r&&ND[r[1].toLowerCase()])&&(n=i.map(o=>"<"+o+">").join("")+n+i.map(o=>"</"+o+">").reverse().join("")),t.innerHTML=n,i)for(let o=0;o<i.length;o++)t=t.querySelector(i[o])||t;return t}function qG(n){let e=n.querySelectorAll(qi?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent=="\xA0"&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function FG(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:i,openStart:o,openEnd:a}=n;for(let s=r.length-2;s>=0;s-=2){let l=t.nodes[r[s]];if(!l||l.hasRequiredAttrs())break;i=We.from(l.create(r[s+1],i)),o++,a++}return new yt(i,o,a)}const $i={},Ai={},HG={touchstart:!0,touchmove:!0};class VG{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function WG(n){for(let e in $i){let t=$i[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{JG(n,r)&&!Ok(n,r)&&(n.editable||!(r.type in Ai))&&t(n,r)},HG[e]?{passive:!0}:void 0)}Mi&&n.dom.addEventListener("input",()=>null),G1(n)}function Js(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function UG(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function G1(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>Ok(n,r))})}function Ok(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function JG(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function GG(n,e){!Ok(n,e)&&$i[e.type]&&(n.editable||!(e.type in Ai))&&$i[e.type](n,e)}Ai.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!LD(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(Oa&&qi&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),Hc&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,hc(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||DG(n,t)?t.preventDefault():Js(n,"key")};Ai.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};Ai.keypress=(n,e)=>{let t=e;if(LD(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||go&&t.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof $n)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(t.charCode);n.someProp("handleTextInput",o=>o(n,r.$from.pos,r.$to.pos,i))||n.dispatch(n.state.tr.insertText(i).scrollIntoView()),t.preventDefault()}};function Cg(n){return{left:n.clientX,top:n.clientY}}function KG(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function Ek(n,e,t,r,i){if(r==-1)return!1;let o=n.state.doc.resolve(r);for(let a=o.depth+1;a>0;a--)if(n.someProp(e,s=>a>o.depth?s(n,t,o.nodeAfter,o.before(a),i,!0):s(n,t,o.node(a),o.before(a),i,!1)))return!0;return!1}function Ec(n,e,t){n.focused||n.focus();let r=n.state.tr.setSelection(e);t=="pointer"&&r.setMeta("pointer",!0),n.dispatch(r)}function QG(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&nn.isSelectable(r)?(Ec(n,new nn(t),"pointer"),!0):!1}function YG(n,e){if(e==-1)return!1;let t=n.state.selection,r,i;t instanceof nn&&(r=t.node);let o=n.state.doc.resolve(e);for(let a=o.depth+1;a>0;a--){let s=a>o.depth?o.nodeAfter:o.node(a);if(nn.isSelectable(s)){r&&t.$from.depth>0&&a>=t.$from.depth&&o.before(t.$from.depth+1)==t.$from.pos?i=o.before(t.$from.depth):i=o.before(a);break}}return i!=null?(Ec(n,nn.create(n.state.doc,i),"pointer"),!0):!1}function ZG(n,e,t,r,i){return Ek(n,"handleClickOn",e,t,r)||n.someProp("handleClick",o=>o(n,e,r))||(i?YG(n,t):QG(n,t))}function XG(n,e,t,r){return Ek(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",i=>i(n,e,r))}function eK(n,e,t,r){return Ek(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",i=>i(n,e,r))||tK(n,t,r)}function tK(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(Ec(n,$n.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let a=o>i.depth?i.nodeAfter:i.node(o),s=i.before(o);if(a.inlineContent)Ec(n,$n.create(r,s+1,s+1+a.content.size),"pointer");else if(nn.isSelectable(a))Ec(n,nn.create(r,s),"pointer");else continue;return!0}}function Mk(n){return Gv(n)}const PD=go?"metaKey":"ctrlKey";$i.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=Mk(n),i=Date.now(),o="singleClick";i-n.input.lastClick.time<500&&KG(t,n.input.lastClick)&&!t[PD]&&(n.input.lastClick.type=="singleClick"?o="doubleClick":n.input.lastClick.type=="doubleClick"&&(o="tripleClick")),n.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:o};let a=n.posAtCoords(Cg(t));!a||(o=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new nK(n,a,t,!!r)):(o=="doubleClick"?XG:eK)(n,a.pos,a.inside,t)?t.preventDefault():Js(n,"pointer"))};class nK{constructor(e,t,r,i){this.view=e,this.pos=t,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[PD],this.allowDefault=r.shiftKey;let o,a;if(t.inside>-1)o=e.state.doc.nodeAt(t.inside),a=t.inside;else{let c=e.state.doc.resolve(t.pos);o=c.parent,a=c.depth?c.before():0}const s=i?null:r.target,l=s?e.docView.nearestDesc(s,!0):null;this.target=l?l.dom:null;let{selection:u}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||u instanceof nn&&u.from<=a&&u.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ta&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Js(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ds(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Cg(e))),this.updateAllowDefault(e),this.allowDefault||!t?Js(this.view,"pointer"):ZG(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Mi&&this.mightDrag&&!this.mightDrag.node.isAtom||qi&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Ec(this.view,wn.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):Js(this.view,"pointer")}move(e){this.updateAllowDefault(e),Js(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}$i.touchstart=n=>{n.input.lastTouch=Date.now(),Mk(n),Js(n,"pointer")};$i.touchmove=n=>{n.input.lastTouch=Date.now(),Js(n,"pointer")};$i.contextmenu=n=>Mk(n);function LD(n,e){return n.composing?!0:Mi&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const rK=Oa?5e3:-1;Ai.compositionstart=Ai.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),Gv(n,!0),n.markCursor=null;else if(Gv(n),ta&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let a=o<0?i.lastChild:i.childNodes[o-1];if(!a)break;if(a.nodeType==3){n.domSelection().collapse(a,a.nodeValue.length);break}else i=a,o=-1}}n.input.composing=!0}DD(n,rK)};Ai.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,DD(n,20))};function DD(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>Gv(n),e))}function RD(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=iK());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function iK(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function Gv(n,e=!1){if(!(Oa&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),RD(n),e||n.docView&&n.docView.dirty){let t=Sk(n);return t&&!t.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(t)):n.updateState(n.state),!0}return!1}}function oK(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const Vc=Hi&&Zs<15||Hc&&aG<604;$i.copy=Ai.cut=(n,e)=>{let t=e,r=n.state.selection,i=t.type=="cut";if(r.empty)return;let o=Vc?null:t.clipboardData,a=r.content(),{dom:s,text:l}=ED(n,a);o?(t.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",l)):oK(n,s),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function aK(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function sK(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?K1(n,r.value,null,e):K1(n,r.textContent,r.innerHTML,e)},50)}function K1(n,e,t,r){let i=MD(n,e,t,n.input.shiftKey,n.state.selection.$from);if(n.someProp("handlePaste",s=>s(n,r,i||yt.empty)))return!0;if(!i)return!1;let o=aK(i),a=o?n.state.tr.replaceSelectionWith(o,n.input.shiftKey):n.state.tr.replaceSelection(i);return n.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Ai.paste=(n,e)=>{let t=e;if(n.composing&&!Oa)return;let r=Vc?null:t.clipboardData;r&&K1(n,r.getData("text/plain"),r.getData("text/html"),t)?t.preventDefault():sK(n,t)};class lK{constructor(e,t){this.slice=e,this.move=t}}const BD=go?"altKey":"ctrlKey";$i.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let i=n.state.selection,o=i.empty?null:n.posAtCoords(Cg(t));if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof nn?i.to-1:i.to))){if(r&&r.mightDrag)n.dispatch(n.state.tr.setSelection(nn.create(n.state.doc,r.mightDrag.pos)));else if(t.target&&t.target.nodeType==1){let u=n.docView.nearestDesc(t.target,!0);u&&u.node.type.spec.draggable&&u!=n.docView&&n.dispatch(n.state.tr.setSelection(nn.create(n.state.doc,u.posBefore)))}}let a=n.state.selection.content(),{dom:s,text:l}=ED(n,a);t.dataTransfer.clearData(),t.dataTransfer.setData(Vc?"Text":"text/html",s.innerHTML),t.dataTransfer.effectAllowed="copyMove",Vc||t.dataTransfer.setData("text/plain",l),n.dragging=new lK(a,!t[BD])};$i.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};Ai.dragover=Ai.dragenter=(n,e)=>e.preventDefault();Ai.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let i=n.posAtCoords(Cg(t));if(!i)return;let o=n.state.doc.resolve(i.pos),a=r&&r.slice;a?n.someProp("transformPasted",v=>{a=v(a,n)}):a=MD(n,t.dataTransfer.getData(Vc?"Text":"text/plain"),Vc?null:t.dataTransfer.getData("text/html"),!1,o);let s=!!(r&&!t[BD]);if(n.someProp("handleDrop",v=>v(n,t,a||yt.empty,s))){t.preventDefault();return}if(!a)return;t.preventDefault();let l=a?VJ(n.state.doc,o.pos,a):o.pos;l==null&&(l=o.pos);let u=n.state.tr;s&&u.deleteSelection();let c=u.mapping.map(l),f=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,d=u.doc;if(f?u.replaceRangeWith(c,c,a.content.firstChild):u.replaceRange(c,c,a),u.doc.eq(d))return;let h=u.doc.resolve(c);if(f&&nn.isSelectable(a.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(a.content.firstChild))u.setSelection(new nn(h));else{let v=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((p,m,g,y)=>v=y),u.setSelection(Tk(n,h,u.doc.resolve(v)))}n.focus(),n.dispatch(u.setMeta("uiEvent","drop"))};$i.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&ds(n)},20))};$i.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};$i.beforeinput=(n,e)=>{if(qi&&Oa&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",o=>o(n,hc(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in Ai)$i[n]=Ai[n];function Jd(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class $k{constructor(e,t){this.toDOM=e,this.spec=t||lu,this.side=this.spec.side||0}map(e,t,r,i){let{pos:o,deleted:a}=e.mapResult(t.from+i,this.side<0?-1:1);return a?null:new Fi(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof $k&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Jd(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Xs{constructor(e,t){this.attrs=e,this.spec=t||lu}map(e,t,r,i){let o=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-r,a=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=a?null:new Fi(o,a,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Xs&&Jd(this.attrs,e.attrs)&&Jd(this.spec,e.spec)}static is(e){return e.type instanceof Xs}destroy(){}}class Ak{constructor(e,t){this.attrs=e,this.spec=t||lu}map(e,t,r,i){let o=e.mapResult(t.from+i,1);if(o.deleted)return null;let a=e.mapResult(t.to+i,-1);return a.deleted||a.pos<=o.pos?null:new Fi(o.pos-r,a.pos-r,this)}valid(e,t){let{index:r,offset:i}=e.content.findIndex(t.from),o;return i==t.from&&!(o=e.child(r)).isText&&i+o.nodeSize==t.to}eq(e){return this==e||e instanceof Ak&&Jd(this.attrs,e.attrs)&&Jd(this.spec,e.spec)}destroy(){}}class Fi{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new Fi(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new Fi(e,e,new $k(t,r))}static inline(e,t,r,i){return new Fi(e,t,new Xs(r,i))}static node(e,t,r,i){return new Fi(e,t,new Ak(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Xs}}const ic=[],lu={};class Cr{constructor(e,t){this.local=e.length?e:ic,this.children=t.length?t:ic}static create(e,t){return t.length?Kv(t,e,0,lu):pi}find(e,t,r){let i=[];return this.findInner(e==null?0:e,t==null?1e9:t,i,0,r),i}findInner(e,t,r,i,o){for(let a=0;a<this.local.length;a++){let s=this.local[a];s.from<=t&&s.to>=e&&(!o||o(s.spec))&&r.push(s.copy(s.from+i,s.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<t&&this.children[a+1]>e){let s=this.children[a]+1;this.children[a+2].findInner(e-s,t-s,r,i+s,o)}}map(e,t,r){return this==pi||e.maps.length==0?this:this.mapInner(e,t,0,0,r||lu)}mapInner(e,t,r,i,o){let a;for(let s=0;s<this.local.length;s++){let l=this.local[s].map(e,r,i);l&&l.type.valid(t,l)?(a||(a=[])).push(l):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?uK(this.children,a||[],e,t,r,i,o):a?new Cr(a.sort(uu),ic):pi}add(e,t){return t.length?this==pi?Cr.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let i,o=0;e.forEach((s,l)=>{let u=l+r,c;if(!!(c=qD(t,s,u))){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(s,c,u+1):i.splice(o,0,l,l+s.nodeSize,Kv(c,s,u+1,lu)),o+=3}});let a=zD(o?FD(t):t,-r);for(let s=0;s<a.length;s++)a[s].type.valid(e,a[s])||a.splice(s--,1);return new Cr(a.length?this.local.concat(a).sort(uu):this.local,i||this.children)}remove(e){return e.length==0||this==pi?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let a,s=r[o]+t,l=r[o+1]+t;for(let c=0,f;c<e.length;c++)(f=e[c])&&f.from>s&&f.to<l&&(e[c]=null,(a||(a=[])).push(f));if(!a)continue;r==this.children&&(r=this.children.slice());let u=r[o+2].removeInner(a,s+1);u!=pi?r[o+2]=u:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,a;o<e.length;o++)if(a=e[o])for(let s=0;s<i.length;s++)i[s].eq(a,t)&&(i==this.local&&(i=this.local.slice()),i.splice(s--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Cr(i,r):pi}forChild(e,t){if(this==pi)return this;if(t.isLeaf)return Cr.empty;let r,i;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=e){this.children[s]==e&&(r=this.children[s+2]);break}let o=e+1,a=o+t.content.size;for(let s=0;s<this.local.length;s++){let l=this.local[s];if(l.from<a&&l.to>o&&l.type instanceof Xs){let u=Math.max(o,l.from)-o,c=Math.min(a,l.to)-o;u<c&&(i||(i=[])).push(l.copy(u,c))}}if(i){let s=new Cr(i.sort(uu),ic);return r?new qs([s,r]):s}return r||pi}eq(e){if(this==e)return!0;if(!(e instanceof Cr)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return _k(this.localsInner(e))}localsInner(e){if(this==pi)return ic;if(e.inlineContent||!this.local.some(Xs.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Xs||t.push(this.local[r]);return t}}Cr.empty=new Cr([],[]);Cr.removeOverlap=_k;const pi=Cr.empty;class qs{constructor(e){this.members=e}map(e,t){const r=this.members.map(i=>i.map(e,t,lu));return qs.from(r)}forChild(e,t){if(t.isLeaf)return Cr.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,t);o!=pi&&(o instanceof qs?r=r.concat(o.members):r.push(o))}return qs.from(r)}eq(e){if(!(e instanceof qs)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(!!o.length)if(!t)t=o;else{r&&(t=t.slice(),r=!1);for(let a=0;a<o.length;a++)t.push(o[a])}}return t?_k(r?t:t.sort(uu)):ic}static from(e){switch(e.length){case 0:return pi;case 1:return e[0];default:return new qs(e.every(t=>t instanceof Cr)?e:e.reduce((t,r)=>t.concat(r instanceof Cr?r:r.members),[]))}}}function uK(n,e,t,r,i,o,a){let s=n.slice();for(let u=0,c=o;u<t.maps.length;u++){let f=0;t.maps[u].forEach((d,h,v,p)=>{let m=p-v-(h-d);for(let g=0;g<s.length;g+=3){let y=s[g+1];if(y<0||d>y+c-f)continue;let b=s[g]+c-f;h>=b?s[g+1]=d<=b?-2:-1:v>=i&&m&&(s[g]+=m,s[g+1]+=m)}f+=m}),c=t.maps[u].map(c,-1)}let l=!1;for(let u=0;u<s.length;u+=3)if(s[u+1]<0){if(s[u+1]==-2){l=!0,s[u+1]=-1;continue}let c=t.map(n[u]+o),f=c-i;if(f<0||f>=r.content.size){l=!0;continue}let d=t.map(n[u+1]+o,-1),h=d-i,{index:v,offset:p}=r.content.findIndex(f),m=r.maybeChild(v);if(m&&p==f&&p+m.nodeSize==h){let g=s[u+2].mapInner(t,m,c+1,n[u]+o+1,a);g!=pi?(s[u]=f,s[u+1]=h,s[u+2]=g):(s[u+1]=-2,l=!0)}else l=!0}if(l){let u=cK(s,n,e,t,i,o,a),c=Kv(u,r,0,a);e=c.local;for(let f=0;f<s.length;f+=3)s[f+1]<0&&(s.splice(f,3),f-=3);for(let f=0,d=0;f<c.children.length;f+=3){let h=c.children[f];for(;d<s.length&&s[d]<h;)d+=3;s.splice(d,0,c.children[f],c.children[f+1],c.children[f+2])}}return new Cr(e.sort(uu),s)}function zD(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let i=n[r];t.push(new Fi(i.from+e,i.to+e,i.type))}return t}function cK(n,e,t,r,i,o,a){function s(l,u){for(let c=0;c<l.local.length;c++){let f=l.local[c].map(r,i,u);f?t.push(f):a.onRemove&&a.onRemove(l.local[c].spec)}for(let c=0;c<l.children.length;c+=3)s(l.children[c+2],l.children[c]+u+1)}for(let l=0;l<n.length;l+=3)n[l+1]==-1&&s(n[l+2],e[l]+o+1);return t}function qD(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,i=null;for(let o=0,a;o<n.length;o++)(a=n[o])&&a.from>t&&a.to<r&&((i||(i=[])).push(a),n[o]=null);return i}function FD(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function Kv(n,e,t,r){let i=[],o=!1;e.forEach((s,l)=>{let u=qD(n,s,l+t);if(u){o=!0;let c=Kv(u,s,t+l+1,r);c!=pi&&i.push(l,l+s.nodeSize,c)}});let a=zD(o?FD(n):n,-t).sort(uu);for(let s=0;s<a.length;s++)a[s].type.valid(e,a[s])||(r.onRemove&&r.onRemove(a[s].spec),a.splice(s--,1));return a.length||i.length?new Cr(a,i):pi}function uu(n,e){return n.from-e.from||n.to-e.to}function _k(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let i=t+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==n&&(e=n.slice()),e[i]=o.copy(o.from,r.to),FC(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,o.from),FC(e,i,r.copy(o.from,r.to)));break}}}return e}function FC(n,e,t){for(;e<n.length&&uu(t,n[e])>0;)e++;n.splice(e,0,t)}function ey(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=pi&&e.push(r)}),n.cursorWrapper&&e.push(Cr.create(n.state.doc,[n.cursorWrapper.deco])),qs.from(e)}const fK={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},dK=Hi&&Zs<=11;class hK{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class pK{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new hK,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Hi&&Zs<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),dK&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,fK)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(!!PC(this.view)){if(this.suppressingSelectionUpdates)return ds(this.view);if(Hi&&Zs<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&pu(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let o=e.focusNode;o;o=Ud(o))t.add(o);for(let o=e.anchorNode;o;o=Ud(o))if(t.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&PC(e)&&!this.ignoreSelectionChange(r),o=-1,a=-1,s=!1,l=[];if(e.editable)for(let c=0;c<t.length;c++){let f=this.registerMutation(t[c],l);f&&(o=o<0?f.from:Math.min(f.from,o),a=a<0?f.to:Math.max(f.to,a),f.typeOver&&(s=!0))}if(ta&&l.length>1){let c=l.filter(f=>f.nodeName=="BR");if(c.length==2){let f=c[0],d=c[1];f.parentNode&&f.parentNode.parentNode==d.parentNode?d.remove():f.remove()}}let u=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&e.input.lastTouch<Date.now()-300&&kg(r)&&(u=Sk(e))&&u.eq(wn.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ds(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,a),vK(e)),this.handleDOMChange(o,a,s,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||ds(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++)t.push(e.addedNodes[c]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(Hi&&Zs<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:f,nextSibling:d}=e.addedNodes[c];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f),(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(o=d)}let a=i&&i.parentNode==e.target?Qi(i)+1:0,s=r.localPosFromDOM(e.target,a,-1),l=o&&o.parentNode==e.target?Qi(o):e.target.childNodes.length,u=r.localPosFromDOM(e.target,l,1);return{from:s,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let HC=new WeakMap,VC=!1;function vK(n){if(!HC.has(n)&&(HC.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=ta,VC)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),VC=!0}}function mK(n){let e;function t(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}n.dom.addEventListener("beforeinput",t,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",t,!0);let r=e.startContainer,i=e.startOffset,o=e.endContainer,a=e.endOffset,s=n.domAtPos(n.state.selection.anchor);return pu(s.node,s.offset,o,a)&&([r,i,o,a]=[o,a,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:a}}function gK(n,e,t){let{node:r,fromOffset:i,toOffset:o,from:a,to:s}=n.docView.parseRange(e,t),l=n.domSelectionRange(),u,c=l.anchorNode;if(c&&n.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:l.anchorOffset}],kg(l)||u.push({node:l.focusNode,offset:l.focusOffset})),qi&&n.input.lastKeyCode===8)for(let m=o;m>i;m--){let g=r.childNodes[m-1],y=g.pmViewDesc;if(g.nodeName=="BR"&&!y){o=m;break}if(!y||y.size)break}let f=n.state.doc,d=n.someProp("domParser")||hu.fromSchema(n.state.schema),h=f.resolve(a),v=null,p=d.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:o,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:yK,context:h});if(u&&u[0].pos!=null){let m=u[0].pos,g=u[1]&&u[1].pos;g==null&&(g=m),v={anchor:m+a,head:g+a}}return{doc:p,sel:v,from:a,to:s}}function yK(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(Mi&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||Mi&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}function bK(n,e,t,r,i){if(e<0){let T=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,M=Sk(n,T);if(M&&!n.state.selection.eq(M)){let B=n.state.tr.setSelection(M);T=="pointer"?B.setMeta("pointer",!0):T=="key"&&B.scrollIntoView(),n.dispatch(B)}return}let o=n.state.doc.resolve(e),a=o.sharedDepth(t);e=o.before(a+1),t=n.state.doc.resolve(t).after(a+1);let s=n.state.selection,l=gK(n,e,t),u=n.state.doc,c=u.slice(l.from,l.to),f,d;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(f=n.state.selection.to,d="end"):(f=n.state.selection.from,d="start"),n.input.lastKeyCode=null;let h=xK(c.content,l.doc.content,l.from,f,d);if((Hc&&n.input.lastIOSEnter>Date.now()-225||Oa)&&i.some(T=>T.nodeName=="DIV"||T.nodeName=="P"||T.nodeName=="LI")&&(!h||h.endA>=h.endB)&&n.someProp("handleKeyDown",T=>T(n,hc(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!h)if(r&&s instanceof $n&&!s.empty&&s.$head.sameParent(s.$anchor)&&!n.composing&&!(l.sel&&l.sel.anchor!=l.sel.head))h={start:s.from,endA:s.to,endB:s.to};else{if(l.sel){let T=WC(n,n.state.doc,l.sel);T&&!T.eq(n.state.selection)&&n.dispatch(n.state.tr.setSelection(T))}return}if(qi&&n.cursorWrapper&&l.sel&&l.sel.anchor==n.cursorWrapper.deco.from&&l.sel.head==l.sel.anchor){let T=h.endB-h.start;l.sel={anchor:l.sel.anchor+T,head:l.sel.anchor+T}}n.input.domChangeCount++,n.state.selection.from<n.state.selection.to&&h.start==h.endB&&n.state.selection instanceof $n&&(h.start>n.state.selection.from&&h.start<=n.state.selection.from+2&&n.state.selection.from>=l.from?h.start=n.state.selection.from:h.endA<n.state.selection.to&&h.endA>=n.state.selection.to-2&&n.state.selection.to<=l.to&&(h.endB+=n.state.selection.to-h.endA,h.endA=n.state.selection.to)),Hi&&Zs<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>l.from&&l.doc.textBetween(h.start-l.from-1,h.start-l.from+1)==" \xA0"&&(h.start--,h.endA--,h.endB--);let v=l.doc.resolveNoCache(h.start-l.from),p=l.doc.resolveNoCache(h.endB-l.from),m=u.resolve(h.start),g=v.sameParent(p)&&v.parent.inlineContent&&m.end()>=h.endA,y;if((Hc&&n.input.lastIOSEnter>Date.now()-225&&(!g||i.some(T=>T.nodeName=="DIV"||T.nodeName=="P"))||!g&&v.pos<l.doc.content.size&&(y=wn.findFrom(l.doc.resolve(v.pos+1),1,!0))&&y.head==p.pos)&&n.someProp("handleKeyDown",T=>T(n,hc(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>h.start&&kK(u,h.start,h.endA,v,p)&&n.someProp("handleKeyDown",T=>T(n,hc(8,"Backspace")))){Oa&&qi&&n.domObserver.suppressSelectionUpdates();return}qi&&Oa&&h.endB==h.start&&(n.input.lastAndroidDelete=Date.now()),Oa&&!g&&v.start()!=p.start()&&p.parentOffset==0&&v.depth==p.depth&&l.sel&&l.sel.anchor==l.sel.head&&l.sel.head==h.endA&&(h.endB-=2,p=l.doc.resolveNoCache(h.endB-l.from),setTimeout(()=>{n.someProp("handleKeyDown",function(T){return T(n,hc(13,"Enter"))})},20));let b=h.start,w=h.endA,k,x,C;if(g){if(v.pos==p.pos)Hi&&Zs<=11&&v.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>ds(n),20)),k=n.state.tr.delete(b,w),x=u.resolve(h.start).marksAcross(u.resolve(h.endA));else if(h.endA==h.endB&&(C=wK(v.parent.content.cut(v.parentOffset,p.parentOffset),m.parent.content.cut(m.parentOffset,h.endA-m.start()))))k=n.state.tr,C.type=="add"?k.addMark(b,w,C.mark):k.removeMark(b,w,C.mark);else if(v.parent.child(v.index()).isText&&v.index()==p.index()-(p.textOffset?0:1)){let T=v.parent.textBetween(v.parentOffset,p.parentOffset);if(n.someProp("handleTextInput",M=>M(n,b,w,T)))return;k=n.state.tr.insertText(T,b,w)}}if(k||(k=n.state.tr.replace(b,w,l.doc.slice(h.start-l.from,h.endB-l.from))),l.sel){let T=WC(n,k.doc,l.sel);T&&!(qi&&Oa&&n.composing&&T.empty&&(h.start!=h.endB||n.input.lastAndroidDelete<Date.now()-100)&&(T.head==b||T.head==k.mapping.map(w)-1)||Hi&&T.empty&&T.head==b)&&k.setSelection(T)}x&&k.ensureMarks(x),n.dispatch(k.scrollIntoView())}function WC(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:Tk(n,e.resolve(t.anchor),e.resolve(t.head))}function wK(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,i=t,o=r,a,s,l;for(let c=0;c<r.length;c++)i=r[c].removeFromSet(i);for(let c=0;c<t.length;c++)o=t[c].removeFromSet(o);if(i.length==1&&o.length==0)s=i[0],a="add",l=c=>c.mark(s.addToSet(c.marks));else if(i.length==0&&o.length==1)s=o[0],a="remove",l=c=>c.mark(s.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(l(e.child(c)));if(We.from(u).eq(n))return{mark:s,type:a}}function kK(n,e,t,r,i){if(!r.parent.isTextblock||t-e<=i.pos-r.pos||ty(r,!0,!1)<i.pos)return!1;let o=n.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let a=n.resolve(ty(o,!0,!0));return!a.parent.isTextblock||a.pos>t||ty(a,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function ty(n,e,t){let r=n.depth,i=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,i++,e=!1;if(t){let o=n.node(r).maybeChild(n.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function xK(n,e,t,r,i){let o=n.findDiffStart(e,t);if(o==null)return null;let{a,b:s}=n.findDiffEnd(e,t+n.size,t+e.size);if(i=="end"){let l=Math.max(0,o-Math.min(a,s));r-=a+l-o}return a<o&&n.size<e.size?(o-=r<=o&&r>=a?o-r:0,s=o+(s-a),a=o):s<o&&(o-=r<=o&&r>=s?o-r:0,a=o+(a-s),s=o),{start:o,endA:a,endB:s}}class Nk{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new VG,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(QC),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=GC(this),JC(this),this.nodeViews=KC(this),this.docView=MC(this.state.doc,UC(this),ey(this),this.dom,this),this.domObserver=new pK(this,(r,i,o,a)=>bK(this,r,i,o,a)),this.domObserver.start(),WG(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&G1(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(QC),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){let r=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(RD(this),o=!0),this.state=e;let a=r.plugins!=e.plugins||this._props.plugins!=t.plugins;if(a||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let d=KC(this);CK(d,this.nodeViews)&&(this.nodeViews=d,i=!0)}(a||t.handleDOMEvents!=this._props.handleDOMEvents)&&G1(this),this.editable=GC(this),JC(this);let s=ey(this),l=UC(this),u=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",c=i||!this.docView.matchesNode(e.doc,l,s);(c||!e.selection.eq(r.selection))&&(o=!0);let f=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&uG(this);if(o){this.domObserver.stop();let d=c&&(Hi||qi)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&jK(r.selection,e.selection);if(c){let h=qi?this.trackWrites=this.domSelectionRange().focusNode:null;(i||!this.docView.update(e.doc,l,s,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=MC(e.doc,l,s,this.dom,this)),h&&!this.trackWrites&&(d=!0)}d||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&IG(this))?ds(this,d):(SD(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&cG(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof nn){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&CC(this,t.getBoundingClientRect(),e)}else CC(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}someProp(e,t){let r=this._props&&this._props[e],i;if(r!=null&&(i=t?t(r):r))return i;for(let a=0;a<this.directPlugins.length;a++){let s=this.directPlugins[a].props[e];if(s!=null&&(i=t?t(s):s))return i}let o=this.state.plugins;if(o)for(let a=0;a<o.length;a++){let s=o[a].props[e];if(s!=null&&(i=t?t(s):s))return i}}hasFocus(){if(Hi){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&fG(this.dom),ds(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}posAtCoords(e){return mG(this,e)}coordsAtPos(e,t=1){return gD(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let i=this.docView.posFromDOM(e,t,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return kG(this,t||this.state,e)}destroy(){!this.docView||(UG(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],ey(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return GG(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return Mi&&this.root.nodeType===11&&iG(this.dom.ownerDocument)==this.dom?mK(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function UC(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),e.translate="no",n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"&&(e.class+=" "+t[r]),r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),[Fi.node(0,n.state.doc.content.size,e)]}function JC(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:Fi.widget(n.state.selection.head,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function GC(n){return!n.someProp("editable",e=>e(n.state)===!1)}function jK(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function KC(n){let e=Object.create(null);function t(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function CK(n,e){let t=0,r=0;for(let i in n){if(n[i]!=e[i])return!0;t++}for(let i in e)r++;return t!=r}function QC(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var sl={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Qv={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},YC=typeof navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent);typeof navigator!="undefined"&&/Gecko\/\d+/.test(navigator.userAgent);var SK=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),TK=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),OK=SK||YC&&+YC[1]<57;for(var ii=0;ii<10;ii++)sl[48+ii]=sl[96+ii]=String(ii);for(var ii=1;ii<=24;ii++)sl[ii+111]="F"+ii;for(var ii=65;ii<=90;ii++)sl[ii]=String.fromCharCode(ii+32),Qv[ii]=String.fromCharCode(ii);for(var ny in sl)Qv.hasOwnProperty(ny)||(Qv[ny]=sl[ny]);function EK(n){var e=OK&&(n.ctrlKey||n.altKey||n.metaKey)||TK&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?Qv:sl)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const MK=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function $K(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,i,o,a;for(let s=0;s<e.length-1;s++){let l=e[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))MK?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(t="Alt-"+t),i&&(t="Ctrl-"+t),a&&(t="Meta-"+t),o&&(t="Shift-"+t),t}function AK(n){let e=Object.create(null);for(let t in n)e[$K(t)]=n[t];return e}function ry(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}function Gd(n){return new Gi({props:{handleKeyDown:_K(n)}})}function _K(n){let e=AK(n);return function(t,r){let i=EK(r),o=i.length==1&&i!=" ",a,s=e[ry(i,r,!o)];if(s&&s(t.state,t.dispatch,t))return!0;if(o&&(r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(a=sl[r.keyCode])&&a!=i){let l=e[ry(a,r,!0)];if(l&&l(t.state,t.dispatch,t))return!0}else if(o&&r.shiftKey){let l=e[ry(i,r,!0)];if(l&&l(t.state,t.dispatch,t))return!0}return!1}}const Ik=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function NK(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const IK=(n,e,t)=>{let r=NK(n,t);if(!r)return!1;let i=HD(r);if(!i){let a=r.blockRange(),s=a&&bg(a);return s==null?!1:(e&&e(n.tr.lift(a,s).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&GD(n,i,e))return!0;if(r.parent.content.size==0&&(Wc(o,"end")||nn.isSelectable(o))){let a=xk(n.doc,r.before(),r.after(),yt.empty);if(a&&a.slice.size<a.to-a.from){if(e){let s=n.tr.step(a);s.setSelection(Wc(o,"end")?wn.findFrom(s.doc.resolve(s.mapping.map(i.pos,-1)),-1):nn.create(s.doc,i.pos-o.nodeSize)),e(s.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1};function Wc(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const PK=(n,e,t)=>{let{$head:r,empty:i}=n.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;o=HD(r)}let a=o&&o.nodeBefore;return!a||!nn.isSelectable(a)?!1:(e&&e(n.tr.setSelection(nn.create(n.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)};function HD(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function LK(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const VD=(n,e,t)=>{let r=LK(n,t);if(!r)return!1;let i=WD(r);if(!i)return!1;let o=i.nodeAfter;if(GD(n,i,e))return!0;if(r.parent.content.size==0&&(Wc(o,"start")||nn.isSelectable(o))){let a=xk(n.doc,r.before(),r.after(),yt.empty);if(a&&a.slice.size<a.to-a.from){if(e){let s=n.tr.step(a);s.setSelection(Wc(o,"start")?wn.findFrom(s.doc.resolve(s.mapping.map(i.pos)),1):nn.create(s.doc,s.mapping.map(i.pos))),e(s.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},DK=(n,e,t)=>{let{$head:r,empty:i}=n.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;o=WD(r)}let a=o&&o.nodeAfter;return!a||!nn.isSelectable(a)?!1:(e&&e(n.tr.setSelection(nn.create(n.doc,o.pos)).scrollIntoView()),!0)};function WD(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const UD=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function Pk(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const Lk=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let i=t.node(-1),o=t.indexAfter(-1),a=Pk(i.contentMatchAt(o));if(!a||!i.canReplaceWith(o,o,a))return!1;if(e){let s=t.after(),l=n.tr.replaceWith(s,s,a.createAndFill());l.setSelection(wn.near(l.doc.resolve(s),1)),e(l.scrollIntoView())}return!0},RK=(n,e)=>{let t=n.selection,{$from:r,$to:i}=t;if(t instanceof Ei||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=Pk(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let a=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,s=n.tr.insert(a,o.createAndFill());s.setSelection($n.create(s.doc,a+1)),e(s.scrollIntoView())}return!0},BK=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let o=t.before();if(Tc(n.doc,o))return e&&e(n.tr.split(o).scrollIntoView()),!0}let r=t.blockRange(),i=r&&bg(r);return i==null?!1:(e&&e(n.tr.lift(r,i).scrollIntoView()),!0)};function zK(n){return(e,t)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof nn&&e.selection.node.isBlock)return!r.parentOffset||!Tc(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(t){let o=i.parentOffset==i.parent.content.size,a=e.tr;(e.selection instanceof $n||e.selection instanceof Ei)&&a.deleteSelection();let s=r.depth==0?null:Pk(r.node(-1).contentMatchAt(r.indexAfter(-1))),l=n&&n(i.parent,o),u=l?[l]:o&&s?[{type:s}]:void 0,c=Tc(a.doc,a.mapping.map(r.pos),1,u);if(!u&&!c&&Tc(a.doc,a.mapping.map(r.pos),1,s?[{type:s}]:void 0)&&(s&&(u=[{type:s}]),c=!0),c&&(a.split(a.mapping.map(r.pos),1,u),!o&&!r.parentOffset&&r.parent.type!=s)){let f=a.mapping.map(r.before()),d=a.doc.resolve(f);s&&r.node(-1).canReplaceWith(d.index(),d.index()+1,s)&&a.setNodeMarkup(a.mapping.map(r.before()),s)}t(a.scrollIntoView())}return!0}}const qK=zK(),JD=(n,e)=>(e&&e(n.tr.setSelection(new Ei(n.doc))),!0);function FK(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||iD(n.doc,e.pos))?!1:(t&&t(n.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function GD(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,o,a;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(FK(n,e,t))return!0;let s=e.parent.canReplace(e.index(),e.index()+1);if(s&&(o=(a=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&a.matchType(o[0]||i.type).validEnd){if(t){let f=e.pos+i.nodeSize,d=We.empty;for(let p=o.length-1;p>=0;p--)d=We.from(o[p].create(null,d));d=We.from(r.copy(d));let h=n.tr.step(new Jr(e.pos-1,f,e.pos,f,new yt(d,1,0),o.length,!0)),v=f+2*o.length;iD(h.doc,v)&&h.join(v),t(h.scrollIntoView())}return!0}let l=wn.findFrom(e,1),u=l&&l.$from.blockRange(l.$to),c=u&&bg(u);if(c!=null&&c>=e.depth)return t&&t(n.tr.lift(u,c).scrollIntoView()),!0;if(s&&Wc(i,"start",!0)&&Wc(r,"end")){let f=r,d=[];for(;d.push(f),!f.isTextblock;)f=f.lastChild;let h=i,v=1;for(;!h.isTextblock;h=h.firstChild)v++;if(f.canReplace(f.childCount,f.childCount,h.content)){if(t){let p=We.empty;for(let g=d.length-1;g>=0;g--)p=We.from(d[g].copy(p));let m=n.tr.step(new Jr(e.pos-d.length,e.pos+i.nodeSize,e.pos+v,e.pos+i.nodeSize-v,new yt(p,d.length,0),0,!0));t(m.scrollIntoView())}return!0}}return!1}function KD(n){return function(e,t){let r=e.selection,i=n<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(t&&t(e.tr.setSelection($n.create(e.doc,n<0?i.start(o):i.end(o)))),!0):!1}}const HK=KD(-1),VK=KD(1);function WK(n,e=null){return function(t,r){let{$from:i,$to:o}=t.selection,a=i.blockRange(o),s=a&&NJ(a,n,e);return s?(r&&r(t.tr.wrap(a,s).scrollIntoView()),!0):!1}}function Dk(n,e=null){return function(t,r){let i=!1;for(let o=0;o<t.selection.ranges.length&&!i;o++){let{$from:{pos:a},$to:{pos:s}}=t.selection.ranges[o];t.doc.nodesBetween(a,s,(l,u)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(n,e)))if(l.type==n)i=!0;else{let c=t.doc.resolve(u),f=c.index();i=c.parent.canReplaceWith(f,f+1,n)}})}if(!i)return!1;if(r){let o=t.tr;for(let a=0;a<t.selection.ranges.length;a++){let{$from:{pos:s},$to:{pos:l}}=t.selection.ranges[a];o.setBlockType(s,l,n,e)}r(o.scrollIntoView())}return!0}}function UK(n,e,t){for(let r=0;r<e.length;r++){let{$from:i,$to:o}=e[r],a=i.depth==0?n.inlineContent&&n.type.allowsMarkType(t):!1;if(n.nodesBetween(i.pos,o.pos,s=>{if(a)return!1;a=s.inlineContent&&s.type.allowsMarkType(t)}),a)return!0}return!1}function Mh(n,e=null){return function(t,r){let{empty:i,$cursor:o,ranges:a}=t.selection;if(i&&!o||!UK(t.doc,a,n))return!1;if(r)if(o)n.isInSet(t.storedMarks||o.marks())?r(t.tr.removeStoredMark(n)):r(t.tr.addStoredMark(n.create(e)));else{let s=!1,l=t.tr;for(let u=0;!s&&u<a.length;u++){let{$from:c,$to:f}=a[u];s=t.doc.rangeHasMark(c.pos,f.pos,n)}for(let u=0;u<a.length;u++){let{$from:c,$to:f}=a[u];if(s)l.removeMark(c.pos,f.pos,n);else{let d=c.pos,h=f.pos,v=c.nodeAfter,p=f.nodeBefore,m=v&&v.isText?/^\s*/.exec(v.text)[0].length:0,g=p&&p.isText?/\s*$/.exec(p.text)[0].length:0;d+m<h&&(d+=m,h-=g),l.addMark(d,h,n.create(e))}}r(l.scrollIntoView())}return!0}}function Sg(...n){return function(e,t,r){for(let i=0;i<n.length;i++)if(n[i](e,t,r))return!0;return!1}}let iy=Sg(Ik,IK,PK),ZC=Sg(Ik,VD,DK);const ts={Enter:Sg(UD,RK,BK,qK),"Mod-Enter":Lk,Backspace:iy,"Mod-Backspace":iy,"Shift-Backspace":iy,Delete:ZC,"Mod-Delete":ZC,"Mod-a":JD},QD={"Ctrl-h":ts.Backspace,"Alt-Backspace":ts["Mod-Backspace"],"Ctrl-d":ts.Delete,"Ctrl-Alt-Backspace":ts["Mod-Delete"],"Alt-Delete":ts["Mod-Delete"],"Alt-d":ts["Mod-Delete"],"Ctrl-a":HK,"Ctrl-e":VK};for(let n in ts)QD[n]=ts[n];const JK=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os!="undefined"&&os.platform?os.platform()=="darwin":!1,XC=JK?QD:ts;class bl{constructor(e,t){this.match=e,this.match=e,this.handler=typeof t=="string"?GK(t):t}}function GK(n){return function(e,t,r,i){let o=n;if(t[1]){let a=t[0].lastIndexOf(t[1]);o+=t[0].slice(a+t[1].length),r+=a;let s=r-i;s>0&&(o=t[0].slice(a-s,a)+o,r=i)}return e.tr.insertText(o,r,i)}}const KK=500;function YD({rules:n}){let e=new Gi({state:{init(){return null},apply(t,r){let i=t.getMeta(this);return i||(t.selectionSet||t.docChanged?null:r)}},props:{handleTextInput(t,r,i,o){return eS(t,r,i,o,n,e)},handleDOMEvents:{compositionend:t=>{setTimeout(()=>{let{$cursor:r}=t.state.selection;r&&eS(t,r.pos,r.pos,"",n,e)})}}},isInputRules:!0});return e}function eS(n,e,t,r,i,o){if(n.composing)return!1;let a=n.state,s=a.doc.resolve(e);if(s.parent.type.spec.code)return!1;let l=s.parent.textBetween(Math.max(0,s.parentOffset-KK),s.parentOffset,null,"\uFFFC")+r;for(let u=0;u<i.length;u++){let c=i[u].match.exec(l),f=c&&i[u].handler(a,c,e-(c[0].length-r.length),t);if(!!f)return n.dispatch(f.setMeta(o,{transform:f,from:e,to:t,text:r})),!0}return!1}const QK=(n,e)=>{let t=n.plugins;for(let r=0;r<t.length;r++){let i=t[r],o;if(i.spec.isInputRules&&(o=i.getState(n))){if(e){let a=n.tr,s=o.transform;for(let l=s.steps.length-1;l>=0;l--)a.step(s.steps[l].invert(s.docs[l]));if(o.text){let l=a.doc.resolve(o.from).marks();a.replaceWith(o.from,o.to,n.schema.text(o.text,l))}else a.delete(o.from,o.to);e(a)}return!0}}return!1};new bl(/--$/,"\u2014");new bl(/\.\.\.$/,"\u2026");new bl(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201C");new bl(/"$/,"\u201D");new bl(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018");new bl(/'$/,"\u2019");var Yv=200,li=function(){};li.prototype.append=function(e){return e.length?(e=li.from(e),!this.length&&e||e.length<Yv&&this.leafAppend(e)||this.length<Yv&&e.leafPrepend(this)||this.appendInner(e)):this};li.prototype.prepend=function(e){return e.length?li.from(e).append(this):this};li.prototype.appendInner=function(e){return new YK(this,e)};li.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?li.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};li.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};li.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};li.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,a){return i.push(e(o,a))},t,r),i};li.from=function(e){return e instanceof li?e:e&&e.length?new ZD(e):li.empty};var ZD=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,a,s){for(var l=o;l<a;l++)if(i(this.values[l],s+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,a,s){for(var l=o-1;l>=a;l--)if(i(this.values[l],s+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Yv)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Yv)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(li);li.empty=new ZD([]);var YK=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,a){var s=this.left.length;if(i<s&&this.left.forEachInner(r,i,Math.min(o,s),a)===!1||o>s&&this.right.forEachInner(r,Math.max(i-s,0),Math.min(this.length,o)-s,a+s)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,a){var s=this.left.length;if(i>s&&this.right.forEachInvertedInner(r,i-s,Math.max(o,s)-s,a+s)===!1||o<s&&this.left.forEachInvertedInner(r,Math.min(i,s),o,a)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(li),XD=li;const ZK=500;class Bo{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;t&&(i=this.remapping(r,this.items.length),o=i.maps.length);let a=e.tr,s,l,u=[],c=[];return this.items.forEach((f,d)=>{if(!f.step){i||(i=this.remapping(r,d+1),o=i.maps.length),o--,c.push(f);return}if(i){c.push(new ka(f.map));let h=f.step.map(i.slice(o)),v;h&&a.maybeStep(h).doc&&(v=a.mapping.maps[a.mapping.maps.length-1],u.push(new ka(v,void 0,void 0,u.length+c.length))),o--,v&&i.appendMap(v,o)}else a.maybeStep(f.step);if(f.selection)return s=i?f.selection.map(i.slice(o)):f.selection,l=new Bo(this.items.slice(0,r).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:a,selection:s}}addTransform(e,t,r,i){let o=[],a=this.eventCount,s=this.items,l=!i&&s.length?s.get(s.length-1):null;for(let c=0;c<e.steps.length;c++){let f=e.steps[c].invert(e.docs[c]),d=new ka(e.mapping.maps[c],f,t),h;(h=l&&l.merge(d))&&(d=h,c?o.pop():s=s.slice(0,s.length-1)),o.push(d),t&&(a++,t=void 0),i||(l=d)}let u=a-r.depth;return u>eQ&&(s=XK(s,u),a-=u),new Bo(s.append(o),a)}remapping(e,t){let r=new Sc;return this.items.forEach((i,o)=>{let a=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,a)},e,t),r}addMaps(e){return this.eventCount==0?this:new Bo(this.items.append(e.map(t=>new ka(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-t),o=e.mapping,a=e.steps.length,s=this.eventCount;this.items.forEach(d=>{d.selection&&s--},i);let l=t;this.items.forEach(d=>{let h=o.getMirror(--l);if(h==null)return;a=Math.min(a,h);let v=o.maps[h];if(d.step){let p=e.steps[h].invert(e.docs[h]),m=d.selection&&d.selection.map(o.slice(l+1,h));m&&s++,r.push(new ka(v,p,m))}else r.push(new ka(v))},i);let u=[];for(let d=t;d<a;d++)u.push(new ka(o.maps[d]));let c=this.items.slice(0,i).append(u).append(r),f=new Bo(c,s);return f.emptyItemCount()>ZK&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,i=[],o=0;return this.items.forEach((a,s)=>{if(s>=e)i.push(a),a.selection&&o++;else if(a.step){let l=a.step.map(t.slice(r)),u=l&&l.getMap();if(r--,u&&t.appendMap(u,r),l){let c=a.selection&&a.selection.map(t.slice(r));c&&o++;let f=new ka(u.invert(),l,c),d,h=i.length-1;(d=i.length&&i[h].merge(f))?i[h]=d:i.push(f)}}else a.map&&r--},this.items.length,0),new Bo(XD.from(i.reverse()),o)}}Bo.empty=new Bo(XD.empty,0);function XK(n,e){let t;return n.forEach((r,i)=>{if(r.selection&&e--==0)return t=i,!1}),n.slice(t)}class ka{constructor(e,t,r,i){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new ka(t.getMap().invert(),t,this.selection)}}}class Ds{constructor(e,t,r,i){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=i}}const eQ=20;function tQ(n,e,t,r){let i=t.getMeta(hs),o;if(i)return i.historyState;t.getMeta(rQ)&&(n=new Ds(n.done,n.undone,null,0));let a=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(a&&a.getMeta(hs))return a.getMeta(hs).redo?new Ds(n.done.addTransform(t,void 0,r,uv(e)),n.undone,tS(t.mapping.maps[t.steps.length-1]),n.prevTime):new Ds(n.done,n.undone.addTransform(t,void 0,r,uv(e)),null,n.prevTime);if(t.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let s=n.prevTime==0||!a&&(n.prevTime<(t.time||0)-r.newGroupDelay||!nQ(t,n.prevRanges)),l=a?oy(n.prevRanges,t.mapping):tS(t.mapping.maps[t.steps.length-1]);return new Ds(n.done.addTransform(t,s?e.selection.getBookmark():void 0,r,uv(e)),Bo.empty,l,t.time)}else return(o=t.getMeta("rebased"))?new Ds(n.done.rebased(t,o),n.undone.rebased(t,o),oy(n.prevRanges,t.mapping),n.prevTime):new Ds(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),oy(n.prevRanges,t.mapping),n.prevTime)}function nQ(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(t=!0)}),t}function tS(n){let e=[];return n.forEach((t,r,i,o)=>e.push(i,o)),e}function oy(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let i=e.map(n[r],1),o=e.map(n[r+1],-1);i<=o&&t.push(i,o)}return t}function eR(n,e,t,r){let i=uv(e),o=hs.get(e).spec.config,a=(r?n.undone:n.done).popEvent(e,i);if(!a)return;let s=a.selection.resolve(a.transform.doc),l=(r?n.done:n.undone).addTransform(a.transform,e.selection.getBookmark(),o,i),u=new Ds(r?l:a.remaining,r?a.remaining:l,null,0);t(a.transform.setSelection(s).setMeta(hs,{redo:r,historyState:u}).scrollIntoView())}let ay=!1,nS=null;function uv(n){let e=n.plugins;if(nS!=e){ay=!1,nS=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){ay=!0;break}}return ay}const hs=new Oh("history"),rQ=new Oh("closeHistory");function tR(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new Gi({key:hs,state:{init(){return new Ds(Bo.empty,Bo.empty,null,0)},apply(e,t,r){return tQ(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,i=r=="historyUndo"?Od:r=="historyRedo"?Rk:null;return i?(t.preventDefault(),i(e.state,e.dispatch)):!1}}}})}const Od=(n,e)=>{let t=hs.getState(n);return!t||t.done.eventCount==0?!1:(e&&eR(t,n,e,!1),!0)},Rk=(n,e)=>{let t=hs.getState(n);return!t||t.undone.eventCount==0?!1:(e&&eR(t,n,e,!0),!0)};function iQ(n){let e=hs.getState(n);return e?e.done.eventCount:0}/**
 * @toast-ui/editor
 * @version 3.2.1 | Thu Sep 29 2022
 * @author NHN Cloud FE Development Lab <dl_javascript@nhn.com>
 * @license MIT
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Q1=function(n,e){return Q1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},Q1(n,e)};function kt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Q1(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Pe=function(){return Pe=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Pe.apply(this,arguments)};function Wi(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}function On(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function oQ(n,e,t){var r;t=t||null;for(r in n)if(n.hasOwnProperty(r)&&e.call(t,n[r],r,n)===!1)break}var Uc=oQ;function aQ(n,e){var t=Object.prototype.hasOwnProperty,r,i,o,a;for(o=1,a=arguments.length;o<a;o+=1){r=arguments[o];for(i in r)t.call(r,i)&&(n[i]=r[i])}return n}var Bk=aQ;function sQ(n){return typeof n=="string"||n instanceof String}var xs=sQ;function lQ(n){return n instanceof Array}var kf=lQ;function uQ(n,e,t){var r=0,i=n.length;for(t=t||null;r<i&&e.call(t,n[r],r,n)!==!1;r+=1);}var Jc=uQ,cQ=kf,fQ=Jc,dQ=Uc;function hQ(n,e,t){cQ(n)?fQ(n,e,t):dQ(n,e,t)}var Tg=hQ,pQ=xs,vQ=Tg;function mQ(n,e,t){var r=n.style;if(pQ(e)){r[e]=t;return}vQ(e,function(i,o){r[o]=i})}var Ba=mQ,gQ=kf;function yQ(n,e,t){var r,i;if(t=t||0,!gQ(e))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,n,t);for(i=e.length,r=t;t>=0&&r<i;r+=1)if(e[r]===n)return r;return-1}var gu=yQ;function bQ(n){return n===void 0}var na=bQ,wQ=na;function kQ(n){return!n||!n.className?"":wQ(n.className.baseVal)?n.className:n.className.baseVal}var zk=kQ,xQ=kf,jQ=na;function CQ(n,e){if(e=xQ(e)?e.join(" "):e,e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),jQ(n.className.baseVal)){n.className=e;return}n.className.baseVal=e}var nR=CQ,rS=Tg,SQ=gu,TQ=zk,OQ=nR;function EQ(n){var e=Array.prototype.slice.call(arguments,1),t=n.classList,r=[],i;if(t){rS(e,function(o){n.classList.add(o)});return}i=TQ(n),i&&(e=[].concat(i.split(/\s+/),e)),rS(e,function(o){SQ(o,r)<0&&r.push(o)}),OQ(n,r)}var _a=EQ,iS=Jc,MQ=gu,$Q=zk,AQ=nR;function _Q(n){var e=Array.prototype.slice.call(arguments,1),t=n.classList,r,i;if(t){iS(e,function(o){t.remove(o)});return}r=$Q(n).split(/\s+/),i=[],iS(r,function(o){MQ(o,e)<0&&i.push(o)}),AQ(n,i)}var Fo=_Q;function NQ(n){return typeof n=="number"||n instanceof Number}var ns=NQ;function IQ(n){return n===null}var Zv=IQ,PQ=Uc;function LQ(n,e){var t=document.createElement("img"),r="";return PQ(e,function(i,o){r+="&"+o+"="+i}),r=r.substring(1),t.src=n+"?"+r,t.style.display="none",document.body.appendChild(t),document.body.removeChild(t),t}var DQ=LQ,RQ=na,BQ=DQ,zQ=7*24*60*60*1e3;function qQ(n){var e=new Date().getTime();return e-n>zQ}function FQ(n,e){var t="https://www.google-analytics.com/collect",r=location.hostname,i="event",o="use",a="TOAST UI "+n+" for "+r+": Statistics",s=window.localStorage.getItem(a);!RQ(window.tui)&&window.tui.usageStatistics===!1||s&&!qQ(s)||(window.localStorage.setItem(a,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&BQ(t,{v:1,t:i,tid:e,cid:r,dp:r,dh:n,el:n,ec:o})},1e3))}var HQ=FQ;/Mac/.test(navigator.platform);var VQ=/[\u0020]+/g,WQ=/[>(){}[\]+-.!#|]/g,oS=/<([a-zA-Z_][a-zA-Z0-9\-._]*)(\s|[^\\>])*\/?>|<(\/)([a-zA-Z_][a-zA-Z0-9\-._]*)\s*\/?>|<!--[^-]+-->|<([a-zA-Z_][a-zA-Z0-9\-.:/]*)>/g,aS=/\\[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~\\]/g,UQ=/[*_~`]/g,sS=/!\[.*\]\(.*\)/g,JQ=/[[\]]/g,lS=/(?:^|[^\\])\\(?!\\)/g,GQ='[&<>"]',uS=new RegExp(GQ,"g");function KQ(n){switch(n){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return n}}function vc(n){return uS.test(n)?n.replace(uS,KQ):n}function QQ(){HQ("editor","UA-129966929-1")}function ci(n,e){return n.indexOf(e)!==-1}var YQ=["rel","target","hreflang","type"],ZQ={codeblock:/(^ {4}[^\n]+\n*)+/,thematicBreak:/^ *((\* *){3,}|(- *){3,} *|(_ *){3,}) */,atxHeading:/^(#{1,6}) +[\s\S]+/,seTextheading:/^([^\n]+)\n *(=|-){2,} */,blockquote:/^( *>[^\n]+.*)+/,list:/^ *(\*+|-+|\d+\.) [\s\S]+/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? */,link:/!?\[.*\]\(.*\)/,reflink:/!?\[.*\]\s*\[([^\]]*)\]/,verticalBar:/\u007C/,fencedCodeblock:/^((`|~){3,})/};function rR(n){if(!n)return null;var e={};return YQ.forEach(function(t){na(n[t])||(e[t]=n[t])}),e}function Xv(n,e){for(var t="",r=0;r<e;r+=1)t+=n;return t}function XQ(n){var e=!1;return Uc(ZQ,function(t){return t.test(n)&&(e=!0),!e}),e}function em(n){for(var e=[],t=sS.exec(n);t;)e.push([t.index,t.index+t[0].length]),t=sS.exec(n);return n.replace(JQ,function(r,i){var o=e.some(function(a){return i>a[0]&&i<a[1]});return o?r:"\\"+r})}function eY(n){var e=function(i){return"\\"+i},t=function(i){return i+"\\"},r=n.replace(VQ," ");return aS.test(r)&&(r=r.replace(aS,e)),lS.test(r)&&(r=r.replace(lS,t)),r=r.replace(UQ,e),oS.test(r)&&(r=r.replace(oS,e)),XQ(r)&&(r=r.replace(WQ,e)),r}function tY(n){var e;return n.indexOf('"')===-1?e='""':e=n.indexOf("'")===-1?"''":"()",e[0]+n+e[1]}function Y1(n){return Zv(n)||na(n)}function qk(n,e){if(n===null&&n===e)return!0;if(typeof n!="object"||typeof e!="object"||Y1(n)||Y1(e))return n===e;for(var t in n)if(n[t]!==e[t])return!1;for(var t in e)if(!(t in n))return!1;return!0}function yi(n){return n[n.length-1]}function nY(n,e,t){return n>=e&&n<=t}function Fk(n){return typeof n=="object"&&n!==null}function tm(n,e){var t=Pe({},n);return n&&e&&Object.keys(e).forEach(function(r){Fk(t[r])?Array.isArray(e[r])?t[r]=Hk(e[r]):t.hasOwnProperty(r)?t[r]=tm(t[r],e[r]):t[r]=Vk(e[r]):t[r]=e[r]}),t}function Hk(n){return n.map(function(e){return Fk(e)?Array.isArray(e)?Hk(e):Vk(e):e})}function Vk(n){var e=Object.keys(n);return e.length?e.reduce(function(t,r){return Fk(n[r])?t[r]=Array.isArray(n[r])?Hk(n[r]):Vk(n[r]):t[r]=n[r],t},{}):n}function Wk(n,e){return e===void 0&&(e={}),Object.keys(e).forEach(function(t){n.hasOwnProperty(t)&&typeof n[t]=="object"?Array.isArray(e[t])?n[t]=e[t]:Wk(n[t],e[t]):n[t]=e[t]}),n}function cS(n,e){return n>e?[e,n]:[n,e]}function rY(n){var e=/^\s(\S*)/g;return e.test(n)}function iY(n){var e=/(\S*)\s$/g;return e.test(n)}var oY=Jc;function aY(n){var e;try{e=Array.prototype.slice.call(n)}catch{e=[],oY(n,function(r){e.push(r)})}return e}var Va=aY;function nm(n,e){var t=n.nodes.paragraph;return e?t.create(null,xs(e)?n.text(e):e):t.createAndFill()}function ui(n,e,t){return n.text(e,t)}function vr(n,e,t){t===void 0&&(t=e);var r=n.doc.content.size,i=r>0?r-1:1;return $n.create(n.doc,Math.min(e,i),Math.min(t,i))}function Uk(n,e,t){var r=e.pos;return n.replaceWith(r,r,nm(t)),n.setSelection(vr(n,r+1))}function rm(n){for(var e=n.state,t=n.from,r=n.startIndex,i=n.endIndex,o=n.createText,a=e.tr,s=e.doc,l=e.schema,u=r;u<=i;u+=1){var c=s.child(u),f=c.nodeSize,d=c.textContent,h=c.content,v=o(d),p=v?ui(l,v):We.empty,m=a.mapping.map(t),g=m+h.size;a.replaceWith(m,g,p),t+=f}return a}function Jk(n,e,t,r){var i=t.length;n.split(e).delete(e-i,e).insert(n.mapping.map(e),r).setSelection(vr(n,n.mapping.map(e)-i))}function $h(n){return n.sourcepos[0][0]}function Og(n){return n.sourcepos[1][0]}function Eg(n){return n.sourcepos[0][1]}function el(n){return n.sourcepos[1][1]}function sY(n){var e=n.type;return e==="htmlBlock"||e==="htmlInline"}function lY(n){var e=n.type;return e==="strike"||e==="strong"||e==="emph"||e==="code"||e==="link"||e==="image"}function uY(n){return n&&n.type==="codeBlock"}function yu(n){return n&&(n.type==="item"||n.type==="list")}function iR(n){return yu(n)&&n.listData.type==="ordered"}function cY(n){return yu(n)&&n.listData.type!=="ordered"}function fS(n){return n&&(n.type==="tableCell"||n.type==="tableDelimCell")}function fY(n){switch(n.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":case"customInline":return!0;default:return!1}}function Gc(n,e,t){for(t===void 0&&(t=!0),n=t?n:n.parent;n&&n.type!=="document";){if(e(n))return n;n=n.parent}return null}function dY(n,e,t){for(t===void 0&&(t=!0),n=t?n:n.parent;n&&n.type!=="document";)e(n),n=n.parent}function Ur(n,e){return[n[0],n[1]+e]}function tl(n,e){return[n[0],e]}function hY(n){var e=n.firstChild.literal;switch(n.type){case"emph":return"*"+e+"*";case"strong":return"**"+e+"**";case"strike":return"~~"+e+"~~";case"code":return"`"+e+"`";case"link":case"image":var t=n,r=t.destination,i=t.title,o=n.type==="link"?"":"!";return o+"["+e+"]("+r+(i?' "'+i+'"':"")+")";default:return null}}function pY(n){switch(n.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}function vY(n){for(var e=[],t=n.walker(),r=null;r=t.next();){var i=r.node;i.type==="text"&&e.push(i.literal)}return e.join("")}var Kd=[],oR={},dS=/\$\$widget\d+\s/;function Mg(n){var e=n.search(dS);if(e!==-1){var t=n.substring(e),r=t.replace(dS,"").replace("$$","");n=n.substring(0,e),n+=Mg(r)}return n}function aR(n,e){return"$$"+n+" "+e+"$$"}function sR(n,e){var t=oR[n],r=t.rule,i=t.toDOM,o=Mg(e).match(r);return o&&(e=o[0]),i(e)}function mY(){return Kd}function gY(n){Kd=n,Kd.forEach(function(e,t){oR["widget"+t]=e})}function sy(n,e,t,r){return n.concat(cu(e,t,r))}function cu(n,e,t){t===void 0&&(t=0);var r=[],i=(Kd[t]||{}).rule,o=t+1;if(n=Mg(n),i&&i.test(n)){for(var a=void 0;(a=n.search(i))!==-1;){var s=n.substring(0,a);s&&(r=sy(r,s,e,o)),n=n.substring(a);var l=n.match(i)[0],u="widget"+t;r.push(e.nodes.widget.create({info:u},e.text(aR(u,l)))),n=n.substring(l.length)}n&&(r=sy(r,n,e,o))}else n&&(r=t<Kd.length-1?sy(r,n,e,o):[e.text(n)]);return r}function lR(n){for(var e,t="",r=n.walker();e=r.next();){var i=e.node,o=e.entering;o&&(i!==n&&i.type!=="text"?(t+=hY(i),r.resumeAt(n,!1),r.next()):i.type==="text"&&(t+=i.literal))}return t}function uR(){return{deleteSelection:function(){return Ik},selectAll:function(){return JD},undo:function(){return Od},redo:function(){return Rk}}}function yY(n){return new Gi({props:{decorations:function(e){var t=e.doc;if(n.text&&t.childCount===1&&t.firstChild.isTextblock&&t.firstChild.content.size===0){var r=document.createElement("span");return _a(r,"placeholder"),n.className&&_a(r,n.className),r.textContent=n.text,Cr.create(t,[Fi.widget(1,r)])}return null}}})}var bY=gu,wY=zk;function kY(n,e){var t;return n.classList?n.classList.contains(e):(t=wY(n).split(/\s+/),bY(e,t)>-1)}var cR=kY,xY=gu,jY=Va,sp=Element.prototype,CY=sp.matches||sp.webkitMatchesSelector||sp.mozMatchesSelector||sp.msMatchesSelector||function(n){var e=this.document||this.ownerDocument;return xY(this,jY(e.querySelectorAll(n)))>-1};function SY(n,e){return CY.call(n,e)}var TY=SY,fR="[A-Za-z][A-Za-z0-9-]*",OY="[a-zA-Z_:][a-zA-Z0-9:._-]*",EY="[^\"'=<>`\\x00-\\x20]+",MY="'[^']*'",$Y='"[^"]*"',AY="(?:"+EY+"|"+MY+"|"+$Y+")",_Y="(?:\\s*=\\s*"+AY+")",dR="(?:\\s+"+OY+_Y+"?)",hR="<("+fR+")("+dR+")*\\s*/?>",NY="</("+fR+")\\s*[>]",pR="(?:"+hR+"|"+NY+")",Kc=new RegExp("^"+pR,"i"),Z1=/<br\s*\/*>/i,IY=/<! ---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,vR="</p><p>",hS="a";function Gk(n,e,t){var r=parseInt(n.left,10),i=parseInt(n.top,10),o=parseInt(n.width,10)+parseInt(n.paddingLeft,10)+parseInt(n.paddingRight,10),a=parseInt(n.height,10)+parseInt(n.paddingTop,10)+parseInt(n.paddingBottom,10);return e>=r&&e<=r+o&&t>=i&&t<=i+a}var mR="toastui-editor-";function Ot(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=[],r=0,i=n;r<i.length;r++){var o=i[r],a=void 0;Array.isArray(o)?a=o[0]?o[1]:null:a=o,a&&t.push(""+mR+a)}return t.join(" ")}function Fr(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return n.map(function(t){return mR+"md-"+t}).join(" ")}function PY(n){return(n==null?void 0:n.nodeType)===Node.TEXT_NODE}function $g(n){return n&&n.nodeType===Node.ELEMENT_NODE}function LY(n,e){var t=Va(n.querySelectorAll(e));return t.length?t:[]}function DY(n,e){e=kf(e)?Va(e):[e],e.forEach(function(t){n.appendChild(t)})}function RY(n,e){e.parentNode&&e.parentNode.insertBefore(n,e)}function bu(n){n.parentNode&&n.parentNode.removeChild(n)}function BY(n){for(var e=[];n.firstChild;)e.push(n.firstChild),n.parentNode&&n.parentNode.insertBefore(n.firstChild,n);return bu(n),e}function Kk(n,e,t){na(t)&&(t=!cR(n,e));var r=t?_a:Fo;r(n,e)}function gR(n,e){var t=document.createElement("div");xs(n)?t.innerHTML=n:t.appendChild(n);var r=t.firstChild;return e&&e.appendChild(r),r}function Qk(n){var e=window.getComputedStyle(n);return["margin-left","margin-right"].reduce(function(t,r){return t+parseInt(e.getPropertyValue(r),10)},0)+n.offsetWidth}function Na(n,e){var t;for(xs(e)?t=function(r){return TY(r,e)}:t=function(r){return r===e};n&&n!==document;){if($g(n)&&t(n))return n;n=n.parentNode}return null}function yR(n,e){for(var t=0,r=0;n&&n!==e;){var i=n.offsetTop,o=n.offsetLeft,a=n.offsetParent;if(t+=i,r+=o,a===e.offsetParent)break;n=n.offsetParent}return{offsetTop:t,offsetLeft:r}}function Yk(n,e){Object.keys(n).forEach(function(t){Y1(n[t])?e.removeAttribute(t):e.setAttribute(t,n[t])})}function zY(n){var e=n.replace(/<p><br\s*\/*><\/p>/gi,"<p></p>"),t=new RegExp(pR,"ig"),r=e.match(t);return r==null||r.forEach(function(i,o){if(Z1.test(i)){var a=vR;if(o){var s=r[o-1],l=s.match(hR);if(l&&!/br/i.test(l[1])){var u=l[1];a="</"+u+"><"+u+">"}}e=e.replace(Z1,a)}}),e}function Zk(n){var e=/<img class="ProseMirror-separator" alt="">/g,t=/ class="ProseMirror-trailingBreak"/g,r=n;return r=r.replace(e,""),r=r.replace(t,""),r}var bR=new Oh("widget"),pS=5,qY=function(){function n(e,t){var r=this;this.popup=null,this.removeWidget=function(){r.popup&&(r.rootEl.removeChild(r.popup),r.popup=null)},this.rootEl=e.dom.parentElement,this.eventEmitter=t,this.eventEmitter.listen("blur",this.removeWidget),this.eventEmitter.listen("loadUI",function(){r.rootEl=Na(e.dom.parentElement,"."+Ot("defaultUI"))}),this.eventEmitter.listen("removePopupWidget",this.removeWidget)}return n.prototype.update=function(e){var t=bR.getState(e.state);if(this.removeWidget(),t){var r=t.node,i=t.style,o=e.coordsAtPos(t.pos),a=o.top,s=o.left,l=o.bottom,u=l-a,c=this.rootEl.getBoundingClientRect(),f=a-c.top;Ba(r,{opacity:"0"}),this.rootEl.appendChild(r),Ba(r,{position:"absolute",left:s-c.left+pS+"px",top:(i==="bottom"?f+u-pS:f-u)+"px",opacity:"1"}),this.popup=r,e.focus()}},n.prototype.destroy=function(){this.eventEmitter.removeEventHandler("blur",this.removeWidget)},n}();function FY(n){return new Gi({key:bR,state:{init:function(){return null},apply:function(e){return e.getMeta("widget")}},view:function(e){return new qY(e,n)}})}function HY(n){n.listen("addImageBlobHook",function(e,t){var r=new FileReader;r.onload=function(i){var o=i.target;return t(o.result)},r.readAsDataURL(e)})}function Xk(n,e,t){var r=function(i,o){n.emit("command","addImage",{imageUrl:i,altText:o||e.name||"image"})};n.emit("addImageBlobHook",e,r,t)}function wR(n){var e=Va(n).filter(function(r){var i=r.type;return i.indexOf("image")!==-1});if(e.length===1){var t=e[0];if(t)return t.getAsFile()}return null}function VY(n){var e=n.eventEmitter;return new Gi({props:{handleDOMEvents:{drop:function(t,r){var i,o=(i=r.dataTransfer)===null||i===void 0?void 0:i.files;return o&&Jc(o,function(a){return a.type.indexOf("image")!==-1?(r.preventDefault(),r.stopPropagation(),Xk(e,a,r.type),!1):!0}),!0}}}})}var cr=function(){function n(){}return Object.defineProperty(n.prototype,"type",{get:function(){return"node"},enumerable:!1,configurable:!0}),n.prototype.setContext=function(e){this.context=e},n}();function kR(n){var e=document.createElement("span"),t=sR(n.attrs.info,n.textContent);return e.className="tui-widget",e.appendChild(t),{dom:e}}function X1(n){return n.type.name==="widget"}var xR=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"widget"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{info:{default:null}},group:"inline",inline:!0,content:"text*",selectable:!1,atom:!0,toDOM:function(){return["span",{class:"tui-widget"},0]},parseDOM:[{tag:"span.tui-widget",getAttrs:function(t){var r=t.textContent,i=r.match(/\$\$(widget\d+)/),o=i[1];return{info:o}}}]}},enumerable:!1,configurable:!0}),e}(cr),jR=function(){function n(e){this.timer=null,this.el=document.createElement("div"),this.el.className="toastui-editor",this.eventEmitter=e,this.placeholder={text:""}}return n.prototype.createState=function(){return Gl.create({schema:this.schema,plugins:this.createPlugins()})},n.prototype.initEvent=function(){var e=this,t=e.eventEmitter,r=e.view,i=e.editorType;r.dom.addEventListener("focus",function(){return t.emit("focus",i)}),r.dom.addEventListener("blur",function(){return t.emit("blur",i)})},n.prototype.emitChangeEvent=function(e){this.eventEmitter.emit("caretChange",this.editorType),e.docChanged&&this.eventEmitter.emit("change",this.editorType)},Object.defineProperty(n.prototype,"defaultPlugins",{get:function(){var e=this.createInputRules(),t=Wi(Wi([],this.keymaps),[Gd(Pe({"Shift-Enter":XC.Enter},XC)),tR(),yY(this.placeholder),FY(this.eventEmitter),VY(this.context)]);return e?t.concat(e):t},enumerable:!1,configurable:!0}),n.prototype.createInputRules=function(){var e=mY(),t=e.map(function(r){var i=r.rule;return new bl(i,function(o,a,s,l){var u=o.schema,c=o.tr,f=o.doc,d=a.input.match(new RegExp(i,"g")),h=f.resolve(s),v=h.parent,p=0;if(X1(v)&&(v=h.node(h.depth-1)),v.forEach(function(y){return X1(y)&&(p+=1)}),d.length>p){var m=yi(d),g=cu(m,u);return c.replaceWith(l-m.length+1,l,g)}return null})});return t.length?YD({rules:t}):null},n.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},n.prototype.createSchema=function(){return new QL({nodes:this.specs.nodes,marks:this.specs.marks})},n.prototype.createKeymaps=function(e){var t=uR(),r=t.undo,i=t.redo,o=this.specs.keymaps(e),a={"Mod-z":r(),"Shift-Mod-z":i()};return e?o.concat(Gd(a)):o},n.prototype.createCommands=function(){return this.specs.commands(this.view)},n.prototype.createPluginProps=function(){var e=this;return this.extraPlugins.map(function(t){return t(e.eventEmitter)})},n.prototype.focus=function(){var e=this;this.clearTimer(),this.timer=setTimeout(function(){e.view.focus(),e.view.dispatch(e.view.state.tr.scrollIntoView())})},n.prototype.blur=function(){this.view.dom.blur()},n.prototype.destroy=function(){var e=this;this.clearTimer(),this.view.destroy(),Object.keys(this).forEach(function(t){delete e[t]})},n.prototype.moveCursorToStart=function(e){var t=this.view.state.tr;this.view.dispatch(t.setSelection(vr(t,1)).scrollIntoView()),e&&this.focus()},n.prototype.moveCursorToEnd=function(e){var t=this.view.state.tr;this.view.dispatch(t.setSelection(vr(t,t.doc.content.size-1)).scrollIntoView()),e&&this.focus()},n.prototype.setScrollTop=function(e){this.view.dom.scrollTop=e},n.prototype.getScrollTop=function(){return this.view.dom.scrollTop},n.prototype.setPlaceholder=function(e){this.placeholder.text=e,this.view.dispatch(this.view.state.tr.scrollIntoView())},n.prototype.setHeight=function(e){Ba(this.el,{height:e+"px"})},n.prototype.setMinHeight=function(e){Ba(this.el,{minHeight:e+"px"})},n.prototype.getElement=function(){return this.el},n}();function WY(n){return n instanceof Function}var So=WY,UY=["Enter","Shift-Enter","Mod-Enter","Tab","Shift-Tab","Delete","Backspace","Mod-Delete","Mod-Backspace","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Mod-d","Mod-D","Alt-ArrowUp","Alt-ArrowDown"];function lp(n,e,t){return n.focus(),e(t)(n.state,n.dispatch,n)}var CR=function(){function n(e){this.specs=e}return Object.defineProperty(n.prototype,"nodes",{get:function(){return this.specs.filter(function(e){return e.type==="node"}).reduce(function(e,t){var r,i=t.name,o=t.schema;return Pe(Pe({},e),(r={},r[i]=o,r))},{})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"marks",{get:function(){return this.specs.filter(function(e){return e.type==="mark"}).reduce(function(e,t){var r,i=t.name,o=t.schema;return Pe(Pe({},e),(r={},r[i]=o,r))},{})},enumerable:!1,configurable:!0}),n.prototype.commands=function(e,t){var r=this.specs.filter(function(o){var a=o.commands;return a}).reduce(function(o,a){var s={},l=a.commands();return So(l)?s[a.name]=function(u){return lp(e,l,u)}:Object.keys(l).forEach(function(u){s[u]=function(c){return lp(e,l[u],c)}}),Pe(Pe({},o),s)},{}),i=uR();return Object.keys(i).forEach(function(o){r[o]=function(a){return lp(e,i[o],a)}}),t&&Object.keys(t).forEach(function(o){r[o]=function(a){return lp(e,t[o],a)}}),r},n.prototype.keymaps=function(e){var t=this.specs.filter(function(r){return r.keymaps}).map(function(r){return r.keymaps()});return t.map(function(r){return e||Object.keys(r).forEach(function(i){ci(UY,i)||delete r[i]}),Gd(r)})},n.prototype.setContext=function(e){this.specs.forEach(function(t){t.setContext(e)})},n}();function SR(n){var e=n.from,t=n.to;return n instanceof Ei?[e+1,t-1]:[e,t]}function vS(n){return n.index(0)+1}function Qc(n,e,t){t===void 0&&(t=1);var r=0;return n.forEach(function(i,o){X1(i)&&o+2<e&&(r+=2*t)}),r}function cv(n,e,t){t===void 0&&(t=e);var r=e===t,i=n.resolve(e),o=vS(i),a=o,s=i.start(1),l=s;if(!r){var u=n.resolve(t===n.content.size?t-1:t);l=u.start(1),a=vS(u),u.pos===n.content.size&&(t=n.content.size-2)}var c=Math.max(e-s+1,1),f=Math.max(t-l+1,1);return[[o,c+Qc(n.child(o-1),c,-1)],[a,f+Qc(n.child(a-1),f,-1)]]}function TR(n,e){for(var t=[],r=0,i=0;r<e;r+=1){var o=n.child(r);t[r]=i,i+=o.nodeSize}return t}function zl(n,e,t){var r=TR(n,t[0]),i=e[0]-1,o=t[0]-1,a=n.child(i),s=n.child(o),l=r[i],u=r[o];return l+=e[1]+Qc(a,e[1]-1),u+=t[1]+Qc(s,t[1]-1),[l,Math.min(u,n.content.size)]}function Br(n){var e=n.$from,t=n.$to,r=n.from,i=n.to,o=e.doc;return n instanceof Ei&&(e=o.resolve(r+1),t=o.resolve(i-1)),e.depth===0&&(e=o.resolve(r-1),t=e),{startFromOffset:e.start(1),endFromOffset:t.start(1),startToOffset:e.end(1),endToOffset:t.end(1),startIndex:e.index(0),endIndex:t.index(0),from:e.pos,to:t.pos}}function im(n,e){for(var t=1,r=1,i=0,o=0;i<n.childCount;i+=1){var a=n.child(i).nodeSize;if(t=o+1,r=o+a-1,i===e)break;o+=a}return{startOffset:t,endOffset:r}}var mS="heading",JY="blockQuote",GY="listItem",KY="table",QY="tableCell",YY="codeBlock",ZY="thematicBreak",fv="link",up="code",Ag="meta",wu="delimiter",XY="taskDelimiter",ex="markedText",eZ="html",tZ="customBlock",gS={strong:2,emph:1,strike:2};function Rn(n,e,t,r){return{start:n,end:e,spec:{type:t,attrs:r}}}function nZ(n,e,t){var r=n.level,i=n.headingType,o=[Rn(e,t,mS,{level:r})];return i==="atx"?o.push(Rn(e,Ur(e,r),wu)):o.push(Rn(tl(t,0),t,mS,{seText:!0})),o}function ly(n,e,t){var r=n.type,i=Ur(e,gS[r]),o=Ur(t,-gS[r]);return[Rn(i,o,r),Rn(e,i,wu),Rn(o,t,wu)]}function OR(n,e,t,r){return[Rn(n,e,fv),Rn(tl(n,t[1]+1),tl(e,r),fv,{desc:!0}),Rn(tl(e,r+2),Ur(e,-1),fv,{url:!0})]}function rZ(n,e,t){var r=n.lastChild,i=r?el(r)+1:3,o=Ur(e,1);return Wi([Rn(e,o,Ag)],OR(e,t,o,i))}function iZ(n,e,t){var r=n.lastChild,i=n.extendedAutolink,o=r?el(r)+1:2;return i?[Rn(e,t,fv,{desc:!0})]:OR(e,t,e,o)}function oZ(n,e,t){var r=n.tickCount,i=Ur(e,r),o=Ur(t,-r);return[Rn(e,t,up),Rn(e,i,up,{start:!0}),Rn(i,o,up,{marked:!0}),Rn(o,t,up,{end:!0})]}function ER(n,e,t,r){var i={start:e,end:t,spec:{attrs:{className:r+"-line-background",codeStart:e[0],codeEnd:t[0]}},lineBackground:!0};return n.type!=="item"&&n.type!=="blockQuote"?[Pe(Pe({},i),{end:e,spec:{attrs:{className:r+"-line-background start"}}}),Pe(Pe({},i),{start:[Math.min(e[0]+1,t[0]),e[1]]})]:null}function aZ(n,e,t,r){var i=n.fenceOffset,o=n.fenceLength,a=n.fenceChar,s=n.info,l=n.infoPadding,u=n.parent,c=i+o,f=[Rn(tl(e,1),t,YY)];a&&f.push(Rn(e,Ur(e,c),wu)),s&&f.push(Rn(Ur(e,o),Ur(e,o+l+s.length),Ag));var d="^(\\s{0,4})("+a+"{"+o+",})",h=new RegExp(d);h.test(r)&&f.push(Rn(tl(t,1),t,wu));var v=ER(u,e,t,"code-block");return v?f.concat(v):f}function sZ(n,e,t){var r=n,i=r.offset,o=r.syntaxLength,a=r.info,s=r.parent,l=i+o,u=[Rn(tl(e,1),t,tZ)];u.push(Rn(e,Ur(e,l),wu)),a&&u.push(Rn(Ur(e,l),Ur(e,o+a.length),Ag)),u.push(Rn(tl(t,1),t,wu));var c=ER(s,e,t,"custom-block");return c?u.concat(c):u}function MR(n,e){for(var t=[];n;){var r=n.type;(r==="paragraph"||r==="codeBlock")&&t.push(Rn([$h(n),Eg(n)-1],[Og(n),el(n)+1],e)),n=n.next}return t}function lZ(n){for(var e=[];n;)e.push(Rn([$h(n),Eg(n)],[Og(n),el(n)+1],ex)),n=n.next;return e}function uZ(n,e,t){var r=n.parent&&n.parent.type!=="blockQuote"?[Rn(e,t,JY)]:[];if(n.firstChild){var i=[];n.firstChild.type==="paragraph"?i=lZ(n.firstChild.firstChild):n.firstChild.type==="list"&&(i=MR(n.firstChild,ex)),r=Wi(Wi([],r),i)}return r}function cZ(n){for(var e=0;n.parent.parent&&n.parent.parent.type==="item";)n=n.parent.parent,e+=1;var t=[{odd:!0},{even:!0}][e%2];return[GY,Pe(Pe({},t),{listStyle:!0})]}function fZ(n,e){var t=n.listData,r=t.padding,i=t.task,o=cZ(n),a=[Rn.apply(void 0,Wi([e,Ur(e,r)],o))];return i&&(a.push(Rn(Ur(e,r),Ur(e,r+3),XY)),a.push(Rn(Ur(e,r+1),Ur(e,r+2),Ag))),a.concat(MR(n.firstChild,ex))}var yS={heading:nZ,strong:ly,emph:ly,strike:ly,link:iZ,image:rZ,code:oZ,codeBlock:aZ,blockQuote:uZ,item:fZ,customBlock:sZ},bS={thematicBreak:ZY,table:KY,tableCell:QY,htmlInline:eZ};function dZ(n,e,t,r){var i=n.type;return So(yS[i])?yS[i](n,e,t,r):bS[i]?[Rn(e,t,bS[i])]:null}var Qd={};function hZ(n){var e=n.schema,t=n.toastMark;return new Gi({appendTransaction:function(r,i,o){var a=r[0],s=o.tr;if(a.docChanged){var l=[],u=a.getMeta("editResult");u.forEach(function(c){var f=c.nodes,d=c.removedNodeRange;if(f.length){l=l.concat(bZ(s,f));for(var h=0,v=f;h<v.length;h++)for(var p=v[h],m=p.walker(),g=m.next();g;){var y=g.node,b=g.entering;b&&(l=l.concat(wZ(y,t))),g=m.next()}}else if(d)for(var w=s.doc.childCount-1,k=d.line,x=k[0],C=k[1],T=Math.min(x,w),M=Math.min(C,w),B=T;B<=M;B+=1)Qd[B]=!0}),mZ(s,e,l)}return s.setMeta("widget",a.getMeta("widget"))}})}function pZ(n,e,t){return Object.keys(t).some(function(r){return t[r]!==n.child(e).attrs[r]})}function vZ(n,e,t,r,i){i===void 0&&(i={});for(var o=r.startIndex,a=r.endIndex,s=r.from,l=r.to,u=!1,c=o;c<=a;c+=1)delete Qd[c],u=pZ(e,c,i);u&&n.setBlockType(s,l,t,i)}function mZ(n,e,t){var r=n.doc,i=e.nodes.paragraph,o=TR(r,r.childCount);t.forEach(function(a){var s=a.start,l=a.end,u=a.spec,c=a.lineBackground,f=Math.min(s[0],r.childCount)-1,d=Math.min(l[0],r.childCount)-1,h=r.child(f),v=r.child(d),p=o[f],m=o[d];if(p+=s[1]+Qc(h,s[1]-1),m+=l[1]+Qc(v,l[1]-1),u)if(c){var g={from:p,to:m,startIndex:f,endIndex:d};vZ(n,r,i,g,u.attrs)}else n.addMark(p,m,e.mark(u.type,u.attrs));else n.removeMark(p,m)}),gZ(n,o,i)}function gZ(n,e,t){Object.keys(Qd).forEach(function(r){var i=Number(r),o=Math.min(Number(r)+1,n.doc.childCount-1),a=e[i],s=e[o]-1;i===o&&(s+=2),n.setBlockType(a,s,t)})}function yZ(n,e,t){var r=[];Qd={};for(var i=e[0]-1;i<t[0];i+=1){var o=n.child(i),a=o.attrs.codeEnd,s=o.attrs.codeStart;if(s&&a&&!ci(r,s)){r.push(s),a=Math.min(a,n.childCount);for(var l=s-1,u=t[0],c=l;c<u;c+=1)Qd[c]=!0}}}function bZ(n,e){var t=n.doc,r=e[0].sourcepos[0],i=yi(e).sourcepos,o=i[1],a=[r[0],r[1]],s=[o[0],o[1]+1],l=[];return yZ(t,r,o),l.push({start:a,end:s}),l}function wZ(n,e){var t=e.getLineTexts(),r=[$h(n),Eg(n)],i=[Og(n),el(n)+1],o=dZ(n,r,i,t[i[0]-1]);return o!=null?o:[]}var kZ=["taskList","orderedList","bulletList","table","strong","emph","strike","heading","thematicBreak","blockQuote","code","codeBlock","indent","outdent"];function xZ(n){var e=n.type;return yu(n)?n.listData.task?"taskList":n.listData.type==="ordered"?"orderedList":"bulletList":e.indexOf("table")!==-1?"table":ci(kZ,e)?e:null}function jZ(n){var e={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}},t=!0;return dY(n,function(r){var i=xZ(r);!i||(i==="bulletList"||i==="orderedList"?t&&(e[i]={active:!0},e.indent.disabled=!1,e.outdent.disabled=!1,t=!1):e[i]={active:!0})}),e}function CZ(n){var e=n.toastMark,t=n.eventEmitter;return new Gi({view:function(){return{update:function(r,i){var o=r.state,a=o.doc,s=o.selection;if(!(i&&i.doc.eq(a)&&i.selection.eq(s))){var l=s.from,u=o.doc.resolve(l).start(),c=o.doc.content.findIndex(l).index+1,f=l-u;l===u&&(f+=1);var d=[c,f],h=e.findNodeAtPosition(d),v=jZ(h);t.emit("changeToolbarState",{cursorPos:d,mdNode:h,toolbarState:v}),t.emit("setFocusedNode",h)}}}}})}var SZ=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e}(cr),gr=function(){function n(){}return Object.defineProperty(n.prototype,"type",{get:function(){return"mark"},enumerable:!1,configurable:!0}),n.prototype.setContext=function(e){this.context=e},n}();function Xi(n,e){return ll(n,e-1)}function ll(n,e){return n.child(e).textContent}var ud=/^\s*> ?/,TZ=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Fr("block-quote")},0]}}},enumerable:!1,configurable:!0}),e.prototype.createBlockQuoteText=function(t,r){return r?t.replace(ud,"").trim():"> "+t.trim()},e.prototype.extendBlockQuote=function(){var t=this;return function(r,i){var o=r.selection,a=r.doc,s=r.tr,l=r.schema,u=Br(o),c=u.endFromOffset,f=u.endToOffset,d=u.endIndex,h=u.to,v=ll(a,d),p=ud.test(v);if(p&&h>c&&o.empty){var m=!v.replace(ud,"").trim();if(m)s.deleteRange(c,f).split(s.mapping.map(f));else{var g=v.slice(h-c).trim(),y=ui(l,t.createBlockQuoteText(g));Jk(s,f,g,y)}return i(s),!0}return!1}},e.prototype.commands=function(){var t=this;return function(){return function(r,i){var o=r.selection,a=r.doc,s=Br(o),l=s.startFromOffset,u=s.endToOffset,c=s.startIndex,f=s.endIndex,d=ud.test(ll(a,c)),h=rm({state:r,startIndex:c,endIndex:f,from:l,createText:function(v){return t.createBlockQuoteText(v,d)}});return i(h.setSelection(vr(h,h.mapping.map(u)))),!0}}},e.prototype.keymaps=function(){var t=this.commands()();return{"alt-q":t,"alt-Q":t,Enter:this.extendBlockQuote()}},e}(gr),ku=/(^\s*)([-*+] |[\d]+\. )/,tx=/(^\s*)([\d])+\.( \[[ xX]])? /,ps=/^(\s*)((\d+)([.)]\s(?:\[(?:x|\s)\]\s)?))(.*)/,om=/(^\s*)([-*+]|[\d]+\.)( \[[ xX]])? /,OZ=/^(\s*)([-*+]+(\s(?:\[(?:x|\s)\]\s)?))(.*)/,EZ=/(^\s*)([-*+] |[\d]+\. )(\[[ xX]] )/,MZ=/(^\s*)([-*+])( \[[ xX]]) /;function nx(n){return tx.test(n)?"ordered":"bullet"}function rx(n){for(var e=0;n&&n.type!=="document";)n.type==="list"&&(e+=1),n=n.parent;return e}function eb(n,e,t,r){for(var i=n.getLineTexts(),o=i.length,a=[],s=e;r?s<o:s>1;){s=r?s+1:s-1;var l=n.findFirstNodeAtLine(s),u=rx(l);if(u===t)a.push({line:s,depth:t,mdNode:l});else if(u<t)break}return a}function $Z(n){var e=n.toastMark,t=n.mdNode,r=n.line,i=rx(t),o=eb(e,r,i,!1).reverse(),a=eb(e,r,i,!0);return o.concat([{line:r,depth:i,mdNode:t}]).concat(a)}function AZ(n){if(!ku.test(n))return"* "+n;var e=nx(n);return e==="bullet"&&om.test(n)?n=n.replace(MZ,"$1$2 "):e==="ordered"&&(n=n.replace(tx,"$1* ")),n}function _Z(n,e){if(!ku.test(n))return e+". "+n;var t=nx(n);if(t==="bullet"||t==="ordered"&&om.test(n))n=n.replace(om,"$1"+e+". ");else if(t==="ordered"){var r=ps.exec(n)[3];Number(r)!==e&&(n=n.replace(tx,"$1"+e+". "))}return n}function $R(n,e,t,r){r===void 0&&(r=0);var i=Number.MAX_VALUE,o=0,a=e.map(function(s,l){var u=s.line;i=Math.min(u-1,i),o=Math.max(u-1,o);var c=Xi(n,u);return c=t==="bullet"?AZ(c):_Z(c,l+1+r),{text:c,line:u}});return{changedResults:a,firstIndex:i,lastIndex:o}}function wS(n,e){var t=$Z(e);return $R(e.doc,t,n)}var NZ={bullet:function(n){return wS("bullet",n)},ordered:function(n){return wS("ordered",n)},task:function(n){var e=n.mdNode,t=n.doc,r=n.line,i=Xi(t,r);return e.listData.task?i=i.replace(EZ,"$1$2"):yu(e)&&(i=i.replace(ku,"$1$2[ ] ")),{changedResults:[{text:i,line:r}]}}},IZ={bullet:function(n){var e=n.doc,t=n.line,r=Xi(e,t),i=[{text:"* "+r,line:t}];return{changedResults:i}},ordered:function(n){for(var e=n.toastMark,t=n.doc,r=n.line,i=n.startLine,o=Xi(t,r),a=1,s=i,l=0,u=i-1;u>0;u-=1){var c=e.findFirstNodeAtLine(u),f=Xi(t,u),d=f&&!!Gc(c,function(b){return yu(b)}),h=ps.exec(Xi(t,u));if(!h&&!d)break;if(!h&&d){l+=1;continue}var v=h,p=v[1],m=v[3];if(!p){a=Number(m),s=u;break}}var g=a+r-s-l,y=[{text:g+". "+o,line:r}];return{changedResults:y}},task:function(n){var e=n.doc,t=n.line,r=Xi(e,t),i=[{text:"* [ ] "+r,line:t}];return{changedResults:i}}},PZ={bullet:function(n){var e=n.line,t=n.doc,r=Xi(t,e),i=OZ.exec(r),o=i[1],a=i[2];return{listSyntax:""+o+a}},ordered:function(n){var e=n.toastMark,t=n.line,r=n.mdNode,i=n.doc,o=rx(r),a=Xi(i,t),s=ps.exec(a),l=s[1],u=s[3],c=s[4],f=Number(u)+1,d=""+l+f+c,h=eb(e,t,o,!0),v=h.filter(function(p){var m=ps.exec(Xi(i,p.line));return m&&m[1].length===l.length&&!!Gc(p.mdNode,function(g){return iR(g)})});return Pe({listSyntax:d},$R(i,v,"ordered",f))}};function AR(n,e,t,r,i){for(var o=[],a=Xi(n,t),s=ps.exec(a);s;){var l=s[1],u=s[4],c=s[5],f=l.length;if(f===i)o.push(ui(e,""+l+r+u+c)),r+=1,t+=1;else if(f>i){var d=AR(n,e,t,1,f);t=d.line,o=o.concat(d.nodes)}if(f<i||t>n.childCount)break;a=Xi(n,t),s=ps.exec(a)}return{nodes:o,line:t}}var kS=/(^\s{1,4})(.*)/;function xS(n,e,t){return n<e||ku.test(t)||ud.test(t)}function jS(n,e,t){var r=t.$from;r.depth===0&&(r=n.resolve(r.pos-1));var i=r.node(1),o=r.start(1),a=i.content.size;return i.rangeHasMark(0,a,e.marks.table)&&r.pos-o!==a&&r.pos!==o}function CS(n,e){var t=e.from,r=e.to;if(e.type==="indent"){var i=4;t+=i,r+=(e.lineLen+1)*i}else{var o=e.spaceLenList;t-=o[0];for(var a=0;a<o.length;a+=1)r-=o[a]}return vr(n,t,r)}var LZ=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",attrs:{className:{default:null},codeStart:{default:null},codeEnd:{default:null}},selectable:!1,group:"block",parseDOM:[{tag:"div"}],toDOM:function(t){var r=t.attrs;return r.className?["div",{class:Fr(r.className)},0]:["div",0]}}},enumerable:!1,configurable:!0}),e.prototype.reorderList=function(t,r){for(var i=this.context,o=i.view,a=i.toastMark,s=i.schema,l=o.state,u=l.tr,c=l.selection,f=l.doc,d=a.findFirstNodeAtLine(t),h=d;d&&!cY(d)&&d.parent.type!=="document";)if(d=d.parent,iR(d)){h=d;break}h&&(t=h.sourcepos[0][0]);var v=ps.exec(Xi(f,t)),p=v[1],m=v[3],g=p.length,y=AR(f,s,t,Number(m),g),b=y.line,w=y.nodes;r=Math.max(r,b-1);for(var k=im(f,t-1).startOffset,x=t-1;x<=r-1;x+=1){var C=f.child(x),T=C.nodeSize,M=C.content,B=u.mapping.map(k),_=B+M.size;u.replaceWith(B,_,w[x-t+1]),k+=T}var N=vr(u,c.from,c.to);o.dispatch(u.setSelection(N))},e.prototype.indent=function(t){var r=this;return t===void 0&&(t=!1),function(){return function(i,o){var a=i.schema,s=i.selection,l=i.doc,u=Br(s),c=u.from,f=u.to,d=u.startFromOffset,h=u.startIndex,v=u.endIndex;if(t&&jS(l,a,s))return!1;var p=ll(l,h);if(t&&xS(c,f,p)||!t&&ku.test(p)){var m=rm({state:i,from:d,startIndex:h,endIndex:v,createText:function(y){return"    "+y}}),g={type:"indent",from:c,to:f,lineLen:v-h};o(m.setSelection(CS(m,g))),ps.test(p)&&r.reorderList(h+1,v+1)}else t&&o(i.tr.insert(f,ui(a,"    ")));return!0}}},e.prototype.outdent=function(t){var r=this;return t===void 0&&(t=!1),function(){return function(i,o){var a=i.selection,s=i.doc,l=i.schema,u=Br(a),c=u.from,f=u.to,d=u.startFromOffset,h=u.startIndex,v=u.endIndex;if(t&&jS(s,l,a))return!1;var p=ll(s,h);if(t&&xS(c,f,p)||!t&&ku.test(p)){var m=[],g=rm({state:i,from:d,startIndex:h,endIndex:v,createText:function(x){var C=kS.exec(x);return m.push(C?C[1].length:0),x.replace(kS,"$2")}}),y={type:"outdent",from:c,to:f,spaceLenList:m};o(g.setSelection(CS(g,y))),ps.test(p)&&r.reorderList(h+1,v+1)}else if(t){var b=p.slice(0,f-d),w=b.replace(/\s{1,4}$/,""),k=f-(b.length-w.length);o(i.tr.delete(k,f))}return!0}}},e.prototype.deleteLines=function(){var t=this;return function(r,i){var o=t.context.view,a=Br(r.selection),s=a.startFromOffset,l=a.endToOffset,u=function(){return i(r.tr.deleteRange(s,l)),!0};return Sg(u,VD)(r,i,o)}},e.prototype.moveDown=function(){return function(t,r){var i=t.doc,o=t.tr,a=t.selection,s=t.schema,l=Br(a),u=l.startFromOffset,c=l.endToOffset,f=l.endIndex;if(f<i.content.childCount-1){var d=i.child(f+1),h=d.nodeSize,v=d.textContent;return o.delete(c,c+h).split(u).insert(o.mapping.map(u)-2,ui(s,v)),r(o),!0}return!1}},e.prototype.moveUp=function(){return function(t,r){var i=t.tr,o=t.doc,a=t.selection,s=t.schema,l=Br(a),u=l.startFromOffset,c=l.endToOffset,f=l.startIndex;if(f>0){var d=o.child(f-1),h=d.nodeSize,v=d.textContent;return i.delete(u-h,u).split(i.mapping.map(c)).insert(i.mapping.map(c),ui(s,v)),r(i),!0}return!1}},e.prototype.commands=function(){return{indent:this.indent(),outdent:this.outdent()}},e.prototype.keymaps=function(){return{Tab:this.indent(!0)(),"Shift-Tab":this.outdent(!0)(),"Mod-d":this.deleteLines(),"Mod-D":this.deleteLines(),"Alt-ArrowUp":this.moveUp(),"Alt-ArrowDown":this.moveDown()}},e}(cr),DZ=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e}(cr),RZ=/^#{1,6}\s/,BZ=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{level:{default:1},seText:{default:!1}},toDOM:function(t){var r=t.attrs,i=r.level,o=r.seText,a="heading|heading"+i;return o&&(a+="|delimiter|setext"),["span",{class:Fr.apply(void 0,a.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.createHeadingText=function(t,r,i){for(var o=r.replace(i,"").trim(),a="";t>0;)a+="#",t-=1;return a+" "+o},e.prototype.commands=function(){var t=this;return function(r){return function(i,o){var a=r.level,s=Br(i.selection),l=s.startFromOffset,u=s.endToOffset,c=s.startIndex,f=s.endIndex,d=rm({state:i,from:l,startIndex:c,endIndex:f,createText:function(h){var v=h.match(RZ),p=v?v[0]:"";return t.createHeadingText(a,h,p)}});return o(d.setSelection(vr(d,d.mapping.map(u)))),!0}}},e}(gr),uy="```",zZ=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Fr("code-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,r){var i=t.selection,o=t.schema,a=t.tr,s=Br(i),l=s.startFromOffset,u=s.endToOffset,c=ui(o,uy);return a.insert(l,c).split(l+uy.length),a.split(a.mapping.map(u)).insert(a.mapping.map(u),c),r(a.setSelection(vr(a,a.mapping.map(u)-(uy.length+2)))),!0}}},e.prototype.keepIndentation=function(){var t=this;return function(r,i){var o=r.selection,a=r.tr,s=r.doc,l=r.schema,u=t.context.toastMark,c=Br(o),f=c.startFromOffset,d=c.endToOffset,h=c.endIndex,v=c.from,p=c.to,m=ll(s,h);if(v===p&&m.trim()){var g=m.match(/^\s+/),y=u.findFirstNodeAtLine(h+1);if(uY(y)&&g){var b=g[0],w=m.slice(p-f),k=ui(l,b+w);return Jk(a,d,w,k),i(a),!0}}return!1}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-p":t,"Shift-Mod-P":t,Enter:this.keepIndentation()}},e}(gr),qZ=/\||\s/g;function FZ(n){return[am(n),am(n,!0)]}function HZ(n,e){for(var t=[],r=0;r<e;r+=1)t.push(am(n));return t}function am(n,e){for(var t="|",r=0;r<n;r+=1)t+=e?" --- |":"  |";return t}function VZ(n){return n?{type:"next",parentType:"tableHead",childType:"firstChild"}:{type:"prev",parentType:"tableBody",childType:"lastChild"}}var WZ=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Fr("table")},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendTable=function(){var t=this;return function(r,i){var o=r.selection,a=r.doc,s=r.tr,l=r.schema;if(!o.empty)return!1;var u=Br(o),c=u.endFromOffset,f=u.endToOffset,d=u.endIndex,h=u.to,v=ll(a,d),p=[d+1,h-c+1],m=t.context.toastMark.findNodeAtPosition(p),g=Gc(m,function(x){return fS(x)&&(x.parent.type==="tableDelimRow"||x.parent.parent.type==="tableBody")});if(g){var y=!v.replace(qZ,"").trim(),b=g.parent,w=b.parent.parent.columns.length,k=am(w);return y?s.deleteRange(c,f).split(s.mapping.map(f)):s.split(f).insert(s.mapping.map(f),ui(l,k)).setSelection(vr(s,s.mapping.map(f)-2)),i(s),!0}return!1}},e.prototype.moveTableCell=function(t){var r=this;return function(i,o){var a=i.selection,s=i.tr,l=Br(a),u=l.endFromOffset,c=l.endIndex,f=l.to,d=[c+1,f-u],h=r.context.toastMark.findNodeAtPosition(d),v=Gc(h,function(C){return fS(C)});if(v){var p=v.parent,m=VZ(t),g=m.type,y=m.parentType,b=m.childType,w=el(v);if(v[g])w=el(v[g])-1;else{var k=!p[g]&&p.parent.type===y?p.parent[g][b]:p[g];if(g==="next"){var x=k?el(k[b]):0;w+=x+2}else g==="prev"&&(w=k?-4:0)}return o(s.setSelection(vr(s,u+w))),!0}return!1}},e.prototype.addTable=function(){return function(t){return function(r,i){var o=r.selection,a=r.tr,s=r.schema,l=t,u=l.columnCount,c=l.rowCount,f=Br(o).endToOffset,d=FZ(u),h=HZ(u,c-1),v=Wi(Wi([],d),h);return v.forEach(function(p){a.split(a.mapping.map(f)).insert(a.mapping.map(f),ui(s,p))}),i(a.setSelection(vr(a,f+4))),!0}}},e.prototype.commands=function(){return{addTable:this.addTable()}},e.prototype.keymaps=function(){return{Enter:this.extendTable(),Tab:this.moveTableCell(!0),"Shift-Tab":this.moveTableCell(!1)}},e}(gr),UZ="***",JZ=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Fr("thematic-break")},0]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){return function(){return function(t,r){var i=t.selection,o=t.schema,a=t.tr,s=Br(i),l=s.from,u=s.to,c=s.endToOffset,f=ui(o,UZ);return a.split(l).replaceWith(a.mapping.map(l),a.mapping.map(u),f).split(a.mapping.map(u)).setSelection(vr(a,a.mapping.map(c))),r(a),!0}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var t=this.hr()();return{"Mod-l":t,"Mod-L":t}},e}(gr);function GZ(n,e){var t=n.type,r=n.sourcepos,i=r[0][0];return e<=i&&(t==="codeBlock"||t==="heading"||t.match("table"))}var KZ=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{odd:{default:!1},even:{default:!1},listStyle:{default:!1}},toDOM:function(t){var r=t.attrs,i=r.odd,o=r.even,a=r.listStyle,s="list-item";return a&&(s+="|list-item-style"),i&&(s+="|list-item-odd"),o&&(s+="|list-item-even"),["span",{class:Fr.apply(void 0,s.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendList=function(){var t=this;return function(r,i){var o=r.selection,a=r.doc,s=r.schema,l=r.tr,u=t.context.toastMark,c=Br(o),f=c.to,d=c.startFromOffset,h=c.endFromOffset,v=c.endIndex,p=c.endToOffset,m=ll(a,v),g=ku.test(m);if(!g||o.from===d||!o.empty)return!1;var y=!m.replace(om,"").trim();if(y)l.deleteRange(h,p).split(l.mapping.map(p));else{var b=nx(m),w=u.findFirstNodeAtLine(v+1),k=m.slice(f-h),x={toastMark:u,mdNode:w,doc:a,line:v+1},C=PZ[b](x),T=C.listSyntax,M=C.changedResults;if(M!=null&&M.length){l.split(f),M.unshift({text:T+k,line:v+1}),t.changeToListPerLine(l,M,{from:f,startLine:M[0].line,endLine:yi(M).line});var B=l.mapping.map(p)-k.length;l.setSelection(vr(l,B))}else{var _=ui(s,T+k);Jk(l,p,k,_)}}return i(l),!0}},e.prototype.toList=function(t){var r=this;return function(){return function(i,o){for(var a=i.doc,s=i.tr,l=i.selection,u=r.context.toastMark,c=Br(l),f=c.startIndex+1,d=c.endIndex+1,h=c.endToOffset,v=[],p=f;p<=d;p+=1){var m=u.findFirstNodeAtLine(p);if(m&&GZ(m,p))break;if(v.indexOf(p)===-1){var g={toastMark:u,mdNode:m,doc:a,line:p,startLine:f},y=(yu(m)?NZ[t](g):IZ[t](g)).changedResults,b=r.changeToListPerLine(s,y,{from:im(a,y[0].line-1).startOffset,startLine:y[0].line,endLine:yi(y).line,indexDiff:1});h=Math.max(b,h),y&&(v=v.concat(y.map(function(w){return w.line})))}}return o(s.setSelection(vr(s,s.mapping.map(h)))),!0}}},e.prototype.changeToListPerLine=function(t,r,i){for(var o=i.from,a=i.startLine,s=i.endLine,l=i.indexDiff,u=l===void 0?0:l,c=0,f=function(v){var p=t.doc.child(v),m=p.nodeSize,g=p.content,y=t.mapping.map(o),b=y+g.size,w=r.filter(function(k){return k.line-u===v})[0];w&&(t.replaceWith(y,b,ui(d.context.schema,w.text)),c=Math.max(c,o+g.size)),o+=m},d=this,h=a-u;h<=s-u;h+=1)f(h);return c},e.prototype.toggleTask=function(){var t=this;return function(r,i){for(var o=r.selection,a=r.tr,s=r.doc,l=r.schema,u=t.context.toastMark,c=Br(o),f=c.startIndex,d=c.endIndex,h=null,v=f;v<=d;v+=1){var p=u.findFirstNodeAtLine(v+1);if(yu(p)&&p.listData.task){var m=p.listData,g=m.checked,y=m.padding,b=g?" ":"x",w=p.sourcepos[0],k=im(s,w[0]-1).startOffset;k+=w[1]+y,h=a.replaceWith(k,k+1,l.text(b))}}return h?(i(h),!0):!1}},e.prototype.commands=function(){return{bulletList:this.toList("bullet"),orderedList:this.toList("ordered"),taskList:this.toList("task")}},e.prototype.keymaps=function(){var t=this.toList("bullet")(),r=this.toList("ordered")(),i=this.toList("task")(),o=this.toggleTask();return{"Mod-u":t,"Mod-U":t,"Mod-o":r,"Mod-O":r,"alt-t":i,"alt-T":i,"Shift-Ctrl-x":o,"Shift-Ctrl-X":o,Enter:this.extendList()}},e}(gr);function _g(n,e){return function(){return function(t,r){var i=t.tr,o=t.selection,a=So(n)?n:function(b){return n.test(b)},s=e.length,l=i.doc,u=SR(o),c=u[0],f=u[1],d=Math.max(c-s,1),h=Math.min(f+s,l.content.size-1),v=o.content(),p=v.content.textBetween(0,v.content.size,`
`),m=l.textBetween(d,c,`
`),g=l.textBetween(f,h,`
`);if(p=""+m+p+g,m&&g&&a(p))i.delete(h-s,h).delete(d,d+s);else{i.insertText(e,f).insertText(e,c);var y=o.empty?vr(i,c+s):vr(i,c+s,f+s);i.setSelection(y)}return r(i),!0}}}var QZ=/^(\*{2}|_{2}).*([\s\S]*)\1$/m,YZ="**",ZZ=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Fr("strong")},0]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return _g(QZ,YZ)},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var t=this.bold()();return{"Mod-b":t,"Mod-B":t}},e}(gr),XZ=/^(~{2}).*([\s\S]*)\1$/m,eX="~~",tX=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Fr("strike")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return _g(XZ,eX)},e.prototype.keymaps=function(){var t=this.commands()();return{"Mod-s":t,"Mod-S":t}},e}(gr),nX=/^(\*|_).*([\s\S]*)\1$/m,rX="*",iX=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Fr("emph")},0]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return _g(nX,rX)},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var t=this.italic()();return{"Mod-i":t,"Mod-I":t}},e}(gr),oX=/^(`).*([\s\S]*)\1$/m,aX="`",sX=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{start:{default:!1},end:{default:!1},marked:{default:!1}},toDOM:function(t){var r=t.attrs,i=r.start,o=r.end,a=r.marked,s="code";return i&&(s+="|delimiter|start"),o&&(s+="|delimiter|end"),a&&(s+="|marked-text"),["span",{class:Fr.apply(void 0,s.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return _g(oX,aX)},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-c":t,"Shift-Mod-C":t}},e}(gr),lX=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{url:{default:!1},desc:{default:!1}},toDOM:function(t){var r=t.attrs,i=r.url,o=r.desc,a="link";return i&&(a+="|link-url|marked-text"),o&&(a+="|link-desc|marked-text"),["span",{class:Fr.apply(void 0,a.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.addLinkOrImage=function(t){return function(r){return function(i,o){var a=i.selection,s=i.tr,l=i.schema,u=SR(a),c=u[0],f=u[1],d=r,h=d.linkText,v=d.altText,p=d.linkUrl,m=d.imageUrl,g=h,y=p,b="";return t==="image"&&(g=v,y=m,b="!"),g=em(g),b+="["+g+"]("+y+")",o(s.replaceWith(c,f,ui(l,b))),!0}}},e.prototype.commands=function(){return{addImage:this.addLinkOrImage("image"),addLink:this.addLinkOrImage("link")}},e}(gr),uX=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"taskDelimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Fr("delimiter","list-item")},0]}}},enumerable:!1,configurable:!0}),e}(gr),cX=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"delimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Fr("delimiter")},0]}}},enumerable:!1,configurable:!0}),e}(gr),fX=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"meta"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Fr("meta")},0]}}},enumerable:!1,configurable:!0}),e}(gr),dX=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"markedText"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Fr("marked-text")},0]}}},enumerable:!1,configurable:!0}),e}(gr),hX=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Fr("table-cell")},0]}}},enumerable:!1,configurable:!0}),e}(gr),pX=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"html"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Fr("html")},0]}}},enumerable:!1,configurable:!0}),e}(gr),cy="$$",vX=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Fr("custom-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(r,i){var o=r.selection,a=r.schema,s=r.tr,l=Br(o),u=l.startFromOffset,c=l.endToOffset;if(!(t!=null&&t.info))return!1;var f=""+cy+t.info,d=ui(a,f),h=ui(a,cy);return s.insert(u,d).split(u+f.length),s.split(s.mapping.map(c)).insert(s.mapping.map(c),h),i(s.setSelection(vr(s,s.mapping.map(c)-(cy.length+2)))),!0}}},e}(gr),mX=/x|backspace/i,gX=/^\[(\s*)(x?)(\s*)\](?:\s+)/i;function yX(n){var e=n.schema,t=n.toastMark;return new Gi({props:{handleDOMEvents:{keyup:function(r,i){var o,a=r.state,s=a.doc,l=a.tr,u=a.selection;if(u.empty&&mX.test(i.key)){var c=Br(u),f=c.startIndex,d=c.startFromOffset,h=c.from,v=[f+1,h-d+1],p=t.findNodeAtPosition(v),m=Gc(p,function(_){var N;return _.type==="paragraph"&&((N=_.parent)===null||N===void 0?void 0:N.type)==="item"});if(!((o=m==null?void 0:m.firstChild)===null||o===void 0)&&o.literal){var g=m.firstChild,y=g.literal.match(gX);if(y){var b=g.sourcepos[0],w=y[1],k=y[2],x=y[3],C=w.length+x.length,T=im(s,b[0]-1).startOffset,M=b[1]+T;if(k){var B=C?C+1:0;l.replaceWith(M,B+M,e.text(k)),r.dispatch(l)}else C||(l.insertText(" ",M),r.dispatch(l))}}}return!1}}}})}var fy="cut",SS=/\r\n|\n|\r/,bX=function(n){kt(e,n);function e(t,r){var i=n.call(this,t)||this,o=r.toastMark,a=r.useCommandShortcut,s=a===void 0?!0:a,l=r.mdPlugins,u=l===void 0?[]:l;return i.editorType="markdown",i.el.classList.add("md-mode"),i.toastMark=o,i.extraPlugins=u,i.specs=i.createSpecs(),i.schema=i.createSchema(),i.context=i.createContext(),i.keymaps=i.createKeymaps(s),i.view=i.createView(),i.commands=i.createCommands(),i.specs.setContext(Pe(Pe({},i.context),{view:i.view})),i.createClipboard(),i.eventEmitter.listen("changePreviewTabWrite",function(c){return i.toggleActive(!0,c)}),i.eventEmitter.listen("changePreviewTabPreview",function(){return i.toggleActive(!1)}),i.initEvent(),i}return e.prototype.toggleActive=function(t,r){Kk(this.el,"active",t),t?r||this.focus():this.blur()},e.prototype.createClipboard=function(){var t=this;this.clipboard=document.createElement("textarea"),this.clipboard.className=Ot("pseudo-clipboard"),this.clipboard.addEventListener("paste",function(r){var i=r.clipboardData||window.clipboardData,o=i&&i.items;if(o){var a=Va(o).some(function(l){return l.kind==="string"&&l.type==="text/rtf"});if(!a){var s=wR(o);s&&(r.preventDefault(),Xk(t.eventEmitter,s,r.type))}}}),this.clipboard.addEventListener("input",function(r){var i=r.target.value;t.replaceSelection(i),r.preventDefault(),r.target.value=""}),this.el.insertBefore(this.clipboard,this.view.dom)},e.prototype.createContext=function(){return{toastMark:this.toastMark,schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSpecs=function(){return new CR([new SZ,new LZ,new xR,new DZ,new BZ,new TZ,new zZ,new vX,new WZ,new hX,new JZ,new KZ,new ZZ,new tX,new iX,new sX,new lX,new cX,new uX,new dX,new fX,new pX])},e.prototype.createPlugins=function(){return Wi([hZ(this.context),CZ(this.context),yX(this.context)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createView=function(){var t=this;return new Nk(this.el,{state:this.createState(),dispatchTransaction:function(r){t.updateMarkdown(r);var i=t.view.state.applyTransaction(r).state;t.view.updateState(i),t.emitChangeEvent(r)},handleKeyDown:function(r,i){return(i.metaKey||i.ctrlKey)&&i.key.toUpperCase()==="V"&&t.clipboard.focus(),t.eventEmitter.emit("keydown",t.editorType,i),!1},handleDOMEvents:{copy:function(r,i){return t.captureCopy(i)},cut:function(r,i){return t.captureCopy(i,fy)},scroll:function(){return t.eventEmitter.emit("scroll","editor"),!0},keyup:function(r,i){return t.eventEmitter.emit("keyup",t.editorType,i),!1}},nodeViews:{widget:kR}})},e.prototype.createCommands=function(){return this.specs.commands(this.view)},e.prototype.captureCopy=function(t,r){t.preventDefault();var i=this.view.state,o=i.selection,a=i.tr;if(o.empty)return!0;var s=this.getChanged(o.content());return t.clipboardData?t.clipboardData.setData("text/plain",s):window.clipboardData.setData("Text",s),r===fy&&this.view.dispatch(a.deleteSelection().scrollIntoView().setMeta("uiEvent",fy)),!0},e.prototype.updateMarkdown=function(t){var r=this;t.docChanged&&t.steps.forEach(function(i,o){if(i.slice&&!(i instanceof Jr)){var a=t.docs[o],s=[i.from,i.to],l=s[0],u=s[1],c=cv(a,l,u),f=c[0],d=c[1],h=r.getChanged(i.slice);f[0]===d[0]&&f[1]===d[1]&&h===""&&(h=`
`);var v=r.toastMark.editMarkdown(f,d,h);r.eventEmitter.emit("updatePreview",v),t.setMeta("editResult",v).scrollIntoView()}})},e.prototype.getChanged=function(t){var r="",i=0,o=t.content.size;return t.content.nodesBetween(i,o,function(a,s){a.isText?r+=a.text.slice(Math.max(i,s)-s,o-s):a.isBlock&&s>0&&(r+=`
`)}),r},e.prototype.setSelection=function(t,r){r===void 0&&(r=t);var i=this.view.state.tr,o=zl(i.doc,t,r),a=o[0],s=o[1];this.view.dispatch(i.setSelection(vr(i,a,s)).scrollIntoView())},e.prototype.replaceSelection=function(t,r,i){var o,a=this.view.state,s=a.tr,l=a.schema,u=a.doc,c=t.split(SS),f=c.map(function(m){return nm(l,cu(m,l))}),d=new yt(We.from(f),1,1);if(this.focus(),r&&i){var h=zl(u,r,i),v=h[0],p=h[1];o=s.replaceRange(v,p,d)}else o=s.replaceSelection(d);this.view.dispatch(o.scrollIntoView())},e.prototype.deleteSelection=function(t,r){var i,o=this.view.state,a=o.tr,s=o.doc;if(t&&r){var l=zl(s,t,r),u=l[0],c=l[1];i=a.deleteRange(u,c)}else i=a.deleteSelection();this.view.dispatch(i.scrollIntoView())},e.prototype.getSelectedText=function(t,r){var i=this.view.state,o=i.doc,a=i.selection,s=a.from,l=a.to;if(t&&r){var u=zl(o,t,r);s=u[0],l=u[1]}return o.textBetween(s,l,`
`)},e.prototype.getSelection=function(){var t=this.view.state.selection,r=t.from,i=t.to;return cv(this.view.state.tr.doc,r,i)},e.prototype.setMarkdown=function(t,r){r===void 0&&(r=!0);var i=t.split(SS),o=this.view.state,a=o.tr,s=o.doc,l=o.schema,u=i.map(function(c){return nm(l,cu(c,l))});this.view.dispatch(a.replaceWith(0,s.content.size,u)),r&&this.moveCursorToEnd(!0)},e.prototype.addWidget=function(t,r,i){var o=this.view.state,a=o.tr,s=o.doc,l=o.selection,u=i?zl(s,i,i)[0]:l.to;this.view.dispatch(a.setMeta("widget",{pos:u,node:t,style:r}))},e.prototype.replaceWithWidget=function(t,r,i){var o=this.view.state,a=o.tr,s=o.schema,l=o.doc,u=zl(l,t,r),c=cu(i,s);this.view.dispatch(a.replaceWith(u[0],u[1],c))},e.prototype.getRangeInfoOfNode=function(t){var r=this.view.state,i=r.doc,o=r.selection,a=t||cv(i,o.from)[0],s=this.toastMark.findNodeAtPosition(a);return s.type==="text"&&s.parent.type!=="paragraph"&&(s=s.parent),s.sourcepos[1][1]+=1,{range:s.sourcepos,type:s.type}},e.prototype.getMarkdown=function(){return this.toastMark.getLineTexts().map(function(t){return Mg(t)}).join(`
`)},e.prototype.getToastMark=function(){return this.toastMark},e}(jR),TS="_feEventKey";function wX(n,e){var t=n[TS],r;return t||(t=n[TS]={}),r=t[e],r||(r=t[e]=[]),r}var _R=wX,kX=xs,sm=Tg,xX=_R;function jX(n,e,t){if(kX(e)){sm(e.split(/\s+/g),function(r){OS(n,r,t)});return}sm(e,function(r,i){OS(n,i,r)})}function OS(n,e,t){var r=xX(n,e),i;t?(sm(r,function(o,a){return t===o.handler?(ES(n,e,o.wrappedHandler),i=a,!1):!0}),r.splice(i,1)):(sm(r,function(o){ES(n,e,o.wrappedHandler)}),r.splice(0,r.length))}function ES(n,e,t){"removeEventListener"in n?n.removeEventListener(e,t):"detachEvent"in n&&n.detachEvent("on"+e,t)}var NR=jX,CX=xs,tb=Tg,SX=_R;function TX(n,e,t,r){if(CX(e)){tb(e.split(/\s+/g),function(i){MS(n,i,t,r)});return}tb(e,function(i,o){MS(n,o,i,t)})}function MS(n,e,t,r){function i(o){t.call(r||n,o||window.event)}"addEventListener"in n?n.addEventListener(e,i):"attachEvent"in n&&n.attachEvent("on"+e,i),OX(n,e,t,i)}function OX(n,e,t,r){var i=SX(n,e),o=!1;tb(i,function(a){return a.handler===t?(o=!0,!1):!0}),o||i.push({handler:t,wrappedHandler:r})}var IR=TX;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var nb=function(n,e){return nb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},nb(n,e)};function Ao(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");nb(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ni=function(){return ni=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ni.apply(this,arguments)};function rb(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}var Yc=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},$S={};function EX(n){var e,t,r=$S[n];if(r)return r;for(r=$S[n]=[],e=0;e<128;e++)t=String.fromCharCode(e),/^[0-9a-z]$/i.test(t)?r.push(t):r.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<n.length;e++)r[n.charCodeAt(e)]=n[e];return r}function Ng(n,e,t){var r,i,o,a,s,l="";for(typeof e!="string"&&(t=e,e=Ng.defaultChars),typeof t=="undefined"&&(t=!0),s=EX(e),r=0,i=n.length;r<i;r++){if(o=n.charCodeAt(r),t&&o===37&&r+2<i&&/^[0-9a-f]{2}$/i.test(n.slice(r+1,r+3))){l+=n.slice(r,r+3),r+=2;continue}if(o<128){l+=s[o];continue}if(o>=55296&&o<=57343){if(o>=55296&&o<=56319&&r+1<i&&(a=n.charCodeAt(r+1),a>=56320&&a<=57343)){l+=encodeURIComponent(n[r]+n[r+1]),r++;continue}l+="%EF%BF%BD";continue}l+=encodeURIComponent(n[r])}return l}Ng.defaultChars=";/?:@&=+$,-_.!~*'()#";Ng.componentChars="-_.!~*'()";var MX=Ng,ix={},vs={},$X="\xC1",AX="\xE1",_X="\u0102",NX="\u0103",IX="\u223E",PX="\u223F",LX="\u223E\u0333",DX="\xC2",RX="\xE2",BX="\xB4",zX="\u0410",qX="\u0430",FX="\xC6",HX="\xE6",VX="\u2061",WX="\u{1D504}",UX="\u{1D51E}",JX="\xC0",GX="\xE0",KX="\u2135",QX="\u2135",YX="\u0391",ZX="\u03B1",XX="\u0100",eee="\u0101",tee="\u2A3F",nee="&",ree="&",iee="\u2A55",oee="\u2A53",aee="\u2227",see="\u2A5C",lee="\u2A58",uee="\u2A5A",cee="\u2220",fee="\u29A4",dee="\u2220",hee="\u29A8",pee="\u29A9",vee="\u29AA",mee="\u29AB",gee="\u29AC",yee="\u29AD",bee="\u29AE",wee="\u29AF",kee="\u2221",xee="\u221F",jee="\u22BE",Cee="\u299D",See="\u2222",Tee="\xC5",Oee="\u237C",Eee="\u0104",Mee="\u0105",$ee="\u{1D538}",Aee="\u{1D552}",_ee="\u2A6F",Nee="\u2248",Iee="\u2A70",Pee="\u224A",Lee="\u224B",Dee="'",Ree="\u2061",Bee="\u2248",zee="\u224A",qee="\xC5",Fee="\xE5",Hee="\u{1D49C}",Vee="\u{1D4B6}",Wee="\u2254",Uee="*",Jee="\u2248",Gee="\u224D",Kee="\xC3",Qee="\xE3",Yee="\xC4",Zee="\xE4",Xee="\u2233",ete="\u2A11",tte="\u224C",nte="\u03F6",rte="\u2035",ite="\u223D",ote="\u22CD",ate="\u2216",ste="\u2AE7",lte="\u22BD",ute="\u2305",cte="\u2306",fte="\u2305",dte="\u23B5",hte="\u23B6",pte="\u224C",vte="\u0411",mte="\u0431",gte="\u201E",yte="\u2235",bte="\u2235",wte="\u2235",kte="\u29B0",xte="\u03F6",jte="\u212C",Cte="\u212C",Ste="\u0392",Tte="\u03B2",Ote="\u2136",Ete="\u226C",Mte="\u{1D505}",$te="\u{1D51F}",Ate="\u22C2",_te="\u25EF",Nte="\u22C3",Ite="\u2A00",Pte="\u2A01",Lte="\u2A02",Dte="\u2A06",Rte="\u2605",Bte="\u25BD",zte="\u25B3",qte="\u2A04",Fte="\u22C1",Hte="\u22C0",Vte="\u290D",Wte="\u29EB",Ute="\u25AA",Jte="\u25B4",Gte="\u25BE",Kte="\u25C2",Qte="\u25B8",Yte="\u2423",Zte="\u2592",Xte="\u2591",ene="\u2593",tne="\u2588",nne="=\u20E5",rne="\u2261\u20E5",ine="\u2AED",one="\u2310",ane="\u{1D539}",sne="\u{1D553}",lne="\u22A5",une="\u22A5",cne="\u22C8",fne="\u29C9",dne="\u2510",hne="\u2555",pne="\u2556",vne="\u2557",mne="\u250C",gne="\u2552",yne="\u2553",bne="\u2554",wne="\u2500",kne="\u2550",xne="\u252C",jne="\u2564",Cne="\u2565",Sne="\u2566",Tne="\u2534",One="\u2567",Ene="\u2568",Mne="\u2569",$ne="\u229F",Ane="\u229E",_ne="\u22A0",Nne="\u2518",Ine="\u255B",Pne="\u255C",Lne="\u255D",Dne="\u2514",Rne="\u2558",Bne="\u2559",zne="\u255A",qne="\u2502",Fne="\u2551",Hne="\u253C",Vne="\u256A",Wne="\u256B",Une="\u256C",Jne="\u2524",Gne="\u2561",Kne="\u2562",Qne="\u2563",Yne="\u251C",Zne="\u255E",Xne="\u255F",ere="\u2560",tre="\u2035",nre="\u02D8",rre="\u02D8",ire="\xA6",ore="\u{1D4B7}",are="\u212C",sre="\u204F",lre="\u223D",ure="\u22CD",cre="\u29C5",fre="\\",dre="\u27C8",hre="\u2022",pre="\u2022",vre="\u224E",mre="\u2AAE",gre="\u224F",yre="\u224E",bre="\u224F",wre="\u0106",kre="\u0107",xre="\u2A44",jre="\u2A49",Cre="\u2A4B",Sre="\u2229",Tre="\u22D2",Ore="\u2A47",Ere="\u2A40",Mre="\u2145",$re="\u2229\uFE00",Are="\u2041",_re="\u02C7",Nre="\u212D",Ire="\u2A4D",Pre="\u010C",Lre="\u010D",Dre="\xC7",Rre="\xE7",Bre="\u0108",zre="\u0109",qre="\u2230",Fre="\u2A4C",Hre="\u2A50",Vre="\u010A",Wre="\u010B",Ure="\xB8",Jre="\xB8",Gre="\u29B2",Kre="\xA2",Qre="\xB7",Yre="\xB7",Zre="\u{1D520}",Xre="\u212D",eie="\u0427",tie="\u0447",nie="\u2713",rie="\u2713",iie="\u03A7",oie="\u03C7",aie="\u02C6",sie="\u2257",lie="\u21BA",uie="\u21BB",cie="\u229B",fie="\u229A",die="\u229D",hie="\u2299",pie="\xAE",vie="\u24C8",mie="\u2296",gie="\u2295",yie="\u2297",bie="\u25CB",wie="\u29C3",kie="\u2257",xie="\u2A10",jie="\u2AEF",Cie="\u29C2",Sie="\u2232",Tie="\u201D",Oie="\u2019",Eie="\u2663",Mie="\u2663",$ie=":",Aie="\u2237",_ie="\u2A74",Nie="\u2254",Iie="\u2254",Pie=",",Lie="@",Die="\u2201",Rie="\u2218",Bie="\u2201",zie="\u2102",qie="\u2245",Fie="\u2A6D",Hie="\u2261",Vie="\u222E",Wie="\u222F",Uie="\u222E",Jie="\u{1D554}",Gie="\u2102",Kie="\u2210",Qie="\u2210",Yie="\xA9",Zie="\xA9",Xie="\u2117",eoe="\u2233",toe="\u21B5",noe="\u2717",roe="\u2A2F",ioe="\u{1D49E}",ooe="\u{1D4B8}",aoe="\u2ACF",soe="\u2AD1",loe="\u2AD0",uoe="\u2AD2",coe="\u22EF",foe="\u2938",doe="\u2935",hoe="\u22DE",poe="\u22DF",voe="\u21B6",moe="\u293D",goe="\u2A48",yoe="\u2A46",boe="\u224D",woe="\u222A",koe="\u22D3",xoe="\u2A4A",joe="\u228D",Coe="\u2A45",Soe="\u222A\uFE00",Toe="\u21B7",Ooe="\u293C",Eoe="\u22DE",Moe="\u22DF",$oe="\u22CE",Aoe="\u22CF",_oe="\xA4",Noe="\u21B6",Ioe="\u21B7",Poe="\u22CE",Loe="\u22CF",Doe="\u2232",Roe="\u2231",Boe="\u232D",zoe="\u2020",qoe="\u2021",Foe="\u2138",Hoe="\u2193",Voe="\u21A1",Woe="\u21D3",Uoe="\u2010",Joe="\u2AE4",Goe="\u22A3",Koe="\u290F",Qoe="\u02DD",Yoe="\u010E",Zoe="\u010F",Xoe="\u0414",eae="\u0434",tae="\u2021",nae="\u21CA",rae="\u2145",iae="\u2146",oae="\u2911",aae="\u2A77",sae="\xB0",lae="\u2207",uae="\u0394",cae="\u03B4",fae="\u29B1",dae="\u297F",hae="\u{1D507}",pae="\u{1D521}",vae="\u2965",mae="\u21C3",gae="\u21C2",yae="\xB4",bae="\u02D9",wae="\u02DD",kae="`",xae="\u02DC",jae="\u22C4",Cae="\u22C4",Sae="\u22C4",Tae="\u2666",Oae="\u2666",Eae="\xA8",Mae="\u2146",$ae="\u03DD",Aae="\u22F2",_ae="\xF7",Nae="\xF7",Iae="\u22C7",Pae="\u22C7",Lae="\u0402",Dae="\u0452",Rae="\u231E",Bae="\u230D",zae="$",qae="\u{1D53B}",Fae="\u{1D555}",Hae="\xA8",Vae="\u02D9",Wae="\u20DC",Uae="\u2250",Jae="\u2251",Gae="\u2250",Kae="\u2238",Qae="\u2214",Yae="\u22A1",Zae="\u2306",Xae="\u222F",ese="\xA8",tse="\u21D3",nse="\u21D0",rse="\u21D4",ise="\u2AE4",ose="\u27F8",ase="\u27FA",sse="\u27F9",lse="\u21D2",use="\u22A8",cse="\u21D1",fse="\u21D5",dse="\u2225",hse="\u2913",pse="\u2193",vse="\u2193",mse="\u21D3",gse="\u21F5",yse="\u0311",bse="\u21CA",wse="\u21C3",kse="\u21C2",xse="\u2950",jse="\u295E",Cse="\u2956",Sse="\u21BD",Tse="\u295F",Ose="\u2957",Ese="\u21C1",Mse="\u21A7",$se="\u22A4",Ase="\u2910",_se="\u231F",Nse="\u230C",Ise="\u{1D49F}",Pse="\u{1D4B9}",Lse="\u0405",Dse="\u0455",Rse="\u29F6",Bse="\u0110",zse="\u0111",qse="\u22F1",Fse="\u25BF",Hse="\u25BE",Vse="\u21F5",Wse="\u296F",Use="\u29A6",Jse="\u040F",Gse="\u045F",Kse="\u27FF",Qse="\xC9",Yse="\xE9",Zse="\u2A6E",Xse="\u011A",ele="\u011B",tle="\xCA",nle="\xEA",rle="\u2256",ile="\u2255",ole="\u042D",ale="\u044D",sle="\u2A77",lle="\u0116",ule="\u0117",cle="\u2251",fle="\u2147",dle="\u2252",hle="\u{1D508}",ple="\u{1D522}",vle="\u2A9A",mle="\xC8",gle="\xE8",yle="\u2A96",ble="\u2A98",wle="\u2A99",kle="\u2208",xle="\u23E7",jle="\u2113",Cle="\u2A95",Sle="\u2A97",Tle="\u0112",Ole="\u0113",Ele="\u2205",Mle="\u2205",$le="\u25FB",Ale="\u2205",_le="\u25AB",Nle="\u2004",Ile="\u2005",Ple="\u2003",Lle="\u014A",Dle="\u014B",Rle="\u2002",Ble="\u0118",zle="\u0119",qle="\u{1D53C}",Fle="\u{1D556}",Hle="\u22D5",Vle="\u29E3",Wle="\u2A71",Ule="\u03B5",Jle="\u0395",Gle="\u03B5",Kle="\u03F5",Qle="\u2256",Yle="\u2255",Zle="\u2242",Xle="\u2A96",eue="\u2A95",tue="\u2A75",nue="=",rue="\u2242",iue="\u225F",oue="\u21CC",aue="\u2261",sue="\u2A78",lue="\u29E5",uue="\u2971",cue="\u2253",fue="\u212F",due="\u2130",hue="\u2250",pue="\u2A73",vue="\u2242",mue="\u0397",gue="\u03B7",yue="\xD0",bue="\xF0",wue="\xCB",kue="\xEB",xue="\u20AC",jue="!",Cue="\u2203",Sue="\u2203",Tue="\u2130",Oue="\u2147",Eue="\u2147",Mue="\u2252",$ue="\u0424",Aue="\u0444",_ue="\u2640",Nue="\uFB03",Iue="\uFB00",Pue="\uFB04",Lue="\u{1D509}",Due="\u{1D523}",Rue="\uFB01",Bue="\u25FC",zue="\u25AA",que="fj",Fue="\u266D",Hue="\uFB02",Vue="\u25B1",Wue="\u0192",Uue="\u{1D53D}",Jue="\u{1D557}",Gue="\u2200",Kue="\u2200",Que="\u22D4",Yue="\u2AD9",Zue="\u2131",Xue="\u2A0D",ece="\xBD",tce="\u2153",nce="\xBC",rce="\u2155",ice="\u2159",oce="\u215B",ace="\u2154",sce="\u2156",lce="\xBE",uce="\u2157",cce="\u215C",fce="\u2158",dce="\u215A",hce="\u215D",pce="\u215E",vce="\u2044",mce="\u2322",gce="\u{1D4BB}",yce="\u2131",bce="\u01F5",wce="\u0393",kce="\u03B3",xce="\u03DC",jce="\u03DD",Cce="\u2A86",Sce="\u011E",Tce="\u011F",Oce="\u0122",Ece="\u011C",Mce="\u011D",$ce="\u0413",Ace="\u0433",_ce="\u0120",Nce="\u0121",Ice="\u2265",Pce="\u2267",Lce="\u2A8C",Dce="\u22DB",Rce="\u2265",Bce="\u2267",zce="\u2A7E",qce="\u2AA9",Fce="\u2A7E",Hce="\u2A80",Vce="\u2A82",Wce="\u2A84",Uce="\u22DB\uFE00",Jce="\u2A94",Gce="\u{1D50A}",Kce="\u{1D524}",Qce="\u226B",Yce="\u22D9",Zce="\u22D9",Xce="\u2137",efe="\u0403",tfe="\u0453",nfe="\u2AA5",rfe="\u2277",ife="\u2A92",ofe="\u2AA4",afe="\u2A8A",sfe="\u2A8A",lfe="\u2A88",ufe="\u2269",cfe="\u2A88",ffe="\u2269",dfe="\u22E7",hfe="\u{1D53E}",pfe="\u{1D558}",vfe="`",mfe="\u2265",gfe="\u22DB",yfe="\u2267",bfe="\u2AA2",wfe="\u2277",kfe="\u2A7E",xfe="\u2273",jfe="\u{1D4A2}",Cfe="\u210A",Sfe="\u2273",Tfe="\u2A8E",Ofe="\u2A90",Efe="\u2AA7",Mfe="\u2A7A",$fe=">",Afe=">",_fe="\u226B",Nfe="\u22D7",Ife="\u2995",Pfe="\u2A7C",Lfe="\u2A86",Dfe="\u2978",Rfe="\u22D7",Bfe="\u22DB",zfe="\u2A8C",qfe="\u2277",Ffe="\u2273",Hfe="\u2269\uFE00",Vfe="\u2269\uFE00",Wfe="\u02C7",Ufe="\u200A",Jfe="\xBD",Gfe="\u210B",Kfe="\u042A",Qfe="\u044A",Yfe="\u2948",Zfe="\u2194",Xfe="\u21D4",ede="\u21AD",tde="^",nde="\u210F",rde="\u0124",ide="\u0125",ode="\u2665",ade="\u2665",sde="\u2026",lde="\u22B9",ude="\u{1D525}",cde="\u210C",fde="\u210B",dde="\u2925",hde="\u2926",pde="\u21FF",vde="\u223B",mde="\u21A9",gde="\u21AA",yde="\u{1D559}",bde="\u210D",wde="\u2015",kde="\u2500",xde="\u{1D4BD}",jde="\u210B",Cde="\u210F",Sde="\u0126",Tde="\u0127",Ode="\u224E",Ede="\u224F",Mde="\u2043",$de="\u2010",Ade="\xCD",_de="\xED",Nde="\u2063",Ide="\xCE",Pde="\xEE",Lde="\u0418",Dde="\u0438",Rde="\u0130",Bde="\u0415",zde="\u0435",qde="\xA1",Fde="\u21D4",Hde="\u{1D526}",Vde="\u2111",Wde="\xCC",Ude="\xEC",Jde="\u2148",Gde="\u2A0C",Kde="\u222D",Qde="\u29DC",Yde="\u2129",Zde="\u0132",Xde="\u0133",ehe="\u012A",the="\u012B",nhe="\u2111",rhe="\u2148",ihe="\u2110",ohe="\u2111",ahe="\u0131",she="\u2111",lhe="\u22B7",uhe="\u01B5",che="\u21D2",fhe="\u2105",dhe="\u221E",hhe="\u29DD",phe="\u0131",vhe="\u22BA",mhe="\u222B",ghe="\u222C",yhe="\u2124",bhe="\u222B",whe="\u22BA",khe="\u22C2",xhe="\u2A17",jhe="\u2A3C",Che="\u2063",She="\u2062",The="\u0401",Ohe="\u0451",Ehe="\u012E",Mhe="\u012F",$he="\u{1D540}",Ahe="\u{1D55A}",_he="\u0399",Nhe="\u03B9",Ihe="\u2A3C",Phe="\xBF",Lhe="\u{1D4BE}",Dhe="\u2110",Rhe="\u2208",Bhe="\u22F5",zhe="\u22F9",qhe="\u22F4",Fhe="\u22F3",Hhe="\u2208",Vhe="\u2062",Whe="\u0128",Uhe="\u0129",Jhe="\u0406",Ghe="\u0456",Khe="\xCF",Qhe="\xEF",Yhe="\u0134",Zhe="\u0135",Xhe="\u0419",epe="\u0439",tpe="\u{1D50D}",npe="\u{1D527}",rpe="\u0237",ipe="\u{1D541}",ope="\u{1D55B}",ape="\u{1D4A5}",spe="\u{1D4BF}",lpe="\u0408",upe="\u0458",cpe="\u0404",fpe="\u0454",dpe="\u039A",hpe="\u03BA",ppe="\u03F0",vpe="\u0136",mpe="\u0137",gpe="\u041A",ype="\u043A",bpe="\u{1D50E}",wpe="\u{1D528}",kpe="\u0138",xpe="\u0425",jpe="\u0445",Cpe="\u040C",Spe="\u045C",Tpe="\u{1D542}",Ope="\u{1D55C}",Epe="\u{1D4A6}",Mpe="\u{1D4C0}",$pe="\u21DA",Ape="\u0139",_pe="\u013A",Npe="\u29B4",Ipe="\u2112",Ppe="\u039B",Lpe="\u03BB",Dpe="\u27E8",Rpe="\u27EA",Bpe="\u2991",zpe="\u27E8",qpe="\u2A85",Fpe="\u2112",Hpe="\xAB",Vpe="\u21E4",Wpe="\u291F",Upe="\u2190",Jpe="\u219E",Gpe="\u21D0",Kpe="\u291D",Qpe="\u21A9",Ype="\u21AB",Zpe="\u2939",Xpe="\u2973",eve="\u21A2",tve="\u2919",nve="\u291B",rve="\u2AAB",ive="\u2AAD",ove="\u2AAD\uFE00",ave="\u290C",sve="\u290E",lve="\u2772",uve="{",cve="[",fve="\u298B",dve="\u298F",hve="\u298D",pve="\u013D",vve="\u013E",mve="\u013B",gve="\u013C",yve="\u2308",bve="{",wve="\u041B",kve="\u043B",xve="\u2936",jve="\u201C",Cve="\u201E",Sve="\u2967",Tve="\u294B",Ove="\u21B2",Eve="\u2264",Mve="\u2266",$ve="\u27E8",Ave="\u21E4",_ve="\u2190",Nve="\u2190",Ive="\u21D0",Pve="\u21C6",Lve="\u21A2",Dve="\u2308",Rve="\u27E6",Bve="\u2961",zve="\u2959",qve="\u21C3",Fve="\u230A",Hve="\u21BD",Vve="\u21BC",Wve="\u21C7",Uve="\u2194",Jve="\u2194",Gve="\u21D4",Kve="\u21C6",Qve="\u21CB",Yve="\u21AD",Zve="\u294E",Xve="\u21A4",eme="\u22A3",tme="\u295A",nme="\u22CB",rme="\u29CF",ime="\u22B2",ome="\u22B4",ame="\u2951",sme="\u2960",lme="\u2958",ume="\u21BF",cme="\u2952",fme="\u21BC",dme="\u2A8B",hme="\u22DA",pme="\u2264",vme="\u2266",mme="\u2A7D",gme="\u2AA8",yme="\u2A7D",bme="\u2A7F",wme="\u2A81",kme="\u2A83",xme="\u22DA\uFE00",jme="\u2A93",Cme="\u2A85",Sme="\u22D6",Tme="\u22DA",Ome="\u2A8B",Eme="\u22DA",Mme="\u2266",$me="\u2276",Ame="\u2276",_me="\u2AA1",Nme="\u2272",Ime="\u2A7D",Pme="\u2272",Lme="\u297C",Dme="\u230A",Rme="\u{1D50F}",Bme="\u{1D529}",zme="\u2276",qme="\u2A91",Fme="\u2962",Hme="\u21BD",Vme="\u21BC",Wme="\u296A",Ume="\u2584",Jme="\u0409",Gme="\u0459",Kme="\u21C7",Qme="\u226A",Yme="\u22D8",Zme="\u231E",Xme="\u21DA",ege="\u296B",tge="\u25FA",nge="\u013F",rge="\u0140",ige="\u23B0",oge="\u23B0",age="\u2A89",sge="\u2A89",lge="\u2A87",uge="\u2268",cge="\u2A87",fge="\u2268",dge="\u22E6",hge="\u27EC",pge="\u21FD",vge="\u27E6",mge="\u27F5",gge="\u27F5",yge="\u27F8",bge="\u27F7",wge="\u27F7",kge="\u27FA",xge="\u27FC",jge="\u27F6",Cge="\u27F6",Sge="\u27F9",Tge="\u21AB",Oge="\u21AC",Ege="\u2985",Mge="\u{1D543}",$ge="\u{1D55D}",Age="\u2A2D",_ge="\u2A34",Nge="\u2217",Ige="_",Pge="\u2199",Lge="\u2198",Dge="\u25CA",Rge="\u25CA",Bge="\u29EB",zge="(",qge="\u2993",Fge="\u21C6",Hge="\u231F",Vge="\u21CB",Wge="\u296D",Uge="\u200E",Jge="\u22BF",Gge="\u2039",Kge="\u{1D4C1}",Qge="\u2112",Yge="\u21B0",Zge="\u21B0",Xge="\u2272",e0e="\u2A8D",t0e="\u2A8F",n0e="[",r0e="\u2018",i0e="\u201A",o0e="\u0141",a0e="\u0142",s0e="\u2AA6",l0e="\u2A79",u0e="<",c0e="<",f0e="\u226A",d0e="\u22D6",h0e="\u22CB",p0e="\u22C9",v0e="\u2976",m0e="\u2A7B",g0e="\u25C3",y0e="\u22B4",b0e="\u25C2",w0e="\u2996",k0e="\u294A",x0e="\u2966",j0e="\u2268\uFE00",C0e="\u2268\uFE00",S0e="\xAF",T0e="\u2642",O0e="\u2720",E0e="\u2720",M0e="\u21A6",$0e="\u21A6",A0e="\u21A7",_0e="\u21A4",N0e="\u21A5",I0e="\u25AE",P0e="\u2A29",L0e="\u041C",D0e="\u043C",R0e="\u2014",B0e="\u223A",z0e="\u2221",q0e="\u205F",F0e="\u2133",H0e="\u{1D510}",V0e="\u{1D52A}",W0e="\u2127",U0e="\xB5",J0e="*",G0e="\u2AF0",K0e="\u2223",Q0e="\xB7",Y0e="\u229F",Z0e="\u2212",X0e="\u2238",eye="\u2A2A",tye="\u2213",nye="\u2ADB",rye="\u2026",iye="\u2213",oye="\u22A7",aye="\u{1D544}",sye="\u{1D55E}",lye="\u2213",uye="\u{1D4C2}",cye="\u2133",fye="\u223E",dye="\u039C",hye="\u03BC",pye="\u22B8",vye="\u22B8",mye="\u2207",gye="\u0143",yye="\u0144",bye="\u2220\u20D2",wye="\u2249",kye="\u2A70\u0338",xye="\u224B\u0338",jye="\u0149",Cye="\u2249",Sye="\u266E",Tye="\u2115",Oye="\u266E",Eye="\xA0",Mye="\u224E\u0338",$ye="\u224F\u0338",Aye="\u2A43",_ye="\u0147",Nye="\u0148",Iye="\u0145",Pye="\u0146",Lye="\u2247",Dye="\u2A6D\u0338",Rye="\u2A42",Bye="\u041D",zye="\u043D",qye="\u2013",Fye="\u2924",Hye="\u2197",Vye="\u21D7",Wye="\u2197",Uye="\u2260",Jye="\u2250\u0338",Gye="\u200B",Kye="\u200B",Qye="\u200B",Yye="\u200B",Zye="\u2262",Xye="\u2928",e1e="\u2242\u0338",t1e="\u226B",n1e="\u226A",r1e=`
`,i1e="\u2204",o1e="\u2204",a1e="\u{1D511}",s1e="\u{1D52B}",l1e="\u2267\u0338",u1e="\u2271",c1e="\u2271",f1e="\u2267\u0338",d1e="\u2A7E\u0338",h1e="\u2A7E\u0338",p1e="\u22D9\u0338",v1e="\u2275",m1e="\u226B\u20D2",g1e="\u226F",y1e="\u226F",b1e="\u226B\u0338",w1e="\u21AE",k1e="\u21CE",x1e="\u2AF2",j1e="\u220B",C1e="\u22FC",S1e="\u22FA",T1e="\u220B",O1e="\u040A",E1e="\u045A",M1e="\u219A",$1e="\u21CD",A1e="\u2025",_1e="\u2266\u0338",N1e="\u2270",I1e="\u219A",P1e="\u21CD",L1e="\u21AE",D1e="\u21CE",R1e="\u2270",B1e="\u2266\u0338",z1e="\u2A7D\u0338",q1e="\u2A7D\u0338",F1e="\u226E",H1e="\u22D8\u0338",V1e="\u2274",W1e="\u226A\u20D2",U1e="\u226E",J1e="\u22EA",G1e="\u22EC",K1e="\u226A\u0338",Q1e="\u2224",Y1e="\u2060",Z1e="\xA0",X1e="\u{1D55F}",ebe="\u2115",tbe="\u2AEC",nbe="\xAC",rbe="\u2262",ibe="\u226D",obe="\u2226",abe="\u2209",sbe="\u2260",lbe="\u2242\u0338",ube="\u2204",cbe="\u226F",fbe="\u2271",dbe="\u2267\u0338",hbe="\u226B\u0338",pbe="\u2279",vbe="\u2A7E\u0338",mbe="\u2275",gbe="\u224E\u0338",ybe="\u224F\u0338",bbe="\u2209",wbe="\u22F5\u0338",kbe="\u22F9\u0338",xbe="\u2209",jbe="\u22F7",Cbe="\u22F6",Sbe="\u29CF\u0338",Tbe="\u22EA",Obe="\u22EC",Ebe="\u226E",Mbe="\u2270",$be="\u2278",Abe="\u226A\u0338",_be="\u2A7D\u0338",Nbe="\u2274",Ibe="\u2AA2\u0338",Pbe="\u2AA1\u0338",Lbe="\u220C",Dbe="\u220C",Rbe="\u22FE",Bbe="\u22FD",zbe="\u2280",qbe="\u2AAF\u0338",Fbe="\u22E0",Hbe="\u220C",Vbe="\u29D0\u0338",Wbe="\u22EB",Ube="\u22ED",Jbe="\u228F\u0338",Gbe="\u22E2",Kbe="\u2290\u0338",Qbe="\u22E3",Ybe="\u2282\u20D2",Zbe="\u2288",Xbe="\u2281",ewe="\u2AB0\u0338",twe="\u22E1",nwe="\u227F\u0338",rwe="\u2283\u20D2",iwe="\u2289",owe="\u2241",awe="\u2244",swe="\u2247",lwe="\u2249",uwe="\u2224",cwe="\u2226",fwe="\u2226",dwe="\u2AFD\u20E5",hwe="\u2202\u0338",pwe="\u2A14",vwe="\u2280",mwe="\u22E0",gwe="\u2280",ywe="\u2AAF\u0338",bwe="\u2AAF\u0338",wwe="\u2933\u0338",kwe="\u219B",xwe="\u21CF",jwe="\u219D\u0338",Cwe="\u219B",Swe="\u21CF",Twe="\u22EB",Owe="\u22ED",Ewe="\u2281",Mwe="\u22E1",$we="\u2AB0\u0338",Awe="\u{1D4A9}",_we="\u{1D4C3}",Nwe="\u2224",Iwe="\u2226",Pwe="\u2241",Lwe="\u2244",Dwe="\u2244",Rwe="\u2224",Bwe="\u2226",zwe="\u22E2",qwe="\u22E3",Fwe="\u2284",Hwe="\u2AC5\u0338",Vwe="\u2288",Wwe="\u2282\u20D2",Uwe="\u2288",Jwe="\u2AC5\u0338",Gwe="\u2281",Kwe="\u2AB0\u0338",Qwe="\u2285",Ywe="\u2AC6\u0338",Zwe="\u2289",Xwe="\u2283\u20D2",eke="\u2289",tke="\u2AC6\u0338",nke="\u2279",rke="\xD1",ike="\xF1",oke="\u2278",ake="\u22EA",ske="\u22EC",lke="\u22EB",uke="\u22ED",cke="\u039D",fke="\u03BD",dke="#",hke="\u2116",pke="\u2007",vke="\u224D\u20D2",mke="\u22AC",gke="\u22AD",yke="\u22AE",bke="\u22AF",wke="\u2265\u20D2",kke=">\u20D2",xke="\u2904",jke="\u29DE",Cke="\u2902",Ske="\u2264\u20D2",Tke="<\u20D2",Oke="\u22B4\u20D2",Eke="\u2903",Mke="\u22B5\u20D2",$ke="\u223C\u20D2",Ake="\u2923",_ke="\u2196",Nke="\u21D6",Ike="\u2196",Pke="\u2927",Lke="\xD3",Dke="\xF3",Rke="\u229B",Bke="\xD4",zke="\xF4",qke="\u229A",Fke="\u041E",Hke="\u043E",Vke="\u229D",Wke="\u0150",Uke="\u0151",Jke="\u2A38",Gke="\u2299",Kke="\u29BC",Qke="\u0152",Yke="\u0153",Zke="\u29BF",Xke="\u{1D512}",exe="\u{1D52C}",txe="\u02DB",nxe="\xD2",rxe="\xF2",ixe="\u29C1",oxe="\u29B5",axe="\u03A9",sxe="\u222E",lxe="\u21BA",uxe="\u29BE",cxe="\u29BB",fxe="\u203E",dxe="\u29C0",hxe="\u014C",pxe="\u014D",vxe="\u03A9",mxe="\u03C9",gxe="\u039F",yxe="\u03BF",bxe="\u29B6",wxe="\u2296",kxe="\u{1D546}",xxe="\u{1D560}",jxe="\u29B7",Cxe="\u201C",Sxe="\u2018",Txe="\u29B9",Oxe="\u2295",Exe="\u21BB",Mxe="\u2A54",$xe="\u2228",Axe="\u2A5D",_xe="\u2134",Nxe="\u2134",Ixe="\xAA",Pxe="\xBA",Lxe="\u22B6",Dxe="\u2A56",Rxe="\u2A57",Bxe="\u2A5B",zxe="\u24C8",qxe="\u{1D4AA}",Fxe="\u2134",Hxe="\xD8",Vxe="\xF8",Wxe="\u2298",Uxe="\xD5",Jxe="\xF5",Gxe="\u2A36",Kxe="\u2A37",Qxe="\u2297",Yxe="\xD6",Zxe="\xF6",Xxe="\u233D",e2e="\u203E",t2e="\u23DE",n2e="\u23B4",r2e="\u23DC",i2e="\xB6",o2e="\u2225",a2e="\u2225",s2e="\u2AF3",l2e="\u2AFD",u2e="\u2202",c2e="\u2202",f2e="\u041F",d2e="\u043F",h2e="%",p2e=".",v2e="\u2030",m2e="\u22A5",g2e="\u2031",y2e="\u{1D513}",b2e="\u{1D52D}",w2e="\u03A6",k2e="\u03C6",x2e="\u03D5",j2e="\u2133",C2e="\u260E",S2e="\u03A0",T2e="\u03C0",O2e="\u22D4",E2e="\u03D6",M2e="\u210F",$2e="\u210E",A2e="\u210F",_2e="\u2A23",N2e="\u229E",I2e="\u2A22",P2e="+",L2e="\u2214",D2e="\u2A25",R2e="\u2A72",B2e="\xB1",z2e="\xB1",q2e="\u2A26",F2e="\u2A27",H2e="\xB1",V2e="\u210C",W2e="\u2A15",U2e="\u{1D561}",J2e="\u2119",G2e="\xA3",K2e="\u2AB7",Q2e="\u2ABB",Y2e="\u227A",Z2e="\u227C",X2e="\u2AB7",eje="\u227A",tje="\u227C",nje="\u227A",rje="\u2AAF",ije="\u227C",oje="\u227E",aje="\u2AAF",sje="\u2AB9",lje="\u2AB5",uje="\u22E8",cje="\u2AAF",fje="\u2AB3",dje="\u227E",hje="\u2032",pje="\u2033",vje="\u2119",mje="\u2AB9",gje="\u2AB5",yje="\u22E8",bje="\u220F",wje="\u220F",kje="\u232E",xje="\u2312",jje="\u2313",Cje="\u221D",Sje="\u221D",Tje="\u2237",Oje="\u221D",Eje="\u227E",Mje="\u22B0",$je="\u{1D4AB}",Aje="\u{1D4C5}",_je="\u03A8",Nje="\u03C8",Ije="\u2008",Pje="\u{1D514}",Lje="\u{1D52E}",Dje="\u2A0C",Rje="\u{1D562}",Bje="\u211A",zje="\u2057",qje="\u{1D4AC}",Fje="\u{1D4C6}",Hje="\u210D",Vje="\u2A16",Wje="?",Uje="\u225F",Jje='"',Gje='"',Kje="\u21DB",Qje="\u223D\u0331",Yje="\u0154",Zje="\u0155",Xje="\u221A",eCe="\u29B3",tCe="\u27E9",nCe="\u27EB",rCe="\u2992",iCe="\u29A5",oCe="\u27E9",aCe="\xBB",sCe="\u2975",lCe="\u21E5",uCe="\u2920",cCe="\u2933",fCe="\u2192",dCe="\u21A0",hCe="\u21D2",pCe="\u291E",vCe="\u21AA",mCe="\u21AC",gCe="\u2945",yCe="\u2974",bCe="\u2916",wCe="\u21A3",kCe="\u219D",xCe="\u291A",jCe="\u291C",CCe="\u2236",SCe="\u211A",TCe="\u290D",OCe="\u290F",ECe="\u2910",MCe="\u2773",$Ce="}",ACe="]",_Ce="\u298C",NCe="\u298E",ICe="\u2990",PCe="\u0158",LCe="\u0159",DCe="\u0156",RCe="\u0157",BCe="\u2309",zCe="}",qCe="\u0420",FCe="\u0440",HCe="\u2937",VCe="\u2969",WCe="\u201D",UCe="\u201D",JCe="\u21B3",GCe="\u211C",KCe="\u211B",QCe="\u211C",YCe="\u211D",ZCe="\u211C",XCe="\u25AD",eSe="\xAE",tSe="\xAE",nSe="\u220B",rSe="\u21CB",iSe="\u296F",oSe="\u297D",aSe="\u230B",sSe="\u{1D52F}",lSe="\u211C",uSe="\u2964",cSe="\u21C1",fSe="\u21C0",dSe="\u296C",hSe="\u03A1",pSe="\u03C1",vSe="\u03F1",mSe="\u27E9",gSe="\u21E5",ySe="\u2192",bSe="\u2192",wSe="\u21D2",kSe="\u21C4",xSe="\u21A3",jSe="\u2309",CSe="\u27E7",SSe="\u295D",TSe="\u2955",OSe="\u21C2",ESe="\u230B",MSe="\u21C1",$Se="\u21C0",ASe="\u21C4",_Se="\u21CC",NSe="\u21C9",ISe="\u219D",PSe="\u21A6",LSe="\u22A2",DSe="\u295B",RSe="\u22CC",BSe="\u29D0",zSe="\u22B3",qSe="\u22B5",FSe="\u294F",HSe="\u295C",VSe="\u2954",WSe="\u21BE",USe="\u2953",JSe="\u21C0",GSe="\u02DA",KSe="\u2253",QSe="\u21C4",YSe="\u21CC",ZSe="\u200F",XSe="\u23B1",eTe="\u23B1",tTe="\u2AEE",nTe="\u27ED",rTe="\u21FE",iTe="\u27E7",oTe="\u2986",aTe="\u{1D563}",sTe="\u211D",lTe="\u2A2E",uTe="\u2A35",cTe="\u2970",fTe=")",dTe="\u2994",hTe="\u2A12",pTe="\u21C9",vTe="\u21DB",mTe="\u203A",gTe="\u{1D4C7}",yTe="\u211B",bTe="\u21B1",wTe="\u21B1",kTe="]",xTe="\u2019",jTe="\u2019",CTe="\u22CC",STe="\u22CA",TTe="\u25B9",OTe="\u22B5",ETe="\u25B8",MTe="\u29CE",$Te="\u29F4",ATe="\u2968",_Te="\u211E",NTe="\u015A",ITe="\u015B",PTe="\u201A",LTe="\u2AB8",DTe="\u0160",RTe="\u0161",BTe="\u2ABC",zTe="\u227B",qTe="\u227D",FTe="\u2AB0",HTe="\u2AB4",VTe="\u015E",WTe="\u015F",UTe="\u015C",JTe="\u015D",GTe="\u2ABA",KTe="\u2AB6",QTe="\u22E9",YTe="\u2A13",ZTe="\u227F",XTe="\u0421",eOe="\u0441",tOe="\u22A1",nOe="\u22C5",rOe="\u2A66",iOe="\u2925",oOe="\u2198",aOe="\u21D8",sOe="\u2198",lOe="\xA7",uOe=";",cOe="\u2929",fOe="\u2216",dOe="\u2216",hOe="\u2736",pOe="\u{1D516}",vOe="\u{1D530}",mOe="\u2322",gOe="\u266F",yOe="\u0429",bOe="\u0449",wOe="\u0428",kOe="\u0448",xOe="\u2193",jOe="\u2190",COe="\u2223",SOe="\u2225",TOe="\u2192",OOe="\u2191",EOe="\xAD",MOe="\u03A3",$Oe="\u03C3",AOe="\u03C2",_Oe="\u03C2",NOe="\u223C",IOe="\u2A6A",POe="\u2243",LOe="\u2243",DOe="\u2A9E",ROe="\u2AA0",BOe="\u2A9D",zOe="\u2A9F",qOe="\u2246",FOe="\u2A24",HOe="\u2972",VOe="\u2190",WOe="\u2218",UOe="\u2216",JOe="\u2A33",GOe="\u29E4",KOe="\u2223",QOe="\u2323",YOe="\u2AAA",ZOe="\u2AAC",XOe="\u2AAC\uFE00",e3e="\u042C",t3e="\u044C",n3e="\u233F",r3e="\u29C4",i3e="/",o3e="\u{1D54A}",a3e="\u{1D564}",s3e="\u2660",l3e="\u2660",u3e="\u2225",c3e="\u2293",f3e="\u2293\uFE00",d3e="\u2294",h3e="\u2294\uFE00",p3e="\u221A",v3e="\u228F",m3e="\u2291",g3e="\u228F",y3e="\u2291",b3e="\u2290",w3e="\u2292",k3e="\u2290",x3e="\u2292",j3e="\u25A1",C3e="\u25A1",S3e="\u2293",T3e="\u228F",O3e="\u2291",E3e="\u2290",M3e="\u2292",$3e="\u2294",A3e="\u25AA",_3e="\u25A1",N3e="\u25AA",I3e="\u2192",P3e="\u{1D4AE}",L3e="\u{1D4C8}",D3e="\u2216",R3e="\u2323",B3e="\u22C6",z3e="\u22C6",q3e="\u2606",F3e="\u2605",H3e="\u03F5",V3e="\u03D5",W3e="\xAF",U3e="\u2282",J3e="\u22D0",G3e="\u2ABD",K3e="\u2AC5",Q3e="\u2286",Y3e="\u2AC3",Z3e="\u2AC1",X3e="\u2ACB",eEe="\u228A",tEe="\u2ABF",nEe="\u2979",rEe="\u2282",iEe="\u22D0",oEe="\u2286",aEe="\u2AC5",sEe="\u2286",lEe="\u228A",uEe="\u2ACB",cEe="\u2AC7",fEe="\u2AD5",dEe="\u2AD3",hEe="\u2AB8",pEe="\u227B",vEe="\u227D",mEe="\u227B",gEe="\u2AB0",yEe="\u227D",bEe="\u227F",wEe="\u2AB0",kEe="\u2ABA",xEe="\u2AB6",jEe="\u22E9",CEe="\u227F",SEe="\u220B",TEe="\u2211",OEe="\u2211",EEe="\u266A",MEe="\xB9",$Ee="\xB2",AEe="\xB3",_Ee="\u2283",NEe="\u22D1",IEe="\u2ABE",PEe="\u2AD8",LEe="\u2AC6",DEe="\u2287",REe="\u2AC4",BEe="\u2283",zEe="\u2287",qEe="\u27C9",FEe="\u2AD7",HEe="\u297B",VEe="\u2AC2",WEe="\u2ACC",UEe="\u228B",JEe="\u2AC0",GEe="\u2283",KEe="\u22D1",QEe="\u2287",YEe="\u2AC6",ZEe="\u228B",XEe="\u2ACC",eMe="\u2AC8",tMe="\u2AD4",nMe="\u2AD6",rMe="\u2926",iMe="\u2199",oMe="\u21D9",aMe="\u2199",sMe="\u292A",lMe="\xDF",uMe="	",cMe="\u2316",fMe="\u03A4",dMe="\u03C4",hMe="\u23B4",pMe="\u0164",vMe="\u0165",mMe="\u0162",gMe="\u0163",yMe="\u0422",bMe="\u0442",wMe="\u20DB",kMe="\u2315",xMe="\u{1D517}",jMe="\u{1D531}",CMe="\u2234",SMe="\u2234",TMe="\u2234",OMe="\u0398",EMe="\u03B8",MMe="\u03D1",$Me="\u03D1",AMe="\u2248",_Me="\u223C",NMe="\u205F\u200A",IMe="\u2009",PMe="\u2009",LMe="\u2248",DMe="\u223C",RMe="\xDE",BMe="\xFE",zMe="\u02DC",qMe="\u223C",FMe="\u2243",HMe="\u2245",VMe="\u2248",WMe="\u2A31",UMe="\u22A0",JMe="\xD7",GMe="\u2A30",KMe="\u222D",QMe="\u2928",YMe="\u2336",ZMe="\u2AF1",XMe="\u22A4",e$e="\u{1D54B}",t$e="\u{1D565}",n$e="\u2ADA",r$e="\u2929",i$e="\u2034",o$e="\u2122",a$e="\u2122",s$e="\u25B5",l$e="\u25BF",u$e="\u25C3",c$e="\u22B4",f$e="\u225C",d$e="\u25B9",h$e="\u22B5",p$e="\u25EC",v$e="\u225C",m$e="\u2A3A",g$e="\u20DB",y$e="\u2A39",b$e="\u29CD",w$e="\u2A3B",k$e="\u23E2",x$e="\u{1D4AF}",j$e="\u{1D4C9}",C$e="\u0426",S$e="\u0446",T$e="\u040B",O$e="\u045B",E$e="\u0166",M$e="\u0167",$$e="\u226C",A$e="\u219E",_$e="\u21A0",N$e="\xDA",I$e="\xFA",P$e="\u2191",L$e="\u219F",D$e="\u21D1",R$e="\u2949",B$e="\u040E",z$e="\u045E",q$e="\u016C",F$e="\u016D",H$e="\xDB",V$e="\xFB",W$e="\u0423",U$e="\u0443",J$e="\u21C5",G$e="\u0170",K$e="\u0171",Q$e="\u296E",Y$e="\u297E",Z$e="\u{1D518}",X$e="\u{1D532}",eAe="\xD9",tAe="\xF9",nAe="\u2963",rAe="\u21BF",iAe="\u21BE",oAe="\u2580",aAe="\u231C",sAe="\u231C",lAe="\u230F",uAe="\u25F8",cAe="\u016A",fAe="\u016B",dAe="\xA8",hAe="_",pAe="\u23DF",vAe="\u23B5",mAe="\u23DD",gAe="\u22C3",yAe="\u228E",bAe="\u0172",wAe="\u0173",kAe="\u{1D54C}",xAe="\u{1D566}",jAe="\u2912",CAe="\u2191",SAe="\u2191",TAe="\u21D1",OAe="\u21C5",EAe="\u2195",MAe="\u2195",$Ae="\u21D5",AAe="\u296E",_Ae="\u21BF",NAe="\u21BE",IAe="\u228E",PAe="\u2196",LAe="\u2197",DAe="\u03C5",RAe="\u03D2",BAe="\u03D2",zAe="\u03A5",qAe="\u03C5",FAe="\u21A5",HAe="\u22A5",VAe="\u21C8",WAe="\u231D",UAe="\u231D",JAe="\u230E",GAe="\u016E",KAe="\u016F",QAe="\u25F9",YAe="\u{1D4B0}",ZAe="\u{1D4CA}",XAe="\u22F0",e_e="\u0168",t_e="\u0169",n_e="\u25B5",r_e="\u25B4",i_e="\u21C8",o_e="\xDC",a_e="\xFC",s_e="\u29A7",l_e="\u299C",u_e="\u03F5",c_e="\u03F0",f_e="\u2205",d_e="\u03D5",h_e="\u03D6",p_e="\u221D",v_e="\u2195",m_e="\u21D5",g_e="\u03F1",y_e="\u03C2",b_e="\u228A\uFE00",w_e="\u2ACB\uFE00",k_e="\u228B\uFE00",x_e="\u2ACC\uFE00",j_e="\u03D1",C_e="\u22B2",S_e="\u22B3",T_e="\u2AE8",O_e="\u2AEB",E_e="\u2AE9",M_e="\u0412",$_e="\u0432",A_e="\u22A2",__e="\u22A8",N_e="\u22A9",I_e="\u22AB",P_e="\u2AE6",L_e="\u22BB",D_e="\u2228",R_e="\u22C1",B_e="\u225A",z_e="\u22EE",q_e="|",F_e="\u2016",H_e="|",V_e="\u2016",W_e="\u2223",U_e="|",J_e="\u2758",G_e="\u2240",K_e="\u200A",Q_e="\u{1D519}",Y_e="\u{1D533}",Z_e="\u22B2",X_e="\u2282\u20D2",e5e="\u2283\u20D2",t5e="\u{1D54D}",n5e="\u{1D567}",r5e="\u221D",i5e="\u22B3",o5e="\u{1D4B1}",a5e="\u{1D4CB}",s5e="\u2ACB\uFE00",l5e="\u228A\uFE00",u5e="\u2ACC\uFE00",c5e="\u228B\uFE00",f5e="\u22AA",d5e="\u299A",h5e="\u0174",p5e="\u0175",v5e="\u2A5F",m5e="\u2227",g5e="\u22C0",y5e="\u2259",b5e="\u2118",w5e="\u{1D51A}",k5e="\u{1D534}",x5e="\u{1D54E}",j5e="\u{1D568}",C5e="\u2118",S5e="\u2240",T5e="\u2240",O5e="\u{1D4B2}",E5e="\u{1D4CC}",M5e="\u22C2",$5e="\u25EF",A5e="\u22C3",_5e="\u25BD",N5e="\u{1D51B}",I5e="\u{1D535}",P5e="\u27F7",L5e="\u27FA",D5e="\u039E",R5e="\u03BE",B5e="\u27F5",z5e="\u27F8",q5e="\u27FC",F5e="\u22FB",H5e="\u2A00",V5e="\u{1D54F}",W5e="\u{1D569}",U5e="\u2A01",J5e="\u2A02",G5e="\u27F6",K5e="\u27F9",Q5e="\u{1D4B3}",Y5e="\u{1D4CD}",Z5e="\u2A06",X5e="\u2A04",eNe="\u25B3",tNe="\u22C1",nNe="\u22C0",rNe="\xDD",iNe="\xFD",oNe="\u042F",aNe="\u044F",sNe="\u0176",lNe="\u0177",uNe="\u042B",cNe="\u044B",fNe="\xA5",dNe="\u{1D51C}",hNe="\u{1D536}",pNe="\u0407",vNe="\u0457",mNe="\u{1D550}",gNe="\u{1D56A}",yNe="\u{1D4B4}",bNe="\u{1D4CE}",wNe="\u042E",kNe="\u044E",xNe="\xFF",jNe="\u0178",CNe="\u0179",SNe="\u017A",TNe="\u017D",ONe="\u017E",ENe="\u0417",MNe="\u0437",$Ne="\u017B",ANe="\u017C",_Ne="\u2128",NNe="\u200B",INe="\u0396",PNe="\u03B6",LNe="\u{1D537}",DNe="\u2128",RNe="\u0416",BNe="\u0436",zNe="\u21DD",qNe="\u{1D56B}",FNe="\u2124",HNe="\u{1D4B5}",VNe="\u{1D4CF}",WNe="\u200D",UNe="\u200C",PR={Aacute:$X,aacute:AX,Abreve:_X,abreve:NX,ac:IX,acd:PX,acE:LX,Acirc:DX,acirc:RX,acute:BX,Acy:zX,acy:qX,AElig:FX,aelig:HX,af:VX,Afr:WX,afr:UX,Agrave:JX,agrave:GX,alefsym:KX,aleph:QX,Alpha:YX,alpha:ZX,Amacr:XX,amacr:eee,amalg:tee,amp:nee,AMP:ree,andand:iee,And:oee,and:aee,andd:see,andslope:lee,andv:uee,ang:cee,ange:fee,angle:dee,angmsdaa:hee,angmsdab:pee,angmsdac:vee,angmsdad:mee,angmsdae:gee,angmsdaf:yee,angmsdag:bee,angmsdah:wee,angmsd:kee,angrt:xee,angrtvb:jee,angrtvbd:Cee,angsph:See,angst:Tee,angzarr:Oee,Aogon:Eee,aogon:Mee,Aopf:$ee,aopf:Aee,apacir:_ee,ap:Nee,apE:Iee,ape:Pee,apid:Lee,apos:Dee,ApplyFunction:Ree,approx:Bee,approxeq:zee,Aring:qee,aring:Fee,Ascr:Hee,ascr:Vee,Assign:Wee,ast:Uee,asymp:Jee,asympeq:Gee,Atilde:Kee,atilde:Qee,Auml:Yee,auml:Zee,awconint:Xee,awint:ete,backcong:tte,backepsilon:nte,backprime:rte,backsim:ite,backsimeq:ote,Backslash:ate,Barv:ste,barvee:lte,barwed:ute,Barwed:cte,barwedge:fte,bbrk:dte,bbrktbrk:hte,bcong:pte,Bcy:vte,bcy:mte,bdquo:gte,becaus:yte,because:bte,Because:wte,bemptyv:kte,bepsi:xte,bernou:jte,Bernoullis:Cte,Beta:Ste,beta:Tte,beth:Ote,between:Ete,Bfr:Mte,bfr:$te,bigcap:Ate,bigcirc:_te,bigcup:Nte,bigodot:Ite,bigoplus:Pte,bigotimes:Lte,bigsqcup:Dte,bigstar:Rte,bigtriangledown:Bte,bigtriangleup:zte,biguplus:qte,bigvee:Fte,bigwedge:Hte,bkarow:Vte,blacklozenge:Wte,blacksquare:Ute,blacktriangle:Jte,blacktriangledown:Gte,blacktriangleleft:Kte,blacktriangleright:Qte,blank:Yte,blk12:Zte,blk14:Xte,blk34:ene,block:tne,bne:nne,bnequiv:rne,bNot:ine,bnot:one,Bopf:ane,bopf:sne,bot:lne,bottom:une,bowtie:cne,boxbox:fne,boxdl:dne,boxdL:hne,boxDl:pne,boxDL:vne,boxdr:mne,boxdR:gne,boxDr:yne,boxDR:bne,boxh:wne,boxH:kne,boxhd:xne,boxHd:jne,boxhD:Cne,boxHD:Sne,boxhu:Tne,boxHu:One,boxhU:Ene,boxHU:Mne,boxminus:$ne,boxplus:Ane,boxtimes:_ne,boxul:Nne,boxuL:Ine,boxUl:Pne,boxUL:Lne,boxur:Dne,boxuR:Rne,boxUr:Bne,boxUR:zne,boxv:qne,boxV:Fne,boxvh:Hne,boxvH:Vne,boxVh:Wne,boxVH:Une,boxvl:Jne,boxvL:Gne,boxVl:Kne,boxVL:Qne,boxvr:Yne,boxvR:Zne,boxVr:Xne,boxVR:ere,bprime:tre,breve:nre,Breve:rre,brvbar:ire,bscr:ore,Bscr:are,bsemi:sre,bsim:lre,bsime:ure,bsolb:cre,bsol:fre,bsolhsub:dre,bull:hre,bullet:pre,bump:vre,bumpE:mre,bumpe:gre,Bumpeq:yre,bumpeq:bre,Cacute:wre,cacute:kre,capand:xre,capbrcup:jre,capcap:Cre,cap:Sre,Cap:Tre,capcup:Ore,capdot:Ere,CapitalDifferentialD:Mre,caps:$re,caret:Are,caron:_re,Cayleys:Nre,ccaps:Ire,Ccaron:Pre,ccaron:Lre,Ccedil:Dre,ccedil:Rre,Ccirc:Bre,ccirc:zre,Cconint:qre,ccups:Fre,ccupssm:Hre,Cdot:Vre,cdot:Wre,cedil:Ure,Cedilla:Jre,cemptyv:Gre,cent:Kre,centerdot:Qre,CenterDot:Yre,cfr:Zre,Cfr:Xre,CHcy:eie,chcy:tie,check:nie,checkmark:rie,Chi:iie,chi:oie,circ:aie,circeq:sie,circlearrowleft:lie,circlearrowright:uie,circledast:cie,circledcirc:fie,circleddash:die,CircleDot:hie,circledR:pie,circledS:vie,CircleMinus:mie,CirclePlus:gie,CircleTimes:yie,cir:bie,cirE:wie,cire:kie,cirfnint:xie,cirmid:jie,cirscir:Cie,ClockwiseContourIntegral:Sie,CloseCurlyDoubleQuote:Tie,CloseCurlyQuote:Oie,clubs:Eie,clubsuit:Mie,colon:$ie,Colon:Aie,Colone:_ie,colone:Nie,coloneq:Iie,comma:Pie,commat:Lie,comp:Die,compfn:Rie,complement:Bie,complexes:zie,cong:qie,congdot:Fie,Congruent:Hie,conint:Vie,Conint:Wie,ContourIntegral:Uie,copf:Jie,Copf:Gie,coprod:Kie,Coproduct:Qie,copy:Yie,COPY:Zie,copysr:Xie,CounterClockwiseContourIntegral:eoe,crarr:toe,cross:noe,Cross:roe,Cscr:ioe,cscr:ooe,csub:aoe,csube:soe,csup:loe,csupe:uoe,ctdot:coe,cudarrl:foe,cudarrr:doe,cuepr:hoe,cuesc:poe,cularr:voe,cularrp:moe,cupbrcap:goe,cupcap:yoe,CupCap:boe,cup:woe,Cup:koe,cupcup:xoe,cupdot:joe,cupor:Coe,cups:Soe,curarr:Toe,curarrm:Ooe,curlyeqprec:Eoe,curlyeqsucc:Moe,curlyvee:$oe,curlywedge:Aoe,curren:_oe,curvearrowleft:Noe,curvearrowright:Ioe,cuvee:Poe,cuwed:Loe,cwconint:Doe,cwint:Roe,cylcty:Boe,dagger:zoe,Dagger:qoe,daleth:Foe,darr:Hoe,Darr:Voe,dArr:Woe,dash:Uoe,Dashv:Joe,dashv:Goe,dbkarow:Koe,dblac:Qoe,Dcaron:Yoe,dcaron:Zoe,Dcy:Xoe,dcy:eae,ddagger:tae,ddarr:nae,DD:rae,dd:iae,DDotrahd:oae,ddotseq:aae,deg:sae,Del:lae,Delta:uae,delta:cae,demptyv:fae,dfisht:dae,Dfr:hae,dfr:pae,dHar:vae,dharl:mae,dharr:gae,DiacriticalAcute:yae,DiacriticalDot:bae,DiacriticalDoubleAcute:wae,DiacriticalGrave:kae,DiacriticalTilde:xae,diam:jae,diamond:Cae,Diamond:Sae,diamondsuit:Tae,diams:Oae,die:Eae,DifferentialD:Mae,digamma:$ae,disin:Aae,div:_ae,divide:Nae,divideontimes:Iae,divonx:Pae,DJcy:Lae,djcy:Dae,dlcorn:Rae,dlcrop:Bae,dollar:zae,Dopf:qae,dopf:Fae,Dot:Hae,dot:Vae,DotDot:Wae,doteq:Uae,doteqdot:Jae,DotEqual:Gae,dotminus:Kae,dotplus:Qae,dotsquare:Yae,doublebarwedge:Zae,DoubleContourIntegral:Xae,DoubleDot:ese,DoubleDownArrow:tse,DoubleLeftArrow:nse,DoubleLeftRightArrow:rse,DoubleLeftTee:ise,DoubleLongLeftArrow:ose,DoubleLongLeftRightArrow:ase,DoubleLongRightArrow:sse,DoubleRightArrow:lse,DoubleRightTee:use,DoubleUpArrow:cse,DoubleUpDownArrow:fse,DoubleVerticalBar:dse,DownArrowBar:hse,downarrow:pse,DownArrow:vse,Downarrow:mse,DownArrowUpArrow:gse,DownBreve:yse,downdownarrows:bse,downharpoonleft:wse,downharpoonright:kse,DownLeftRightVector:xse,DownLeftTeeVector:jse,DownLeftVectorBar:Cse,DownLeftVector:Sse,DownRightTeeVector:Tse,DownRightVectorBar:Ose,DownRightVector:Ese,DownTeeArrow:Mse,DownTee:$se,drbkarow:Ase,drcorn:_se,drcrop:Nse,Dscr:Ise,dscr:Pse,DScy:Lse,dscy:Dse,dsol:Rse,Dstrok:Bse,dstrok:zse,dtdot:qse,dtri:Fse,dtrif:Hse,duarr:Vse,duhar:Wse,dwangle:Use,DZcy:Jse,dzcy:Gse,dzigrarr:Kse,Eacute:Qse,eacute:Yse,easter:Zse,Ecaron:Xse,ecaron:ele,Ecirc:tle,ecirc:nle,ecir:rle,ecolon:ile,Ecy:ole,ecy:ale,eDDot:sle,Edot:lle,edot:ule,eDot:cle,ee:fle,efDot:dle,Efr:hle,efr:ple,eg:vle,Egrave:mle,egrave:gle,egs:yle,egsdot:ble,el:wle,Element:kle,elinters:xle,ell:jle,els:Cle,elsdot:Sle,Emacr:Tle,emacr:Ole,empty:Ele,emptyset:Mle,EmptySmallSquare:$le,emptyv:Ale,EmptyVerySmallSquare:_le,emsp13:Nle,emsp14:Ile,emsp:Ple,ENG:Lle,eng:Dle,ensp:Rle,Eogon:Ble,eogon:zle,Eopf:qle,eopf:Fle,epar:Hle,eparsl:Vle,eplus:Wle,epsi:Ule,Epsilon:Jle,epsilon:Gle,epsiv:Kle,eqcirc:Qle,eqcolon:Yle,eqsim:Zle,eqslantgtr:Xle,eqslantless:eue,Equal:tue,equals:nue,EqualTilde:rue,equest:iue,Equilibrium:oue,equiv:aue,equivDD:sue,eqvparsl:lue,erarr:uue,erDot:cue,escr:fue,Escr:due,esdot:hue,Esim:pue,esim:vue,Eta:mue,eta:gue,ETH:yue,eth:bue,Euml:wue,euml:kue,euro:xue,excl:jue,exist:Cue,Exists:Sue,expectation:Tue,exponentiale:Oue,ExponentialE:Eue,fallingdotseq:Mue,Fcy:$ue,fcy:Aue,female:_ue,ffilig:Nue,fflig:Iue,ffllig:Pue,Ffr:Lue,ffr:Due,filig:Rue,FilledSmallSquare:Bue,FilledVerySmallSquare:zue,fjlig:que,flat:Fue,fllig:Hue,fltns:Vue,fnof:Wue,Fopf:Uue,fopf:Jue,forall:Gue,ForAll:Kue,fork:Que,forkv:Yue,Fouriertrf:Zue,fpartint:Xue,frac12:ece,frac13:tce,frac14:nce,frac15:rce,frac16:ice,frac18:oce,frac23:ace,frac25:sce,frac34:lce,frac35:uce,frac38:cce,frac45:fce,frac56:dce,frac58:hce,frac78:pce,frasl:vce,frown:mce,fscr:gce,Fscr:yce,gacute:bce,Gamma:wce,gamma:kce,Gammad:xce,gammad:jce,gap:Cce,Gbreve:Sce,gbreve:Tce,Gcedil:Oce,Gcirc:Ece,gcirc:Mce,Gcy:$ce,gcy:Ace,Gdot:_ce,gdot:Nce,ge:Ice,gE:Pce,gEl:Lce,gel:Dce,geq:Rce,geqq:Bce,geqslant:zce,gescc:qce,ges:Fce,gesdot:Hce,gesdoto:Vce,gesdotol:Wce,gesl:Uce,gesles:Jce,Gfr:Gce,gfr:Kce,gg:Qce,Gg:Yce,ggg:Zce,gimel:Xce,GJcy:efe,gjcy:tfe,gla:nfe,gl:rfe,glE:ife,glj:ofe,gnap:afe,gnapprox:sfe,gne:lfe,gnE:ufe,gneq:cfe,gneqq:ffe,gnsim:dfe,Gopf:hfe,gopf:pfe,grave:vfe,GreaterEqual:mfe,GreaterEqualLess:gfe,GreaterFullEqual:yfe,GreaterGreater:bfe,GreaterLess:wfe,GreaterSlantEqual:kfe,GreaterTilde:xfe,Gscr:jfe,gscr:Cfe,gsim:Sfe,gsime:Tfe,gsiml:Ofe,gtcc:Efe,gtcir:Mfe,gt:$fe,GT:Afe,Gt:_fe,gtdot:Nfe,gtlPar:Ife,gtquest:Pfe,gtrapprox:Lfe,gtrarr:Dfe,gtrdot:Rfe,gtreqless:Bfe,gtreqqless:zfe,gtrless:qfe,gtrsim:Ffe,gvertneqq:Hfe,gvnE:Vfe,Hacek:Wfe,hairsp:Ufe,half:Jfe,hamilt:Gfe,HARDcy:Kfe,hardcy:Qfe,harrcir:Yfe,harr:Zfe,hArr:Xfe,harrw:ede,Hat:tde,hbar:nde,Hcirc:rde,hcirc:ide,hearts:ode,heartsuit:ade,hellip:sde,hercon:lde,hfr:ude,Hfr:cde,HilbertSpace:fde,hksearow:dde,hkswarow:hde,hoarr:pde,homtht:vde,hookleftarrow:mde,hookrightarrow:gde,hopf:yde,Hopf:bde,horbar:wde,HorizontalLine:kde,hscr:xde,Hscr:jde,hslash:Cde,Hstrok:Sde,hstrok:Tde,HumpDownHump:Ode,HumpEqual:Ede,hybull:Mde,hyphen:$de,Iacute:Ade,iacute:_de,ic:Nde,Icirc:Ide,icirc:Pde,Icy:Lde,icy:Dde,Idot:Rde,IEcy:Bde,iecy:zde,iexcl:qde,iff:Fde,ifr:Hde,Ifr:Vde,Igrave:Wde,igrave:Ude,ii:Jde,iiiint:Gde,iiint:Kde,iinfin:Qde,iiota:Yde,IJlig:Zde,ijlig:Xde,Imacr:ehe,imacr:the,image:nhe,ImaginaryI:rhe,imagline:ihe,imagpart:ohe,imath:ahe,Im:she,imof:lhe,imped:uhe,Implies:che,incare:fhe,in:"\u2208",infin:dhe,infintie:hhe,inodot:phe,intcal:vhe,int:mhe,Int:ghe,integers:yhe,Integral:bhe,intercal:whe,Intersection:khe,intlarhk:xhe,intprod:jhe,InvisibleComma:Che,InvisibleTimes:She,IOcy:The,iocy:Ohe,Iogon:Ehe,iogon:Mhe,Iopf:$he,iopf:Ahe,Iota:_he,iota:Nhe,iprod:Ihe,iquest:Phe,iscr:Lhe,Iscr:Dhe,isin:Rhe,isindot:Bhe,isinE:zhe,isins:qhe,isinsv:Fhe,isinv:Hhe,it:Vhe,Itilde:Whe,itilde:Uhe,Iukcy:Jhe,iukcy:Ghe,Iuml:Khe,iuml:Qhe,Jcirc:Yhe,jcirc:Zhe,Jcy:Xhe,jcy:epe,Jfr:tpe,jfr:npe,jmath:rpe,Jopf:ipe,jopf:ope,Jscr:ape,jscr:spe,Jsercy:lpe,jsercy:upe,Jukcy:cpe,jukcy:fpe,Kappa:dpe,kappa:hpe,kappav:ppe,Kcedil:vpe,kcedil:mpe,Kcy:gpe,kcy:ype,Kfr:bpe,kfr:wpe,kgreen:kpe,KHcy:xpe,khcy:jpe,KJcy:Cpe,kjcy:Spe,Kopf:Tpe,kopf:Ope,Kscr:Epe,kscr:Mpe,lAarr:$pe,Lacute:Ape,lacute:_pe,laemptyv:Npe,lagran:Ipe,Lambda:Ppe,lambda:Lpe,lang:Dpe,Lang:Rpe,langd:Bpe,langle:zpe,lap:qpe,Laplacetrf:Fpe,laquo:Hpe,larrb:Vpe,larrbfs:Wpe,larr:Upe,Larr:Jpe,lArr:Gpe,larrfs:Kpe,larrhk:Qpe,larrlp:Ype,larrpl:Zpe,larrsim:Xpe,larrtl:eve,latail:tve,lAtail:nve,lat:rve,late:ive,lates:ove,lbarr:ave,lBarr:sve,lbbrk:lve,lbrace:uve,lbrack:cve,lbrke:fve,lbrksld:dve,lbrkslu:hve,Lcaron:pve,lcaron:vve,Lcedil:mve,lcedil:gve,lceil:yve,lcub:bve,Lcy:wve,lcy:kve,ldca:xve,ldquo:jve,ldquor:Cve,ldrdhar:Sve,ldrushar:Tve,ldsh:Ove,le:Eve,lE:Mve,LeftAngleBracket:$ve,LeftArrowBar:Ave,leftarrow:_ve,LeftArrow:Nve,Leftarrow:Ive,LeftArrowRightArrow:Pve,leftarrowtail:Lve,LeftCeiling:Dve,LeftDoubleBracket:Rve,LeftDownTeeVector:Bve,LeftDownVectorBar:zve,LeftDownVector:qve,LeftFloor:Fve,leftharpoondown:Hve,leftharpoonup:Vve,leftleftarrows:Wve,leftrightarrow:Uve,LeftRightArrow:Jve,Leftrightarrow:Gve,leftrightarrows:Kve,leftrightharpoons:Qve,leftrightsquigarrow:Yve,LeftRightVector:Zve,LeftTeeArrow:Xve,LeftTee:eme,LeftTeeVector:tme,leftthreetimes:nme,LeftTriangleBar:rme,LeftTriangle:ime,LeftTriangleEqual:ome,LeftUpDownVector:ame,LeftUpTeeVector:sme,LeftUpVectorBar:lme,LeftUpVector:ume,LeftVectorBar:cme,LeftVector:fme,lEg:dme,leg:hme,leq:pme,leqq:vme,leqslant:mme,lescc:gme,les:yme,lesdot:bme,lesdoto:wme,lesdotor:kme,lesg:xme,lesges:jme,lessapprox:Cme,lessdot:Sme,lesseqgtr:Tme,lesseqqgtr:Ome,LessEqualGreater:Eme,LessFullEqual:Mme,LessGreater:$me,lessgtr:Ame,LessLess:_me,lesssim:Nme,LessSlantEqual:Ime,LessTilde:Pme,lfisht:Lme,lfloor:Dme,Lfr:Rme,lfr:Bme,lg:zme,lgE:qme,lHar:Fme,lhard:Hme,lharu:Vme,lharul:Wme,lhblk:Ume,LJcy:Jme,ljcy:Gme,llarr:Kme,ll:Qme,Ll:Yme,llcorner:Zme,Lleftarrow:Xme,llhard:ege,lltri:tge,Lmidot:nge,lmidot:rge,lmoustache:ige,lmoust:oge,lnap:age,lnapprox:sge,lne:lge,lnE:uge,lneq:cge,lneqq:fge,lnsim:dge,loang:hge,loarr:pge,lobrk:vge,longleftarrow:mge,LongLeftArrow:gge,Longleftarrow:yge,longleftrightarrow:bge,LongLeftRightArrow:wge,Longleftrightarrow:kge,longmapsto:xge,longrightarrow:jge,LongRightArrow:Cge,Longrightarrow:Sge,looparrowleft:Tge,looparrowright:Oge,lopar:Ege,Lopf:Mge,lopf:$ge,loplus:Age,lotimes:_ge,lowast:Nge,lowbar:Ige,LowerLeftArrow:Pge,LowerRightArrow:Lge,loz:Dge,lozenge:Rge,lozf:Bge,lpar:zge,lparlt:qge,lrarr:Fge,lrcorner:Hge,lrhar:Vge,lrhard:Wge,lrm:Uge,lrtri:Jge,lsaquo:Gge,lscr:Kge,Lscr:Qge,lsh:Yge,Lsh:Zge,lsim:Xge,lsime:e0e,lsimg:t0e,lsqb:n0e,lsquo:r0e,lsquor:i0e,Lstrok:o0e,lstrok:a0e,ltcc:s0e,ltcir:l0e,lt:u0e,LT:c0e,Lt:f0e,ltdot:d0e,lthree:h0e,ltimes:p0e,ltlarr:v0e,ltquest:m0e,ltri:g0e,ltrie:y0e,ltrif:b0e,ltrPar:w0e,lurdshar:k0e,luruhar:x0e,lvertneqq:j0e,lvnE:C0e,macr:S0e,male:T0e,malt:O0e,maltese:E0e,Map:"\u2905",map:M0e,mapsto:$0e,mapstodown:A0e,mapstoleft:_0e,mapstoup:N0e,marker:I0e,mcomma:P0e,Mcy:L0e,mcy:D0e,mdash:R0e,mDDot:B0e,measuredangle:z0e,MediumSpace:q0e,Mellintrf:F0e,Mfr:H0e,mfr:V0e,mho:W0e,micro:U0e,midast:J0e,midcir:G0e,mid:K0e,middot:Q0e,minusb:Y0e,minus:Z0e,minusd:X0e,minusdu:eye,MinusPlus:tye,mlcp:nye,mldr:rye,mnplus:iye,models:oye,Mopf:aye,mopf:sye,mp:lye,mscr:uye,Mscr:cye,mstpos:fye,Mu:dye,mu:hye,multimap:pye,mumap:vye,nabla:mye,Nacute:gye,nacute:yye,nang:bye,nap:wye,napE:kye,napid:xye,napos:jye,napprox:Cye,natural:Sye,naturals:Tye,natur:Oye,nbsp:Eye,nbump:Mye,nbumpe:$ye,ncap:Aye,Ncaron:_ye,ncaron:Nye,Ncedil:Iye,ncedil:Pye,ncong:Lye,ncongdot:Dye,ncup:Rye,Ncy:Bye,ncy:zye,ndash:qye,nearhk:Fye,nearr:Hye,neArr:Vye,nearrow:Wye,ne:Uye,nedot:Jye,NegativeMediumSpace:Gye,NegativeThickSpace:Kye,NegativeThinSpace:Qye,NegativeVeryThinSpace:Yye,nequiv:Zye,nesear:Xye,nesim:e1e,NestedGreaterGreater:t1e,NestedLessLess:n1e,NewLine:r1e,nexist:i1e,nexists:o1e,Nfr:a1e,nfr:s1e,ngE:l1e,nge:u1e,ngeq:c1e,ngeqq:f1e,ngeqslant:d1e,nges:h1e,nGg:p1e,ngsim:v1e,nGt:m1e,ngt:g1e,ngtr:y1e,nGtv:b1e,nharr:w1e,nhArr:k1e,nhpar:x1e,ni:j1e,nis:C1e,nisd:S1e,niv:T1e,NJcy:O1e,njcy:E1e,nlarr:M1e,nlArr:$1e,nldr:A1e,nlE:_1e,nle:N1e,nleftarrow:I1e,nLeftarrow:P1e,nleftrightarrow:L1e,nLeftrightarrow:D1e,nleq:R1e,nleqq:B1e,nleqslant:z1e,nles:q1e,nless:F1e,nLl:H1e,nlsim:V1e,nLt:W1e,nlt:U1e,nltri:J1e,nltrie:G1e,nLtv:K1e,nmid:Q1e,NoBreak:Y1e,NonBreakingSpace:Z1e,nopf:X1e,Nopf:ebe,Not:tbe,not:nbe,NotCongruent:rbe,NotCupCap:ibe,NotDoubleVerticalBar:obe,NotElement:abe,NotEqual:sbe,NotEqualTilde:lbe,NotExists:ube,NotGreater:cbe,NotGreaterEqual:fbe,NotGreaterFullEqual:dbe,NotGreaterGreater:hbe,NotGreaterLess:pbe,NotGreaterSlantEqual:vbe,NotGreaterTilde:mbe,NotHumpDownHump:gbe,NotHumpEqual:ybe,notin:bbe,notindot:wbe,notinE:kbe,notinva:xbe,notinvb:jbe,notinvc:Cbe,NotLeftTriangleBar:Sbe,NotLeftTriangle:Tbe,NotLeftTriangleEqual:Obe,NotLess:Ebe,NotLessEqual:Mbe,NotLessGreater:$be,NotLessLess:Abe,NotLessSlantEqual:_be,NotLessTilde:Nbe,NotNestedGreaterGreater:Ibe,NotNestedLessLess:Pbe,notni:Lbe,notniva:Dbe,notnivb:Rbe,notnivc:Bbe,NotPrecedes:zbe,NotPrecedesEqual:qbe,NotPrecedesSlantEqual:Fbe,NotReverseElement:Hbe,NotRightTriangleBar:Vbe,NotRightTriangle:Wbe,NotRightTriangleEqual:Ube,NotSquareSubset:Jbe,NotSquareSubsetEqual:Gbe,NotSquareSuperset:Kbe,NotSquareSupersetEqual:Qbe,NotSubset:Ybe,NotSubsetEqual:Zbe,NotSucceeds:Xbe,NotSucceedsEqual:ewe,NotSucceedsSlantEqual:twe,NotSucceedsTilde:nwe,NotSuperset:rwe,NotSupersetEqual:iwe,NotTilde:owe,NotTildeEqual:awe,NotTildeFullEqual:swe,NotTildeTilde:lwe,NotVerticalBar:uwe,nparallel:cwe,npar:fwe,nparsl:dwe,npart:hwe,npolint:pwe,npr:vwe,nprcue:mwe,nprec:gwe,npreceq:ywe,npre:bwe,nrarrc:wwe,nrarr:kwe,nrArr:xwe,nrarrw:jwe,nrightarrow:Cwe,nRightarrow:Swe,nrtri:Twe,nrtrie:Owe,nsc:Ewe,nsccue:Mwe,nsce:$we,Nscr:Awe,nscr:_we,nshortmid:Nwe,nshortparallel:Iwe,nsim:Pwe,nsime:Lwe,nsimeq:Dwe,nsmid:Rwe,nspar:Bwe,nsqsube:zwe,nsqsupe:qwe,nsub:Fwe,nsubE:Hwe,nsube:Vwe,nsubset:Wwe,nsubseteq:Uwe,nsubseteqq:Jwe,nsucc:Gwe,nsucceq:Kwe,nsup:Qwe,nsupE:Ywe,nsupe:Zwe,nsupset:Xwe,nsupseteq:eke,nsupseteqq:tke,ntgl:nke,Ntilde:rke,ntilde:ike,ntlg:oke,ntriangleleft:ake,ntrianglelefteq:ske,ntriangleright:lke,ntrianglerighteq:uke,Nu:cke,nu:fke,num:dke,numero:hke,numsp:pke,nvap:vke,nvdash:mke,nvDash:gke,nVdash:yke,nVDash:bke,nvge:wke,nvgt:kke,nvHarr:xke,nvinfin:jke,nvlArr:Cke,nvle:Ske,nvlt:Tke,nvltrie:Oke,nvrArr:Eke,nvrtrie:Mke,nvsim:$ke,nwarhk:Ake,nwarr:_ke,nwArr:Nke,nwarrow:Ike,nwnear:Pke,Oacute:Lke,oacute:Dke,oast:Rke,Ocirc:Bke,ocirc:zke,ocir:qke,Ocy:Fke,ocy:Hke,odash:Vke,Odblac:Wke,odblac:Uke,odiv:Jke,odot:Gke,odsold:Kke,OElig:Qke,oelig:Yke,ofcir:Zke,Ofr:Xke,ofr:exe,ogon:txe,Ograve:nxe,ograve:rxe,ogt:ixe,ohbar:oxe,ohm:axe,oint:sxe,olarr:lxe,olcir:uxe,olcross:cxe,oline:fxe,olt:dxe,Omacr:hxe,omacr:pxe,Omega:vxe,omega:mxe,Omicron:gxe,omicron:yxe,omid:bxe,ominus:wxe,Oopf:kxe,oopf:xxe,opar:jxe,OpenCurlyDoubleQuote:Cxe,OpenCurlyQuote:Sxe,operp:Txe,oplus:Oxe,orarr:Exe,Or:Mxe,or:$xe,ord:Axe,order:_xe,orderof:Nxe,ordf:Ixe,ordm:Pxe,origof:Lxe,oror:Dxe,orslope:Rxe,orv:Bxe,oS:zxe,Oscr:qxe,oscr:Fxe,Oslash:Hxe,oslash:Vxe,osol:Wxe,Otilde:Uxe,otilde:Jxe,otimesas:Gxe,Otimes:Kxe,otimes:Qxe,Ouml:Yxe,ouml:Zxe,ovbar:Xxe,OverBar:e2e,OverBrace:t2e,OverBracket:n2e,OverParenthesis:r2e,para:i2e,parallel:o2e,par:a2e,parsim:s2e,parsl:l2e,part:u2e,PartialD:c2e,Pcy:f2e,pcy:d2e,percnt:h2e,period:p2e,permil:v2e,perp:m2e,pertenk:g2e,Pfr:y2e,pfr:b2e,Phi:w2e,phi:k2e,phiv:x2e,phmmat:j2e,phone:C2e,Pi:S2e,pi:T2e,pitchfork:O2e,piv:E2e,planck:M2e,planckh:$2e,plankv:A2e,plusacir:_2e,plusb:N2e,pluscir:I2e,plus:P2e,plusdo:L2e,plusdu:D2e,pluse:R2e,PlusMinus:B2e,plusmn:z2e,plussim:q2e,plustwo:F2e,pm:H2e,Poincareplane:V2e,pointint:W2e,popf:U2e,Popf:J2e,pound:G2e,prap:K2e,Pr:Q2e,pr:Y2e,prcue:Z2e,precapprox:X2e,prec:eje,preccurlyeq:tje,Precedes:nje,PrecedesEqual:rje,PrecedesSlantEqual:ije,PrecedesTilde:oje,preceq:aje,precnapprox:sje,precneqq:lje,precnsim:uje,pre:cje,prE:fje,precsim:dje,prime:hje,Prime:pje,primes:vje,prnap:mje,prnE:gje,prnsim:yje,prod:bje,Product:wje,profalar:kje,profline:xje,profsurf:jje,prop:Cje,Proportional:Sje,Proportion:Tje,propto:Oje,prsim:Eje,prurel:Mje,Pscr:$je,pscr:Aje,Psi:_je,psi:Nje,puncsp:Ije,Qfr:Pje,qfr:Lje,qint:Dje,qopf:Rje,Qopf:Bje,qprime:zje,Qscr:qje,qscr:Fje,quaternions:Hje,quatint:Vje,quest:Wje,questeq:Uje,quot:Jje,QUOT:Gje,rAarr:Kje,race:Qje,Racute:Yje,racute:Zje,radic:Xje,raemptyv:eCe,rang:tCe,Rang:nCe,rangd:rCe,range:iCe,rangle:oCe,raquo:aCe,rarrap:sCe,rarrb:lCe,rarrbfs:uCe,rarrc:cCe,rarr:fCe,Rarr:dCe,rArr:hCe,rarrfs:pCe,rarrhk:vCe,rarrlp:mCe,rarrpl:gCe,rarrsim:yCe,Rarrtl:bCe,rarrtl:wCe,rarrw:kCe,ratail:xCe,rAtail:jCe,ratio:CCe,rationals:SCe,rbarr:TCe,rBarr:OCe,RBarr:ECe,rbbrk:MCe,rbrace:$Ce,rbrack:ACe,rbrke:_Ce,rbrksld:NCe,rbrkslu:ICe,Rcaron:PCe,rcaron:LCe,Rcedil:DCe,rcedil:RCe,rceil:BCe,rcub:zCe,Rcy:qCe,rcy:FCe,rdca:HCe,rdldhar:VCe,rdquo:WCe,rdquor:UCe,rdsh:JCe,real:GCe,realine:KCe,realpart:QCe,reals:YCe,Re:ZCe,rect:XCe,reg:eSe,REG:tSe,ReverseElement:nSe,ReverseEquilibrium:rSe,ReverseUpEquilibrium:iSe,rfisht:oSe,rfloor:aSe,rfr:sSe,Rfr:lSe,rHar:uSe,rhard:cSe,rharu:fSe,rharul:dSe,Rho:hSe,rho:pSe,rhov:vSe,RightAngleBracket:mSe,RightArrowBar:gSe,rightarrow:ySe,RightArrow:bSe,Rightarrow:wSe,RightArrowLeftArrow:kSe,rightarrowtail:xSe,RightCeiling:jSe,RightDoubleBracket:CSe,RightDownTeeVector:SSe,RightDownVectorBar:TSe,RightDownVector:OSe,RightFloor:ESe,rightharpoondown:MSe,rightharpoonup:$Se,rightleftarrows:ASe,rightleftharpoons:_Se,rightrightarrows:NSe,rightsquigarrow:ISe,RightTeeArrow:PSe,RightTee:LSe,RightTeeVector:DSe,rightthreetimes:RSe,RightTriangleBar:BSe,RightTriangle:zSe,RightTriangleEqual:qSe,RightUpDownVector:FSe,RightUpTeeVector:HSe,RightUpVectorBar:VSe,RightUpVector:WSe,RightVectorBar:USe,RightVector:JSe,ring:GSe,risingdotseq:KSe,rlarr:QSe,rlhar:YSe,rlm:ZSe,rmoustache:XSe,rmoust:eTe,rnmid:tTe,roang:nTe,roarr:rTe,robrk:iTe,ropar:oTe,ropf:aTe,Ropf:sTe,roplus:lTe,rotimes:uTe,RoundImplies:cTe,rpar:fTe,rpargt:dTe,rppolint:hTe,rrarr:pTe,Rrightarrow:vTe,rsaquo:mTe,rscr:gTe,Rscr:yTe,rsh:bTe,Rsh:wTe,rsqb:kTe,rsquo:xTe,rsquor:jTe,rthree:CTe,rtimes:STe,rtri:TTe,rtrie:OTe,rtrif:ETe,rtriltri:MTe,RuleDelayed:$Te,ruluhar:ATe,rx:_Te,Sacute:NTe,sacute:ITe,sbquo:PTe,scap:LTe,Scaron:DTe,scaron:RTe,Sc:BTe,sc:zTe,sccue:qTe,sce:FTe,scE:HTe,Scedil:VTe,scedil:WTe,Scirc:UTe,scirc:JTe,scnap:GTe,scnE:KTe,scnsim:QTe,scpolint:YTe,scsim:ZTe,Scy:XTe,scy:eOe,sdotb:tOe,sdot:nOe,sdote:rOe,searhk:iOe,searr:oOe,seArr:aOe,searrow:sOe,sect:lOe,semi:uOe,seswar:cOe,setminus:fOe,setmn:dOe,sext:hOe,Sfr:pOe,sfr:vOe,sfrown:mOe,sharp:gOe,SHCHcy:yOe,shchcy:bOe,SHcy:wOe,shcy:kOe,ShortDownArrow:xOe,ShortLeftArrow:jOe,shortmid:COe,shortparallel:SOe,ShortRightArrow:TOe,ShortUpArrow:OOe,shy:EOe,Sigma:MOe,sigma:$Oe,sigmaf:AOe,sigmav:_Oe,sim:NOe,simdot:IOe,sime:POe,simeq:LOe,simg:DOe,simgE:ROe,siml:BOe,simlE:zOe,simne:qOe,simplus:FOe,simrarr:HOe,slarr:VOe,SmallCircle:WOe,smallsetminus:UOe,smashp:JOe,smeparsl:GOe,smid:KOe,smile:QOe,smt:YOe,smte:ZOe,smtes:XOe,SOFTcy:e3e,softcy:t3e,solbar:n3e,solb:r3e,sol:i3e,Sopf:o3e,sopf:a3e,spades:s3e,spadesuit:l3e,spar:u3e,sqcap:c3e,sqcaps:f3e,sqcup:d3e,sqcups:h3e,Sqrt:p3e,sqsub:v3e,sqsube:m3e,sqsubset:g3e,sqsubseteq:y3e,sqsup:b3e,sqsupe:w3e,sqsupset:k3e,sqsupseteq:x3e,square:j3e,Square:C3e,SquareIntersection:S3e,SquareSubset:T3e,SquareSubsetEqual:O3e,SquareSuperset:E3e,SquareSupersetEqual:M3e,SquareUnion:$3e,squarf:A3e,squ:_3e,squf:N3e,srarr:I3e,Sscr:P3e,sscr:L3e,ssetmn:D3e,ssmile:R3e,sstarf:B3e,Star:z3e,star:q3e,starf:F3e,straightepsilon:H3e,straightphi:V3e,strns:W3e,sub:U3e,Sub:J3e,subdot:G3e,subE:K3e,sube:Q3e,subedot:Y3e,submult:Z3e,subnE:X3e,subne:eEe,subplus:tEe,subrarr:nEe,subset:rEe,Subset:iEe,subseteq:oEe,subseteqq:aEe,SubsetEqual:sEe,subsetneq:lEe,subsetneqq:uEe,subsim:cEe,subsub:fEe,subsup:dEe,succapprox:hEe,succ:pEe,succcurlyeq:vEe,Succeeds:mEe,SucceedsEqual:gEe,SucceedsSlantEqual:yEe,SucceedsTilde:bEe,succeq:wEe,succnapprox:kEe,succneqq:xEe,succnsim:jEe,succsim:CEe,SuchThat:SEe,sum:TEe,Sum:OEe,sung:EEe,sup1:MEe,sup2:$Ee,sup3:AEe,sup:_Ee,Sup:NEe,supdot:IEe,supdsub:PEe,supE:LEe,supe:DEe,supedot:REe,Superset:BEe,SupersetEqual:zEe,suphsol:qEe,suphsub:FEe,suplarr:HEe,supmult:VEe,supnE:WEe,supne:UEe,supplus:JEe,supset:GEe,Supset:KEe,supseteq:QEe,supseteqq:YEe,supsetneq:ZEe,supsetneqq:XEe,supsim:eMe,supsub:tMe,supsup:nMe,swarhk:rMe,swarr:iMe,swArr:oMe,swarrow:aMe,swnwar:sMe,szlig:lMe,Tab:uMe,target:cMe,Tau:fMe,tau:dMe,tbrk:hMe,Tcaron:pMe,tcaron:vMe,Tcedil:mMe,tcedil:gMe,Tcy:yMe,tcy:bMe,tdot:wMe,telrec:kMe,Tfr:xMe,tfr:jMe,there4:CMe,therefore:SMe,Therefore:TMe,Theta:OMe,theta:EMe,thetasym:MMe,thetav:$Me,thickapprox:AMe,thicksim:_Me,ThickSpace:NMe,ThinSpace:IMe,thinsp:PMe,thkap:LMe,thksim:DMe,THORN:RMe,thorn:BMe,tilde:zMe,Tilde:qMe,TildeEqual:FMe,TildeFullEqual:HMe,TildeTilde:VMe,timesbar:WMe,timesb:UMe,times:JMe,timesd:GMe,tint:KMe,toea:QMe,topbot:YMe,topcir:ZMe,top:XMe,Topf:e$e,topf:t$e,topfork:n$e,tosa:r$e,tprime:i$e,trade:o$e,TRADE:a$e,triangle:s$e,triangledown:l$e,triangleleft:u$e,trianglelefteq:c$e,triangleq:f$e,triangleright:d$e,trianglerighteq:h$e,tridot:p$e,trie:v$e,triminus:m$e,TripleDot:g$e,triplus:y$e,trisb:b$e,tritime:w$e,trpezium:k$e,Tscr:x$e,tscr:j$e,TScy:C$e,tscy:S$e,TSHcy:T$e,tshcy:O$e,Tstrok:E$e,tstrok:M$e,twixt:$$e,twoheadleftarrow:A$e,twoheadrightarrow:_$e,Uacute:N$e,uacute:I$e,uarr:P$e,Uarr:L$e,uArr:D$e,Uarrocir:R$e,Ubrcy:B$e,ubrcy:z$e,Ubreve:q$e,ubreve:F$e,Ucirc:H$e,ucirc:V$e,Ucy:W$e,ucy:U$e,udarr:J$e,Udblac:G$e,udblac:K$e,udhar:Q$e,ufisht:Y$e,Ufr:Z$e,ufr:X$e,Ugrave:eAe,ugrave:tAe,uHar:nAe,uharl:rAe,uharr:iAe,uhblk:oAe,ulcorn:aAe,ulcorner:sAe,ulcrop:lAe,ultri:uAe,Umacr:cAe,umacr:fAe,uml:dAe,UnderBar:hAe,UnderBrace:pAe,UnderBracket:vAe,UnderParenthesis:mAe,Union:gAe,UnionPlus:yAe,Uogon:bAe,uogon:wAe,Uopf:kAe,uopf:xAe,UpArrowBar:jAe,uparrow:CAe,UpArrow:SAe,Uparrow:TAe,UpArrowDownArrow:OAe,updownarrow:EAe,UpDownArrow:MAe,Updownarrow:$Ae,UpEquilibrium:AAe,upharpoonleft:_Ae,upharpoonright:NAe,uplus:IAe,UpperLeftArrow:PAe,UpperRightArrow:LAe,upsi:DAe,Upsi:RAe,upsih:BAe,Upsilon:zAe,upsilon:qAe,UpTeeArrow:FAe,UpTee:HAe,upuparrows:VAe,urcorn:WAe,urcorner:UAe,urcrop:JAe,Uring:GAe,uring:KAe,urtri:QAe,Uscr:YAe,uscr:ZAe,utdot:XAe,Utilde:e_e,utilde:t_e,utri:n_e,utrif:r_e,uuarr:i_e,Uuml:o_e,uuml:a_e,uwangle:s_e,vangrt:l_e,varepsilon:u_e,varkappa:c_e,varnothing:f_e,varphi:d_e,varpi:h_e,varpropto:p_e,varr:v_e,vArr:m_e,varrho:g_e,varsigma:y_e,varsubsetneq:b_e,varsubsetneqq:w_e,varsupsetneq:k_e,varsupsetneqq:x_e,vartheta:j_e,vartriangleleft:C_e,vartriangleright:S_e,vBar:T_e,Vbar:O_e,vBarv:E_e,Vcy:M_e,vcy:$_e,vdash:A_e,vDash:__e,Vdash:N_e,VDash:I_e,Vdashl:P_e,veebar:L_e,vee:D_e,Vee:R_e,veeeq:B_e,vellip:z_e,verbar:q_e,Verbar:F_e,vert:H_e,Vert:V_e,VerticalBar:W_e,VerticalLine:U_e,VerticalSeparator:J_e,VerticalTilde:G_e,VeryThinSpace:K_e,Vfr:Q_e,vfr:Y_e,vltri:Z_e,vnsub:X_e,vnsup:e5e,Vopf:t5e,vopf:n5e,vprop:r5e,vrtri:i5e,Vscr:o5e,vscr:a5e,vsubnE:s5e,vsubne:l5e,vsupnE:u5e,vsupne:c5e,Vvdash:f5e,vzigzag:d5e,Wcirc:h5e,wcirc:p5e,wedbar:v5e,wedge:m5e,Wedge:g5e,wedgeq:y5e,weierp:b5e,Wfr:w5e,wfr:k5e,Wopf:x5e,wopf:j5e,wp:C5e,wr:S5e,wreath:T5e,Wscr:O5e,wscr:E5e,xcap:M5e,xcirc:$5e,xcup:A5e,xdtri:_5e,Xfr:N5e,xfr:I5e,xharr:P5e,xhArr:L5e,Xi:D5e,xi:R5e,xlarr:B5e,xlArr:z5e,xmap:q5e,xnis:F5e,xodot:H5e,Xopf:V5e,xopf:W5e,xoplus:U5e,xotime:J5e,xrarr:G5e,xrArr:K5e,Xscr:Q5e,xscr:Y5e,xsqcup:Z5e,xuplus:X5e,xutri:eNe,xvee:tNe,xwedge:nNe,Yacute:rNe,yacute:iNe,YAcy:oNe,yacy:aNe,Ycirc:sNe,ycirc:lNe,Ycy:uNe,ycy:cNe,yen:fNe,Yfr:dNe,yfr:hNe,YIcy:pNe,yicy:vNe,Yopf:mNe,yopf:gNe,Yscr:yNe,yscr:bNe,YUcy:wNe,yucy:kNe,yuml:xNe,Yuml:jNe,Zacute:CNe,zacute:SNe,Zcaron:TNe,zcaron:ONe,Zcy:ENe,zcy:MNe,Zdot:$Ne,zdot:ANe,zeetrf:_Ne,ZeroWidthSpace:NNe,Zeta:INe,zeta:PNe,zfr:LNe,Zfr:DNe,ZHcy:RNe,zhcy:BNe,zigrarr:zNe,zopf:qNe,Zopf:FNe,Zscr:HNe,zscr:VNe,zwj:WNe,zwnj:UNe},JNe="\xC1",GNe="\xE1",KNe="\xC2",QNe="\xE2",YNe="\xB4",ZNe="\xC6",XNe="\xE6",eIe="\xC0",tIe="\xE0",nIe="&",rIe="&",iIe="\xC5",oIe="\xE5",aIe="\xC3",sIe="\xE3",lIe="\xC4",uIe="\xE4",cIe="\xA6",fIe="\xC7",dIe="\xE7",hIe="\xB8",pIe="\xA2",vIe="\xA9",mIe="\xA9",gIe="\xA4",yIe="\xB0",bIe="\xF7",wIe="\xC9",kIe="\xE9",xIe="\xCA",jIe="\xEA",CIe="\xC8",SIe="\xE8",TIe="\xD0",OIe="\xF0",EIe="\xCB",MIe="\xEB",$Ie="\xBD",AIe="\xBC",_Ie="\xBE",NIe=">",IIe=">",PIe="\xCD",LIe="\xED",DIe="\xCE",RIe="\xEE",BIe="\xA1",zIe="\xCC",qIe="\xEC",FIe="\xBF",HIe="\xCF",VIe="\xEF",WIe="\xAB",UIe="<",JIe="<",GIe="\xAF",KIe="\xB5",QIe="\xB7",YIe="\xA0",ZIe="\xAC",XIe="\xD1",ePe="\xF1",tPe="\xD3",nPe="\xF3",rPe="\xD4",iPe="\xF4",oPe="\xD2",aPe="\xF2",sPe="\xAA",lPe="\xBA",uPe="\xD8",cPe="\xF8",fPe="\xD5",dPe="\xF5",hPe="\xD6",pPe="\xF6",vPe="\xB6",mPe="\xB1",gPe="\xA3",yPe='"',bPe='"',wPe="\xBB",kPe="\xAE",xPe="\xAE",jPe="\xA7",CPe="\xAD",SPe="\xB9",TPe="\xB2",OPe="\xB3",EPe="\xDF",MPe="\xDE",$Pe="\xFE",APe="\xD7",_Pe="\xDA",NPe="\xFA",IPe="\xDB",PPe="\xFB",LPe="\xD9",DPe="\xF9",RPe="\xA8",BPe="\xDC",zPe="\xFC",qPe="\xDD",FPe="\xFD",HPe="\xA5",VPe="\xFF",WPe={Aacute:JNe,aacute:GNe,Acirc:KNe,acirc:QNe,acute:YNe,AElig:ZNe,aelig:XNe,Agrave:eIe,agrave:tIe,amp:nIe,AMP:rIe,Aring:iIe,aring:oIe,Atilde:aIe,atilde:sIe,Auml:lIe,auml:uIe,brvbar:cIe,Ccedil:fIe,ccedil:dIe,cedil:hIe,cent:pIe,copy:vIe,COPY:mIe,curren:gIe,deg:yIe,divide:bIe,Eacute:wIe,eacute:kIe,Ecirc:xIe,ecirc:jIe,Egrave:CIe,egrave:SIe,ETH:TIe,eth:OIe,Euml:EIe,euml:MIe,frac12:$Ie,frac14:AIe,frac34:_Ie,gt:NIe,GT:IIe,Iacute:PIe,iacute:LIe,Icirc:DIe,icirc:RIe,iexcl:BIe,Igrave:zIe,igrave:qIe,iquest:FIe,Iuml:HIe,iuml:VIe,laquo:WIe,lt:UIe,LT:JIe,macr:GIe,micro:KIe,middot:QIe,nbsp:YIe,not:ZIe,Ntilde:XIe,ntilde:ePe,Oacute:tPe,oacute:nPe,Ocirc:rPe,ocirc:iPe,Ograve:oPe,ograve:aPe,ordf:sPe,ordm:lPe,Oslash:uPe,oslash:cPe,Otilde:fPe,otilde:dPe,Ouml:hPe,ouml:pPe,para:vPe,plusmn:mPe,pound:gPe,quot:yPe,QUOT:bPe,raquo:wPe,reg:kPe,REG:xPe,sect:jPe,shy:CPe,sup1:SPe,sup2:TPe,sup3:OPe,szlig:EPe,THORN:MPe,thorn:$Pe,times:APe,Uacute:_Pe,uacute:NPe,Ucirc:IPe,ucirc:PPe,Ugrave:LPe,ugrave:DPe,uml:RPe,Uuml:BPe,uuml:zPe,Yacute:qPe,yacute:FPe,yen:HPe,yuml:VPe},UPe="&",JPe="'",GPe=">",KPe="<",QPe='"',LR={amp:UPe,apos:JPe,gt:GPe,lt:KPe,quot:QPe},ox={},YPe={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},ZPe=Yc&&Yc.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ox,"__esModule",{value:!0});var AS=ZPe(YPe),XPe=String.fromCodePoint||function(n){var e="";return n>65535&&(n-=65536,e+=String.fromCharCode(n>>>10&1023|55296),n=56320|n&1023),e+=String.fromCharCode(n),e};function e4e(n){return n>=55296&&n<=57343||n>1114111?"\uFFFD":(n in AS.default&&(n=AS.default[n]),XPe(n))}ox.default=e4e;var Ig=Yc&&Yc.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(vs,"__esModule",{value:!0});vs.decodeHTML=vs.decodeHTMLStrict=vs.decodeXML=void 0;var ib=Ig(PR),t4e=Ig(WPe),n4e=Ig(LR),_S=Ig(ox),r4e=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;vs.decodeXML=DR(n4e.default);vs.decodeHTMLStrict=DR(ib.default);function DR(n){var e=RR(n);return function(t){return String(t).replace(r4e,e)}}var NS=function(n,e){return n<e?1:-1};vs.decodeHTML=function(){for(var n=Object.keys(t4e.default).sort(NS),e=Object.keys(ib.default).sort(NS),t=0,r=0;t<e.length;t++)n[r]===e[t]?(e[t]+=";?",r++):e[t]+=";";var i=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),o=RR(ib.default);function a(s){return s.substr(-1)!==";"&&(s+=";"),o(s)}return function(s){return String(s).replace(i,a)}}();function RR(n){return function(t){if(t.charAt(1)==="#"){var r=t.charAt(2);return r==="X"||r==="x"?_S.default(parseInt(t.substr(3),16)):_S.default(parseInt(t.substr(2),10))}return n[t.slice(1,-1)]||t}}var eo={},BR=Yc&&Yc.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(eo,"__esModule",{value:!0});eo.escapeUTF8=eo.escape=eo.encodeNonAsciiHTML=eo.encodeHTML=eo.encodeXML=void 0;var i4e=BR(LR),zR=FR(i4e.default),qR=HR(zR);eo.encodeXML=UR(zR);var o4e=BR(PR),ax=FR(o4e.default),a4e=HR(ax);eo.encodeHTML=l4e(ax,a4e);eo.encodeNonAsciiHTML=UR(ax);function FR(n){return Object.keys(n).sort().reduce(function(e,t){return e[n[t]]="&"+t+";",e},{})}function HR(n){for(var e=[],t=[],r=0,i=Object.keys(n);r<i.length;r++){var o=i[r];o.length===1?e.push("\\"+o):t.push(o)}e.sort();for(var a=0;a<e.length-1;a++){for(var s=a;s<e.length-1&&e[s].charCodeAt(1)+1===e[s+1].charCodeAt(1);)s+=1;var l=1+s-a;l<3||e.splice(a,l,e[a]+"-"+e[s])}return t.unshift("["+e.join("")+"]"),new RegExp(t.join("|"),"g")}var VR=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,s4e=String.prototype.codePointAt!=null?function(n){return n.codePointAt(0)}:function(n){return(n.charCodeAt(0)-55296)*1024+n.charCodeAt(1)-56320+65536};function Pg(n){return"&#x"+(n.length>1?s4e(n):n.charCodeAt(0)).toString(16).toUpperCase()+";"}function l4e(n,e){return function(t){return t.replace(e,function(r){return n[r]}).replace(VR,Pg)}}var WR=new RegExp(qR.source+"|"+VR.source,"g");function u4e(n){return n.replace(WR,Pg)}eo.escape=u4e;function c4e(n){return n.replace(qR,Pg)}eo.escapeUTF8=c4e;function UR(n){return function(e){return e.replace(WR,function(t){return n[t]||Pg(t)})}}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.decodeXMLStrict=n.decodeHTML5Strict=n.decodeHTML4Strict=n.decodeHTML5=n.decodeHTML4=n.decodeHTMLStrict=n.decodeHTML=n.decodeXML=n.encodeHTML5=n.encodeHTML4=n.escapeUTF8=n.escape=n.encodeNonAsciiHTML=n.encodeHTML=n.encodeXML=n.encode=n.decodeStrict=n.decode=void 0;var e=vs,t=eo;function r(l,u){return(!u||u<=0?e.decodeXML:e.decodeHTML)(l)}n.decode=r;function i(l,u){return(!u||u<=0?e.decodeXML:e.decodeHTMLStrict)(l)}n.decodeStrict=i;function o(l,u){return(!u||u<=0?t.encodeXML:t.encodeHTML)(l)}n.encode=o;var a=eo;Object.defineProperty(n,"encodeXML",{enumerable:!0,get:function(){return a.encodeXML}}),Object.defineProperty(n,"encodeHTML",{enumerable:!0,get:function(){return a.encodeHTML}}),Object.defineProperty(n,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return a.encodeNonAsciiHTML}}),Object.defineProperty(n,"escape",{enumerable:!0,get:function(){return a.escape}}),Object.defineProperty(n,"escapeUTF8",{enumerable:!0,get:function(){return a.escapeUTF8}}),Object.defineProperty(n,"encodeHTML4",{enumerable:!0,get:function(){return a.encodeHTML}}),Object.defineProperty(n,"encodeHTML5",{enumerable:!0,get:function(){return a.encodeHTML}});var s=vs;Object.defineProperty(n,"decodeXML",{enumerable:!0,get:function(){return s.decodeXML}}),Object.defineProperty(n,"decodeHTML",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(n,"decodeHTMLStrict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(n,"decodeHTML4",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(n,"decodeHTML5",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(n,"decodeHTML4Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(n,"decodeHTML5Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(n,"decodeXMLStrict",{enumerable:!0,get:function(){return s.decodeXML}})})(ix);var JR="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",f4e=92,d4e=/[\\&]/,sx="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",h4e=new RegExp("\\\\"+sx+"|"+JR,"gi"),p4e='[&<>"]',IS=new RegExp(p4e,"g"),v4e=function(n){return n.charCodeAt(0)===f4e?n.charAt(1):ix.decodeHTML(n)};function Ed(n){return d4e.test(n)?n.replace(h4e,v4e):n}function cp(n){try{return MX(n)}catch{return n}}function m4e(n){switch(n){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return n}}function oc(n){return IS.test(n)?n.replace(IS,m4e):n}function ob(n,e){for(var t=[],r=0;r<e;r++)t.push(n);return t.join("")}function PS(n){return n?!/[^ \t]+/.test(n):!0}var g4e=function(){function n(e){this.current=e,this.root=e,this.entering=!0}return n.prototype.next=function(){var e=this.current,t=this.entering;if(e===null)return null;var r=lx(e);return t&&r?e.firstChild?(this.current=e.firstChild,this.entering=!0):this.entering=!1:e===this.root?this.current=null:e.next===null?(this.current=e.parent,this.entering=!1):(this.current=e.next,this.entering=!0),{entering:t,node:e}},n.prototype.resumeAt=function(e,t){this.current=e,this.entering=t===!0},n}();function lx(n){switch(n.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}var y4e=1,Lg={};function b4e(n){return Lg[n]}function ab(n){delete Lg[n]}function w4e(){Lg={}}var Ah=function(){function n(e,t){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,e==="document"?this.id=-1:this.id=y4e++,this.type=e,this.sourcepos=t,Lg[this.id]=this}return n.prototype.isContainer=function(){return lx(this)},n.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},n.prototype.replaceWith=function(e){this.insertBefore(e),this.unlink()},n.prototype.insertAfter=function(e){e.unlink(),e.next=this.next,e.next&&(e.next.prev=e),e.prev=this,this.next=e,this.parent&&(e.parent=this.parent,e.next||(e.parent.lastChild=e))},n.prototype.insertBefore=function(e){e.unlink(),e.prev=this.prev,e.prev&&(e.prev.next=e),e.next=this,this.prev=e,e.parent=this.parent,e.prev||(e.parent.firstChild=e)},n.prototype.appendChild=function(e){e.unlink(),e.parent=this,this.lastChild?(this.lastChild.next=e,e.prev=this.lastChild,this.lastChild=e):(this.firstChild=e,this.lastChild=e)},n.prototype.prependChild=function(e){e.unlink(),e.parent=this,this.firstChild?(this.firstChild.prev=e,e.next=this.firstChild,this.firstChild=e):(this.firstChild=e,this.lastChild=e)},n.prototype.walker=function(){return new g4e(this)},n}(),js=function(n){Ao(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.open=!0,i.lineOffsets=null,i.stringContent=null,i.lastLineBlank=!1,i.lastLineChecked=!1,i.type=t,i}return e}(Ah),k4e=function(n){Ao(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.listData=null,t}return e}(js),x4e=function(n){Ao(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.level=0,t.headingType="atx",t}return e}(js),j4e=function(n){Ao(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isFenced=!1,t.fenceChar=null,t.fenceLength=0,t.fenceOffset=-1,t.info=null,t.infoPadding=0,t}return e}(js),C4e=function(n){Ao(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.columns=[],t}return e}(js),S4e=function(n){Ao(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.startIdx=0,t.endIdx=0,t.paddingLeft=0,t.paddingRight=0,t.ignored=!1,t}return e}(js),T4e=function(n){Ao(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.title="",t.dest="",t.label="",t}return e}(js),O4e=function(n){Ao(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.syntaxLength=0,t.offset=-1,t.info="",t}return e}(js),E4e=function(n){Ao(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.htmlBlockType=-1,t}return e}(js),M4e=function(n){Ao(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.destination=null,t.title=null,t.extendedAutolink=!1,t}return e}(Ah),$4e=function(n){Ao(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.tickCount=0,t}return e}(Ah),A4e=function(n){Ao(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.info="",t}return e}(Ah);function jr(n,e){switch(n){case"heading":return new x4e(n,e);case"list":case"item":return new k4e(n,e);case"link":case"image":return new M4e(n,e);case"codeBlock":return new j4e(n,e);case"htmlBlock":return new E4e(n,e);case"table":return new C4e(n,e);case"tableCell":return new S4e(n,e);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":case"frontMatter":return new js(n,e);case"code":return new $4e(n,e);case"refDef":return new T4e(n,e);case"customBlock":return new O4e(n,e);case"customInline":return new A4e(n,e);default:return new Ah(n,e)}}function GR(n){return n.type==="codeBlock"}function _4e(n){return n.type==="htmlBlock"}function N4e(n){return n.type==="heading"}function LS(n){return n.type==="list"}function I4e(n){return n.type==="table"}function Yu(n){return n.type==="refDef"}function KR(n){return n.type==="customBlock"}function P4e(n){return n.type==="customInline"}function Lr(n,e){var t=jr("text",e);return t.literal=n,t}var QR="[A-Za-z][A-Za-z0-9-]*",L4e="[a-zA-Z_:][a-zA-Z0-9:._-]*",D4e="[^\"'=<>`\\x00-\\x20]+",R4e="'[^']*'",B4e='"[^"]*"',z4e="(?:"+D4e+"|"+R4e+"|"+B4e+")",q4e="(?:\\s*=\\s*"+z4e+")",F4e="(?:\\s+"+L4e+q4e+"?)",YR="<"+QR+F4e+"*\\s*/?>",ZR="</"+QR+"\\s*[>]",H4e="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",V4e="[<][?].*?[?][>]",W4e="<![A-Z]+\\s+[^>]*>",U4e="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",J4e="(?:"+YR+"|"+ZR+"|"+H4e+"|"+V4e+"|"+W4e+"|"+U4e+")",G4e=new RegExp("^"+J4e,"i");/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */var sb;if(String.fromCodePoint)sb=function(n){try{return String.fromCodePoint(n)}catch(e){if(e instanceof RangeError)return String.fromCharCode(65533);throw e}};else{var K4e=String.fromCharCode,Q4e=Math.floor;sb=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=16384,r=[],i,o,a=-1,s=n.length;if(!s)return"";for(var l="";++a<s;){var u=Number(n[a]);if(!isFinite(u)||u<0||u>1114111||Q4e(u)!==u)return String.fromCharCode(65533);u<=65535?r.push(u):(u-=65536,i=(u>>10)+55296,o=u%1024+56320,r.push(i,o)),(a+1===s||r.length>t)&&(l+=K4e.apply(void 0,r),r.length=0)}return l}}var dy=sb,Y4e="(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+",Z4e="[^<\\s]*[^<?!.,:*_?~\\s]",X4e="[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+";function eLe(n){var e=/\)+$/.exec(n);if(e){for(var t=0,r=0,i=n;r<i.length;r++){var o=i[r];o==="("?t<0?t=1:t+=1:o===")"&&(t-=1)}if(t<0){var a=Math.min(-t,e[0].length);return n.substring(0,n.length-a)}}return n}function tLe(n){return n.replace(/&[A-Za-z0-9]+;$/,"")}function nLe(n){for(var e=new RegExp(X4e,"g"),t=[],r;r=e.exec(n);){var i=r[0];/[_-]+$/.test(i)||t.push({text:i,range:[r.index,r.index+i.length-1],url:"mailto:"+i})}return t}function rLe(n){for(var e=new RegExp("(www|https?://)."+Y4e+Z4e,"g"),t=[],r;r=e.exec(n);){var i=tLe(eLe(r[0])),o=r[1]==="www"?"http://":"";t.push({text:i,range:[r.index,r.index+i.length-1],url:""+o+i})}return t}function iLe(n){return rb(rb([],rLe(n)),nLe(n)).sort(function(e,t){return e.range[0]-t.range[0]})}function oLe(n,e){typeof e=="boolean"&&(e=iLe);for(var t,r=function(){var i=t.entering,o=t.node;if(i&&o.type==="text"&&o.parent.type!=="link"){var a=o.literal,s=e(a);if(!s||!s.length)return"continue";for(var l=0,u=o.sourcepos[0],c=u[0],f=u[1],d=function(T,M){return[[c,f+T],[c,f+M]]},h=[],v=0,p=s;v<p.length;v++){var m=p[v],g=m.range,y=m.url,b=m.text;g[0]>l&&h.push(Lr(a.substring(l,g[0]),d(l,g[0]-1)));var w=jr("link",d.apply(void 0,g));w.appendChild(Lr(b,d.apply(void 0,g))),w.destination=y,w.extendedAutolink=!0,h.push(w),l=g[1]+1}l<a.length&&h.push(Lr(a.substring(l),d(l,a.length-1)));for(var k=0,x=h;k<x.length;k++){var C=x[k];o.insertBefore(C)}o.unlink()}};t=n.next();)r()}function lm(n){return n[n.length-1]}function DS(n){return n.slice(1,n.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()}function fp(n,e){Object.keys(n).forEach(function(t){e(t,n[t])})}function aLe(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var r=ni({},n);return e.forEach(function(i){delete r[i]}),r}function Zu(n){return!Object.keys(n).length}function sLe(n){Object.keys(n).forEach(function(e){delete n[e]})}var lb=10,hy=42,dp=95,lLe=96,RS=91,uLe=93,hp=126,BS=60,cLe=33,zS=92,fLe=38,qS=40,py=41,dLe=58,Il=39,Pl=34,Ll=36,vy="\\\\"+sx,FS=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),hLe=new RegExp('^(?:"('+vy+'|[^"\\x00])*"|'+("'("+vy+"|[^'\\x00])*'")+"|"+("\\(("+vy+"|[^()\\x00])*\\))")),pLe=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,HS=new RegExp("^"+sx),vLe=new RegExp("^"+JR,"i"),mLe=/`+/,gLe=/^`+/,yLe=/\.\.\./g,bLe=/--+/g,wLe=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,kLe=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,xLe=/^ *(?:\n *)?/,my=/^[ \t\n\x0b\x0c\x0d]/,VS=/^\s/,jLe=/ *$/,CLe=/^ */,WS=/^ *(?:\n|$)/,SLe=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,TLe=/^[^\n`\[\]\\!<&*_'"~$]+/m,OLe=function(){function n(e){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=e}return n.prototype.sourcepos=function(e,t){var r=this.linePosOffset+this.lineOffsets[this.lineIdx],i=this.lineStartNum+this.lineIdx,o=[i,e+r];return typeof t=="number"?[o,[i,t+r]]:o},n.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},n.prototype.match=function(e){var t=e.exec(this.subject.slice(this.pos));return t===null?null:(this.pos+=t.index+t[0].length,t[0])},n.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},n.prototype.spnl=function(){return this.match(xLe),!0},n.prototype.parseBackticks=function(e){var t=this.pos+1,r=this.match(gLe);if(r===null)return!1;for(var i=this.pos,o;(o=this.match(mLe))!==null;)if(o===r){var a=this.subject.slice(i,this.pos-r.length),s=this.sourcepos(t,this.pos),l=a.split(`
`);if(l.length>1){var u=lm(l);this.lineIdx+=l.length-1,this.linePosOffset=-(this.pos-u.length-r.length),s[1]=this.sourcepos(this.pos),a=l.join(" ")}var c=jr("code",s);return a.length>0&&a.match(/[^ ]/)!==null&&a[0]==" "&&a[a.length-1]==" "?c.literal=a.slice(1,a.length-1):c.literal=a,c.tickCount=r.length,e.appendChild(c),!0}return this.pos=i,e.appendChild(Lr(r,this.sourcepos(t,this.pos-1))),!0},n.prototype.parseBackslash=function(e){var t=this.subject,r;this.pos+=1;var i=this.pos;return this.peek()===lb?(this.pos+=1,r=jr("linebreak",this.sourcepos(this.pos-1,this.pos)),e.appendChild(r),this.nextLine()):HS.test(t.charAt(this.pos))?(e.appendChild(Lr(t.charAt(this.pos),this.sourcepos(i,this.pos))),this.pos+=1):e.appendChild(Lr("\\",this.sourcepos(i,i))),!0},n.prototype.parseAutolink=function(e){var t,r,i,o=this.pos+1;return(t=this.match(wLe))?(r=t.slice(1,t.length-1),i=jr("link",this.sourcepos(o,this.pos)),i.destination=cp("mailto:"+r),i.title="",i.appendChild(Lr(r,this.sourcepos(o+1,this.pos-1))),e.appendChild(i),!0):(t=this.match(kLe))?(r=t.slice(1,t.length-1),i=jr("link",this.sourcepos(o,this.pos)),i.destination=cp(r),i.title="",i.appendChild(Lr(r,this.sourcepos(o+1,this.pos-1))),e.appendChild(i),!0):!1},n.prototype.parseHtmlTag=function(e){var t=this.pos+1,r=this.match(G4e);if(r===null)return!1;var i=jr("htmlInline",this.sourcepos(t,this.pos));return i.literal=r,e.appendChild(i),!0},n.prototype.scanDelims=function(e){var t=0,r=this.pos;if(e===Il||e===Pl)t++,this.pos++;else for(;this.peek()===e;)t++,this.pos++;if(t===0||t<2&&(e===hp||e===Ll))return this.pos=r,null;var i=r===0?`
`:this.subject.charAt(r-1),o=this.peek(),a;o===-1?a=`
`:a=dy(o);var s=VS.test(a),l=FS.test(a),u=VS.test(i),c=FS.test(i),f=!s&&(!l||u||c),d=!u&&(!c||s||l),h,v;return e===dp?(h=f&&(!d||c),v=d&&(!f||l)):e===Il||e===Pl?(h=f&&!d,v=d):e===Ll?(h=!s,v=!u):(h=f,v=d),this.pos=r,{numdelims:t,canOpen:h,canClose:v}},n.prototype.handleDelim=function(e,t){var r=this.scanDelims(e);if(!r)return!1;var i=r.numdelims,o=this.pos+1,a;this.pos+=i,e===Il?a="\u2019":e===Pl?a="\u201C":a=this.subject.slice(o-1,this.pos);var s=Lr(a,this.sourcepos(o,this.pos));return t.appendChild(s),(r.canOpen||r.canClose)&&(this.options.smart||e!==Il&&e!==Pl)&&(this.delimiters={cc:e,numdelims:i,origdelims:i,node:s,previous:this.delimiters,next:null,canOpen:r.canOpen,canClose:r.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},n.prototype.removeDelimiter=function(e){e.previous!==null&&(e.previous.next=e.next),e.next===null?this.delimiters=e.previous:e.next.previous=e.previous},n.prototype.removeDelimitersBetween=function(e,t){e.next!==t&&(e.next=t,t.previous=e)},n.prototype.processEmphasis=function(e){var t,r,i,o,a,s,l,u=!1,c=(t={},t[dp]=[e,e,e],t[hy]=[e,e,e],t[Il]=[e],t[Pl]=[e],t[hp]=[e],t[Ll]=[e],t);for(i=this.delimiters;i!==null&&i.previous!==e;)i=i.previous;for(;i!==null;){var f=i.cc,d=f===dp||f===hy;if(!i.canClose)i=i.next;else{for(r=i.previous,l=!1;r!==null&&r!==e&&r!==c[f][d?i.origdelims%3:0];){if(u=d&&(i.canOpen||r.canClose)&&i.origdelims%3!==0&&(r.origdelims+i.origdelims)%3===0,r.cc===i.cc&&r.canOpen&&!u){l=!0;break}r=r.previous}if(o=i,d||f===hp||f===Ll){if(!l)i=i.next;else if(r){var h=i.numdelims>=2&&r.numdelims>=2?2:1,v=d?0:1;a=r.node,s=i.node;var p=d?h===1?"emph":"strong":"strike";f===Ll&&(p="customInline");var m=jr(p),g=a.sourcepos[1],y=s.sourcepos[0];m.sourcepos=[[g[0],g[1]-h+1],[y[0],y[1]+h-1]],a.sourcepos[1][1]-=h,s.sourcepos[0][1]+=h,a.literal=a.literal.slice(h),s.literal=s.literal.slice(h),r.numdelims-=h,i.numdelims-=h;for(var b=a.next,w=void 0;b&&b!==s;)w=b.next,b.unlink(),m.appendChild(b),b=w;if(f===Ll){var k=m.firstChild,x=k.literal||"",C=x.split(/\s/)[0];m.info=C,x.length<=C.length?k.unlink():(k.sourcepos[0][1]+=C.length,k.literal=x.replace(C+" ",""))}if(a.insertAfter(m),this.removeDelimitersBetween(r,i),r.numdelims<=v&&(r.numdelims===0&&a.unlink(),this.removeDelimiter(r)),i.numdelims<=v){i.numdelims===0&&s.unlink();var T=i.next;this.removeDelimiter(i),i=T}}}else f===Il?(i.node.literal="\u2019",l&&(r.node.literal="\u2018"),i=i.next):f===Pl&&(i.node.literal="\u201D",l&&(r.node.literal="\u201C"),i=i.next);l||(c[f][d?o.origdelims%3:0]=o.previous,o.canOpen||this.removeDelimiter(o))}}for(;this.delimiters!==null&&this.delimiters!==e;)this.removeDelimiter(this.delimiters)},n.prototype.parseLinkTitle=function(){var e=this.match(hLe);return e===null?null:Ed(e.substr(1,e.length-2))},n.prototype.parseLinkDestination=function(){var e=this.match(pLe);if(e===null){if(this.peek()===BS)return null;for(var t=this.pos,r=0,i=void 0;(i=this.peek())!==-1;)if(i===zS&&HS.test(this.subject.charAt(this.pos+1)))this.pos+=1,this.peek()!==-1&&(this.pos+=1);else if(i===qS)this.pos+=1,r+=1;else if(i===py){if(r<1)break;this.pos+=1,r-=1}else{if(my.exec(dy(i))!==null)break;this.pos+=1}return this.pos===t&&i!==py||r!==0?null:(e=this.subject.substr(t,this.pos-t),cp(Ed(e)))}return cp(Ed(e.substr(1,e.length-2)))},n.prototype.parseLinkLabel=function(){var e=this.match(SLe);return e===null||e.length>1001?0:e.length},n.prototype.parseOpenBracket=function(e){var t=this.pos;this.pos+=1;var r=Lr("[",this.sourcepos(this.pos,this.pos));return e.appendChild(r),this.addBracket(r,t,!1),!0},n.prototype.parseBang=function(e){var t=this.pos;if(this.pos+=1,this.peek()===RS){this.pos+=1;var r=Lr("![",this.sourcepos(this.pos-1,this.pos));e.appendChild(r),this.addBracket(r,t+1,!0)}else{var r=Lr("!",this.sourcepos(this.pos,this.pos));e.appendChild(r)}return!0},n.prototype.parseCloseBracket=function(e){var t=null,r=null,i=!1;this.pos+=1;var o=this.pos,a=this.brackets;if(a===null)return e.appendChild(Lr("]",this.sourcepos(o,o))),!0;if(!a.active)return e.appendChild(Lr("]",this.sourcepos(o,o))),this.removeBracket(),!0;var s=a.image,l=this.pos;this.peek()===qS&&(this.pos++,this.spnl()&&(t=this.parseLinkDestination())!==null&&this.spnl()&&(my.test(this.subject.charAt(this.pos-1))&&(r=this.parseLinkTitle())||!0)&&this.spnl()&&this.peek()===py?(this.pos+=1,i=!0):this.pos=l);var u="";if(!i){var c=this.pos,f=this.parseLinkLabel();if(f>2?u=this.subject.slice(c,c+f):a.bracketAfter||(u=this.subject.slice(a.index,o)),f===0&&(this.pos=l),u){u=DS(u);var d=this.refMap[u];d&&(t=d.destination,r=d.title,i=!0)}}if(i){var h=jr(s?"image":"link");h.destination=t,h.title=r||"",h.sourcepos=[a.startpos,this.sourcepos(this.pos)];for(var v=a.node.next,p=void 0;v;)p=v.next,v.unlink(),h.appendChild(v),v=p;if(e.appendChild(h),this.processEmphasis(a.previousDelimiter),this.removeBracket(),a.node.unlink(),!s)for(a=this.brackets;a!==null;)a.image||(a.active=!1),a=a.previous;return this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:u}),!0}return this.removeBracket(),this.pos=o,e.appendChild(Lr("]",this.sourcepos(o,o))),this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:u}),!0},n.prototype.addBracket=function(e,t,r){this.brackets!==null&&(this.brackets.bracketAfter=!0),this.brackets={node:e,startpos:this.sourcepos(t+(r?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:t,image:r,active:!0}},n.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},n.prototype.parseEntity=function(e){var t,r=this.pos+1;return(t=this.match(vLe))?(e.appendChild(Lr(ix.decodeHTML(t),this.sourcepos(r,this.pos))),!0):!1},n.prototype.parseString=function(e){var t,r=this.pos+1;if(t=this.match(TLe)){if(this.options.smart){var i=t.replace(yLe,"\u2026").replace(bLe,function(a){var s=0,l=0;return a.length%3===0?l=a.length/3:a.length%2===0?s=a.length/2:a.length%3===2?(s=1,l=(a.length-2)/3):(s=2,l=(a.length-4)/3),ob("\u2014",l)+ob("\u2013",s)});e.appendChild(Lr(i,this.sourcepos(r,this.pos)))}else{var o=Lr(t,this.sourcepos(r,this.pos));e.appendChild(o)}return!0}return!1},n.prototype.parseNewline=function(e){this.pos+=1;var t=e.lastChild;if(t&&t.type==="text"&&t.literal[t.literal.length-1]===" "){var r=t.literal[t.literal.length-2]===" ",i=t.literal.length;t.literal=t.literal.replace(jLe,"");var o=i-t.literal.length;t.sourcepos[1][1]-=o,e.appendChild(jr(r?"linebreak":"softbreak",this.sourcepos(this.pos-o,this.pos)))}else e.appendChild(jr("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(CLe),!0},n.prototype.parseReference=function(e,t){if(!this.options.referenceDefinition)return 0;this.subject=e.stringContent,this.pos=0;var r=null,i=this.pos,o=this.parseLinkLabel();if(o===0)return 0;var a=this.subject.substr(0,o);if(this.peek()===dLe)this.pos++;else return this.pos=i,0;this.spnl();var s=this.parseLinkDestination();if(s===null)return this.pos=i,0;var l=this.pos;this.spnl(),this.pos!==l&&(r=this.parseLinkTitle()),r===null&&(r="",this.pos=l);var u=!0;if(this.match(WS)===null&&(r===""?u=!1:(r="",this.pos=l,u=this.match(WS)!==null)),!u)return this.pos=i,0;var c=DS(a);if(c==="")return this.pos=i,0;var f=this.getReferenceDefSourcepos(e);e.sourcepos[0][0]=f[1][0]+1;var d=jr("refDef",f);return d.title=r,d.dest=s,d.label=c,e.insertBefore(d),t[c]?this.refDefCandidateMap[d.id]=d:t[c]=fb(d),this.pos-i},n.prototype.mergeTextNodes=function(e){for(var t,r=[];t=e.next();){var i=t.entering,o=t.node;if(i&&o.type==="text")r.push(o);else if(r.length===1)r=[];else if(r.length>1){var a=r[0],s=r[r.length-1];a.sourcepos&&s.sourcepos&&(a.sourcepos[1]=s.sourcepos[1]),a.next=s.next,a.next&&(a.next.prev=a);for(var l=1;l<r.length;l+=1)a.literal+=r[l].literal,r[l].unlink();r=[]}}},n.prototype.getReferenceDefSourcepos=function(e){for(var t=e.stringContent.split(/\n|\r\n/),r=!1,i=0,o={line:0,ch:0},a=0;a<t.length;a+=1){var s=t[a];if(my.test(s))break;if(/\:/.test(s)&&i===0){if(r)break;var l=s.indexOf(":")===s.length-1?a+1:a;o={line:l,ch:t[l].length},r=!0}var u=s.match(/'|"/g);if(u&&(i+=u.length),i===2){o={line:a,ch:s.length};break}}return[[e.sourcepos[0][0],e.sourcepos[0][1]],[e.sourcepos[0][0]+o.line,o.ch]]},n.prototype.parseInline=function(e){var t,r=!1,i=this.peek();if(i===-1)return!1;switch(i){case lb:r=this.parseNewline(e);break;case zS:r=this.parseBackslash(e);break;case lLe:r=this.parseBackticks(e);break;case hy:case dp:case hp:case Ll:r=this.handleDelim(i,e);break;case Il:case Pl:r=!!(!((t=this.options)===null||t===void 0)&&t.smart)&&this.handleDelim(i,e);break;case RS:r=this.parseOpenBracket(e);break;case cLe:r=this.parseBang(e);break;case uLe:r=this.parseCloseBracket(e);break;case BS:r=this.parseAutolink(e)||this.parseHtmlTag(e);break;case fLe:e.disabledEntityParse||(r=this.parseEntity(e));break;default:r=this.parseString(e);break}return r||(this.pos+=1,e.appendChild(Lr(dy(i),this.sourcepos(this.pos,this.pos+1)))),!0},n.prototype.parse=function(e){for(this.subject=e.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=e.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=e.sourcepos[0][0],N4e(e)&&(this.lineOffsets[0]+=e.level+1);this.parseInline(e););e.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(e.walker());var t=this.options,r=t.extendedAutolinks,i=t.customParser;if(r&&oLe(e.walker(),r),i&&e.firstChild)for(var o,a=e.firstChild.walker();o=a.next();){var s=o.node,l=o.entering;i[s.type]&&i[s.type](s,{entering:l,options:this.options})}},n}(),ELe=/^\[([ \txX])\][ \t]+/;function MLe(n,e){if(e.firstChild&&e.firstChild.type==="paragraph"){var t=e.firstChild,r=t.stringContent.match(ELe);if(r){var i=r[0].length;t.stringContent=t.stringContent.substring(i-1),t.sourcepos[0][1]+=i,t.lineOffsets[0]+=i,e.listData.task=!0,e.listData.checked=/[xX]/.test(r[1])}}}var $Le={continue:function(){return 0},finalize:function(){},canContain:function(n){return n==="tableHead"||n==="tableBody"},acceptsLines:!1},ALe={continue:function(){return 0},finalize:function(){},canContain:function(n){return n==="tableRow"},acceptsLines:!1},_Le={continue:function(){return 1},finalize:function(){},canContain:function(n){return n==="tableRow"||n==="tableDelimRow"},acceptsLines:!1},NLe={continue:function(){return 1},finalize:function(){},canContain:function(n){return n==="tableDelimCell"},acceptsLines:!1},ILe={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},PLe={continue:function(){return 1},finalize:function(){},canContain:function(n){return n==="tableCell"},acceptsLines:!1},LLe={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},um=4,XR=9,e6=62,DLe=60,t6=32,n6=91,r6=/[^ \t\f\v\r\n]/,RLe=/^(?:`{3,}|~{3,})(?= *$)/;function US(n){for(var e=n;e;){if(e.lastLineBlank)return!0;var t=e.type;if(!e.lastLineChecked&&(t==="list"||t==="item"))e.lastLineChecked=!0,e=e.lastChild;else{e.lastLineChecked=!0;break}}return!1}function io(n,e){return e<n.length?n.charCodeAt(e):-1}function i6(n){return!r6.test(n)}function Zc(n){return n===t6||n===XR}var BLe=/^\$\$$/,zLe={continue:function(n,e){var t=n.currentLine,r=t.match(BLe);if(r)return n.lastLineLength=r[0].length,n.finalize(e,n.lineNumber),2;for(var i=e.offset;i>0&&Zc(io(t,n.offset));)n.advanceOffset(1,!0),i--;return 0},finalize:function(n,e){if(e.stringContent!==null){var t=e.stringContent,r=t.indexOf(`
`),i=t.slice(0,r),o=t.slice(r+1),a=i.match(/^(\s*)(.*)/);e.info=Ed(a[2].trim()),e.literal=o,e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},o6={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0},qLe={continue:function(){return 0},finalize:function(){},canContain:function(n){return n!=="item"},acceptsLines:!1},FLe={continue:function(){return 0},finalize:function(n,e){for(var t=e.firstChild;t;){if(US(t)&&t.next){e.listData.tight=!1;break}for(var r=t.firstChild;r;){if(US(r)&&(t.next||r.next)){e.listData.tight=!1;break}r=r.next}t=t.next}},canContain:function(n){return n==="item"},acceptsLines:!1},HLe={continue:function(n){var e=n.currentLine;if(!n.indented&&io(e,n.nextNonspace)===e6)n.advanceNextNonspace(),n.advanceOffset(1,!1),Zc(io(e,n.offset))&&n.advanceOffset(1,!0);else return 1;return 0},finalize:function(){},canContain:function(n){return n!=="item"},acceptsLines:!1},VLe={continue:function(n,e){if(n.blank){if(e.firstChild===null)return 1;n.advanceNextNonspace()}else if(n.indent>=e.listData.markerOffset+e.listData.padding)n.advanceOffset(e.listData.markerOffset+e.listData.padding,!0);else return 1;return 0},finalize:MLe,canContain:function(n){return n!=="item"},acceptsLines:!1},WLe={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},ULe={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},JLe={continue:function(n,e){var t=n.currentLine,r=n.indent;if(e.isFenced){var i=r<=3&&t.charAt(n.nextNonspace)===e.fenceChar&&t.slice(n.nextNonspace).match(RLe);if(i&&i[0].length>=e.fenceLength)return n.lastLineLength=n.offset+r+i[0].length,n.finalize(e,n.lineNumber),2;for(var o=e.fenceOffset;o>0&&Zc(io(t,n.offset));)n.advanceOffset(1,!0),o--}else if(r>=um)n.advanceOffset(um,!0);else if(n.blank)n.advanceNextNonspace();else return 1;return 0},finalize:function(n,e){var t;if(e.stringContent!==null){if(e.isFenced){var r=e.stringContent,i=r.indexOf(`
`),o=r.slice(0,i),a=r.slice(i+1),s=o.match(/^(\s*)(.*)/);e.infoPadding=s[1].length,e.info=Ed(s[2].trim()),e.literal=a}else e.literal=(t=e.stringContent)===null||t===void 0?void 0:t.replace(/(\n *)+$/,`
`);e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},GLe={continue:function(n,e){return n.blank&&(e.htmlBlockType===6||e.htmlBlockType===7)?1:0},finalize:function(n,e){var t;e.literal=((t=e.stringContent)===null||t===void 0?void 0:t.replace(/(\n *)+$/,""))||null,e.stringContent=null},canContain:function(){return!1},acceptsLines:!0},KLe={continue:function(n){return n.blank?1:0},finalize:function(n,e){if(e.stringContent!==null){for(var t,r=!1;io(e.stringContent,0)===n6&&(t=n.inlineParser.parseReference(e,n.refMap));)e.stringContent=e.stringContent.slice(t),r=!0;r&&i6(e.stringContent)&&e.unlink()}},canContain:function(){return!1},acceptsLines:!0},QLe=o6,YLe=o6,Xu={document:qLe,list:FLe,blockQuote:HLe,item:VLe,heading:WLe,thematicBreak:ULe,codeBlock:JLe,htmlBlock:GLe,paragraph:KLe,table:$Le,tableBody:ALe,tableHead:_Le,tableRow:PLe,tableCell:LLe,tableDelimRow:NLe,tableDelimCell:ILe,refDef:QLe,customBlock:zLe,frontMatter:YLe};function ub(n){for(var e=0,t=0,r=[],i=0;i<n.length;i+=1)if(n[i]==="|"&&n[i-1]!=="\\"){var o=n.substring(e,i);e===0&&PS(o)?t=i+1:r.push(o),e=i+1}if(e<n.length){var o=n.substring(e,n.length);PS(o)||r.push(o)}return[t,r]}function cb(n,e,t,r){for(var i=[],o=0,a=e;o<a.length;o++){var s=a[o],l=s.match(/^[ \t]+/),u=l?l[0].length:0,c=void 0,f=void 0;if(u===s.length)u=0,c=0,f="";else{var d=s.match(/[ \t]+$/);c=d?d[0].length:0,f=s.slice(u,s.length-c)}var h=r+u,v=jr(n,[[t,r],[t,r+s.length-1]]);v.stringContent=f.replace(/\\\|/g,"|"),v.startIdx=i.length,v.endIdx=i.length,v.lineOffsets=[h-1],v.paddingLeft=u,v.paddingRight=c,i.push(v),r+=s.length+1}return i}function ZLe(n){var e=null,t=n.stringContent,r=t[0],i=t[t.length-1];return i===":"?e=r===":"?"center":"right":r===":"&&(e="left"),{align:e}}var XLe=function(n,e){var t=e.stringContent;if(e.type==="paragraph"&&!n.indented&&!n.blank){var r=t.length-1,i=t.lastIndexOf(`
`,r-1)+1,o=t.slice(i,r),a=n.currentLine.slice(n.nextNonspace),s=ub(o),l=s[0],u=s[1],c=ub(a),f=c[0],d=c[1],h=/^[ \t]*:?-+:?[ \t]*$/;if(!u.length||!d.length||d.some(function(T){return!h.test(T)})||d.length===1&&a.indexOf("|")!==0)return 0;var v=e.lineOffsets,p=n.lineNumber-1,m=lm(v)+1,g=jr("table",[[p,m],[n.lineNumber,n.offset]]);if(g.columns=d.map(function(){return{align:null}}),e.insertAfter(g),v.length===1)e.unlink();else{e.stringContent=t.slice(0,i);var y=t.lastIndexOf(`
`,i-2)+1,b=i-y-1;n.lastLineLength=v[v.length-2]+b,n.finalize(e,p-1)}n.advanceOffset(n.currentLine.length-n.offset,!1);var w=jr("tableHead",[[p,m],[n.lineNumber,n.offset]]);g.appendChild(w);var k=jr("tableRow",[[p,m],[p,m+o.length-1]]),x=jr("tableDelimRow",[[n.lineNumber,n.nextNonspace+1],[n.lineNumber,n.offset]]);w.appendChild(k),w.appendChild(x),cb("tableCell",u,p,m+l).forEach(function(T){k.appendChild(T)});var C=cb("tableDelimCell",d,n.lineNumber,n.nextNonspace+1+f);return C.forEach(function(T){x.appendChild(T)}),g.columns=C.map(ZLe),n.tip=g,2}return 0},eDe=function(n,e){if(e.type!=="table"&&e.type!=="tableBody"||!n.blank&&n.currentLine.indexOf("|")===-1)return 0;if(n.advanceOffset(n.currentLine.length-n.offset,!1),n.blank){var t=e;return e.type==="tableBody"&&(t=e.parent,n.finalize(e,n.lineNumber-1)),n.finalize(t,n.lineNumber-1),0}var r=e;e.type==="table"&&(r=n.addChild("tableBody",n.nextNonspace),r.stringContent=null);var i=jr("tableRow",[[n.lineNumber,n.nextNonspace+1],[n.lineNumber,n.currentLine.length]]);r.appendChild(i);var o=r.parent,a=n.currentLine.slice(n.nextNonspace),s=ub(a),l=s[0],u=s[1];return cb("tableCell",u,n.lineNumber,n.nextNonspace+1+l).forEach(function(c,f){f>=o.columns.length&&(c.ignored=!0),i.appendChild(c)}),2},tDe=/^(\$\$)(\s*[a-zA-Z])+/,nDe=/^(\$\$)(\s*[a-zA-Z])+.*(\$\$)/,rDe=function(n){var e;if(!n.indented&&!nDe.test(n.currentLine)&&(e=n.currentLine.match(tDe))){var t=e[1].length;n.closeUnmatchedBlocks();var r=n.addChild("customBlock",n.nextNonspace);return r.syntaxLength=t,r.offset=n.indent,n.advanceNextNonspace(),n.advanceOffset(t,!1),2}return 0},iDe=/^`{3,}(?!.*`)|^~{3,}/,oDe=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+YR+"|"+ZR+")\\s*$","i")],aDe=/^(?:=+|-+)[ \t]*$/,sDe=/^#{1,6}(?:[ \t]+|$)/,lDe=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,a6=/^[*+-]/,s6=/^(\d{1,9})([.)])/;function uDe(n,e){var t=n.currentLine.slice(n.nextNonspace),r,i,o={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:n.indent,task:!1,checked:!1};if(n.indent>=4)return null;if(r=t.match(a6))o.type="bullet",o.bulletChar=r[0][0];else if((r=t.match(s6))&&(e.type!=="paragraph"||r[1]==="1"))o.type="ordered",o.start=parseInt(r[1],10),o.delimiter=r[2];else return null;if(i=io(n.currentLine,n.nextNonspace+r[0].length),!(i===-1||i===XR||i===t6)||e.type==="paragraph"&&!n.currentLine.slice(n.nextNonspace+r[0].length).match(r6))return null;n.advanceNextNonspace(),n.advanceOffset(r[0].length,!0);var a=n.column,s=n.offset;do n.advanceOffset(1,!0),i=io(n.currentLine,n.offset);while(n.column-a<5&&Zc(i));var l=io(n.currentLine,n.offset)===-1,u=n.column-a;return u>=5||u<1||l?(o.padding=r[0].length+1,n.column=a,n.offset=s,Zc(io(n.currentLine,n.offset))&&n.advanceOffset(1,!0)):o.padding=r[0].length+u,o}function cDe(n,e){return n.type===e.type&&n.delimiter===e.delimiter&&n.bulletChar===e.bulletChar}function l6(n,e){return n.options.disallowDeepHeading&&(e.type==="blockQuote"||e.type==="item")}var fDe=function(n){return!n.indented&&io(n.currentLine,n.nextNonspace)===e6?(n.advanceNextNonspace(),n.advanceOffset(1,!1),Zc(io(n.currentLine,n.offset))&&n.advanceOffset(1,!0),n.closeUnmatchedBlocks(),n.addChild("blockQuote",n.nextNonspace),1):0},dDe=function(n,e){var t;if(!n.indented&&!l6(n,e)&&(t=n.currentLine.slice(n.nextNonspace).match(sDe))){n.advanceNextNonspace(),n.advanceOffset(t[0].length,!1),n.closeUnmatchedBlocks();var r=n.addChild("heading",n.nextNonspace);return r.level=t[0].trim().length,r.headingType="atx",r.stringContent=n.currentLine.slice(n.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),n.advanceOffset(n.currentLine.length-n.offset),2}return 0},hDe=function(n){var e;if(!n.indented&&(e=n.currentLine.slice(n.nextNonspace).match(iDe))){var t=e[0].length;n.closeUnmatchedBlocks();var r=n.addChild("codeBlock",n.nextNonspace);return r.isFenced=!0,r.fenceLength=t,r.fenceChar=e[0][0],r.fenceOffset=n.indent,n.advanceNextNonspace(),n.advanceOffset(t,!1),2}return 0},pDe=function(n,e){if(!n.indented&&io(n.currentLine,n.nextNonspace)===DLe){var t=n.currentLine.slice(n.nextNonspace),r=n.options.disallowedHtmlBlockTags,i=void 0;for(i=1;i<=7;i++){var o=t.match(oDe[i]);if(o){if(i===7){if(e.type==="paragraph")return 0;if(r.length>0){var a=new RegExp("</?(?:"+r.join("|")+")","i");if(a.test(o[0]))return 0}}n.closeUnmatchedBlocks();var s=n.addChild("htmlBlock",n.offset);return s.htmlBlockType=i,2}}}return 0},vDe=function(n,e){var t;if(e.stringContent!==null&&!n.indented&&e.type==="paragraph"&&!l6(n,e.parent)&&(t=n.currentLine.slice(n.nextNonspace).match(aDe))){n.closeUnmatchedBlocks();for(var r=void 0;io(e.stringContent,0)===n6&&(r=n.inlineParser.parseReference(e,n.refMap));)e.stringContent=e.stringContent.slice(r);if(e.stringContent.length>0){var i=jr("heading",e.sourcepos);return i.level=t[0][0]==="="?1:2,i.headingType="setext",i.stringContent=e.stringContent,e.insertAfter(i),e.unlink(),n.tip=i,n.advanceOffset(n.currentLine.length-n.offset,!1),2}return 0}return 0},mDe=function(n){return!n.indented&&lDe.test(n.currentLine.slice(n.nextNonspace))?(n.closeUnmatchedBlocks(),n.addChild("thematicBreak",n.nextNonspace),n.advanceOffset(n.currentLine.length-n.offset,!1),2):0},gDe=function(n,e){var t,r=e;return(!n.indented||e.type==="list")&&(t=uDe(n,r))?(n.closeUnmatchedBlocks(),(n.tip.type!=="list"||!cDe(r.listData,t))&&(r=n.addChild("list",n.nextNonspace),r.listData=t),r=n.addChild("item",n.nextNonspace),r.listData=t,1):0},yDe=function(n){return n.indented&&n.tip.type!=="paragraph"&&!n.blank?(n.advanceOffset(um,!0),n.closeUnmatchedBlocks(),n.addChild("codeBlock",n.offset),2):0},gy=[fDe,dDe,hDe,pDe,vDe,mDe,gDe,yDe,XLe,eDe,rDe],u6=/^(-{3}|\+{3}|;{3})$/,bDe=function(n,e){var t=n.currentLine,r=n.lineNumber,i=n.indented;if(r===1&&!i&&e.type==="document"&&u6.test(t)){n.closeUnmatchedBlocks();var o=n.addChild("frontMatter",n.nextNonspace);return o.stringContent=t,n.advanceNextNonspace(),n.advanceOffset(t.length,!1),2}return 0},wDe={continue:function(n,e){var t=n.currentLine,r=t.match(u6);return e.type==="frontMatter"&&r?(e.stringContent+=t,n.lastLineLength=r[0].length,n.finalize(e,n.lineNumber),2):0},finalize:function(n,e){e.stringContent!==null&&(e.literal=e.stringContent,e.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},kDe=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],xDe=/^[#`~*+_=<>0-9-;$]/,jDe=/\r\n|\n|\r/;function yy(){return jr("document",[[1,1],[0,0]])}var CDe={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1},SDe=function(){function n(e){this.options=ni(ni({},CDe),e),this.doc=yy(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.lines=[],this.options.frontMatter&&(Xu.frontMatter=wDe,gy.unshift(bDe)),this.inlineParser=new OLe(this.options)}return n.prototype.advanceOffset=function(e,t){t===void 0&&(t=!1);for(var r=this.currentLine,i,o,a;e>0&&(a=r[this.offset]);)a==="	"?(i=4-this.column%4,t?(this.partiallyConsumedTab=i>e,o=i>e?e:i,this.column+=o,this.offset+=this.partiallyConsumedTab?0:1,e-=o):(this.partiallyConsumedTab=!1,this.column+=i,this.offset+=1,e-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,e-=1)},n.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},n.prototype.findNextNonspace=function(){for(var e=this.currentLine,t=this.offset,r=this.column,i;(i=e.charAt(t))!=="";)if(i===" ")t++,r++;else if(i==="	")t++,r+=4-r%4;else break;this.blank=i===`
`||i==="\r"||i==="",this.nextNonspace=t,this.nextNonspaceColumn=r,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=um},n.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var e=4-this.column%4;this.tip.stringContent+=ob(" ",e)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+`
`},n.prototype.addChild=function(e,t){for(;!Xu[this.tip.type].canContain(e);)this.finalize(this.tip,this.lineNumber-1);var r=t+1,i=jr(e,[[this.lineNumber,r],[0,0]]);return i.stringContent="",this.tip.appendChild(i),this.tip=i,i},n.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var e=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=e}this.allClosed=!0}},n.prototype.finalize=function(e,t){var r=e.parent;e.open=!1,e.sourcepos[1]=[t,this.lastLineLength],Xu[e.type].finalize(this,e),this.tip=r},n.prototype.processInlines=function(e){var t,r=this.options.customParser,i=e.walker();for(this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;t=i.next();){var o=t.node,a=t.entering,s=o.type;r&&r[s]&&r[s](o,{entering:a,options:this.options}),!a&&(s==="paragraph"||s==="heading"||s==="tableCell"&&!o.ignored)&&this.inlineParser.parse(o)}},n.prototype.incorporateLine=function(e){var t=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,e.indexOf("\0")!==-1&&(e=e.replace(/\0/g,"\uFFFD")),this.currentLine=e;for(var r=!0,i;(i=t.lastChild)&&i.open;){switch(t=i,this.findNextNonspace(),Xu[t.type].continue(this,t)){case 0:break;case 1:r=!1;break;case 2:this.lastLineLength=e.length;return;default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!r){t=t.parent;break}}this.allClosed=t===this.oldtip,this.lastMatchedContainer=t;for(var o=t.type!=="paragraph"&&Xu[t.type].acceptsLines,a=gy.length;!o;){if(this.findNextNonspace(),t.type!=="table"&&t.type!=="tableBody"&&t.type!=="paragraph"&&!this.indented&&!xDe.test(e.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var s=0;s<a;){var l=gy[s](this,t);if(l===1){t=this.tip;break}else if(l===2){t=this.tip,o=!0;break}else s++}if(s===a){this.advanceNextNonspace();break}}if(!this.allClosed&&!this.blank&&this.tip.type==="paragraph")this.addLine();else{this.closeUnmatchedBlocks(),this.blank&&t.lastChild&&(t.lastChild.lastLineBlank=!0);for(var u=t.type,c=this.blank&&!(u==="blockQuote"||GR(t)&&t.isFenced||u==="item"&&!t.firstChild&&t.sourcepos[0][0]===this.lineNumber),f=t;f;)f.lastLineBlank=c,f=f.parent;Xu[u].acceptsLines?(this.addLine(),_4e(t)&&t.htmlBlockType>=1&&t.htmlBlockType<=5&&kDe[t.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=e.length,this.finalize(t,this.lineNumber))):this.offset<e.length&&!this.blank&&(t=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}this.lastLineLength=e.length},n.prototype.parse=function(e,t){this.doc=yy(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var r=e.split(jDe),i=r.length;this.lines=t||r,this.options.referenceDefinition&&this.clearRefMaps(),e.charCodeAt(e.length-1)===lb&&(i-=1);for(var o=0;o<i;o++)this.incorporateLine(r[o]);for(;this.tip;)this.finalize(this.tip,i);return this.processInlines(this.doc),this.doc},n.prototype.partialParseStart=function(e,t){this.doc=yy(),this.tip=this.doc,this.lineNumber=e-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var r=t.length,i=0;i<r;i++)this.incorporateLine(t[i]);return this.doc},n.prototype.partialParseExtends=function(e){for(var t=0;t<e.length;t++)this.incorporateLine(e[t])},n.prototype.partialParseFinish=function(){for(;this.tip;)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},n.prototype.setRefMaps=function(e,t,r){this.refMap=e,this.refLinkCandidateMap=t,this.refDefCandidateMap=r},n.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){sLe(e)})},n}();function JS(n,e){return n[0]<e[0]?1:n[0]>e[0]?-1:n[1]<e[1]?1:n[1]>e[1]?-1:0}function TDe(n,e){var t=n[0],r=n[1];return JS(r,e)===1?1:JS(t,e)===-1?-1:0}function ODe(n,e){if(!(n.parent!==e.parent||n===e)){for(var t=n.next;t&&t!==e;){for(var r=t.next,i=0,o=["parent","prev","next"];i<o.length;i++){var a=o[i];t[a]&&(ab(t[a].id),t[a]=null)}t=r}n.next=e.next,e.next?e.next.prev=n:n.parent.lastChild=n}}function EDe(n){for(var e=[],t=n.firstChild;t;)e.push(t),t=t.next;return e}function GS(n,e){for(var t=0,r=e;t<r.length;t++){var i=r[t];n.insertBefore(i)}}function MDe(n,e){for(var t=e.length-1;t>=0;t-=1)n.prependChild(e[t])}function $De(n,e){if(!(!n||!n.parent||e===0)){var t=n.parent.walker();t.resumeAt(n,!0);for(var r;r=t.next();){var i=r.node,o=r.entering;o&&(i.sourcepos[0][0]+=e,i.sourcepos[1][0]+=e)}}}function c6(n,e){var t=n[0],r=n[1];return r[0]<e?1:t[0]>e?-1:0}function pp(n,e){for(var t=n.firstChild;t;){var r=c6(t.sourcepos,e);if(r===0)return t;if(r===-1)return t.prev||t;t=t.next}return n.lastChild}function ADe(n){for(;n.lastChild;)n=n.lastChild;return n}function _De(n){for(;n.parent&&n.parent.type!=="document"&&n.parent.sourcepos[0][0]===n.sourcepos[0][0];)n=n.parent;return n}function NDe(n,e){for(var t=n.firstChild,r=null;t;){var i=c6(t.sourcepos,e);if(i===0){if(t.sourcepos[0][0]===e||!t.firstChild)return t;r=t,t=t.firstChild}else{if(i===-1)break;r=t,t=t.next}}return r?_De(ADe(r)):null}function IDe(n,e){for(var t=n,r=null;t;){var i=TDe(t.sourcepos,e);if(i===0)if(t.firstChild)r=t,t=t.firstChild;else return t;else{if(i===-1)return r;if(t.next)t=t.next;else return r}}return t}function f6(n){return b4e(n)||null}function by(n,e,t){if(t===void 0&&(t=null),e)for(var r=e.walker();e&&e!==t;){n(e);var i=r.next();if(i)e=i.node;else break}}function PDe(n){var e=f6(n);if(!e)return!0;for(;e&&e.type!=="document";){if(!e.parent&&!e.prev&&!e.next)return!0;e=e.parent}return!1}var KS=/\r\n|\n|\r/;function LDe(n){var e=n.match(/^[ \t]+/);if(e&&(e[0].length>=2||/\t/.test(e[0])))return!0;var t=e?n.slice(e.length):n;return a6.test(t)||s6.test(t)}function DDe(n){return!i6(n)&&n.indexOf("|")!==-1}function fb(n){var e=n.id,t=n.title,r=n.sourcepos,i=n.dest;return{id:e,title:t,sourcepos:r,unlinked:!1,destination:i}}var d6=function(){function n(e,t){this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!(t!=null&&t.referenceDefinition),this.parser=new SDe(t),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},e=e||"",this.lineTexts=e.split(KS),this.root=this.parser.parse(e,this.lineTexts)}return n.prototype.updateLineTexts=function(e,t,r){var i,o=e[0],a=e[1],s=t[0],l=t[1],u=r.split(KS),c=u.length,f=this.lineTexts[o-1],d=this.lineTexts[s-1];u[0]=f.slice(0,a-1)+u[0],u[c-1]=u[c-1]+d.slice(l-1);var h=s-o+1;return(i=this.lineTexts).splice.apply(i,rb([o-1,h],u)),c-h},n.prototype.updateRootNodeState=function(){if(this.lineTexts.length===1&&this.lineTexts[0]===""){this.root.lastLineBlank=!0,this.root.sourcepos=[[1,1],[1,0]];return}this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);for(var e=this.lineTexts,t=e.length-1;e[t]==="";)t-=1;e.length-2>t&&(t+=1),this.root.sourcepos[1]=[t+1,e[t].length]},n.prototype.replaceRangeNodes=function(e,t,r){e?(GS(e,r),ODe(e,t),[e.id,t.id].forEach(function(i){return ab(i)}),e.unlink()):t?(GS(t,r),ab(t.id),t.unlink()):MDe(this.root,r)},n.prototype.getNodeRange=function(e,t){var r=pp(this.root,e[0]),i=pp(this.root,t[0]);return i&&i.next&&t[0]+1===i.next.sourcepos[0][0]&&(i=i.next),[r,i]},n.prototype.trigger=function(e,t){this.eventHandlerMap[e].forEach(function(r){r(t)})},n.prototype.extendEndLine=function(e){for(;this.lineTexts[e]==="";)e+=1;return e},n.prototype.parseRange=function(e,t,r,i){e&&e.prev&&(LS(e.prev)&&LDe(this.lineTexts[r-1])||I4e(e.prev)&&DDe(this.lineTexts[r-1]))&&(e=e.prev,r=e.sourcepos[0][0]);for(var o=this.lineTexts.slice(r-1,i),a=this.parser.partialParseStart(r,o),s=t?t.next:this.root.firstChild,l=a.lastChild,u=l&&GR(l)&&l.open,c=l&&KR(l)&&l.open,f=l&&LS(l);(u||c)&&s||f&&s&&(s.type==="list"||s.sourcepos[0][1]>=2);){var d=this.extendEndLine(s.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(i,d)),e||(e=t),t=s,i=d,s=s.next}this.parser.partialParseFinish();var h=EDe(a);return{newNodes:h,extStartNode:e,extEndNode:t}},n.prototype.getRemovedNodeRange=function(e,t){return!e||e&&Yu(e)||t&&Yu(t)?null:{id:[e.id,t.id],line:[e.sourcepos[0][0]-1,t.sourcepos[1][0]-1]}},n.prototype.markDeletedRefMap=function(e,t){var r=this;if(!Zu(this.refMap)){var i=function(o){if(Yu(o)){var a=r.refMap[o.label];a&&o.id===a.id&&(a.unlinked=!0)}};e&&by(i,e.parent,t),t&&by(i,t)}},n.prototype.replaceWithNewRefDefState=function(e){var t=this;if(!Zu(this.refMap)){var r=function(i){if(Yu(i)){var o=i.label,a=t.refMap[o];(!a||a.unlinked)&&(t.refMap[o]=fb(i))}};e.forEach(function(i){by(r,i)})}},n.prototype.replaceWithRefDefCandidate=function(){var e=this;Zu(this.refDefCandidateMap)||fp(this.refDefCandidateMap,function(t,r){var i=r.label,o=r.sourcepos,a=e.refMap[i];(!a||a.unlinked||a.sourcepos[0][0]>o[0][0])&&(e.refMap[i]=fb(r))})},n.prototype.getRangeWithRefDef=function(e,t,r,i,o){if(this.referenceDefinition&&!Zu(this.refMap)){var a=pp(this.root,e-1),s=pp(this.root,t+1);a&&Yu(a)&&a!==r&&a!==i&&(r=a,e=r.sourcepos[0][0]),s&&Yu(s)&&s!==r&&s!==i&&(i=s,t=this.extendEndLine(i.sourcepos[1][0]+o))}return[r,i,e,t]},n.prototype.parse=function(e,t,r){r===void 0&&(r=0);var i=this.getNodeRange(e,t),o=i[0],a=i[1],s=o?Math.min(o.sourcepos[0][0],e[0]):e[0],l=this.extendEndLine((a?Math.max(a.sourcepos[1][0],t[0]):t[0])+r),u=this.parseRange.apply(this,this.getRangeWithRefDef(s,l,o,a,r)),c=u.newNodes,f=u.extStartNode,d=u.extEndNode,h=this.getRemovedNodeRange(f,d),v=d?d.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(f,d),this.replaceRangeNodes(f,d,c),this.replaceWithNewRefDefState(c)):this.replaceRangeNodes(f,d,c),{nodes:c,removedNodeRange:h,nextNode:v}},n.prototype.parseRefLink=function(){var e=this,t=[];return Zu(this.refMap)||fp(this.refMap,function(r,i){i.unlinked&&delete e.refMap[r],fp(e.refLinkCandidateMap,function(o,a){var s=a.node,l=a.refLabel;l===r&&t.push(e.parse(s.sourcepos[0],s.sourcepos[1]))})}),t},n.prototype.removeUnlinkedCandidate=function(){Zu(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach(function(e){fp(e,function(t){PDe(t)&&delete e[t]})})},n.prototype.editMarkdown=function(e,t,r){var i=this.updateLineTexts(e,t,r),o=this.parse(e,t,i),a=aLe(o,"nextNode");$De(o.nextNode,i),this.updateRootNodeState();var s=[a];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),s=s.concat(this.parseRefLink())),this.trigger("change",s),s},n.prototype.getLineTexts=function(){return this.lineTexts},n.prototype.getRootNode=function(){return this.root},n.prototype.findNodeAtPosition=function(e){var t=IDe(this.root,e);return!t||t===this.root?null:t},n.prototype.findFirstNodeAtLine=function(e){return NDe(this.root,e)},n.prototype.on=function(e,t){this.eventHandlerMap[e].push(t)},n.prototype.off=function(e,t){var r=this.eventHandlerMap[e],i=r.indexOf(t);r.splice(i,1)},n.prototype.findNodeById=function(e){return f6(e)},n.prototype.removeAllNode=function(){w4e()},n}(),RDe=["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"],QS=new RegExp("<(/?(?:"+RDe.join("|")+")[^>]*>)","ig");function YS(n){return QS.test(n)?n.replace(QS,function(e,t){return"&lt;"+t}):n}var ZS={heading:function(n,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"h"+n.level,outerNewLine:!0}},text:function(n){return{type:"text",content:n.literal}},softbreak:function(n,e){var t=e.options;return{type:"html",content:t.softbreak}},linebreak:function(){return{type:"html",content:`<br />
`}},emph:function(n,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"em"}},strong:function(n,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"strong"}},paragraph:function(n,e){var t,r=e.entering,i=(t=n.parent)===null||t===void 0?void 0:t.parent;return i&&i.type==="list"&&i.listData.tight?null:{type:r?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(n,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(n,e){var t=e.entering,r=n.listData,i=r.type,o=r.start,a=i==="bullet"?"ul":"ol",s={};return a==="ol"&&o!==null&&o!==1&&(s.start=o.toString()),{type:t?"openTag":"closeTag",tagName:a,attributes:s,outerNewLine:!0}},item:function(n,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(n,e){var t=e.options,r=t.tagFilter?YS(n.literal):n.literal;return{type:"html",content:r}},htmlBlock:function(n,e){var t=e.options,r=t.tagFilter?YS(n.literal):n.literal;return t.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:r},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:r,outerNewLine:!0}},code:function(n){return[{type:"openTag",tagName:"code"},{type:"text",content:n.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(n){var e=n.info,t=e?e.split(/\s+/):[],r=[];return t.length>0&&t[0].length>0&&r.push("language-"+oc(t[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:r},{type:"text",content:n.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(n,e){var t=e.entering;if(t){var r=n,i=r.title,o=r.destination;return{type:"openTag",tagName:"a",attributes:ni({href:oc(o)},i&&{title:oc(i)})}}return{type:"closeTag",tagName:"a"}},image:function(n,e){var t=e.getChildrenText,r=e.skipChildren,i=n,o=i.title,a=i.destination;return r(),{type:"openTag",tagName:"img",selfClose:!0,attributes:ni({src:oc(a),alt:t(n)},o&&{title:oc(o)})}},customBlock:function(n,e,t){var r=n.info.trim().toLowerCase(),i=t[r];if(i)try{return i(n,e)}catch(o){console.warn("[@toast-ui/editor] - The error occurred when "+r+" block node was parsed in markdown renderer: "+o)}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"text",content:n.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},frontMatter:function(n){return[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{style:"white-space: pre; display: none;"}},{type:"text",content:n.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},customInline:function(n,e,t){var r=n,i=r.info,o=r.firstChild,a=i.trim().toLowerCase(),s=t[a],l=e.entering;if(s)try{return s(n,e)}catch(u){console.warn("[@toast-ui/editor] - The error occurred when "+a+" inline node was parsed in markdown renderer: "+u)}return l?[{type:"openTag",tagName:"span"},{type:"text",content:"$$"+i+(o?" ":"")}]:[{type:"text",content:"$$"},{type:"closeTag",tagName:"span"}]}},XS={strike:function(n,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"del"}},item:function(n,e){var t=e.entering,r=n.listData,i=r.checked,o=r.task;if(t){var a={type:"openTag",tagName:"li",outerNewLine:!0};return o?[a,{type:"openTag",tagName:"input",selfClose:!0,attributes:ni(ni({},i&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:a}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(n,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(n,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(n,e){var t=e.entering;return{type:t?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(n,e){var t=e.entering;if(t)return{type:"openTag",tagName:"tr",outerNewLine:!0};var r=[];if(n.lastChild)for(var i=n.parent.parent.columns.length,o=n.lastChild.endIdx,a=o+1;a<i;a+=1)r.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return r.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),r},tableCell:function(n,e){var t=e.entering;if(n.ignored)return{type:"text",content:""};var r=n.parent.parent,i=r.type==="tableHead"?"th":"td",o=r.parent,a=o.columns[n.startIdx],s=a!=null&&a.align?{align:a.align}:null;return t?ni({type:"openTag",tagName:i,outerNewLine:!0},s&&{attributes:s}):{type:"closeTag",tagName:i,outerNewLine:!0}}},BDe={softbreak:`
`,gfm:!1,tagFilter:!1,nodeId:!1};function zDe(n){for(var e=[],t=n.walker(),r=null;r=t.next();){var i=r.node;i.type==="text"&&e.push(i.literal)}return e.join("")}var ux=function(){function n(e){this.buffer=[],this.options=ni(ni({},BDe),e),this.convertors=this.createConvertors(),delete this.options.convertors}return n.prototype.createConvertors=function(){var e=ni({},ZS);if(this.options.gfm&&(e=ni(ni({},e),XS)),this.options.convertors){var t=this.options.convertors,r=Object.keys(t),i=ni(ni({},ZS),XS);r.forEach(function(o){var a=e[o],s=t[o],l=Object.keys(i).indexOf(o)===-1?o.toLowerCase():o;a?e[l]=function(u,c,f){return c.origin=function(){return a(u,c,f)},s(u,c)}:e[l]=s})}return e},n.prototype.getConvertors=function(){return this.convertors},n.prototype.getOptions=function(){return this.options},n.prototype.render=function(e){var t=this;this.buffer=[];for(var r=e.walker(),i=null,o=function(){var s=i.node,l=i.entering,u=a.convertors[s.type];if(!u)return"continue";var c=!1,f={entering:l,leaf:!lx(s),options:a.options,getChildrenText:zDe,skipChildren:function(){c=!0}},d=KR(s)||P4e(s)?u(s,f,a.convertors):u(s,f);if(d){var h=Array.isArray(d)?d:[d];h.forEach(function(v,p){v.type==="openTag"&&t.options.nodeId&&p===0&&(v.attributes||(v.attributes={}),v.attributes["data-nodeid"]=String(s.id)),t.renderHTMLNode(v)}),c&&(r.resumeAt(s,!1),r.next())}},a=this;i=r.next();)o();return this.addNewLine(),this.buffer.join("")},n.prototype.renderHTMLNode=function(e){switch(e.type){case"openTag":case"closeTag":this.renderElementNode(e);break;case"text":this.renderTextNode(e);break;case"html":this.renderRawHtmlNode(e);break}},n.prototype.generateOpenTagString=function(e){var t=this,r=e.tagName,i=e.classNames,o=e.attributes;this.buffer.push("<"+r),i&&i.length>0&&this.buffer.push(' class="'+i.join(" ")+'"'),o&&Object.keys(o).forEach(function(a){var s=o[a];t.buffer.push(" "+a+'="'+s+'"')}),e.selfClose&&this.buffer.push(" /"),this.buffer.push(">")},n.prototype.generateCloseTagString=function(e){var t=e.tagName;this.buffer.push("</"+t+">")},n.prototype.addNewLine=function(){this.buffer.length&&lm(lm(this.buffer))!==`
`&&this.buffer.push(`
`)},n.prototype.addOuterNewLine=function(e){e.outerNewLine&&this.addNewLine()},n.prototype.addInnerNewLine=function(e){e.innerNewLine&&this.addNewLine()},n.prototype.renderTextNode=function(e){this.buffer.push(oc(e.content))},n.prototype.renderRawHtmlNode=function(e){this.addOuterNewLine(e),this.buffer.push(e.content),this.addOuterNewLine(e)},n.prototype.renderElementNode=function(e){e.type==="openTag"?(this.addOuterNewLine(e),this.generateOpenTagString(e),e.selfClose?this.addOuterNewLine(e):this.addInnerNewLine(e)):(this.addInnerNewLine(e),this.generateCloseTagString(e),this.addOuterNewLine(e))},n}();/*! @license DOMPurify 2.3.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.3/LICENSE */function qDe(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}else return Array.from(n)}var FDe=Object.hasOwnProperty,eT=Object.setPrototypeOf,HDe=Object.isFrozen,VDe=Object.getPrototypeOf,WDe=Object.getOwnPropertyDescriptor,_i=Object.freeze,gs=Object.seal,UDe=Object.create,h6=typeof Reflect!="undefined"&&Reflect,cm=h6.apply,db=h6.construct;cm||(cm=function(e,t,r){return e.apply(t,r)});_i||(_i=function(e){return e});gs||(gs=function(e){return e});db||(db=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(qDe(t))))});var JDe=ra(Array.prototype.forEach),tT=ra(Array.prototype.pop),Vf=ra(Array.prototype.push),dv=ra(String.prototype.toLowerCase),nT=ra(String.prototype.match),As=ra(String.prototype.replace),GDe=ra(String.prototype.indexOf),KDe=ra(String.prototype.trim),Za=ra(RegExp.prototype.test),rT=QDe(TypeError);function ra(n){return function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return cm(n,e,r)}}function QDe(n){return function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return db(n,t)}}function pn(n,e){eT&&eT(n,null);for(var t=e.length;t--;){var r=e[t];if(typeof r=="string"){var i=dv(r);i!==r&&(HDe(e)||(e[t]=i),r=i)}n[r]=!0}return n}function Dl(n){var e=UDe(null),t=void 0;for(t in n)cm(FDe,n,[t])&&(e[t]=n[t]);return e}function vp(n,e){for(;n!==null;){var t=WDe(n,e);if(t){if(t.get)return ra(t.get);if(typeof t.value=="function")return ra(t.value)}n=VDe(n)}function r(i){return console.warn("fallback value for",i),null}return r}var iT=_i(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),wy=_i(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ky=_i(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),YDe=_i(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),xy=_i(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),ZDe=_i(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),oT=_i(["#text"]),aT=_i(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),jy=_i(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),sT=_i(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),mp=_i(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),XDe=gs(/\{\{[\s\S]*|[\s\S]*\}\}/gm),eRe=gs(/<%[\s\S]*|[\s\S]*%>/gm),tRe=gs(/^data-[\-\w.\u00B7-\uFFFF]/),nRe=gs(/^aria-[\-\w]+$/),rRe=gs(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),iRe=gs(/^(?:\w+script|data):/i),oRe=gs(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};function da(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}else return Array.from(n)}var aRe=function(){return typeof window=="undefined"?null:window},sRe=function(e,t){if((typeof e=="undefined"?"undefined":cd(e))!=="object"||typeof e.createPolicy!="function")return null;var r=null,i="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(i)&&(r=t.currentScript.getAttribute(i));var o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML:function(s){return s}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function p6(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:aRe(),e=function(xe){return p6(xe)};if(e.version="2.3.3",e.removed=[],!n||!n.document||n.document.nodeType!==9)return e.isSupported=!1,e;var t=n.document,r=n.document,i=n.DocumentFragment,o=n.HTMLTemplateElement,a=n.Node,s=n.Element,l=n.NodeFilter,u=n.NamedNodeMap,c=u===void 0?n.NamedNodeMap||n.MozNamedAttrMap:u,f=n.Text,d=n.Comment,h=n.DOMParser,v=n.trustedTypes,p=s.prototype,m=vp(p,"cloneNode"),g=vp(p,"nextSibling"),y=vp(p,"childNodes"),b=vp(p,"parentNode");if(typeof o=="function"){var w=r.createElement("template");w.content&&w.content.ownerDocument&&(r=w.content.ownerDocument)}var k=sRe(v,t),x=k&&Se?k.createHTML(""):"",C=r,T=C.implementation,M=C.createNodeIterator,B=C.createDocumentFragment,_=C.getElementsByTagName,N=t.importNode,$={};try{$=Dl(r).documentMode?r.documentMode:{}}catch{}var j={};e.isSupported=typeof b=="function"&&T&&typeof T.createHTMLDocument!="undefined"&&$!==9;var D=XDe,q=eRe,R=tRe,G=nRe,A=iRe,I=oRe,z=rRe,F=null,L=pn({},[].concat(da(iT),da(wy),da(ky),da(xy),da(oT))),O=null,V=pn({},[].concat(da(aT),da(jy),da(sT),da(mp))),Z=null,te=null,ve=!0,ue=!0,ge=!1,P=!1,S=!1,ae=!1,ce=!1,ne=!1,ye=!1,Ce=!0,Se=!1,Ue=!0,pt=!0,Ke=!1,Me={},et=null,le=pn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),be=null,Le=pn({},["audio","video","img","source","image","track"]),Ee=null,ct=pn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),it="http://www.w3.org/1998/Math/MathML",at="http://www.w3.org/2000/svg",Bt="http://www.w3.org/1999/xhtml",zt=Bt,H=!1,U=void 0,se=["application/xhtml+xml","text/html"],Q="text/html",we=void 0,Oe=null,Fe=r.createElement("form"),Xe=function(xe){Oe&&Oe===xe||((!xe||(typeof xe=="undefined"?"undefined":cd(xe))!=="object")&&(xe={}),xe=Dl(xe),F="ALLOWED_TAGS"in xe?pn({},xe.ALLOWED_TAGS):L,O="ALLOWED_ATTR"in xe?pn({},xe.ALLOWED_ATTR):V,Ee="ADD_URI_SAFE_ATTR"in xe?pn(Dl(ct),xe.ADD_URI_SAFE_ATTR):ct,be="ADD_DATA_URI_TAGS"in xe?pn(Dl(Le),xe.ADD_DATA_URI_TAGS):Le,et="FORBID_CONTENTS"in xe?pn({},xe.FORBID_CONTENTS):le,Z="FORBID_TAGS"in xe?pn({},xe.FORBID_TAGS):{},te="FORBID_ATTR"in xe?pn({},xe.FORBID_ATTR):{},Me="USE_PROFILES"in xe?xe.USE_PROFILES:!1,ve=xe.ALLOW_ARIA_ATTR!==!1,ue=xe.ALLOW_DATA_ATTR!==!1,ge=xe.ALLOW_UNKNOWN_PROTOCOLS||!1,P=xe.SAFE_FOR_TEMPLATES||!1,S=xe.WHOLE_DOCUMENT||!1,ne=xe.RETURN_DOM||!1,ye=xe.RETURN_DOM_FRAGMENT||!1,Ce=xe.RETURN_DOM_IMPORT!==!1,Se=xe.RETURN_TRUSTED_TYPE||!1,ce=xe.FORCE_BODY||!1,Ue=xe.SANITIZE_DOM!==!1,pt=xe.KEEP_CONTENT!==!1,Ke=xe.IN_PLACE||!1,z=xe.ALLOWED_URI_REGEXP||z,zt=xe.NAMESPACE||Bt,U=se.indexOf(xe.PARSER_MEDIA_TYPE)===-1?U=Q:U=xe.PARSER_MEDIA_TYPE,we=U==="application/xhtml+xml"?function(Qe){return Qe}:dv,P&&(ue=!1),ye&&(ne=!0),Me&&(F=pn({},[].concat(da(oT))),O=[],Me.html===!0&&(pn(F,iT),pn(O,aT)),Me.svg===!0&&(pn(F,wy),pn(O,jy),pn(O,mp)),Me.svgFilters===!0&&(pn(F,ky),pn(O,jy),pn(O,mp)),Me.mathMl===!0&&(pn(F,xy),pn(O,sT),pn(O,mp))),xe.ADD_TAGS&&(F===L&&(F=Dl(F)),pn(F,xe.ADD_TAGS)),xe.ADD_ATTR&&(O===V&&(O=Dl(O)),pn(O,xe.ADD_ATTR)),xe.ADD_URI_SAFE_ATTR&&pn(Ee,xe.ADD_URI_SAFE_ATTR),xe.FORBID_CONTENTS&&(et===le&&(et=Dl(et)),pn(et,xe.FORBID_CONTENTS)),pt&&(F["#text"]=!0),S&&pn(F,["html","head","body"]),F.table&&(pn(F,["tbody"]),delete Z.tbody),_i&&_i(xe),Oe=xe)},nt=pn({},["mi","mo","mn","ms","mtext"]),jt=pn({},["foreignobject","desc","title","annotation-xml"]),Vt=pn({},wy);pn(Vt,ky),pn(Vt,YDe);var st=pn({},xy);pn(st,ZDe);var Xt=function(xe){var Qe=b(xe);(!Qe||!Qe.tagName)&&(Qe={namespaceURI:Bt,tagName:"template"});var bt=dv(xe.tagName),$t=dv(Qe.tagName);if(xe.namespaceURI===at)return Qe.namespaceURI===Bt?bt==="svg":Qe.namespaceURI===it?bt==="svg"&&($t==="annotation-xml"||nt[$t]):Boolean(Vt[bt]);if(xe.namespaceURI===it)return Qe.namespaceURI===Bt?bt==="math":Qe.namespaceURI===at?bt==="math"&&jt[$t]:Boolean(st[bt]);if(xe.namespaceURI===Bt){if(Qe.namespaceURI===at&&!jt[$t]||Qe.namespaceURI===it&&!nt[$t])return!1;var tt=pn({},["title","style","font","a","script"]);return!st[bt]&&(tt[bt]||!Vt[bt])}return!1},Ft=function(xe){Vf(e.removed,{element:xe});try{xe.parentNode.removeChild(xe)}catch{try{xe.outerHTML=x}catch{xe.remove()}}},fn=function(xe,Qe){try{Vf(e.removed,{attribute:Qe.getAttributeNode(xe),from:Qe})}catch{Vf(e.removed,{attribute:null,from:Qe})}if(Qe.removeAttribute(xe),xe==="is"&&!O[xe])if(ne||ye)try{Ft(Qe)}catch{}else try{Qe.setAttribute(xe,"")}catch{}},Ht=function(xe){var Qe=void 0,bt=void 0;if(ce)xe="<remove></remove>"+xe;else{var $t=nT(xe,/^[\r\n\t ]+/);bt=$t&&$t[0]}U==="application/xhtml+xml"&&(xe='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+xe+"</body></html>");var tt=k?k.createHTML(xe):xe;if(zt===Bt)try{Qe=new h().parseFromString(tt,U)}catch{}if(!Qe||!Qe.documentElement){Qe=T.createDocument(zt,"template",null);try{Qe.documentElement.innerHTML=H?"":tt}catch{}}var St=Qe.body||Qe.documentElement;return xe&&bt&&St.insertBefore(r.createTextNode(bt),St.childNodes[0]||null),zt===Bt?_.call(Qe,S?"html":"body")[0]:S?Qe.documentElement:St},tn=function(xe){return M.call(xe.ownerDocument||xe,xe,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},sr=function(xe){return xe instanceof f||xe instanceof d?!1:typeof xe.nodeName!="string"||typeof xe.textContent!="string"||typeof xe.removeChild!="function"||!(xe.attributes instanceof c)||typeof xe.removeAttribute!="function"||typeof xe.setAttribute!="function"||typeof xe.namespaceURI!="string"||typeof xe.insertBefore!="function"},Bn=function(xe){return(typeof a=="undefined"?"undefined":cd(a))==="object"?xe instanceof a:xe&&(typeof xe=="undefined"?"undefined":cd(xe))==="object"&&typeof xe.nodeType=="number"&&typeof xe.nodeName=="string"},An=function(xe,Qe,bt){!j[xe]||JDe(j[xe],function($t){$t.call(e,Qe,bt,Oe)})},ze=function(xe){var Qe=void 0;if(An("beforeSanitizeElements",xe,null),sr(xe)||nT(xe.nodeName,/[\u0080-\uFFFF]/))return Ft(xe),!0;var bt=we(xe.nodeName);if(An("uponSanitizeElement",xe,{tagName:bt,allowedTags:F}),!Bn(xe.firstElementChild)&&(!Bn(xe.content)||!Bn(xe.content.firstElementChild))&&Za(/<[/\w]/g,xe.innerHTML)&&Za(/<[/\w]/g,xe.textContent)||bt==="select"&&Za(/<template/i,xe.innerHTML))return Ft(xe),!0;if(!F[bt]||Z[bt]){if(pt&&!et[bt]){var $t=b(xe)||xe.parentNode,tt=y(xe)||xe.childNodes;if(tt&&$t)for(var St=tt.length,Wn=St-1;Wn>=0;--Wn)$t.insertBefore(m(tt[Wn],!0),g(xe))}return Ft(xe),!0}return xe instanceof s&&!Xt(xe)||(bt==="noscript"||bt==="noembed")&&Za(/<\/no(script|embed)/i,xe.innerHTML)?(Ft(xe),!0):(P&&xe.nodeType===3&&(Qe=xe.textContent,Qe=As(Qe,D," "),Qe=As(Qe,q," "),xe.textContent!==Qe&&(Vf(e.removed,{element:xe.cloneNode()}),xe.textContent=Qe)),An("afterSanitizeElements",xe,null),!1)},xn=function(xe,Qe,bt){if(Ue&&(Qe==="id"||Qe==="name")&&(bt in r||bt in Fe))return!1;if(!(ue&&!te[Qe]&&Za(R,Qe))){if(!(ve&&Za(G,Qe))){if(!O[Qe]||te[Qe])return!1;if(!Ee[Qe]){if(!Za(z,As(bt,I,""))){if(!((Qe==="src"||Qe==="xlink:href"||Qe==="href")&&xe!=="script"&&GDe(bt,"data:")===0&&be[xe])){if(!(ge&&!Za(A,As(bt,I,"")))){if(bt)return!1}}}}}}return!0},Mn=function(xe){var Qe=void 0,bt=void 0,$t=void 0,tt=void 0;An("beforeSanitizeAttributes",xe,null);var St=xe.attributes;if(!!St){var Wn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:O};for(tt=St.length;tt--;){Qe=St[tt];var fr=Qe,yr=fr.name,Qa=fr.namespaceURI;if(bt=KDe(Qe.value),$t=we(yr),Wn.attrName=$t,Wn.attrValue=bt,Wn.keepAttr=!0,Wn.forceKeepAttr=void 0,An("uponSanitizeAttribute",xe,Wn),bt=Wn.attrValue,!Wn.forceKeepAttr&&(fn(yr,xe),!!Wn.keepAttr)){if(Za(/\/>/i,bt)){fn(yr,xe);continue}P&&(bt=As(bt,D," "),bt=As(bt,q," "));var Ol=we(xe.nodeName);if(!!xn(Ol,$t,bt))try{Qa?xe.setAttributeNS(Qa,yr,bt):xe.setAttribute(yr,bt),tT(e.removed)}catch{}}}An("afterSanitizeAttributes",xe,null)}},cn=function lt(xe){var Qe=void 0,bt=tn(xe);for(An("beforeSanitizeShadowDOM",xe,null);Qe=bt.nextNode();)An("uponSanitizeShadowNode",Qe,null),!ze(Qe)&&(Qe.content instanceof i&&lt(Qe.content),Mn(Qe));An("afterSanitizeShadowDOM",xe,null)};return e.sanitize=function(lt,xe){var Qe=void 0,bt=void 0,$t=void 0,tt=void 0,St=void 0;if(H=!lt,H&&(lt="<!-->"),typeof lt!="string"&&!Bn(lt)){if(typeof lt.toString!="function")throw rT("toString is not a function");if(lt=lt.toString(),typeof lt!="string")throw rT("dirty is not a string, aborting")}if(!e.isSupported){if(cd(n.toStaticHTML)==="object"||typeof n.toStaticHTML=="function"){if(typeof lt=="string")return n.toStaticHTML(lt);if(Bn(lt))return n.toStaticHTML(lt.outerHTML)}return lt}if(ae||Xe(xe),e.removed=[],typeof lt=="string"&&(Ke=!1),!Ke)if(lt instanceof a)Qe=Ht("<!---->"),bt=Qe.ownerDocument.importNode(lt,!0),bt.nodeType===1&&bt.nodeName==="BODY"||bt.nodeName==="HTML"?Qe=bt:Qe.appendChild(bt);else{if(!ne&&!P&&!S&&lt.indexOf("<")===-1)return k&&Se?k.createHTML(lt):lt;if(Qe=Ht(lt),!Qe)return ne?null:x}Qe&&ce&&Ft(Qe.firstChild);for(var Wn=tn(Ke?lt:Qe);$t=Wn.nextNode();)$t.nodeType===3&&$t===tt||ze($t)||($t.content instanceof i&&cn($t.content),Mn($t),tt=$t);if(tt=null,Ke)return lt;if(ne){if(ye)for(St=B.call(Qe.ownerDocument);Qe.firstChild;)St.appendChild(Qe.firstChild);else St=Qe;return Ce&&(St=N.call(t,St,!0)),St}var fr=S?Qe.outerHTML:Qe.innerHTML;return P&&(fr=As(fr,D," "),fr=As(fr,q," ")),k&&Se?k.createHTML(fr):fr},e.setConfig=function(lt){Xe(lt),ae=!0},e.clearConfig=function(){Oe=null,ae=!1},e.isValidAttribute=function(lt,xe,Qe){Oe||Xe({});var bt=we(lt),$t=we(xe);return xn(bt,$t,Qe)},e.addHook=function(lt,xe){typeof xe=="function"&&(j[lt]=j[lt]||[],Vf(j[lt],xe))},e.removeHook=function(lt){j[lt]&&tT(j[lt])},e.removeHooks=function(lt){j[lt]&&(j[lt]=[])},e.removeAllHooks=function(){j={}},e}var lRe=p6(),uRe=["iframe","embed"],v6=[];function m6(n){ci(uRe,n)&&v6.push(n.toLowerCase())}function xu(n,e){return lRe.sanitize(n,Pe({ADD_TAGS:v6,ADD_ATTR:["rel","target","hreflang","type"],FORBID_TAGS:["input","script","textarea","form","button","select","meta","style","link","title","object","base"]},e))}function g6(n,e){return n.literal.replace(new RegExp("(<\\s*"+e+"[^>]*>)|(</"+e+"\\s*[>])","ig"),"").trim()}function hb(n){n=n.match(Kc)[0];var e=n.match(new RegExp(dR,"g"));return e?e.reduce(function(t,r){var i=r.trim().split("="),o=i[0],a=i.slice(1);return a.length&&(t[o]=a.join("=").replace(/'|"/g,"").trim()),t},{}):{}}function pb(n){return Va(n.attributes).reduce(function(e,t){return e[t.nodeName]=t.nodeValue,e},{})}function lT(n,e,t,r){var i=r.getToDOMNode(e)(n),o=t(i.outerHTML),a=document.createElement("div");a.innerHTML=o,i=a.firstChild;var s=pb(i);return{dom:i,htmlAttrs:s}}var cRe={htmlBlock:function(n,e,t){return{atom:!0,content:"block+",group:"block",attrs:{htmlAttrs:{default:{}},childrenHTML:{default:""},htmlBlock:{default:!0}},parseDOM:[{tag:n,getAttrs:function(r){return{htmlAttrs:pb(r),childrenHTML:r.innerHTML}}}],toDOM:function(r){var i=lT(r,n,e,t),o=i.dom,a=i.htmlAttrs;return a.class=a.class?a.class+" html-block":"html-block",Wi([n,a],Va(o.childNodes))}}},htmlInline:function(n,e,t){return{attrs:{htmlAttrs:{default:{}},htmlInline:{default:!0}},parseDOM:[{tag:n,getAttrs:function(r){return{htmlAttrs:pb(r)}}}],toDOM:function(r){var i=lT(r,n,e,t).htmlAttrs;return[n,i,0]}}}};function fRe(n,e,t){var r={nodes:{},marks:{}};return["htmlBlock","htmlInline"].forEach(function(i){n[i]&&Object.keys(n[i]).forEach(function(o){var a=i==="htmlBlock"?"nodes":"marks";m6(o),r[a][o]=cRe[i](o,e,t)})}),r}var dRe=/^\s*<\s*\//,hRe={paragraph:function(n,e){var t=e.entering,r=e.origin,i=e.options;return i.nodeId?{type:t?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:r()},softbreak:function(n){var e=n.prev&&n.prev.type==="htmlInline",t=e&&/<br ?\/?>/.test(n.prev.literal),r=t?`
`:`<br>
`;return{type:"html",content:r}},item:function(n,e){var t=e.entering;if(t){var r={},i=[];return n.listData.task&&(r["data-task"]="",i.push("task-list-item"),n.listData.checked&&(i.push("checked"),r["data-task-checked"]="")),{type:"openTag",tagName:"li",classNames:i,attributes:r,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(n){var e={"data-backticks":String(n.tickCount)};return[{type:"openTag",tagName:"code",attributes:e},{type:"text",content:n.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(n){var e=n,t=e.fenceLength,r=e.info,i=r?r.split(/\s+/):[],o=[],a={};if(t>3&&(a["data-backticks"]=t),i.length>0&&i[0].length>0){var s=i[0];o.push("lang-"+s),a["data-language"]=s}return[{type:"openTag",tagName:"pre",classNames:o},{type:"openTag",tagName:"code",attributes:a},{type:"text",content:n.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]},customInline:function(n,e){var t=e.origin,r=e.entering,i=e.skipChildren,o=n.info;if(o.indexOf("widget")!==-1&&r){i();var a=lR(n),s=sR(o,a).outerHTML;return[{type:"openTag",tagName:"span",classNames:["tui-widget"]},{type:"html",content:s},{type:"closeTag",tagName:"span"}]}return t()}};function cx(n,e){var t=Pe({},hRe);return n&&(t.link=function(r,i){var o=i.entering,a=i.origin,s=a();return o&&(s.attributes=Pe(Pe({},s.attributes),n)),s}),e&&Object.keys(e).forEach(function(r){var i=t[r],o=e[r];i&&So(o)?t[r]=function(a,s){var l=Pe({},s);return l.origin=function(){return i(a,s)},o(a,l)}:ci(["htmlBlock","htmlInline"],r)&&!So(o)?t[r]=function(a,s){var l=a.literal.match(Kc);if(l){var u=l[0],c=l[1],f=l[3],d=(c||f).toLowerCase(),h=o[d],v=g6(a,d);if(h){var p=Pe({},a);return p.attrs=hb(u),p.childrenHTML=v,p.type=d,s.entering=!dRe.test(a.literal),h(p,s)}}return s.origin()}:t[r]=o}),t}var pRe=["list","item","blockQuote"],vRe=["UL","OL","BLOCKQUOTE"];function mRe(n,e){var t,r=n.child(e);return!r.childCount||r.childCount===1&&!(!((t=r.firstChild.text)===null||t===void 0)&&t.trim())}function uT(n,e,t){var r=$h(e)-1,i=Og(e)-1,o=t[r].getBoundingClientRect(),a=t[i].offsetTop-t[r].offsetTop+t[i].clientHeight;return{height:a<=0?t[r].clientHeight:a+gRe(n,t,Math.min(i+1,n.childCount-1)),rect:o}}function gRe(n,e,t){for(var r=n.childCount-1,i=0;t<=r&&mRe(n,t);)i+=e[t].clientHeight,t+=1;return i}function yRe(n,e){for(;!n.getAttribute("data-nodeid")&&n.parentElement!==e;)n=n.parentElement;return n}function fm(n,e){for(var t=0;n&&n!==e&&(ci(vRe,n.tagName)||(t+=n.offsetTop),n.offsetParent!==e.offsetParent);)n=n.parentElement;return t}function bRe(n,e){for(var t=e,r=null;t;){var i=t.firstElementChild;if(!i)break;var o=y6(i,n,fm(t,e));r=t,t=o}var a=t||r;return a===e?null:a}function y6(n,e,t){return n&&e>t+n.offsetTop?y6(n.nextElementSibling,e,t)||n:null}function wRe(n,e,t,r){var i=Math.min((n-e)/t,1);return i*r}function Cy(n,e){for(var t=n.querySelector('[data-nodeid="'+e.id+'"]');!t||lY(e);)e=e.parent,t=n.querySelector('[data-nodeid="'+e.id+'"]');return kRe({mdNode:e,el:t})}function kRe(n){for(var e=n.mdNode,t=n.el;(ci(pRe,e.type)||e.type==="table")&&e.firstChild;)e=e.firstChild,t=t.firstElementChild;return{mdNode:e,el:t}}var Qo={};function xRe(n,e){Qo[n]=Qo[n]||{},Qo[n].height=e}function jRe(n,e){Qo[n]=Qo[n]||{},Qo[n].offsetTop=e}function CRe(n){return Qo[n]&&Qo[n].height}function SRe(n){return Qo[n]&&Qo[n].offsetTop}function vb(n){n&&(delete Qo[Number(n.getAttribute("data-nodeid"))],Va(n.children).forEach(function(e){vb(e)}))}function TRe(n,e,t){var r=CRe(t),i=SRe(t),o=r||n.clientHeight,a=i||fm(n,e)||n.offsetTop;return r||xRe(t,o),i||jRe(t,a),{nodeHeight:o,offsetTop:a}}var Sy=Ot("md-preview-highlight");function ORe(n,e){for(var t=n.firstChild;t&&t.next&&!(Eg(t.next)>e+1);)t=t.next;return t}var b6=function(){function n(e,t){var r=document.createElement("div");this.el=r,this.eventEmitter=e,this.isViewer=!!t.isViewer,this.el.className=Ot("md-preview");var i=t.linkAttributes,o=t.customHTMLRenderer,a=t.sanitizer,s=t.highlight,l=s===void 0?!1:s;this.renderer=new ux({gfm:!0,nodeId:!0,convertors:cx(i,o)}),this.cursorNodeId=null,this.sanitizer=a,this.initEvent(l),this.initContentSection(),this.isViewer&&(this.previewContent.style.overflowWrap="break-word")}return n.prototype.initContentSection=function(){this.previewContent=gR('<div class="'+Ot("contents")+'"></div>'),this.isViewer||this.el.appendChild(this.previewContent)},n.prototype.toggleActive=function(e){Kk(this.el,"active",e)},n.prototype.initEvent=function(e){var t=this;this.eventEmitter.listen("updatePreview",this.update.bind(this)),!this.isViewer&&(e&&(this.eventEmitter.listen("changeToolbarState",function(r){var i=r.mdNode,o=r.cursorPos;t.updateCursorNode(i,o)}),this.eventEmitter.listen("blur",function(){t.removeHighlight()})),IR(this.el,"scroll",function(r){t.eventEmitter.emit("scroll","preview",bRe(r.target.scrollTop,t.previewContent))}),this.eventEmitter.listen("changePreviewTabPreview",function(){return t.toggleActive(!0)}),this.eventEmitter.listen("changePreviewTabWrite",function(){return t.toggleActive(!1)}))},n.prototype.removeHighlight=function(){if(this.cursorNodeId){var e=this.getElementByNodeId(this.cursorNodeId);e&&Fo(e,Sy)}},n.prototype.updateCursorNode=function(e,t){e&&(e=Gc(e,function(a){return!fY(a)}),e.type==="tableRow"?e=ORe(e,t[1]):e.type==="tableBody"&&(e=null));var r=e?e.id:null;if(this.cursorNodeId!==r){var i=this.getElementByNodeId(this.cursorNodeId),o=this.getElementByNodeId(r);i&&Fo(i,Sy),o&&_a(o,Sy),this.cursorNodeId=r}},n.prototype.getElementByNodeId=function(e){return e?this.previewContent.querySelector('[data-nodeid="'+e+'"]'):null},n.prototype.update=function(e){var t=this;e.forEach(function(r){return t.replaceRangeNodes(r)}),this.eventEmitter.emit("afterPreviewRender",this)},n.prototype.replaceRangeNodes=function(e){var t=this,r=e.nodes,i=e.removedNodeRange,o=this.previewContent,a=this.eventEmitter.emitReduce("beforePreviewRender",this.sanitizer(r.map(function(v){return t.renderer.render(v)}).join("")));if(!i)o.insertAdjacentHTML("afterbegin",a);else{var s=i.id,l=s[0],u=s[1],c=this.getElementByNodeId(l),f=this.getElementByNodeId(u);if(c){c.insertAdjacentHTML("beforebegin",a);for(var d=c;d&&d!==f;){var h=d.nextElementSibling;bu(d),vb(d),d=h}d!=null&&d.parentNode&&(bu(d),vb(d))}}},n.prototype.getRenderer=function(){return this.renderer},n.prototype.destroy=function(){NR(this.el,"scroll"),this.el=null},n.prototype.getElement=function(){return this.el},n.prototype.getHTML=function(){return Zk(this.previewContent.innerHTML)},n.prototype.setHTML=function(e){this.previewContent.innerHTML=e},n.prototype.setHeight=function(e){Ba(this.el,{height:e+"px"})},n.prototype.setMinHeight=function(e){Ba(this.el,{minHeight:e+"px"})},n}();function us(n,e){for(var t=n.depth;t;){var r=n.node(t);if(e(r,t))return{node:r,depth:t,offset:t>0?n.before(t):0};t-=1}return null}function Xc(n){return!!us(n,function(e){var t=e.type;return t.name==="listItem"||t.name==="bulletList"||t.name==="orderedList"})}function dm(n){return!!us(n,function(e){var t=e.type;return t.name==="tableHeadCell"||t.name==="tableBodyCell"})}function ef(n){return us(n,function(e){var t=e.type;return t.name==="listItem"})}function Dg(n){return{tag:n,getAttrs:function(e){var t=e.getAttribute("data-raw-html");return Pe({},t&&{rawHTML:t})}}}function w6(n){return Object.keys(n).reduce(function(e,t){return t!=="rawHTML"&&n[t]&&(t=t==="className"?"class":t,e[t]=n[t]),e},{})}function k6(n){return{tag:n,getAttrs:function(e){return["rawHTML","colspan","rowspan","extended"].reduce(function(t,r){var i=r==="rawHTML"?"data-raw-html":r,o=e.getAttribute(i);return o&&(t[r]=ci(["rawHTML","extended"],r)?o:Number(o)),t},{})}}}function Kr(){return{htmlAttrs:{default:null},classNames:{default:null}}}function Nr(n){var e=n.htmlAttrs,t=n.classNames;return Pe(Pe({},e),{class:t?t.join(" "):null})}function ERe(n,e){var t=n.parent,r=n.startIndex,i=n.endIndex,o=t.contentMatchAt(r).findWrapping(e);if(o){var a=o.length?o[0]:e;return t.canReplaceWith(r,i,a)?o:null}return null}function MRe(n,e){var t=n.parent,r=n.startIndex,i=n.endIndex,o=t.child(r),a=e.contentMatch.findWrapping(o.type);if(a){for(var s=a.length?a[a.length-1]:e,l=s.contentMatch,u=r;l&&u<i;u+=1)l=l.matchType(t.child(u).type);if(l&&l.validEnd)return a}return null}function $Re(n,e,t,r){var i=ERe(n,t),o=MRe(e,t);if(i&&o){var a=i.map(function(l){return{type:l}}),s=o.map(function(l){return{type:l,attrs:r}});return a.concat({type:t}).concat(s)}return null}function ARe(n,e,t,r,i){for(var o=e.start,a=e.end,s=e.startIndex,l=e.endIndex,u=e.parent,c=We.empty,f=t.length-1;f>=0;f-=1)c=We.from(t[f].type.create(t[f].attrs,c));n.step(new Jr(o-(r?2:0),a,o,a,new yt(c,0,0),t.length,!0));for(var d=0,f=0;f<t.length;f+=1)if(t[f].type===i){d=f+1;break}for(var h=t.length-d,v=o+t.length-(r?2:0),f=s,p=l;f<p;f+=1){var m=f===s;!m&&Tc(n.doc,v,h)&&(n.split(v,h),v+=h*2),v+=u.child(f).nodeSize}return n}function x6(n,e,t,r){var i=e.$from,o=e.$to,a=e.depth,s=e,l=!1;if(a>=2&&i.node(a-1).type.compatibleContent(t)&&e.startIndex===0&&i.index(a-1)){var u=n.doc.resolve(e.start-2);s=new Fv(u,u,a),e.endIndex<e.parent.childCount&&(e=new Fv(i,n.doc.resolve(o.end(a)),a)),l=!0}var c=$Re(s,e,t,r);return c?ARe(n,e,c,l,t):n}function j6(n,e){for(var t=n.resolve(e);t.node().type.name!=="paragraph";)e-=2,t=n.resolve(e);return ef(t)}function _Re(n,e){var t=e.$from,r=e.$to,i=ef(t),o=ef(r);if(i&&o)for(;o;){var a=o.offset,s=o.node,l={task:!s.attrs.task,checked:!1};if(n.setNodeMarkup(a,null,l),a===i.offset)break;o=j6(n.doc,a)}return n}function NRe(n,e,t){var r=e.$from,i=e.$to,o=ef(r),a=ef(i);if(o&&a)for(;a;){var s=a.offset,l=a.node,u=a.depth;l.attrs.task&&n.setNodeMarkup(s,null,{task:!1,checked:!1});var c=n.doc.resolve(s);if(c.parent.type!==t){var f=c.before(u-1);n.setNodeMarkup(f,t)}if(s===o.offset)break;a=j6(n.doc,s)}return n}function C6(n){return function(e,t){var r=e.selection,i=e.tr,o=r.$from,a=r.$to,s=o.blockRange(a);if(s){var l=Xc(o)?NRe(i,s,n):x6(i,s,n);return t(l),!0}return!1}}function IRe(){return function(n,e){var t=n.selection,r=n.tr,i=n.schema,o=t.$from,a=t.$to,s=o.blockRange(a);if(s){var l=Xc(o)?_Re(r,s):x6(r,s,i.nodes.bulletList,{task:!0});return e(l),!0}return!1}}function PRe(n){return function(e,t){var r=e.tr,i=e.selection,o=i.$from,a=i.$to,s=o.blockRange(a,function(p){var m=p.childCount,g=p.firstChild;return!!m&&g.type===n});if(s&&s.startIndex>0){var l=s.parent,u=l.child(s.startIndex-1);if(u.type!==n)return!1;var c=u.lastChild&&u.lastChild.type===l.type,f=c?We.from(n.create()):null,d=new yt(We.from(n.create(null,We.from(l.type.create(null,f)))),c?3:1,0),h=s.start,v=s.end;return r.step(new Jr(h-(c?3:1),v,h,v,d,1,!0)),t(r),!0}return!1}}function LRe(n,e,t){var r=e.$from,i=e.$to,o=e.end,a=e.depth,s=e.parent,l=i.end(a);return o<l&&(n.step(new Jr(o-1,l,o,l,new yt(We.from(t.create(null,s.copy())),1,0),1,!0)),e=new Fv(n.doc.resolve(r.pos),n.doc.resolve(l),a)),n.lift(e,bg(e)),n}function DRe(n,e){for(var t=e.parent,r=e.end,i=e.endIndex-1,o=e.startIndex;i>o;i-=1)r-=t.child(i).nodeSize,n.delete(r-1,r+1);var a=n.doc.resolve(e.start),s=a.nodeAfter,l=e.startIndex===0,u=e.endIndex===t.childCount,c=a.node(-1),f=a.index(-1),d=c.canReplace(f+(l?0:1),f+1,s==null?void 0:s.content.append(u?We.empty:We.from(t)));if(s&&d){var h=a.pos,v=h+s.nodeSize;n.step(new Jr(h-(l?1:0),v+(u?1:0),h+1,v-1,new yt((l?We.empty:We.from(t.copy(We.empty))).append(u?We.empty:We.from(t.copy(We.empty))),l?0:1,u?0:1),l?0:1))}return n}function RRe(n){return function(e,t){var r=e.tr,i=e.selection,o=i.$from,a=i.$to,s=o.blockRange(a,function(c){var f=c.childCount,d=c.firstChild;return!!f&&d.type===n});if(s){var l=o.node(s.depth-1).type===n,u=l?LRe(r,s,n):DRe(r,s);return t(u),!0}return!1}}function BRe(n){return function(e,t){var r=e.tr,i=e.selection,o=i.$from,a=i.$to;if(o.depth<2||!o.sameParent(a))return!1;var s=o.node(-1);if(s.type!==n)return!1;if(o.parent.content.size===0&&o.node(-1).childCount===o.indexAfter(-1)){if(o.depth===2||o.node(-3).type!==n||o.index(-2)!==o.node(-2).childCount-1)return!1;for(var l=o.index(-1)>0,u=We.empty,c=o.depth-(l?1:2);c>=o.depth-3;c-=1)u=We.from(o.node(c).copy(u));return u=u.append(We.from(n.createAndFill())),r.replace(l?o.before():o.before(-1),o.after(-3),new yt(u,l?3:2,2)),r.setSelection(wn.near(r.doc.resolve(o.pos+(l?3:2)))),t(r),!0}var f=a.pos===o.end()?s.contentMatchAt(0).defaultType:null,d=f&&[null,{type:f}];return r.delete(o.pos,a.pos),Tc(r.doc,o.pos,2,d)?(r.split(o.pos,2,d),t(r),!0):!1}}function zRe(){return function(){return function(n,e){var t=n.selection,r=n.schema,i=t.$from,o=t.$to,a=i.blockRange(o);return a&&Xc(i)?PRe(r.nodes.listItem)(n,e):!1}}}function qRe(){return function(){return function(n,e){var t=n.selection,r=n.schema,i=t.$from,o=t.$to,a=i.blockRange(o);return a&&Xc(i)?RRe(r.nodes.listItem)(n,e):!1}}}function fx(){return{indent:zRe(),outdent:qRe()}}var cT=new Map,ti=function(){function n(e,t,r,i){this.table=e,this.tableRows=t,this.tableStartPos=r,this.rowInfo=i}return n.create=function(e){var t=us(e,function(v){var p=v.type;return p.name==="table"});if(t){var r=t.node,i=t.depth,o=t.offset,a=cT.get(r);if((a==null?void 0:a.tableStartPos)===o+1)return a;var s=[],l=e.start(i),u=r.child(0),c=r.child(1),f=mb(u,l),d=mb(c,l+u.nodeSize);u.forEach(function(v){return s.push(v)}),c.forEach(function(v){return s.push(v)});var h=new n(r,s,l,f.concat(d));return cT.set(r,h),h}return null},Object.defineProperty(n.prototype,"totalRowCount",{get:function(){return this.rowInfo.length},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"totalColumnCount",{get:function(){return this.rowInfo[0].length},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tableStartOffset",{get:function(){return this.tableStartPos},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tableEndOffset",{get:function(){return this.tableStartPos+this.table.nodeSize-1},enumerable:!1,configurable:!0}),n.prototype.getCellInfo=function(e,t){return this.rowInfo[e][t]},n.prototype.posAt=function(e,t){for(var r=0,i=this.tableStartPos;;r+=1){var o=i+this.tableRows[r].nodeSize;if(r===e){for(var a=t;a<this.totalColumnCount&&this.rowInfo[r][a].offset<i;)a+=1;return a===this.totalColumnCount?o:this.rowInfo[r][a].offset}i=o}},n.prototype.getNodeAndPos=function(e,t){var r=this.rowInfo[e][t];return{node:this.table.nodeAt(r.offset-this.tableStartOffset),pos:r.offset}},n.prototype.extendedRowspan=function(e,t){return!1},n.prototype.extendedColspan=function(e,t){return!1},n.prototype.getRowspanCount=function(e,t){return 0},n.prototype.getColspanCount=function(e,t){return 0},n.prototype.decreaseColspanCount=function(e,t){return 0},n.prototype.decreaseRowspanCount=function(e,t){return 0},n.prototype.getColspanStartInfo=function(e,t){return null},n.prototype.getRowspanStartInfo=function(e,t){return null},n.prototype.getCellStartOffset=function(e,t){var r=this.rowInfo[e][t].offset;return this.extendedRowspan(e,t)?this.posAt(e,t):r},n.prototype.getCellEndOffset=function(e,t){var r=this.rowInfo[e][t],i=r.offset,o=r.nodeSize;return this.extendedRowspan(e,t)?this.posAt(e,t):i+o},n.prototype.getCellIndex=function(e){for(var t=0;t<this.totalRowCount;t+=1)for(var r=this.rowInfo[t],i=0;i<this.totalColumnCount;i+=1)if(r[i].offset+1>e.pos)return[t,i];return[0,0]},n.prototype.getRectOffsets=function(e,t){var r,i,o;t===void 0&&(t=e),e.pos>t.pos&&(r=[t,e],e=r[0],t=r[1]);var a=this.getCellIndex(e),s=a[0],l=a[1],u=this.getCellIndex(t),c=u[0],f=u[1];return i=cS(s,c),s=i[0],c=i[1],o=cS(l,f),l=o[0],f=o[1],this.getSpannedOffsets({startRowIdx:s,startColIdx:l,endRowIdx:c,endColIdx:f})},n.prototype.getSpannedOffsets=function(e){return e},n}(),mb=function(n,e){var t=[];return n.forEach(function(r,i){var o={rowspanMap:{},colspanMap:{},length:0};r.forEach(function(a,s){for(var l=a.nodeSize,u=0;o[u];)u+=1;o[u]={offset:e+i+s+2,nodeSize:l},o.length+=1}),t.push(o)}),t};function FRe(n,e){return Wk(ti.prototype,n),mb=e,ti}function HRe(n,e,t){for(var r=t.startRowIdx,i=t.startColIdx,o=t.endRowIdx,a=t.endColIdx,s=[],l=r;l<=o;l+=1)for(var u=i;u<=a;u+=1){var c=e.getCellInfo(l,u),f=c.offset,d=c.nodeSize;s.push(new uD(n.resolve(f+1),n.resolve(f+d-1)))}return s}function VRe(n,e){var t=[];return n.childCount&&t.push(n),e.childCount&&t.push(e),We.from(t)}var dx=function(n){kt(e,n);function e(t,r){r===void 0&&(r=t);var i=this,o=t.node(0),a=ti.create(t),s=a.getRectOffsets(t,r),l=HRe(o,a,s);return i=n.call(this,l[0].$from,l[0].$to,l)||this,i.startCell=t,i.endCell=r,i.offsetMap=a,i.isCellSelection=!0,i.visible=!1,i}return e.prototype.map=function(t,r){var i=this.startCell.pos,o=this.endCell.pos,a=t.resolve(r.map(i)),s=t.resolve(r.map(o)),l=ti.create(a);if(this.offsetMap.totalColumnCount>l.totalColumnCount||this.offsetMap.totalRowCount>l.totalRowCount){var u={tableBody:1,tableRow:2,tableCell:3,paragraph:4},c=u[s.parent.type.name],f=s.end(s.depth-c),d=Math.min(f-4,s.pos);return $n.create(t,d)}return new e(a,s)},e.prototype.eq=function(t){return t instanceof e&&t.startCell.pos===this.startCell.pos&&t.endCell.pos===this.endCell.pos},e.prototype.content=function(){for(var t=this.startCell.node(-2),r=this.startCell.start(-2),i=t.child(1).firstChild,o=t.child(0).type.create(),a=t.child(1).type.create(),s=ti.create(this.startCell),l=s.getRectOffsets(this.startCell,this.endCell),u=l.startRowIdx,c=l.startColIdx,f=l.endRowIdx,d=l.endColIdx,h=!1,v=u;v<=f;v+=1){for(var p=[],m=c;m<=d;m+=1){var g=s.getCellInfo(v,m).offset,y=t.nodeAt(g-r);y&&(h=y.type.name==="tableHeadCell",s.extendedRowspan(v,m)||s.extendedColspan(v,m)?p.push(y.type.create({extended:!0})):p.push(y.copy(y.content)))}var b=i.copy(We.from(p)),w=h?o:a;w.content=w.content.append(We.from(b))}return new yt(VRe(o,a),1,1)},e.prototype.toJSON=function(){return JSON.stringify(this)},e}(wn);function WRe(n,e,t){for(var r=e.nodes,i=r.tableRow,o=r.tableHeadCell,a=r.paragraph,s=[],l=0;l<n;l+=1){var u=t&&t[l],c=a.create(null,u?e.text(u):[]);s.push(o.create(null,c))}return[i.create(null,s)]}function S6(n,e,t,r){for(var i=t.nodes,o=i.tableRow,a=i.tableBodyCell,s=i.paragraph,l=[],u=0;u<n;u+=1){for(var c=[],f=0;f<e;f+=1){var d=r&&r[u*e+f],h=s.create(null,d?t.text(d):[]);c.push(a.create(null,h))}l.push(o.create(null,c))}return l}function hv(n,e,t,r){r===void 0&&(r=null);for(var i=t.nodes,o=i.tableHeadCell,a=i.tableBodyCell,s=i.paragraph,l=e===0?o:a,u=[],c=0;c<n;c+=1)u.push(l.create(r,s.create()));return u}function T6(n,e){for(;n&&n!==e;){if(n.nodeName==="TD"||n.nodeName==="TH")return n;n=n.parentNode}return null}function O6(n){return us(n,function(e){var t=e.type;return t.name==="tableHeadCell"||t.name==="tableBodyCell"})}function ba(n){if(n instanceof $n){var e=n.$anchor,t=O6(e);if(t){var r=e.node(0).resolve(e.before(t.depth));return{anchor:r,head:r}}}var i=n,o=i.startCell,a=i.endCell;return{anchor:o,head:a}}function E6(n){var e;if(n.size){var t=n.content,r=n.openStart,i=n.openEnd;if(t.childCount!==1)return null;for(;t.childCount===1&&(r>0&&i>0||((e=t.firstChild)===null||e===void 0?void 0:e.type.name)==="table");)r-=1,i-=1,t=t.firstChild.content;if(t.firstChild.type.name==="tableHead"||t.firstChild.type.name==="tableBody")return t}return null}function mc(n){var e=n.startRowIdx,t=n.startColIdx,r=n.endRowIdx,i=n.endColIdx,o=r-e+1,a=i-t+1;return{rowCount:o,columnCount:a}}function URe(n,e){return Pe(Pe({},n.attrs),e)}var Fs=new Oh("cellSelection"),JRe=2,GRe=function(){function n(e){this.view=e,this.handlers={mousedown:this.handleMousedown.bind(this),mousemove:this.handleMousemove.bind(this),mouseup:this.handleMouseup.bind(this)},this.startCellPos=null,this.init()}return n.prototype.init=function(){this.view.dom.addEventListener("mousedown",this.handlers.mousedown)},n.prototype.handleMousedown=function(e){var t=T6(e.target,this.view.dom);if(e.button===JRe){e.preventDefault();return}if(t){var r=this.getCellPos(e);r&&(this.startCellPos=r),this.bindEvent()}},n.prototype.handleMousemove=function(e){var t=Fs.getState(this.view.state),r=this.getCellPos(e),i=this.startCellPos,o;t?o=this.view.state.doc.resolve(t):i!==r&&(o=i),o&&i&&r&&this.setCellSelection(i,r)},n.prototype.handleMouseup=function(){this.startCellPos=null,this.unbindEvent(),Fs.getState(this.view.state)!==null&&this.view.dispatch(this.view.state.tr.setMeta(Fs,-1))},n.prototype.bindEvent=function(){var e=this.view.dom;e.addEventListener("mousemove",this.handlers.mousemove),e.addEventListener("mouseup",this.handlers.mouseup)},n.prototype.unbindEvent=function(){var e=this.view.dom;e.removeEventListener("mousemove",this.handlers.mousemove),e.removeEventListener("mouseup",this.handlers.mouseup)},n.prototype.getCellPos=function(e){var t=e.clientX,r=e.clientY,i=this.view.posAtCoords({left:t,top:r});if(i){var o=this.view.state.doc,a=o.resolve(i.pos),s=O6(a);if(s){var l=a.before(s.depth);return o.resolve(l)}}return null},n.prototype.setCellSelection=function(e,t){var r=this.view.state,i=r.selection,o=r.tr,a=Fs.getState(this.view.state)===null,s=new dx(e,t);if(a||!i.eq(s)){var l=o.setSelection(s);a&&l.setMeta(Fs,t.pos),this.view.dispatch(l)}},n.prototype.destroy=function(){this.view.dom.removeEventListener("mousedown",this.handlers.mousedown)},n}(),KRe=Ot("cell-selected");function QRe(n){var e=n.selection,t=n.doc;if(e instanceof dx){var r=[],i=e.ranges;return i.forEach(function(o){var a=o.$from,s=o.$to;r.push(Fi.node(a.pos-1,s.pos+1,{class:KRe}))}),Cr.create(t,r)}return null}function YRe(){return new Gi({key:Fs,state:{init:function(){return null},apply:function(n,e){var t=n.getMeta(Fs);if(t)return t===-1?null:t;if(Zv(e)||!n.docChanged)return e;var r=n.mapping.mapResult(e),i=r.deleted,o=r.pos;return i?null:o}},props:{decorations:QRe,createSelectionBetween:function(n){var e=n.state;return Zv(Fs.getState(e))?null:e.selection}},view:function(n){return new GRe(n)}})}var M6=function(){function n(){this.keys=[],this.values=[]}return n.prototype.getKeyIndex=function(e){return gu(e,this.keys)},n.prototype.get=function(e){return this.values[this.getKeyIndex(e)]},n.prototype.set=function(e,t){var r=this.getKeyIndex(e);return r>-1?this.values[r]=t:(this.keys.push(e),this.values.push(t)),this},n.prototype.has=function(e){return this.getKeyIndex(e)>-1},n.prototype.delete=function(e){var t=this.getKeyIndex(e);return t>-1?(this.keys.splice(t,1),this.values.splice(t,1),!0):!1},n.prototype.forEach=function(e,t){var r=this;t===void 0&&(t=this),this.values.forEach(function(i,o){i&&r.keys[o]&&e.call(t,i,r.keys[o],r)})},n.prototype.clear=function(){this.keys=[],this.values=[]},n}(),Ty="en-US",ZRe=function(){function n(){this.code=Ty,this.langs=new M6}return n.prototype.setCode=function(e){this.code=e||Ty},n.prototype.setLanguage=function(e,t){var r=this;e=[].concat(e),e.forEach(function(i){if(!r.langs.has(i))r.langs.set(i,t);else{var o=r.langs.get(i);r.langs.set(i,Bk(o,t))}})},n.prototype.get=function(e,t){t||(t=this.code);var r=this.langs.get(t);r||(r=this.langs.get(Ty));var i=r[e];if(!i)throw new Error('There is no text key "'+e+'" in '+t);return i},n}(),un=new ZRe,XRe=[[{action:"Add row to up",command:"addRowToUp",disableInThead:!0,className:"add-row-up"},{action:"Add row to down",command:"addRowToDown",disableInThead:!0,className:"add-row-down"},{action:"Remove row",command:"removeRow",disableInThead:!0,className:"remove-row"}],[{action:"Add column to left",command:"addColumnToLeft",className:"add-column-left"},{action:"Add column to right",command:"addColumnToRight",className:"add-column-right"},{action:"Remove column",command:"removeColumn",className:"remove-column"}],[{action:"Align column to left",command:"alignColumn",payload:{align:"left"},className:"align-column-left"},{action:"Align column to center",command:"alignColumn",payload:{align:"center"},className:"align-column-center"},{action:"Align column to right",command:"alignColumn",payload:{align:"right"},className:"align-column-right"}],[{action:"Remove table",command:"removeTable",className:"remove-table"}]];function e6e(n,e){return XRe.map(function(t){return t.map(function(r){var i=r.action,o=r.command,a=r.payload,s=r.disableInThead,l=r.className;return{label:un.get(i),onClick:function(){n.emit("command",o,a)},disabled:e&&!!s,className:l}})}).concat()}function t6e(n){return new Gi({props:{handleDOMEvents:{contextmenu:function(e,t){var r=T6(t.target,e.dom);if(r){t.preventDefault();var i=t,o=i.clientX,a=i.clientY,s=e.dom.parentNode.getBoundingClientRect(),l=s.left,u=s.top,c=r.nodeName==="TH";return n.emit("contextmenu",{pos:{left:o-l+10+"px",top:a-u+30+"px"},menuGroups:e6e(n,c),tableCell:r}),!0}return!1}}}})}function n6e(){return new Gi({props:{handleDOMEvents:{mousedown:function(n,e){var t=e,r=t.clientX,i=t.clientY,o=n.posAtCoords({left:r,top:i});if(o){var a=n.state,s=a.doc,l=a.tr,u=s.resolve(o.pos),c=ef(u),f=e.target,d=getComputedStyle(f,":before"),h=e,v=h.offsetX,p=h.offsetY;if(!c||!Gk(d,v,p))return!1;e.preventDefault();var m=u.before(c.depth),g=c.node.attrs;return l.setNodeMarkup(m,null,Pe(Pe({},g),{checked:!g.checked})),n.dispatch(l),!0}return!1}}}})}var r6e=["image","link","customBlock","frontMatter"],i6e=["strong","strike","emph","code"],$6=["bulletList","orderedList","taskList"];function o6e(n,e){var t=n.type.name;return t==="listItem"?n.attrs.task?"taskList":e.type.name:t.indexOf("table")!==-1?"table":t}function a6e(n,e){e[n]={active:!0},$6.filter(function(t){return t!==n}).forEach(function(t){e[t]&&delete e[t]})}function s6e(n,e,t,r){i6e.forEach(function(i){var o=t.marks[i],a=n.marksAcross(e)||[],s=!!o.isInSet(a);s&&(r[i]={active:!0})})}function l6e(n,e,t){var r=n.$from,i=n.$to,o=n.from,a=n.to,s={indent:{active:!1,disabled:!0},outdent:{active:!1,disabled:!0}};return e.nodesBetween(o,a,function(l,u,c){var f=o6e(l,c);ci(r6e,f)||(ci($6,f)?(a6e(f,s),s.indent.disabled=!1,s.outdent.disabled=!1):f==="paragraph"||f==="text"?s6e(r,i,t,s):s[f]={active:!0})}),s}function u6e(n){return new Gi({view:function(){return{update:function(e){var t=e.state,r=t.selection,i=t.doc,o=t.schema;n.emit("changeToolbarState",{toolbarState:l6e(r,i,o)})}}}})}var c6e=function(){function n(e,t,r,i){var o=this;this.openEditor=function(){if(o.innerEditorView)throw new Error("The editor is already opened.");o.dom.draggable=!1,o.wrapper.style.display="none",o.innerViewContainer.style.display="block",o.innerEditorView=new Nk(o.innerViewContainer,{state:Gl.create({doc:o.node,plugins:[Gd({"Mod-z":function(){return Od(o.innerEditorView.state,o.innerEditorView.dispatch)},"Shift-Mod-z":function(){return Rk(o.innerEditorView.state,o.innerEditorView.dispatch)},Tab:function(a,s){return s(a.tr.insertText("	")),!0},Enter:UD,Escape:function(){return o.cancelEditing(),!0},"Ctrl-Enter":function(){return o.saveAndFinishEditing(),!0}}),tR()]}),dispatchTransaction:function(a){return o.dispatchInner(a)},handleDOMEvents:{mousedown:function(){return o.editorView.hasFocus()&&o.innerEditorView.focus(),!0},blur:function(){return o.saveAndFinishEditing(),!0}}}),o.innerEditorView.focus()},this.node=e,this.editorView=t,this.getPos=r,this.toDOMAdaptor=i,this.innerEditorView=null,this.canceled=!1,this.dom=document.createElement("div"),this.dom.className=Ot("custom-block"),this.wrapper=document.createElement("div"),this.wrapper.className=Ot("custom-block-view"),this.createInnerViewContainer(),this.renderCustomBlock(),this.dom.appendChild(this.innerViewContainer),this.dom.appendChild(this.wrapper)}return n.prototype.renderToolArea=function(){var e=this,t=document.createElement("div"),r=document.createElement("span"),i=document.createElement("button");t.className="tool",r.textContent=this.node.attrs.info,r.className="info",i.type="button",i.addEventListener("click",function(){return e.openEditor()}),t.appendChild(r),t.appendChild(i),this.wrapper.appendChild(t)},n.prototype.renderCustomBlock=function(){var e=this.toDOMAdaptor.getToDOMNode(this.node.attrs.info);if(e){for(var t=e(this.node);this.wrapper.hasChildNodes();)this.wrapper.removeChild(this.wrapper.lastChild);t&&this.wrapper.appendChild(t),this.renderToolArea()}},n.prototype.createInnerViewContainer=function(){this.innerViewContainer=document.createElement("div"),this.innerViewContainer.className=Ot("custom-block-editor"),this.innerViewContainer.style.display="none"},n.prototype.closeEditor=function(){this.innerEditorView&&(this.innerEditorView.destroy(),this.innerEditorView=null,this.innerViewContainer.style.display="none"),this.wrapper.style.display="block"},n.prototype.saveAndFinishEditing=function(){var e=this.editorView.state.selection.to,t=this.editorView.state;this.editorView.dispatch(t.tr.setSelection(vr(t.tr,e))),this.editorView.focus(),this.renderCustomBlock(),this.closeEditor()},n.prototype.cancelEditing=function(){var e=iQ(this.innerEditorView.state);for(this.canceled=!0;e--;)Od(this.innerEditorView.state,this.innerEditorView.dispatch),Od(this.editorView.state,this.editorView.dispatch);this.canceled=!1;var t=this.editorView.state.selection.to,r=this.editorView.state;this.editorView.dispatch(r.tr.setSelection($n.create(r.doc,t))),this.editorView.focus(),this.closeEditor()},n.prototype.dispatchInner=function(e){var t=this.innerEditorView.state.applyTransaction(e),r=t.state,i=t.transactions;if(this.innerEditorView.updateState(r),!this.canceled&&So(this.getPos)){for(var o=this.editorView.state.tr,a=Zi.offset(this.getPos()+1),s=0;s<i.length;s+=1)for(var l=i[s].steps,u=0;u<l.length;u+=1)o.step(l[u].map(a));o.docChanged&&this.editorView.dispatch(o)}},n.prototype.update=function(e){return e.sameMarkup(this.node)?(this.node=e,this.innerEditorView||this.renderCustomBlock(),!0):!1},n.prototype.stopEvent=function(e){return!!this.innerEditorView&&!!e.target&&this.innerEditorView.dom.contains(e.target)},n.prototype.ignoreMutation=function(){return!0},n.prototype.destroy=function(){this.dom.removeEventListener("dblclick",this.openEditor),this.closeEditor()},n}(),fT="image-link",f6e=function(){function n(e,t,r,i){var o=this,a;this.handleMousedown=function(s){s.preventDefault();var l=s.target,u=s.offsetX,c=s.offsetY;if(o.imageLink&&So(o.getPos)&&cR(l,fT)){var f=getComputedStyle(l,":before");if(s.stopPropagation(),Gk(f,u,c)){var d=o.view.state.tr,h=o.getPos();d.setSelection(vr(d,h,h+1)),o.view.dispatch(d),o.eventEmitter.emit("openPopup","link",o.imageLink.attrs)}}},this.node=e,this.view=t,this.getPos=r,this.eventEmitter=i,this.imageLink=(a=e.marks.filter(function(s){var l=s.type;return l.name==="link"})[0])!==null&&a!==void 0?a:null,this.dom=this.createElement(),this.bindEvent()}return n.prototype.createElement=function(){var e=this.createImageElement(this.node);if(this.imageLink){var t=document.createElement("span");return t.className=fT,t.appendChild(e),t}return e},n.prototype.createImageElement=function(e){var t=document.createElement("img"),r=e.attrs,i=r.imageUrl,o=r.altText,a=Nr(e.attrs);return t.src=i,o&&(t.alt=o),Yk(a,t),t},n.prototype.bindEvent=function(){this.imageLink&&this.dom.addEventListener("mousedown",this.handleMousedown)},n.prototype.stopEvent=function(){return!0},n.prototype.destroy=function(){this.imageLink&&this.dom.removeEventListener("mousedown",this.handleMousedown)},n}(),d6e="toastui-editor-ww-code-block",h6e="toastui-editor-ww-code-block-language",p6e=function(){function n(e,t,r,i){var o=this;this.contentDOM=null,this.input=null,this.timer=null,this.handleMousedown=function(a){var s=a.target,l=getComputedStyle(s,":after");if(l.backgroundImage!=="none"&&So(o.getPos)){var u=o.view.coordsAtPos(o.getPos()),c=u.top,f=u.right;o.createLanguageEditor({top:c,right:f})}},this.handleKeydown=function(a){a.key==="Enter"&&o.input&&(a.preventDefault(),o.changeLanguage())},this.node=e,this.view=t,this.getPos=r,this.eventEmitter=i,this.createElement(),this.bindDOMEvent(),this.bindEvent()}return n.prototype.createElement=function(){var e=this.node.attrs.language,t=document.createElement("div");t.setAttribute("data-language",e||"text"),t.className=d6e;var r=this.createCodeBlockElement(),i=r.firstChild;t.appendChild(r),this.dom=t,this.contentDOM=i},n.prototype.createCodeBlockElement=function(){var e=document.createElement("pre"),t=document.createElement("code"),r=this.node.attrs.language,i=Nr(this.node.attrs);return r&&t.setAttribute("data-language",r),Yk(i,e),e.appendChild(t),e},n.prototype.createLanguageEditor=function(e){var t=this,r=e.top,i=e.right,o=document.createElement("span");o.className=h6e;var a=document.createElement("input");a.type="text",a.value=this.node.attrs.language,o.appendChild(a),this.view.dom.parentElement.appendChild(o);var s=o.clientWidth;Ba(o,{top:r+10+"px",left:i-s-10+"px",width:s+"px"}),this.input=a,this.input.addEventListener("blur",function(){return t.changeLanguage()}),this.input.addEventListener("keydown",this.handleKeydown),this.clearTimer(),this.timer=setTimeout(function(){t.input.focus()})},n.prototype.bindDOMEvent=function(){this.dom&&this.dom.addEventListener("click",this.handleMousedown)},n.prototype.bindEvent=function(){var e=this;this.eventEmitter.listen("scroll",function(){e.input&&e.reset()})},n.prototype.changeLanguage=function(){if(this.input&&So(this.getPos)){var e=this.input.value;this.reset();var t=this.getPos(),r=this.view.state.tr;r.setNodeMarkup(t,null,{language:e}),this.view.dispatch(r)}},n.prototype.reset=function(){var e;if(!((e=this.input)===null||e===void 0)&&e.parentElement){var t=this.input.parentElement;this.input=null,bu(t)}},n.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},n.prototype.stopEvent=function(){return!0},n.prototype.update=function(e){return e.sameMarkup(this.node)?(this.node=e,!0):!1},n.prototype.destroy=function(){this.reset(),this.clearTimer(),this.dom&&this.dom.removeEventListener("click",this.handleMousedown)},n}(),v6e=/MsoListParagraph/,A6=/style=(.|\n)*mso-/,_6=/mso-list:(.*)/,m6e=/O:P/,g6e=/^(n|u|l)/,y6e="p.MsoListParagraph";function b6e(n){return A6.test(n)}function w6e(n){for(var e=[],t=document.createTreeWalker(n,1,null,!1);t.nextNode();){var r=t.currentNode;if($g(r)){var i=r,o=i.outerHTML,a=i.textContent,s=A6.test(o),l=_6.test(o);s&&!l&&a?e.push([r,!0]):(m6e.test(r.nodeName)||s&&!a||l)&&e.push([r,!1])}}return e.forEach(function(u){var c=u[0],f=u[1];f?BY(c):bu(c)}),n.innerHTML.trim()}function k6e(n,e){var t=n.getAttribute("style");if(t){var r=t.match(_6),i=r[1],o=i.trim().split(" "),a=o[1],s=parseInt(a.replace("level",""),10),l=g6e.test(n.textContent||"");return{id:e,level:s,prev:null,parent:null,children:[],unordered:l,contents:w6e(n)}}return null}function x6e(n,e){if(e.level<n.level)e.children.push(n),n.parent=e;else{for(;e&&e.level!==n.level;)e=e.parent;e&&(n.prev=e,n.parent=e.parent,n.parent&&n.parent.children.push(n))}}function j6e(n){var e=[];return n.forEach(function(t,r){var i=e[r-1],o=k6e(t,r);o&&(i&&x6e(o,i),e.push(o))}),e}function N6(n){var e=n[0].unordered?"ul":"ol",t=document.createElement(e);return n.forEach(function(r){var i=r.children,o=r.contents,a=document.createElement("li");a.innerHTML=o,t.appendChild(a),i.length&&t.appendChild(N6(i))}),t}function C6e(n){var e=j6e(n),t=e.filter(function(r){var i=r.parent;return!i});return N6(t)}function S6e(n){for(;n&&!$g(n);)n=n.nextSibling;return n?!v6e.test(n.className):!0}function T6e(n){var e=document.createElement("div");e.innerHTML=n;var t=[],r=LY(e,y6e);r.forEach(function(o){var a=S6e(o.nextSibling);if(t.push(o),a){var s=C6e(t),l=o.nextSibling;l?RY(s,l):DY(e,s),t=[]}bu(o)});var i=r.length?"<p></p>":"";return""+i+e.innerHTML}var dT="<!--StartFragment-->",O6e="<!--EndFragment-->";function E6e(n){var e=n.indexOf(dT),t=n.lastIndexOf(O6e);return e>-1&&t>-1&&(n=n.slice(e+dT.length,t)),n.replace(/<br[^>]*>/g,vR)}function M6e(n){return/<\/td>((?!<\/tr>)[\s\S])*$/i.test(n)&&(n="<tr>"+n+"</tr>"),/<\/tr>((?!<\/table>)[\s\S])*$/i.test(n)&&(n="<table>"+n+"</table>"),n}function $6e(n){return n=E6e(n),n=M6e(n),b6e(n)&&(n=T6e(n)),n}function A6e(n){var e=n.reduce(function(t,r){return t.childCount>r.childCount?t:r});return e.childCount}function I6(n,e,t){for(var r=[],i=n.childCount,o=0;o<i;o+=1)if(!n.child(o).attrs.extended){var a=o<i?t.create(n.child(o).attrs,n.child(o).content):t.createAndFill();r.push(a)}return r}function P6(n,e,t){var r=t.nodes,i=r.tableRow,o=r.tableHeadCell,a=I6(n,e,o);return i.create(null,a)}function L6(n,e,t){var r=t.nodes,i=r.tableRow,o=r.tableBodyCell,a=I6(n,e,o);return i.create(null,a)}function _6e(n,e){for(var t=e.nodes,r=t.tableRow,i=t.tableBodyCell,o=[],a=0;a<n;a+=1){var s=i.createAndFill();o.push(s)}return r.create({dummyRowForPasting:!0},o)}function D6(n){var e=[],t=[];if(n.firstChild.type.name==="tableHead"){var r=n.firstChild;r.forEach(function(o){return e.push(o)})}if(n.lastChild.type.name==="tableBody"){var i=n.lastChild;i.forEach(function(o){return t.push(o)})}return Wi(Wi([],e),t)}function N6e(n,e,t){var r=P6(n,e,t);return t.nodes.tableHead.create(null,r)}function hT(n,e,t){var r=n.map(function(o){return L6(o,e,t)});if(!n.length){var i=_6e(e,t);r.push(i)}return t.nodes.tableBody.create(null,r)}function I6e(n,e,t,r){var i=A6e(n);if(t&&r)return e.nodes.table.create(null,[hT(n,i,e)]);var o=n[0],a=n.slice(1),s=[N6e(o,i,e)];return a.length&&s.push(hT(a,i,e)),e.nodes.table.create(null,s)}function P6e(n,e,t){var r=[],i=n.content,o=n.openStart,a=n.openEnd;return i.forEach(function(s){if(s.type.name==="table"){var l=E6(new yt(We.from(s),0,0));if(l){var u=D6(l),c=l.firstChild.type.name==="tableBody",f=I6e(u,e,c,t);r.push(f)}}else r.push(s)}),new yt(We.from(r),o,a)}var L6e=4,D6e=2;function pv(n){return n*L6e}function R6e(n,e,t){var r=[],i=D6(n),o=i[0].childCount,a=i.length,s=e.startRowIdx===0,l=i.slice(0,a);if(s){var u=l.shift();if(u){var c=P6(u,o,t).content;r.push(c)}}return l.forEach(function(f){if(!f.attrs.dummyRowForPasting){var d=L6(f,o,t).content;r.push(d)}}),r}function B6e(n,e,t){for(var r=e.startRowIdx,i=e.startColIdx,o=t.length,a=0,s=function(h){var v=t[h].childCount;t[h].forEach(function(p){var m=p.attrs,g=m.colspan;g>1&&(v+=g-1)}),a=Math.max(a,v)},l=0;l<o;l+=1)s(l);var u=r+o-1,c=i+a-1,f=Math.max(u+1-n.totalRowCount,0),d=Math.max(c+1-n.totalColumnCount,0);return{startRowIdx:r,startColIdx:i,endRowIdx:u,endColIdx:c,addedRowCount:f,addedColumnCount:d}}function z6e(n,e){for(var t=n.startRowIdx,r=n.startColIdx,i=n.endRowIdx,o=n.endColIdx,a=n.addedRowCount,s=n.addedColumnCount,l=t;l<=i-a;l+=1)e.push({rowIdx:l,startColIdx:r,endColIdx:o-s})}function q6e(n,e,t,r,i){for(var o=r.startRowIdx,a=r.startColIdx,s=r.endRowIdx,l=r.endColIdx,u=r.addedRowCount,c=r.addedColumnCount,f=t.totalRowCount,d=0,h=0;h<f;h+=1){var v=t.getCellInfo(h,l-c),p=v.offset,m=v.nodeSize,g=n.mapping.map(p+m),y=hv(c,h,e);if(n.insert(g,y),h>=o&&h<=s-u){var b=t.getCellInfo(h,l-c),w=n.mapping.map(b.offset),k=g+pv(c);i[d]={rowIdx:h,startColIdx:a,endColIdx:l,dummyOffsets:[w,k]},d+=1}}}function F6e(n,e,t,r,i){var o=r.addedRowCount,a=r.addedColumnCount,s=r.startColIdx,l=r.endColIdx,u=n.mapping.maps.length,c=t.tableEndOffset-2,f=S6(o,t.totalColumnCount+a,e),d=c;n.insert(n.mapping.slice(u).map(d),f);for(var h=0;h<o;h+=1){var v=d+pv(s)+1,p=d+pv(l+1)+1,m=d+pv(t.totalColumnCount+a)+D6e;i.push({rowIdx:h+t.totalRowCount,startColIdx:s,endColIdx:l,dummyOffsets:[v,p]}),d=m}}function H6e(n,e,t,r){var i=n.mapping.maps.length;t.forEach(function(o,a){var s=o.rowIdx,l=o.startColIdx,u=o.endColIdx,c=o.dummyOffsets,f=n.mapping.slice(i),d=new yt(e[a],0,0),h=c?c[0]:r.getCellStartOffset(s,l),v=c?c[1]:r.getCellEndOffset(s,u);n.replace(f.map(h),f.map(v),d)})}function V6e(n,e){var t=n.state,r=t.selection,i=t.schema,o=t.tr,a=ba(r),s=a.anchor,l=a.head;if(s&&l){var u=E6(e);if(!u)return!1;var c=ti.create(s),f=c.getRectOffsets(s,l),d=R6e(u,f,i),h=B6e(c,f,d),v=[];return U6e(c,h)&&(z6e(h,v),h.addedColumnCount&&q6e(o,i,c,h,v),h.addedRowCount&&F6e(o,i,c,h,v),H6e(o,d,v,c),n.dispatch(o),W6e(n,v,c.getCellInfo(0,0).offset)),!0}return!1}function W6e(n,e,t){var r=n.state,i=r.tr,o=r.doc,a=ti.create(o.resolve(t)),s=e[0],l=s.rowIdx,u=s.startColIdx,c=yi(e),f=c.rowIdx,d=c.endColIdx,h=a.getCellInfo(l,u).offset,v=a.getCellInfo(f,d).offset;n.dispatch(i.setSelection(new dx(o.resolve(h),o.resolve(v))))}function U6e(n,e){var t=n.getSpannedOffsets(e),r=mc(t),i=r.rowCount,o=r.columnCount,a=mc(e),s=a.rowCount,l=a.columnCount;return i===s&&o===l}var J6e=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e}(cr),G6e=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",group:"block",attrs:Pe({},Kr()),parseDOM:[{tag:"p"}],toDOM:function(t){var r=t.attrs;return["p",Nr(r),0]}}},enumerable:!1,configurable:!0}),e}(cr),K6e=/\s{1,4}$/,Q6e=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e.prototype.addSpaces=function(){return function(t,r){var i=t.selection,o=t.tr,a=i.$from,s=i.$to,l=a.blockRange(s);return l&&!Xc(a)&&!dm(a)?(r(o.insertText("    ",a.pos,s.pos)),!0):!1}},e.prototype.removeSpaces=function(){return function(t,r){var i=t.selection,o=t.tr,a=i.$from,s=i.$to,l=i.from,u=a.blockRange(s);if(u&&!Xc(a)&&!dm(a)){var c=a.nodeBefore;if(c&&c.isText){var f=c.text,d=f.replace(K6e,""),h=f.length-d.length;return r(o.delete(l-h,l)),!0}}return!1}},e.prototype.keymaps=function(){return{Tab:this.addSpaces(),"Shift-Tab":this.removeSpaces()}},e}(cr),Y6e=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"levels",{get:function(){return[1,2,3,4,5,6]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=this.levels.map(function(r){return{tag:"h"+r,getAttrs:function(i){var o=i.getAttribute("data-raw-html");return Pe({level:r},o&&{rawHTML:o})}}});return{attrs:Pe({level:{default:1},headingType:{default:"atx"},rawHTML:{default:null}},Kr()),content:"inline*",group:"block",defining:!0,parseDOM:t,toDOM:function(r){var i=r.attrs;return["h"+i.level,Nr(i),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(r,i){var o=r.schema.nodes[t.level?"heading":"paragraph"];return Dk(o,t)(r,i)}}},e}(cr),Z6e=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:Pe({language:{default:null},rawHTML:{default:null}},Kr()),code:!0,defining:!0,marks:"",parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(t){var r=t.getAttribute("data-raw-html"),i=t.firstElementChild;return Pe({language:(i==null?void 0:i.getAttribute("data-language"))||null},r&&{rawHTML:r})}}],toDOM:function(t){var r=t.attrs;return[r.rawHTML||"pre",["code",Pe({"data-language":r.language},Nr(r)),0]]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,r){return Dk(t.schema.nodes.codeBlock)(t,r)}}},e.prototype.moveCursor=function(t){var r=this;return function(i,o){var a=i.tr,s=i.doc,l=i.schema,u=i.selection.$from,c=r.context.view;if(c.endOfTextblock(t)&&u.node().type.name==="codeBlock"){var f=u.parent.textContent.split(`
`),d=t==="up"?u.start():u.end(),h=t==="up"?[d,f[0].length+d]:[d-yi(f).length,d],v=s.resolve(t==="up"?u.before():u.after()),p=t==="up"?v.nodeBefore:v.nodeAfter;if(nY(u.pos,h[0],h[1])&&!p){var m=Uk(a,v,l);if(m)return o(m),!0}}return!1}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-p":t,"Shift-Mod-P":t,ArrowUp:this.moveCursor("up"),ArrowDown:this.moveCursor("down")}},e}(cr),X6e=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"bulletList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:Pe({rawHTML:{default:null}},Kr()),parseDOM:[Dg("ul")],toDOM:function(t){var r=t.attrs;return["ul",Nr(r),0]}}},enumerable:!1,configurable:!0}),e.prototype.changeList=function(){return function(t,r){return C6(t.schema.nodes.bulletList)(t,r)}},e.prototype.commands=function(){return{bulletList:this.changeList,taskList:IRe}},e.prototype.keymaps=function(){var t=this.changeList(),r=fx(),i=r.indent,o=r.outdent;return{"Mod-u":t,"Mod-U":t,Tab:i(),"Shift-Tab":o()}},e}(cr),e8e=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"orderedList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:Pe({order:{default:1},rawHTML:{default:null}},Kr()),parseDOM:[{tag:"ol",getAttrs:function(t){var r=t.getAttribute("start"),i=t.getAttribute("data-raw-html");return Pe({order:t.hasAttribute("start")?Number(r):1},i&&{rawHTML:i})}}],toDOM:function(t){var r=t.attrs;return[r.rawHTML||"ol",Pe({start:r.order===1?null:r.order},Nr(r)),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,r){return C6(t.schema.nodes.orderedList)(t,r)}}},e.prototype.keymaps=function(){var t=this.commands()(),r=fx(),i=r.indent,o=r.outdent;return{"Mod-o":t,"Mod-O":t,Tab:i(),"Shift-Tab":o()}},e}(cr),t8e=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph block*",selectable:!1,attrs:{task:{default:!1},checked:{default:!1},rawHTML:{default:null}},defining:!0,parseDOM:[{tag:"li",getAttrs:function(t){var r=t.getAttribute("data-raw-html");return Pe({task:t.hasAttribute("data-task"),checked:t.hasAttribute("data-task-checked")},r&&{rawHTML:r})}}],toDOM:function(t){var r=t.attrs,i=r.task,o=r.checked;if(!i)return[r.rawHTML||"li",0];var a=["task-list-item"];return o&&a.push("checked"),[r.rawHTML||"li",Pe({class:a.join(" "),"data-task":i},o&&{"data-task-checked":o}),0]}}},enumerable:!1,configurable:!0}),e.prototype.liftToPrevListItem=function(){return function(t,r){var i=t.selection,o=t.tr,a=t.schema,s=i.$from,l=i.empty,u=a.nodes.listItem,c=s.parent,f=s.node(-1);if(l&&!c.childCount&&f.type===u){if(s.index(-2)>=1)return o.delete(s.start(-1)-1,s.end(-1)),r(o),!0;var d=s.node(-3);if(d.type===u)return o.delete(s.start(-2)-1,s.end(-1)),r(o),!0}return!1}},e.prototype.keymaps=function(){var t=function(r,i){return BRe(r.schema.nodes.listItem)(r,i)};return{Backspace:this.liftToPrevListItem(),Enter:t}},e}(cr),n8e=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:Pe({rawHTML:{default:null}},Kr()),content:"block+",group:"block",parseDOM:[Dg("blockquote")],toDOM:function(t){var r=t.attrs;return["blockquote",Nr(r),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,r){return WK(t.schema.nodes.blockQuote)(t,r)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Alt-q":t,"Alt-Q":t}},e}(cr),r8e={left:f8e,right:c8e,up:d8e,down:h8e};function i8e(n,e,t){var r=t[0],i=t[1],o=e.resolve(n.before(r-1));return i===r&&!o.nodeBefore}function o8e(n){for(var e,t=n.depth,r;t&&(r=n.node(t),r.type.name!=="tableBodyCell");){if(r.type.name==="listItem"){var i=n.node(t-1),o=i.lastChild===r,a=((e=r.lastChild)===null||e===void 0?void 0:e.type.name)!=="paragraph";return o?!a:!1}t-=1}return!1}function a8e(n,e,t,r,i){var o=e[0],a=e[1],s=e[2];if(n==="left"||n==="up"){if(i&&!i8e(t,r,[o,a]))return!1;var l=t.before(s),u=r.resolve(l).nodeBefore;if(u)return!1}return!0}function s8e(n,e,t,r,i){if(n==="right"||n==="down"){if(i&&!o8e(t))return!1;var o=t.after(e),a=r.resolve(o).nodeAfter;if(a)return!1}return!0}function l8e(n,e,t,r){var i=e[0],o=e[1],a=i+3,s=o>=a,l=s?i+1:o,u=a8e(n,[o,a,l],t,r,s),c=s8e(n,l,t,r,s);return u&&c}function pT(n,e,t){var r=t[0],i=t[1],o=e.getRowspanStartInfo(r,i),a=n==="up"&&r===0,s=n==="down"&&((o==null?void 0:o.count)>1?r+o.count-1:r)===e.totalRowCount-1;return a||s}function u8e(n,e,t){var r=n.doc.resolve(e.tableStartOffset-1);return r.nodeBefore?n.setSelection(wn.near(r,-1)):Uk(n,r,t)}function Oy(n,e,t,r){r===void 0&&(r=!1);var i=n.doc.resolve(e.tableEndOffset);return r||!i.nodeAfter?Uk(n,i,t):n.setSelection(wn.near(i,1))}function c8e(n,e){var t=n[0],r=n[1],i=e.totalRowCount,o=e.totalColumnCount,a=r===o-1,s=t===i-1&&a;if(!s){var l=r+1,u=e.getColspanStartInfo(t,r);(u==null?void 0:u.count)>1&&(l+=u.count-1),(a||l===o)&&(t+=1,l=0);var c=e.getCellInfo(t,l).offset;return c+2}return null}function f8e(n,e){var t=n[0],r=n[1],i=e.totalColumnCount,o=r===0,a=t===0&&o;if(!a){r-=1,o&&(t-=1,r=i-1);var s=e.getCellInfo(t,r),l=s.offset,u=s.nodeSize;return l+u-2}return null}function d8e(n,e){var t=n[0],r=n[1];if(t>0){var i=e.getCellInfo(t-1,r),o=i.offset,a=i.nodeSize;return o+a-2}return null}function h8e(n,e){var t=n[0],r=n[1],i=e.totalRowCount;if(t<i-1){var o=t+1,a=e.getRowspanStartInfo(t,r);(a==null?void 0:a.count)>1&&(o+=a.count-1);var s=e.getCellInfo(o,r).offset;return s+2}return null}function vT(n,e,t,r){var i=r8e[n],o=i(t,r);if(o){var a=n==="right"||n==="down"?1:-1;return e.setSelection(wn.near(e.doc.resolve(o),a))}return null}function p8e(n,e,t){var r=t[0],i=t[1];if(n==="up"||n==="down")return!1;var o=e.tableStartOffset,a=e.tableEndOffset,s=e.getCellInfo(r,i),l=s.offset,u=s.nodeSize,c=n==="left"?o:a,f=n==="left"?l-2:l+u+3;return c===f}function v8e(n,e,t){var r=n.doc.resolve(e.before(t-3));return n.setSelection(new nn(r))}function m8e(n,e,t){var r,i,o;return n==="up"?(r=t.startRowIdx,i=0,o=-1):(r=t.endRowIdx,i=e.totalColumnCount-1,o=e.getCellInfo(r,i).nodeSize+1),{targetRowIdx:r,insertColIdx:i,nodeSize:o}}function g8e(n,e,t){var r=n.getCellInfo(e,0).offset,i=n.getCellInfo(e,t-1),o=i.offset,a=i.nodeSize;return{from:r,to:o+a}}var y8e=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableHead{1} tableBody{1}",group:"block",attrs:Pe({rawHTML:{default:null}},Kr()),parseDOM:[Dg("table")],toDOM:function(t){var r=t.attrs;return["table",Nr(r),0]}}},enumerable:!1,configurable:!0}),e.prototype.addTable=function(){return function(t){return t===void 0&&(t={rowCount:2,columnCount:1,data:[]}),function(r,i){var o=t.rowCount,a=t.columnCount,s=t.data,l=r.schema,u=r.selection,c=r.tr,f=u.from,d=u.to,h=u.$from,v=f===d;if(v&&!dm(h)){var p=l.nodes,m=p.tableHead,g=p.tableBody,y=s==null?void 0:s.slice(0,a),b=s==null?void 0:s.slice(a,s.length),w=WRe(a,l,y),k=S6(o-1,a,l,b),x=l.nodes.table.create(null,[m.create(null,w),g.create(null,k)]);return i(c.replaceSelectionWith(x)),!0}return!1}}},e.prototype.removeTable=function(){return function(){return function(t,r){var i=t.selection,o=t.tr,a=ti.create(i.$anchor);if(a){var s=a.tableStartOffset,l=a.tableEndOffset,u=s-1,c=vr(o.delete(u,l),u);return r(o.setSelection(c)),!0}return!1}}},e.prototype.addColumn=function(t){return function(){return function(r,i){var o=r.selection,a=r.tr,s=r.schema,l=ba(o),u=l.anchor,c=l.head;if(u&&c){for(var f=ti.create(u),d=f.getRectOffsets(u,c),h=t==="left"?d.startColIdx:d.endColIdx+1,v=mc(d).columnCount,p=f.totalRowCount,m=0;m<p;m+=1){var g=hv(v,m,s);a.insert(a.mapping.map(f.posAt(m,h)),g)}return i(a),!0}return!1}}},e.prototype.removeColumn=function(){return function(){return function(t,r){var i=t.selection,o=t.tr,a=ba(i),s=a.anchor,l=a.head;if(s&&l){var u=ti.create(s),c=u.getRectOffsets(s,l),f=u.totalColumnCount,d=u.totalRowCount,h=mc(c).columnCount,v=h===f;if(v)return!1;for(var p=c.startColIdx,m=c.endColIdx,g=o.mapping.maps.length,y=0;y<d;y+=1)for(var b=m;b>=p;b-=1){var w=u.getCellInfo(y,b),k=w.offset,x=w.nodeSize,C=o.mapping.slice(g).map(k),T=C+x;o.delete(C,T)}return r(o),!0}return!1}}},e.prototype.addRow=function(t){return function(){return function(r,i){var o=r.selection,a=r.schema,s=r.tr,l=ba(o),u=l.anchor,c=l.head;if(u&&c){var f=ti.create(u),d=f.totalColumnCount,h=f.getRectOffsets(u,c),v=mc(h).rowCount,p=m8e(t,f,h),m=p.targetRowIdx,g=p.insertColIdx,y=p.nodeSize,b=m===0;if(!b){for(var w=[],k=s.mapping.map(f.posAt(m,g))+y,x=[],C=0;C<d;C+=1)x=x.concat(hv(1,m,a));for(var T=0;T<v;T+=1)w.push(a.nodes.tableRow.create(null,x));return i(s.insert(k,w)),!0}}return!1}}},e.prototype.removeRow=function(){return function(){return function(t,r){var i=t.selection,o=t.tr,a=ba(i),s=a.anchor,l=a.head;if(s&&l){var u=ti.create(s),c=u.totalRowCount,f=u.totalColumnCount,d=u.getRectOffsets(s,l),h=mc(d).rowCount,v=d.startRowIdx,p=d.endRowIdx,m=v===0,g=h===c-1;if(g||m)return!1;for(var y=p;y>=v;y-=1){var b=g8e(u,y,f),w=b.from,k=b.to;o.delete(w-1,k+1)}return r(o),!0}return!1}}},e.prototype.alignColumn=function(){return function(t){return t===void 0&&(t={align:"center"}),function(r,i){var o=t.align,a=r.selection,s=r.tr,l=ba(a),u=l.anchor,c=l.head;if(u&&c){for(var f=ti.create(u),d=f.totalRowCount,h=f.getRectOffsets(u,c),v=h.startColIdx,p=h.endColIdx,m=0;m<d;m+=1)for(var g=v;g<=p;g+=1)if(!f.extendedRowspan(m,g)&&!f.extendedColspan(m,g)){var y=f.getNodeAndPos(m,g),b=y.node,w=y.pos,k=URe(b,{align:o});s.setNodeMarkup(w,null,k)}return i(s),!0}return!1}}},e.prototype.moveToCell=function(t){return function(r,i){var o=r.selection,a=r.tr,s=r.schema,l=ba(o),u=l.anchor,c=l.head;if(u&&c){var f=ti.create(u),d=f.getCellIndex(u),h=void 0;if(pT(t,f,d)?h=Oy(a,f,s):h=vT(t,a,d,f),h)return i(h),!0}return!1}},e.prototype.moveInCell=function(t){var r=this;return function(i,o){var a=i.selection,s=i.tr,l=i.doc,u=i.schema,c=a.$from,f=r.context.view;if(!f.endOfTextblock(t))return!1;var d=us(c,function(b){var w=b.type;return w.name==="tableHeadCell"||w.name==="tableBodyCell"});if(d){var h=us(c,function(b){var w=b.type;return w.name==="paragraph"}),v=d.depth;if(h&&l8e(t,[v,h.depth],c,l)){var p=ba(a).anchor,m=ti.create(p),g=m.getCellIndex(p),y=void 0;if(p8e(t,m,g)?y=v8e(s,c,v):pT(t,m,g)?t==="up"?y=u8e(s,m,u):t==="down"&&(y=Oy(s,m,u)):y=vT(t,s,g,m),y)return o(y),!0}}return!1}},e.prototype.deleteCells=function(){return function(t,r){var i=t.schema,o=t.selection,a=t.tr,s=ba(o),l=s.anchor,u=s.head,c=o instanceof $n;if(l&&u&&!c){for(var f=ti.create(l),d=f.getRectOffsets(l,u),h=d.startRowIdx,v=d.startColIdx,p=d.endRowIdx,m=d.endColIdx,g=h;g<=p;g+=1)for(var y=v;y<=m;y+=1)if(!f.extendedRowspan(g,y)&&!f.extendedColspan(g,y)){var b=f.getNodeAndPos(g,y),w=b.node,k=b.pos,x=hv(1,g,i,w.attrs);a.replaceWith(a.mapping.map(k),a.mapping.map(k+w.nodeSize),x)}return r(a),!0}return!1}},e.prototype.exitTable=function(){return function(t,r){var i=t.selection,o=t.tr,a=t.schema,s=i.$from,l=us(s,function(d){var h=d.type;return h.name==="tableHeadCell"||h.name==="tableBodyCell"});if(l){var u=us(s,function(d){var h=d.type;return h.name==="paragraph"});if(u){var c=ba(i).anchor,f=ti.create(c);return r(Oy(o,f,a,!0)),!0}}return!1}},e.prototype.commands=function(){return{addTable:this.addTable(),removeTable:this.removeTable(),addColumnToLeft:this.addColumn("left"),addColumnToRight:this.addColumn("right"),removeColumn:this.removeColumn(),addRowToUp:this.addRow("up"),addRowToDown:this.addRow("down"),removeRow:this.removeRow(),alignColumn:this.alignColumn()}},e.prototype.keymaps=function(){var t=this.deleteCells();return{Tab:this.moveToCell("right"),"Shift-Tab":this.moveToCell("left"),ArrowUp:this.moveInCell("up"),ArrowDown:this.moveInCell("down"),ArrowLeft:this.moveInCell("left"),ArrowRight:this.moveInCell("right"),Backspace:t,"Mod-Backspace":t,Delete:t,"Mod-Delete":t,"Mod-Enter":this.exitTable()}},e}(cr),b8e=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableHead"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow{1}",attrs:Pe({rawHTML:{default:null}},Kr()),parseDOM:[Dg("thead")],toDOM:function(t){var r=t.attrs;return["thead",Nr(r),0]}}},enumerable:!1,configurable:!0}),e}(cr),w8e=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableBody"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow+",attrs:Pe({rawHTML:{default:null}},Kr()),parseDOM:[{tag:"tbody",getAttrs:function(t){var r=t.querySelectorAll("tr"),i=r[0].children.length,o=t.getAttribute("data-raw-html");return i?Pe({},o&&{rawHTML:o}):!1}}],toDOM:function(t){var r=t.attrs;return["tbody",Nr(r),0]}}},enumerable:!1,configurable:!0}),e}(cr),k8e=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableRow"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(tableHeadCell | tableBodyCell)*",attrs:Pe({rawHTML:{default:null}},Kr()),parseDOM:[{tag:"tr",getAttrs:function(t){var r=t.children.length,i=t.getAttribute("data-raw-html");return r?Pe({},i&&{rawHTML:i}):!1}}],toDOM:function(t){var r=t.attrs;return["tr",Nr(r),0]}}},enumerable:!1,configurable:!0}),e}(cr),x8e=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableHeadCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph+",attrs:Pe({align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},extended:{default:null}},Kr()),isolating:!0,parseDOM:[k6("th")],toDOM:function(t){var r=t.attrs,i=w6(r);return["th",Pe(Pe({},i),Nr(r)),0]}}},enumerable:!1,configurable:!0}),e}(cr),j8e=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tableBodyCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(paragraph | bulletList | orderedList)+",attrs:{align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},rowspan:{default:null},extended:{default:null}},isolating:!0,parseDOM:[k6("td")],toDOM:function(t){var r=t.attrs,i=w6(r);return["td",i,0]}}},enumerable:!1,configurable:!0}),e}(cr),C8e=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"image"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{inline:!0,attrs:Pe({imageUrl:{default:""},altText:{default:null},rawHTML:{default:null}},Kr()),group:"inline",selectable:!1,parseDOM:[{tag:"img[src]",getAttrs:function(t){var r=xu(t,{RETURN_DOM_FRAGMENT:!0}).firstChild,i=r.getAttribute("src")||"",o=r.getAttribute("data-raw-html"),a=r.getAttribute("alt");return Pe({imageUrl:i,altText:a},o&&{rawHTML:o})}}],toDOM:function(t){var r=t.attrs;return[r.rawHTML||"img",Pe(Pe({src:vc(r.imageUrl)},r.altText&&{alt:r.altText}),Nr(r))]}}},enumerable:!1,configurable:!0}),e.prototype.addImage=function(){return function(t){return function(r,i){var o=r.schema,a=r.tr,s=t,l=s.imageUrl,u=s.altText;if(!l)return!1;var c=o.nodes.image.createAndFill(Pe({imageUrl:l},u&&{altText:u}));return i(a.replaceSelectionWith(c).scrollIntoView()),!0}}},e.prototype.commands=function(){return{addImage:this.addImage()}},e}(cr),mT=1,S8e=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:Pe({rawHTML:{default:null}},Kr()),group:"block",parseDOM:[{tag:"hr"}],selectable:!1,toDOM:function(t){var r=t.attrs;return["div",Nr(r),[r.rawHTML||"hr"]]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){var t=this;return function(){return function(r,i){var o,a=r.selection,s=a.$from,l=a.$to;if(s===l){var u=r.doc,c=r.schema.nodes,f=c.thematicBreak,d=c.paragraph,h=[f.create()],v=s.node(mT),p=u.child(u.childCount-1)===v,m=u.resolve(s.after(mT)),g=((o=s.nodeAfter)===null||o===void 0?void 0:o.type.name)===t.name;return(p||g)&&h.push(d.create()),i(r.tr.insert(m.pos,h).scrollIntoView()),!0}return!1}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var t=this.hr()();return{"Mod-l":t,"Mod-L":t}},e}(cr),T8e=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["b","strong"].map(function(r){return{tag:r,getAttrs:function(i){var o=i.getAttribute("data-raw-html");return Pe({},o&&{rawHTML:o})}}});return{attrs:Pe({rawHTML:{default:null}},Kr()),parseDOM:t,toDOM:function(r){var i=r.attrs;return[i.rawHTML||"strong",Nr(i)]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return function(){return function(t,r){return Mh(t.schema.marks.strong)(t,r)}}},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var t=this.bold()();return{"Mod-b":t,"Mod-B":t}},e}(gr),O8e=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["i","em"].map(function(r){return{tag:r,getAttrs:function(i){var o=i.getAttribute("data-raw-html");return Pe({},o&&{rawHTML:o})}}});return{attrs:Pe({rawHTML:{default:null}},Kr()),parseDOM:t,toDOM:function(r){var i=r.attrs;return[i.rawHTML||"em",Nr(i)]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return function(){return function(t,r){return Mh(t.schema.marks.emph)(t,r)}}},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var t=this.italic()();return{"Mod-i":t,"Mod-I":t}},e}(gr),E8e=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["s","del"].map(function(r){return{tag:r,getAttrs:function(i){var o=i.getAttribute("data-raw-html");return Pe({},o&&{rawHTML:o})}}});return{attrs:Pe({rawHTML:{default:null}},Kr()),parseDOM:t,toDOM:function(r){var i=r.attrs;return[i.rawHTML||"del",Nr(i)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,r){return Mh(t.schema.marks.strike)(t,r)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Mod-s":t,"Mod-S":t}},e}(gr),M8e=function(n){kt(e,n);function e(t){var r=n.call(this)||this;return r.linkAttributes=t,r}return Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=this;return{attrs:Pe({linkUrl:{default:""},title:{default:null},rawHTML:{default:null}},Kr()),inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(r){var i=xu(r,{RETURN_DOM_FRAGMENT:!0}).firstChild,o=i.getAttribute("href")||"",a=i.getAttribute("title")||"",s=i.getAttribute("data-raw-html");return Pe({linkUrl:o,title:a},s&&{rawHTML:s})}}],toDOM:function(r){var i=r.attrs;return[i.rawHTML||"a",Pe(Pe({href:vc(i.linkUrl)},t.linkAttributes),Nr(i))]}}},enumerable:!1,configurable:!0}),e.prototype.addLink=function(){return function(t){return function(r,i){var o=t,a=o.linkUrl,s=o.linkText,l=s===void 0?"":s,u=r.schema,c=r.tr,f=r.selection,d=f.empty,h=f.from,v=f.to;if(h&&v&&a){var p={linkUrl:a},m=u.mark("link",p);if(d&&l){var g=ui(u,l,m);c.replaceRangeWith(h,v,g)}else c.addMark(h,v,m);return i(c.scrollIntoView()),!0}return!1}}},e.prototype.toggleLink=function(){return function(t){return function(r,i){return Mh(r.schema.marks.link,t)(r,i)}}},e.prototype.commands=function(){return{addLink:this.addLink(),toggleLink:this.toggleLink()}},e}(gr),$8e=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:Pe({rawHTML:{default:null}},Kr()),parseDOM:[{tag:"code",getAttrs:function(t){var r=t.getAttribute("data-raw-html");return Pe({},r&&{rawHTML:r})}}],toDOM:function(t){var r=t.attrs;return[r.rawHTML||"code",Nr(r)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,r){return Mh(t.schema.marks.code)(t,r)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-c":t,"Shift-Mod-C":t}},e}(gr),A8e=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:{info:{default:null}},atom:!0,code:!0,defining:!0,parseDOM:[{tag:"div[data-custom-info]",getAttrs:function(t){var r=t.getAttribute("data-custom-info");return{info:r}}}],toDOM:function(t){var r=t.attrs;return["div",{"data-custom-info":r.info||null},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(r,i){return t!=null&&t.info?Dk(r.schema.nodes.customBlock,t)(r,i):!1}}},e}(cr),_8e=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"frontMatter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-front-matter]"}],toDOM:function(){return["div",{"data-front-matter":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,r,i){var o=t.selection.$from;return i.endOfTextblock("down")&&o.node().type.name==="frontMatter"?Lk(t,r):!1}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e}(cr),N8e=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"htmlComment"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,defining:!0,parseDOM:[{preserveWhitespace:"full",tag:"div[data-html-comment]"}],toDOM:function(){return["div",{"data-html-comment":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,r,i){var o=t.selection.$from;return i.endOfTextblock("down")&&o.node().type.name==="htmlComment"?Lk(t,r):!1}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e}(cr);function I8e(n){return new CR([new J6e,new G6e,new Q6e,new Y6e,new Z6e,new X6e,new e8e,new t8e,new n8e,new y8e,new b8e,new w8e,new k8e,new x8e,new j8e,new C8e,new S8e,new T8e,new O8e,new E8e,new M8e(n),new $8e,new A8e,new _8e,new xR,new N8e])}var P8e=Ot("contents"),L8e=function(n){kt(e,n);function e(t,r){var i=n.call(this,t)||this,o=r.toDOMAdaptor,a=r.htmlSchemaMap,s=a===void 0?{}:a,l=r.linkAttributes,u=l===void 0?{}:l,c=r.useCommandShortcut,f=c===void 0?!0:c,d=r.wwPlugins,h=d===void 0?[]:d,v=r.wwNodeViews,p=v===void 0?{}:v;return i.editorType="wysiwyg",i.el.classList.add("ww-mode"),i.toDOMAdaptor=o,i.linkAttributes=u,i.extraPlugins=h,i.pluginNodeViews=p,i.specs=i.createSpecs(),i.schema=i.createSchema(s),i.context=i.createContext(),i.keymaps=i.createKeymaps(f),i.view=i.createView(),i.commands=i.createCommands(),i.specs.setContext(Pe(Pe({},i.context),{view:i.view})),i.initEvent(),i}return e.prototype.createSpecs=function(){return I8e(this.linkAttributes)},e.prototype.createContext=function(){return{schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSchema=function(t){return new QL({nodes:Pe(Pe({},this.specs.nodes),t.nodes),marks:Pe(Pe({},this.specs.marks),t.marks)})},e.prototype.createPlugins=function(){return Wi([YRe(),t6e(this.eventEmitter),n6e(),u6e(this.eventEmitter)],this.createPluginProps()).concat(this.defaultPlugins)},e.prototype.createPluginNodeViews=function(){var t=this,r=t.eventEmitter,i=t.pluginNodeViews,o={};return i&&Object.keys(i).forEach(function(a){o[a]=function(s,l,u){return i[a](s,l,u,r)}}),o},e.prototype.createView=function(){var t=this,r=this,i=r.toDOMAdaptor,o=r.eventEmitter;return new Nk(this.el,{state:this.createState(),attributes:{class:P8e},nodeViews:Pe({customBlock:function(a,s,l){return new c6e(a,s,l,i)},image:function(a,s,l){return new f6e(a,s,l,o)},codeBlock:function(a,s,l){return new p6e(a,s,l,o)},widget:kR},this.createPluginNodeViews()),dispatchTransaction:function(a){var s=t.view.state.applyTransaction(a).state;t.view.updateState(s),t.emitChangeEvent(a.scrollIntoView()),t.eventEmitter.emit("setFocusedNode",s.selection.$from.node(1))},transformPastedHTML:$6e,transformPasted:function(a){return P6e(a,t.schema,dm(t.view.state.selection.$from))},handlePaste:function(a,s,l){return V6e(a,l)},handleKeyDown:function(a,s){return t.eventEmitter.emit("keydown",t.editorType,s),!1},handleDOMEvents:{paste:function(a,s){var l=s.clipboardData||window.clipboardData,u=l==null?void 0:l.items;if(u){var c=Va(u).some(function(d){return d.kind==="string"&&d.type==="text/rtf"});if(!c){var f=wR(u);f&&(s.preventDefault(),Xk(t.eventEmitter,f,s.type))}}return!1},keyup:function(a,s){return t.eventEmitter.emit("keyup",t.editorType,s),!1},scroll:function(){return t.eventEmitter.emit("scroll","editor"),!0}}})},e.prototype.createCommands=function(){return this.specs.commands(this.view,fx())},e.prototype.getHTML=function(){return Zk(this.view.dom.innerHTML)},e.prototype.getModel=function(){return this.view.state.doc},e.prototype.getSelection=function(){var t=this.view.state.selection,r=t.from,i=t.to;return[r,i]},e.prototype.getSchema=function(){return this.view.state.schema},e.prototype.replaceSelection=function(t,r,i){var o=this.view.state,a=o.schema,s=o.tr,l=t.split(`
`),u=l.map(function(d){return nm(a,cu(d,a))}),c=new yt(We.from(u),1,1),f=ns(r)&&ns(i)?s.replaceRange(r,i,c):s.replaceSelection(c);this.view.dispatch(f),this.focus()},e.prototype.deleteSelection=function(t,r){var i=this.view.state.tr,o=ns(t)&&ns(r)?i.deleteRange(t,r):i.deleteSelection();this.view.dispatch(o.scrollIntoView())},e.prototype.getSelectedText=function(t,r){var i=this.view.state,o=i.doc,a=i.selection,s=a.from,l=a.to;return ns(t)&&ns(r)&&(s=t,l=r),o.textBetween(s,l,`
`)},e.prototype.setModel=function(t,r){r===void 0&&(r=!1);var i=this.view.state,o=i.tr,a=i.doc;this.view.dispatch(o.replaceWith(0,a.content.size,t)),r&&this.moveCursorToEnd(!0)},e.prototype.setSelection=function(t,r){r===void 0&&(r=t);var i=this.view.state.tr,o=vr(i,t,r);this.view.dispatch(i.setSelection(o).scrollIntoView())},e.prototype.addWidget=function(t,r,i){var o=this.view,a=o.dispatch,s=o.state;a(s.tr.setMeta("widget",{pos:i!=null?i:s.selection.to,node:t,style:r}))},e.prototype.replaceWithWidget=function(t,r,i){var o=this.view.state,a=o.tr,s=o.schema,l=cu(i,s);this.view.dispatch(a.replaceWith(t,r,l))},e.prototype.getRangeInfoOfNode=function(t){var r=this.view.state,i=r.doc,o=r.selection,a=t?i.resolve(t):o.$from,s=a.marks(),l=a.node(),u=a.start(),c=a.end(),f=l.type.name;if(s.length||f==="paragraph"){var d=s[s.length-1],h=function(v){return v.length?ci(v,d):!0};f=d?d.type.name:"text",l.forEach(function(v,p){var m=v.isText,g=v.nodeSize,y=v.marks,b=a.pos-u;m&&p<=b&&p+g>=b&&h(y)&&(u=u+p,c=u+g)})}return{range:[u,c],type:f}},e}(jR),D8e=na,R8e=Zv;function B8e(n){return!D8e(n)&&!R8e(n)}var z8e=B8e,q8e=z8e;function F8e(n){return q8e(n)&&n!==!1}var H8e=F8e,V8e=H8e;function W8e(n){return!V8e(n)}var U8e=W8e,gT=["afterPreviewRender","updatePreview","changeMode","needChangeMode","command","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","scroll","contextmenu","show","hide","changeLanguage","changeToolbarState","toggleScrollSync","mixinTableOffsetMapPrototype","setFocusedNode","removePopupWidget","query","openPopup","closePopup","addImageBlobHook","beforePreviewRender","beforeConvertWysiwygToMarkdown","load","loadUI","change","caretChange","destroy","focus","blur","keydown","keyup"],R6=function(){function n(){var e=this;this.events=new M6,this.eventTypes=gT.reduce(function(t,r){return Pe(Pe({},t),{type:r})},{}),this.hold=!1,gT.forEach(function(t){e.addEventType(t)})}return n.prototype.listen=function(e,t){var r=this.getTypeInfo(e),i=this.events.get(r.type)||[];if(!this.hasEventType(r.type))throw new Error("There is no event type "+r.type);r.namespace&&(t.namespace=r.namespace),i.push(t),this.events.set(r.type,i)},n.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=this.getTypeInfo(e),o=this.events.get(i.type),a=[];return!this.hold&&o&&o.forEach(function(s){var l=s.apply(void 0,t);na(l)||a.push(l)}),a},n.prototype.emitReduce=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=this.events.get(e);return!this.hold&&o&&o.forEach(function(a){var s=a.apply(void 0,Wi([t],r));U8e(s)||(t=s)}),t},n.prototype.getTypeInfo=function(e){var t=e.split(".");return{type:t[0],namespace:t[1]}},n.prototype.hasEventType=function(e){return!na(this.eventTypes[this.getTypeInfo(e).type])},n.prototype.addEventType=function(e){if(this.hasEventType(e))throw new Error("There is already have event type "+e);this.eventTypes[e]=e},n.prototype.removeEventHandler=function(e,t){var r=this,i=this.getTypeInfo(e),o=i.type,a=i.namespace;o&&t?this.removeEventHandlerWithHandler(o,t):o&&!a?this.events.delete(o):!o&&a?this.events.forEach(function(s,l){r.removeEventHandlerWithTypeInfo(l,a)}):o&&a&&this.removeEventHandlerWithTypeInfo(o,a)},n.prototype.removeEventHandlerWithHandler=function(e,t){var r=this.events.get(e);if(r){var i=r.indexOf(t);r.indexOf(t)>=0&&r.splice(i,1)}},n.prototype.removeEventHandlerWithTypeInfo=function(e,t){var r=[],i=this.events.get(e);!i||(i.map(function(o){return o.namespace!==t&&r.push(o),null}),this.events.set(e,r))},n.prototype.getEvents=function(){return this.events},n.prototype.holdEventInvoke=function(e){this.hold=!0,e(),this.hold=!1},n}(),J8e=function(){function n(e,t,r,i){this.eventEmitter=e,this.mdCommands=t,this.wwCommands=r,this.getEditorType=i,this.initEvent()}return n.prototype.initEvent=function(){var e=this;this.eventEmitter.listen("command",function(t,r){e.exec(t,r)})},n.prototype.addCommand=function(e,t,r){e==="markdown"?this.mdCommands[t]=r:this.wwCommands[t]=r},n.prototype.deleteCommand=function(e,t){e==="markdown"?delete this.mdCommands[t]:delete this.wwCommands[t]},n.prototype.exec=function(e,t){var r=this.getEditorType();r==="markdown"?this.mdCommands[e](t):this.wwCommands[e](t)},n}();function vv(n){return n[n.length-1]===`
`?n.slice(0,n.length-1):n}function gb(n,e){var t=n.schema,r=e.literal,i=r.match(Kc);if(i){var o=i[1],a=i[3],s=(o||a).toLowerCase();return e.type==="htmlInline"&&!!(t.marks[s]||t.nodes[s])}return!1}function yb(n){var e=n.type;return ci(["text","strong","emph","strike","image","link","code"],e)}function yT(n){return(n==null?void 0:n.type)==="softbreak"}function Wf(n){var e=n.type,t=n.literal,r=e==="htmlInline"&&t.match(Kc);if(r){var i=r[1],o=r[3],a=i||o;if(a)return ci(["ul","ol","li"],a.toLowerCase())}return!1}function G8e(n){var e=n.literal,t=/data-task/.test(e),r=/data-task-checked/.test(e);return{task:t,checked:r}}function bT(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var r=document.createElement("div");r.innerHTML=xu(n);var i=r.firstChild;return e.map(function(o){return i.getAttribute(o)||""})}function K8e(n){var e={};return Object.keys(n).forEach(function(t){var r=t.split(", ");r.forEach(function(i){var o=i.toLowerCase();e[o]=n[t]})}),e}var Q8e={"b, strong":function(n,e,t){var r=n.schema.marks.strong;t?n.openMark(r.create({rawHTML:t})):n.closeMark(r)},"i, em":function(n,e,t){var r=n.schema.marks.emph;t?n.openMark(r.create({rawHTML:t})):n.closeMark(r)},"s, del":function(n,e,t){var r=n.schema.marks.strike;t?n.openMark(r.create({rawHTML:t})):n.closeMark(r)},code:function(n,e,t){var r=n.schema.marks.code;t?n.openMark(r.create({rawHTML:t})):n.closeMark(r)},a:function(n,e,t){var r=e.literal,i=n.schema.marks.link;if(t){var o=bT(r,"href")[0];n.openMark(i.create({linkUrl:o,rawHTML:t}))}else n.closeMark(i)},img:function(n,e,t){var r=e.literal;if(t){var i=bT(r,"src","alt"),o=i[0],a=i[1],s=n.schema.nodes.image;n.addNode(s,Pe({rawHTML:t,imageUrl:o},a&&{altText:a}))}},hr:function(n,e,t){n.addNode(n.schema.nodes.thematicBreak,{rawHTML:t})},br:function(n,e){var t=n.schema.nodes.paragraph,r=e.parent,i=e.prev,o=e.next;(r==null?void 0:r.type)==="paragraph"?(yT(i)&&n.openNode(t),yT(o)?n.closeNode():o&&(n.closeNode(),n.openNode(t))):(r==null?void 0:r.type)==="tableCell"&&(i&&(yb(i)||gb(n,i))&&n.closeNode(),o&&(yb(o)||gb(n,o))&&n.openNode(t))},pre:function(n,e,t){var r,i,o=document.createElement("div");o.innerHTML=e.literal;var a=(i=(r=o.firstChild)===null||r===void 0?void 0:r.firstChild)===null||i===void 0?void 0:i.textContent;n.openNode(n.schema.nodes.codeBlock,{rawHTML:t}),n.addText(vv(a)),n.closeNode()},"ul, ol":function(n,e,t){if(e.parent.type==="tableCell"){var r=n.schema.nodes,i=r.bulletList,o=r.orderedList,a=r.paragraph,s=t==="ul"?i:o;t?(e.prev&&!Wf(e.prev)&&n.closeNode(),n.openNode(s,{rawHTML:t})):(n.closeNode(),e.next&&!Wf(e.next)&&n.openNode(a))}},li:function(n,e,t){var r;if(((r=e.parent)===null||r===void 0?void 0:r.type)==="tableCell"){var i=n.schema.nodes,o=i.listItem,a=i.paragraph;if(t){var s=G8e(e);e.prev&&!Wf(e.prev)&&n.closeNode(),n.openNode(o,Pe({rawHTML:t},s)),e.next&&!Wf(e.next)&&n.openNode(a)}else e.prev&&!Wf(e.prev)&&n.closeNode(),n.closeNode()}}},Y8e=K8e(Q8e);function wT(n){return n.type==="htmlInline"&&Z1.test(n.literal)}function B6(n){Va(n.childNodes).forEach(function(e){if($g(e)){var t=e.nodeName.toLowerCase();e.setAttribute("data-raw-html",t),e.childNodes&&B6(e)}})}var kT={text:function(n,e){n.addText(e.literal||"")},paragraph:function(n,e,t,r){var i,o=t.entering;if(o){var a=n.schema.nodes.paragraph;((i=e.prev)===null||i===void 0?void 0:i.type)==="paragraph"&&(n.openNode(a,r),n.closeNode()),n.openNode(a,r)}else n.closeNode()},heading:function(n,e,t,r){var i=t.entering;if(i){var o=e,a=o.level,s=o.headingType;n.openNode(n.schema.nodes.heading,Pe({level:a,headingType:s},r))}else n.closeNode()},codeBlock:function(n,e,t){var r=n.schema.nodes.codeBlock,i=e,o=i.info,a=i.literal;n.openNode(r,Pe({language:o},t)),n.addText(vv(a||"")),n.closeNode()},list:function(n,e,t,r){var i=t.entering;if(i){var o=n.schema.nodes,a=o.bulletList,s=o.orderedList,l=e.listData,u=l.type,c=l.start;u==="bullet"?n.openNode(a,r):n.openNode(s,Pe({order:c},r))}else n.closeNode()},item:function(n,e,t,r){var i=t.entering,o=n.schema.nodes.listItem,a=e.listData,s=a.task,l=a.checked;if(i){var u=Pe(Pe(Pe({},s&&{task:s}),l&&{checked:l}),r);n.openNode(o,u)}else n.closeNode()},blockQuote:function(n,e,t,r){var i=t.entering;i?n.openNode(n.schema.nodes.blockQuote,r):n.closeNode()},image:function(n,e,t,r){var i=t.entering,o=t.skipChildren,a=n.schema.nodes.image,s=e,l=s.destination,u=s.firstChild;i&&o&&o(),n.addNode(a,Pe(Pe({imageUrl:l},u&&{altText:u.literal}),r))},thematicBreak:function(n,e,t,r){n.addNode(n.schema.nodes.thematicBreak,r)},strong:function(n,e,t,r){var i=t.entering,o=n.schema.marks.strong;i?n.openMark(o.create(r)):n.closeMark(o)},emph:function(n,e,t,r){var i=t.entering,o=n.schema.marks.emph;i?n.openMark(o.create(r)):n.closeMark(o)},link:function(n,e,t,r){var i=t.entering,o=n.schema.marks.link,a=e,s=a.destination,l=a.title;if(i){var u=Pe({linkUrl:s,title:l},r);n.openMark(o.create(u))}else n.closeMark(o)},softbreak:function(n,e){if(e.parent.type==="paragraph"){var t=e.prev,r=e.next;t&&!wT(t)&&n.closeNode(),r&&!wT(r)&&n.openNode(n.schema.nodes.paragraph)}},table:function(n,e,t,r){var i=t.entering;i?n.openNode(n.schema.nodes.table,r):n.closeNode()},tableHead:function(n,e,t,r){var i=t.entering;i?n.openNode(n.schema.nodes.tableHead,r):n.closeNode()},tableBody:function(n,e,t,r){var i=t.entering;i?n.openNode(n.schema.nodes.tableBody,r):n.closeNode()},tableRow:function(n,e,t,r){var i=t.entering;i?n.openNode(n.schema.nodes.tableRow,r):n.closeNode()},tableCell:function(n,e,t){var r=t.entering;if(!e.ignored){var i=function(v){return v&&(yb(v)||gb(n,v))};if(r){var o=n.schema.nodes,a=o.tableHeadCell,s=o.tableBodyCell,l=o.paragraph,u=e.parent.parent,c=u.type==="tableHead"?a:s,f=u.parent,d=(f.columns[e.startIdx]||{}).align,h=Pe({},e.attrs);d&&(h.align=d),n.openNode(c,h),i(e.firstChild)&&n.openNode(l)}else i(e.lastChild)&&n.closeNode(),n.closeNode()}},strike:function(n,e,t,r){var i=t.entering,o=n.schema.marks.strike;i?n.openMark(o.create(r)):n.closeMark(o)},code:function(n,e,t,r){var i=n.schema.marks.code;n.openMark(i.create(r)),n.addText(vv(e.literal||"")),n.closeMark(i)},customBlock:function(n,e){var t=n.schema.nodes,r=t.customBlock,i=t.paragraph,o=e,a=o.info,s=o.literal;n.openNode(r,{info:a}),n.addText(vv(s||"")),n.closeNode(),e.next||(n.openNode(i),n.closeNode())},frontMatter:function(n,e){n.openNode(n.schema.nodes.frontMatter),n.addText(e.literal),n.closeNode()},htmlInline:function(n,e){var t=e.literal,r=t.match(Kc),i=r[1],o=r[3],a=(i||o).toLowerCase(),s=n.schema.marks[a],l=xu(t);if(s!=null&&s.spec.attrs.htmlInline)if(i){var u=hb(l);n.openMark(s.create({htmlAttrs:u}))}else n.closeMark(s);else{var c=Y8e[a];c&&c(n,e,i)}},htmlBlock:function(n,e){var t=e.literal,r=document.createElement("div"),i=IY.test(t);if(i)n.openNode(n.schema.nodes.htmlComment),n.addText(e.literal),n.closeNode();else{var o=t.match(Kc),a=o[1],s=o[3],l=(a||s).toLowerCase(),u=n.schema.nodes[l],c=xu(t);if(u!=null&&u.spec.attrs.htmlBlock){var f=hb(c),d=g6(e,l);n.addNode(u,{htmlAttrs:f,childrenHTML:d})}else r.innerHTML=c,B6(r),n.convertByDOMParser(r)}},customInline:function(n,e,t){var r=t.entering,i=t.skipChildren,o=e,a=o.info,s=o.firstChild,l=n.schema;if(a.indexOf("widget")!==-1&&r){var u=lR(e);i(),n.addNode(l.nodes.widget,{info:a},[l.text(aR(a,u))])}else{var c="$$";r&&(c+=s?a+" ":a),n.addText(c)}}};function Z8e(n){var e=Object.keys(n),t=Pe({},kT),r=new ux({gfm:!0,nodeId:!0,convertors:n}),i=r.getConvertors();return e.forEach(function(o){var a=kT[o];a&&!ci(["htmlBlock","htmlInline"],o)&&(t[o]=function(s,l,u){u.origin=function(){return i[o](l,u,i)};var c=n[o](l,u),f;if(c){var d=Array.isArray(c)?c[0]:c,h=d.attributes,v=d.classNames;f={htmlAttrs:h,classNames:v}}a(s,l,u,f)})}),t}function X8e(n,e){return n.isText&&e.isText&&Tn.sameSet(n.marks,e.marks)?n.withText(n.text+e.text):!1}var eBe=function(){function n(e,t){this.schema=e,this.convertors=t,this.stack=[{type:this.schema.topNodeType,attrs:null,content:[]}],this.marks=Tn.none}return n.prototype.top=function(){return yi(this.stack)},n.prototype.push=function(e){this.stack.length&&this.top().content.push(e)},n.prototype.addText=function(e){if(e){var t=this.top().content,r=yi(t),i=this.schema.text(e,this.marks),o=r&&X8e(r,i);o?t[t.length-1]=o:t.push(i)}},n.prototype.openMark=function(e){this.marks=e.addToSet(this.marks)},n.prototype.closeMark=function(e){this.marks=e.removeFromSet(this.marks)},n.prototype.addNode=function(e,t,r){var i=e.createAndFill(t,r,this.marks);return i?(this.push(i),i):null},n.prototype.openNode=function(e,t){this.stack.push({type:e,attrs:t,content:[]})},n.prototype.closeNode=function(){this.marks.length&&(this.marks=Tn.none);var e=this.stack.pop(),t=e.type,r=e.attrs,i=e.content;return this.addNode(t,r,i)},n.prototype.convertByDOMParser=function(e){var t=this,r=hu.fromSchema(this.schema).parse(e);r.content.forEach(function(i){return t.push(i)})},n.prototype.closeUnmatchedHTMLInline=function(e,t){var r;if(!t&&e.type!=="htmlInline")for(var i=this.stack.length-1,o=i;o>=0;o-=1){var a=this.stack[o];if(!((r=a.attrs)===null||r===void 0)&&r.rawHTML)a.content.length?this.closeNode():this.stack.pop();else break}},n.prototype.convert=function(e,t){for(var r=e.walker(),i=r.next(),o=function(){var s=i.node,l=i.entering,u=a.convertors[s.type],c=!1;if(u){var f={entering:l,leaf:!pY(s),getChildrenText:vY,options:{gfm:!0,nodeId:!1,tagFilter:!1,softbreak:`
`},skipChildren:function(){c=!0}};if(a.closeUnmatchedHTMLInline(s,l),u(a,s,f),(t==null?void 0:t.node)===s){var d=a.stack.reduce(function(h,v){return h+v.content.reduce(function(p,m){return p+m.nodeSize},0)},0)+1;t.setMappedPos(d)}}c&&(r.resumeAt(s,!1),r.next()),i=r.next()},a=this;i;)o()},n.prototype.convertNode=function(e,t){return this.convert(e,t),this.stack.length?this.closeNode():null},n}();function tBe(n,e,t){var r=t[0],i=t[1];n.write(r),n.convertInline(e),n.write(i)}function nBe(n,e,t){var r=e.node,i=e.parent,o=t[0],a=t[1];n.stopNewline=!0,n.write(o),n.convertNode(r),n.write(a),(i==null?void 0:i.type.name)==="doc"&&(n.closeBlock(r),n.stopNewline=!1)}function rBe(n,e){var t=n.length,r="",i="";return e==="left"?(r=":",t-=1):e==="right"?(i=":",t-=1):e==="center"&&(r=":",i=":",t-=2),""+r+Xv("-",Math.max(t,3))+i}var bb={text:function(n,e){var t,r=e.node,i=(t=r.text)!==null&&t!==void 0?t:"";(r.marks||[]).some(function(o){return o.type.name==="link"})?n.text(em(i),!1):n.text(i)},paragraph:function(n,e){var t=e.node,r=e.parent,i=e.index,o=i===void 0?0:i;if(n.stopNewline)n.convertInline(t);else{var a=o===0,s=!a&&r.child(o-1),l=s&&s.childCount===0,u=o<r.childCount-1&&r.child(o+1),c=u&&u.type.name==="paragraph",f=t.childCount===0;if(f&&l)n.write(`<br>
`);else if(f&&!l&&!a){if((r==null?void 0:r.type.name)==="listItem"){var d=n.getDelim();n.setDelim(""),n.write("<br>"),n.setDelim(d)}n.write(`
`)}else n.convertInline(t),c?n.write(`
`):n.closeBlock(t)}},heading:function(n,e,t){var r=e.node,i=t.delim,o=r.attrs.headingType;o==="atx"?(n.write(i+" "),n.convertInline(r),n.closeBlock(r)):(n.convertInline(r),n.ensureNewLine(),n.write(i),n.closeBlock(r))},codeBlock:function(n,e,t){var r=e.node,i=t.delim,o=t.text,a=i,s=a[0],l=a[1];n.write(s),n.ensureNewLine(),n.text(o,!1),n.ensureNewLine(),n.write(l),n.closeBlock(r)},blockQuote:function(n,e,t){var r=e.node,i=e.parent,o=t.delim;(i==null?void 0:i.type.name)===r.type.name&&n.flushClose(1),n.wrapBlock(o,null,r,function(){return n.convertNode(r)})},bulletList:function(n,e,t){var r=e.node,i=t.delim;n.convertList(r,Xv(" ",4),function(){return i+" "})},orderedList:function(n,e){var t=e.node,r=t.attrs.order||1;n.convertList(t,Xv(" ",4),function(i){var o=String(r+i);return o+". "})},listItem:function(n,e){var t=e.node,r=t.attrs,i=r.task,o=r.checked;i&&n.write("["+(o?"x":" ")+"] "),n.convertNode(t)},image:function(n,e,t){var r=t.attrs;n.write("!["+(r==null?void 0:r.altText)+"]("+(r==null?void 0:r.imageUrl)+")")},thematicBreak:function(n,e,t){var r=e.node,i=t.delim;n.write(i),n.closeBlock(r)},table:function(n,e){var t=e.node;n.convertNode(t),n.closeBlock(t)},tableHead:function(n,e,t){var r=e.node,i=t.delim,o=r.firstChild;n.convertNode(r);var a=i!=null?i:"";!i&&o&&o.forEach(function(s){var l=s.textContent,u=s.attrs,c=rBe(l,u.align);a+="| "+c+" "}),n.write(a+"|"),n.ensureNewLine()},tableBody:function(n,e){var t=e.node;n.convertNode(t)},tableRow:function(n,e){var t=e.node;n.convertNode(t),n.write("|"),n.ensureNewLine()},tableHeadCell:function(n,e,t){var r=e.node,i=t.delim,o=i===void 0?"| ":i;n.write(o),n.convertTableCell(r),n.write(" ")},tableBodyCell:function(n,e,t){var r=e.node,i=t.delim,o=i===void 0?"| ":i;n.write(o),n.convertTableCell(r),n.write(" ")},customBlock:function(n,e,t){var r=e.node,i=t.delim,o=t.text,a=i,s=a[0],l=a[1];n.write(s),n.ensureNewLine(),n.text(o,!1),n.ensureNewLine(),n.write(l),n.closeBlock(r)},frontMatter:function(n,e,t){var r=e.node,i=t.text;n.text(i,!1),n.closeBlock(r)},widget:function(n,e,t){var r=t.text;n.write(r)},html:function(n,e,t){var r=e.node,i=t.text;n.write(i),r.attrs.htmlBlock&&n.closeBlock(r)},htmlComment:function(n,e,t){var r=e.node,i=t.text;n.write(i),n.closeBlock(r)}};function iBe(n,e){var t=e.state,r=e.nodeInfo,i=e.params,o=i.rawHTML;o?gu(n,["heading","codeBlock"])>-1?tBe(t,r.node,o):gu(n,["image","thematicBreak"])>-1?t.write(o):nBe(t,r,o):bb[n](t,r,i)}function xT(n,e){var t=n.text,r=/`+/g,i=0;if(n.isText&&t)for(var o=r.exec(t);o;)i=Math.max(i,o[0].length),o=r.exec(t);for(var a=i>0&&e>0?" `":"`",s=0;s<i;s+=1)a+="`";return i>0&&e<0&&(a+=" "),a}function Po(n){return n?["<"+n+">","</"+n+">"]:null}function Uf(n){return n?"<"+n+">":null}function Jf(n){return n?"</"+n+">":null}var Gf={heading:function(n){var e=n.node,t=e.attrs,r=t.level,i=Xv("#",r);return t.headingType==="setext"&&(i=r===1?"===":"---"),{delim:i,rawHTML:Po(t.rawHTML)}},codeBlock:function(n){var e=n.node,t=e,r=t.attrs,i=t.textContent;return{delim:["```"+(r.language||""),"```"],rawHTML:Po(r.rawHTML),text:i}},blockQuote:function(n){var e=n.node;return{delim:"> ",rawHTML:Po(e.attrs.rawHTML)}},bulletList:function(n,e){var t=n.node,r=e.inTable,i=t.attrs.rawHTML;return r&&(i=i||"ul"),{delim:"*",rawHTML:Po(i)}},orderedList:function(n,e){var t=n.node,r=e.inTable,i=t.attrs.rawHTML;return r&&(i=i||"ol"),{rawHTML:Po(i)}},listItem:function(n,e){var t=n.node,r=e.inTable,i=t.attrs,o=i.task,a=i.checked,s=t.attrs.rawHTML;r&&(s=s||"li");var l=o?' class="task-list-item'+(a?" checked":"")+'"':"",u=o?" data-task"+(a?" data-task-checked":""):"";return{rawHTML:s?["<"+s+l+u+">","</"+s+">"]:null}},table:function(n){var e=n.node;return{rawHTML:Po(e.attrs.rawHTML)}},tableHead:function(n){var e=n.node;return{rawHTML:Po(e.attrs.rawHTML)}},tableBody:function(n){var e=n.node;return{rawHTML:Po(e.attrs.rawHTML)}},tableRow:function(n){var e=n.node;return{rawHTML:Po(e.attrs.rawHTML)}},tableHeadCell:function(n){var e=n.node;return{rawHTML:Po(e.attrs.rawHTML)}},tableBodyCell:function(n){var e=n.node;return{rawHTML:Po(e.attrs.rawHTML)}},image:function(n){var e=n.node,t=e.attrs,r=t.rawHTML,i=t.altText,o=t.imageUrl.replace(/&amp;/g,"&"),a=i?' alt="'+vc(i)+'"':"";return{rawHTML:r?"<"+r+' src="'+vc(o)+'"'+a+">":null,attrs:{altText:em(i||""),imageUrl:o}}},thematicBreak:function(n){var e=n.node;return{delim:"***",rawHTML:Uf(e.attrs.rawHTML)}},customBlock:function(n){var e=n.node,t=e,r=t.attrs,i=t.textContent;return{delim:["$$"+r.info,"$$"],text:i}},frontMatter:function(n){var e=n.node;return{text:e.textContent}},widget:function(n){var e=n.node;return{text:e.textContent}},strong:function(n,e,t){var r=n.node,i=e.entering,o=r.attrs.rawHTML,a="**";return t||(a=i?"<strong>":"</strong>"),{delim:a,rawHTML:i?Uf(o):Jf(o)}},emph:function(n,e,t){var r=n.node,i=e.entering,o=r.attrs.rawHTML,a="*";return t||(a=i?"<em>":"</em>"),{delim:a,rawHTML:i?Uf(o):Jf(o)}},strike:function(n,e,t){var r=n.node,i=e.entering,o=r.attrs.rawHTML,a="~~";return t||(a=i?"<del>":"</del>"),{delim:a,rawHTML:i?Uf(o):Jf(o)}},link:function(n,e){var t=n.node,r=e.entering,i=t.attrs,o=i.title,a=i.rawHTML,s=i.linkUrl.replace(/&amp;/g,"&"),l=o?' title="'+vc(o)+'"':"";return r?{delim:"[",rawHTML:a?"<"+a+' href="'+vc(s)+'"'+l+">":null}:{delim:"]("+s+(o?" "+tY(em(o)):"")+")",rawHTML:Jf(a)}},code:function(n,e){var t=n.node,r=n.parent,i=n.index,o=i===void 0?0:i,a=e.entering,s=a?xT(r.child(o),-1):xT(r.child(o-1),1),l=a?Uf(t.attrs.rawHTML):Jf(t.attrs.rawHTML);return{delim:s,rawHTML:l}},htmlComment:function(n){var e=n.node;return{text:e.textContent}},html:function(n,e){var t=n.node,r=e.entering,i=t.type.name,o=t.attrs.htmlAttrs,a="<"+i,s="</"+i+">";return Object.keys(o).forEach(function(l){a+=" "+l+'="'+o[l].replace(/"/g,"'")+'"'}),a+=">",t.attrs.htmlInline?{rawHTML:r?a:s}:{text:""+a+t.attrs.childrenHTML+s}}},jT={strong:{mixable:!0,removedEnclosingWhitespace:!0},emph:{mixable:!0,removedEnclosingWhitespace:!0},strike:{mixable:!0,removedEnclosingWhitespace:!0},code:{escape:!1},link:null,html:null};function oBe(n){var e={},t=Object.keys(bb);return t.forEach(function(r){e[r]=function(i,o){var a=bb[r];if(a){var s=n[r],l=s?s(o,{inTable:i.inTable}):{};iBe(r,{state:i,nodeInfo:o,params:l})}}}),e}function aBe(n){var e={},t=Object.keys(jT);return t.forEach(function(r){e[r]=function(i,o,a){var s=jT[r],l=n[r],u=l&&i&&!na(o),c=u?l(i,{entering:o},a):{};return Pe(Pe({},c),s)}}),e}function sBe(n){var e=Object.keys(n);e.forEach(function(i){var o=Gf[i],a=n[i];o?Gf[i]=function(s,l){return l.origin=function(){return o(s,l)},a(s,l)}:Gf[i]=a,delete n[i]});var t=oBe(Gf),r=aBe(Gf);return{nodeTypeConvertors:t,markTypeConvertors:r}}var lBe=function(){function n(e){var t=e.nodeTypeConvertors,r=e.markTypeConvertors;this.nodeTypeConvertors=t,this.markTypeConvertors=r,this.delim="",this.result="",this.closed=!1,this.tightList=!1,this.stopNewline=!1,this.inTable=!1}return n.prototype.getMarkConvertor=function(e){var t=e.attrs.htmlInline?"html":e.type.name;return this.markTypeConvertors[t]},n.prototype.isInBlank=function(){return/(^|\n)$/.test(this.result)},n.prototype.isBetweenSpaces=function(e,t){var r,i,o=e.content,a=t===0||iY((r=o.child(t-1).text)!==null&&r!==void 0?r:hS),s=t>=o.childCount-1||rY((i=o.child(t+1).text)!==null&&i!==void 0?i:hS);return a&&s},n.prototype.markText=function(e,t,r,i){var o=this.getMarkConvertor(e);if(o){var a=this.isBetweenSpaces(r,t?i:i-1),s=o({node:e,parent:r,index:i},t,a),l=s.delim,u=s.rawHTML;return u||l}return""},n.prototype.setDelim=function(e){this.delim=e},n.prototype.getDelim=function(){return this.delim},n.prototype.flushClose=function(e){if(!this.stopNewline&&this.closed){if(this.isInBlank()||(this.result+=`
`),e||(e=2),e>1){var t=this.delim,r=/\s+$/.exec(t);r&&(t=t.slice(0,t.length-r[0].length));for(var i=1;i<e;i+=1)this.result+=t+`
`}this.closed=!1}},n.prototype.wrapBlock=function(e,t,r,i){var o=this.getDelim();this.write(t||e),this.setDelim(this.getDelim()+e),i(),this.setDelim(o),this.closeBlock(r)},n.prototype.ensureNewLine=function(){this.isInBlank()||(this.result+=`
`)},n.prototype.write=function(e){e===void 0&&(e=""),this.flushClose(),this.delim&&this.isInBlank()&&(this.result+=this.delim),e&&(this.result+=e)},n.prototype.closeBlock=function(e){this.closed=e},n.prototype.text=function(e,t){t===void 0&&(t=!0);for(var r=e.split(`
`),i=0;i<r.length;i+=1)this.write(),this.result+=t?eY(r[i]):r[i],i!==r.length-1&&(this.result+=`
`)},n.prototype.convertBlock=function(e,t,r){var i=e.type.name,o=this.nodeTypeConvertors[i],a={node:e,parent:t,index:r};e.attrs.htmlBlock?this.nodeTypeConvertors.html(this,a):o&&o(this,a)},n.prototype.convertInline=function(e){var t=this,r=[],i="",o=function(a,s,l){var u=a?a.marks:[],c=i;i="";var f=a&&a.isText&&u.some(function(B){var _=t.getMarkConvertor(B),N=_&&_();return N&&N.removedEnclosingWhitespace});if(f&&a&&a.text){var d=/^(\s*)(.*?)(\s*)$/m.exec(a.text),h=d[1],v=d[2],p=d[3];c+=h,i=p,(h||p)&&(a=v?a.withText(v):null,a||(u=r))}for(var m=u.length&&yi(u),g=m&&t.getMarkConvertor(m),y=g&&g(),b=y&&y.escape===!1,w=u.length-(b?1:0),k=0;k<w;k+=1){var v=u[k];if(y&&!y.mixable)break;for(var x=0;x<r.length;x+=1){var C=r[x];if(y&&!y.mixable)break;if(v.eq(C)){k>x?u=u.slice(0,x).concat(v).concat(u.slice(x,k)).concat(u.slice(k+1,w)):x>k&&(u=u.slice(0,k).concat(u.slice(k+1,x)).concat(v).concat(u.slice(x,w)));break}}}for(var T=0;T<Math.min(r.length,w)&&u[T].eq(r[T]);)T+=1;for(;T<r.length;){var M=r.pop();M&&t.text(t.markText(M,!1,e,l),!1)}if(c&&t.text(c),a){for(;r.length<w;){var v=u[r.length];r.push(v),t.text(t.markText(v,!0,e,l),!1)}b&&a.isText?t.text(t.markText(m,!0,e,l)+a.text+t.markText(m,!1,e,l+1),!1):t.convertBlock(a,e,l)}};e.forEach(o),o(null,null,e.childCount)},n.prototype.convertList=function(e,t,r){var i=this,o;this.closed&&this.closed.type===e.type?this.flushClose(3):this.tightList&&this.flushClose(1);var a=(o=e.attrs.tight)!==null&&o!==void 0?o:!0,s=this.tightList;this.tightList=a,e.forEach(function(l,u,c){c&&a&&i.flushClose(1),i.wrapBlock(t,r(c),e,function(){return i.convertBlock(l,e,c)})}),this.tightList=s},n.prototype.convertTableCell=function(e){var t=this;this.stopNewline=!0,this.inTable=!0,e.forEach(function(r,i,o){if(ci(["bulletList","orderedList"],r.type.name))t.convertBlock(r,e,o),t.closed=!1;else if(t.convertInline(r),o<e.childCount-1){var a=e.child(o+1);a.type.name==="paragraph"&&t.write("<br>")}}),this.stopNewline=!1,this.inTable=!1},n.prototype.convertNode=function(e,t){var r=this;return e.forEach(function(i,o,a){if(r.convertBlock(i,e,a),(t==null?void 0:t.node)===i){var s=r.result.split(`
`);t.setMappedPos([s.length,yi(s).length+1])}}),this.result},n}(),uBe=function(){function n(e,t,r,i){var o=this;this.setMappedPos=function(a){o.mappedPosWhenConverting=a},this.schema=e,this.eventEmitter=i,this.focusedNode=null,this.mappedPosWhenConverting=null,this.toWwConvertors=Z8e(r),this.toMdConvertors=sBe(t||{}),this.eventEmitter.listen("setFocusedNode",function(a){return o.focusedNode=a})}return n.prototype.getMappedPos=function(){return this.mappedPosWhenConverting},n.prototype.getInfoForPosSync=function(){return{node:this.focusedNode,setMappedPos:this.setMappedPos}},n.prototype.toWysiwygModel=function(e){var t=new eBe(this.schema,this.toWwConvertors);return t.convertNode(e,this.getInfoForPosSync())},n.prototype.toMarkdownText=function(e){var t=new lBe(this.toMdConvertors),r=t.convertNode(e,this.getInfoForPosSync());return r=this.eventEmitter.emitReduce("beforeConvertWysiwygToMarkdown",r),r},n}();function cBe(n){var e=n.plugin,t=n.eventEmitter,r=n.usageStatistics,i=n.instance,o={Plugin:Gi,PluginKey:Oh,Selection:wn,TextSelection:$n},a={Decoration:Fi,DecorationSet:Cr},s={Fragment:We},l={InputRule:bl,inputRules:YD,undoInputRule:QK},u={keymap:Gd},c={eventEmitter:t,usageStatistics:r,instance:i,pmState:o,pmView:a,pmModel:s,pmRules:l,pmKeymap:u,i18n:un};if(kf(e)){var f=e[0],d=e[1],h=d===void 0?{}:d;return f(c,h)}return e(c)}function z6(n){var e=n.plugins,t=n.eventEmitter,r=n.usageStatistics,i=n.instance;return t.listen("mixinTableOffsetMapPrototype",FRe),(e!=null?e:[]).reduce(function(o,a){var s=cBe({plugin:a,eventEmitter:t,usageStatistics:r,instance:i});if(!s)throw new Error("The return value of the executed plugin is empty.");var l=s.markdownParsers,u=s.toHTMLRenderers,c=s.toMarkdownRenderers,f=s.markdownPlugins,d=s.wysiwygPlugins,h=s.wysiwygNodeViews,v=s.markdownCommands,p=s.wysiwygCommands,m=s.toolbarItems;return u&&(o.toHTMLRenderers=tm(o.toHTMLRenderers,u)),c&&(o.toMarkdownRenderers=tm(o.toMarkdownRenderers,c)),f&&(o.mdPlugins=o.mdPlugins.concat(f)),d&&(o.wwPlugins=o.wwPlugins.concat(d)),h&&(o.wwNodeViews=Pe(Pe({},o.wwNodeViews),h)),v&&(o.mdCommands=Pe(Pe({},o.mdCommands),v)),p&&(o.wwCommands=Pe(Pe({},o.wwCommands),p)),m&&(o.toolbarItems=o.toolbarItems.concat(m)),l&&(o.markdownParsers=Pe(Pe({},o.markdownParsers),l)),o},{toHTMLRenderers:{},toMarkdownRenderers:{},mdPlugins:[],wwPlugins:[],wwNodeViews:{},mdCommands:{},wwCommands:{},toolbarItems:[],markdownParsers:{}})}var fBe="data-task",dBe="data-task-disabled",hBe="checked";function pBe(n){["htmlBlock","htmlInline"].forEach(function(e){n[e]&&Object.keys(n[e]).forEach(function(t){return m6(t)})})}var q6=function(){function n(e){var t=this;this.options=Bk({linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,usageStatistics:!0,theme:"light"},e),this.eventEmitter=new R6;var r=rR(this.options.linkAttributes),i=z6({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this})||{},o=i.toHTMLRenderers,a=i.markdownParsers,s=this.options,l=s.customHTMLRenderer,u=s.extendedAutolinks,c=s.referenceDefinition,f=s.frontMatter,d=s.customHTMLSanitizer,h={linkAttributes:r,customHTMLRenderer:Pe(Pe({},o),l),extendedAutolinks:u,referenceDefinition:c,frontMatter:f,sanitizer:d||xu};pBe(h.customHTMLRenderer),this.options.events&&Uc(this.options.events,function(b,w){t.on(w,b)});var v=this.options,p=v.el,m=v.initialValue,g=v.theme,y=p.innerHTML;g!=="light"&&p.classList.add(Ot(g)),p.innerHTML="",this.toastMark=new d6("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:u,referenceDefinition:c,disallowDeepHeading:!0,frontMatter:f,customParser:a}),this.preview=new b6(this.eventEmitter,Pe(Pe({},h),{isViewer:!0})),IR(this.preview.previewContent,"mousedown",this.toggleTask.bind(this)),m?this.setMarkdown(m):y&&this.preview.setHTML(y),p.appendChild(this.preview.previewContent),this.eventEmitter.emit("load",this)}return n.prototype.toggleTask=function(e){var t=e.target,r=getComputedStyle(t,":before");!t.hasAttribute(dBe)&&t.hasAttribute(fBe)&&Gk(r,e.offsetX,e.offsetY)&&(Kk(t,hBe),this.eventEmitter.emit("change",{source:"viewer",date:e}))},n.prototype.setMarkdown=function(e){var t=this.toastMark.getLineTexts(),r=t.length,i=yi(t),o=[r,i.length+1],a=this.toastMark.editMarkdown([1,1],o,e||"");this.eventEmitter.emit("updatePreview",a)},n.prototype.on=function(e,t){this.eventEmitter.listen(e,t)},n.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},n.prototype.addHook=function(e,t){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,t)},n.prototype.destroy=function(){NR(this.preview.el,"mousedown",this.toggleTask.bind(this)),this.preview.destroy(),this.eventEmitter.emit("destroy")},n.prototype.isViewer=function(){return!0},n.prototype.isMarkdownMode=function(){return!1},n.prototype.isWysiwygMode=function(){return!1},n}();function mv(n){return n instanceof Go}function F6(n){var e=["document","blockQuote","bulletList","orderedList","listItem","paragraph","heading","emph","strong","strike","link","image","table","tableHead","tableBody","tableRow","tableHeadCell","tableBodyCell"];return ci(e,n)}function vBe(n){var e=n.attrs,t=n.type,r=t.name,i={type:r,wysiwygNode:!0,literal:!F6(r)&&mv(n)?n.textContent:null},o={heading:{level:e.level},link:{destination:e.linkUrl,title:e.title},image:{destination:e.imageUrl},codeBlock:{info:e.language},bulletList:{type:"list",listData:{type:"bullet"}},orderedList:{type:"list",listData:{type:"ordered",start:e.order}},listItem:{type:"item",listData:{task:e.task,checked:e.checked}},tableHeadCell:{type:"tableCell",cellType:"head",align:e.align},tableBodyCell:{type:"tableCell",cellType:"body",align:e.align},customBlock:{info:e.info}},a=o[r],s=Pe(Pe({},i),a),l=n.attrs,u=l.htmlAttrs,c=l.childrenHTML;return u?Pe(Pe({},s),{attrs:u,childrenHTML:c}):s}var mBe={openTag:function(n,e){var t=n,r=t.tagName,i=t.classNames,o=t.attributes,a=document.createElement(r),s={};i&&(a.className=i.join(" ")),o&&(s=Pe(Pe({},s),o)),Yk(s,a),e.push(a)},closeTag:function(n,e){if(e.length>1){var t=e.pop();yi(e).appendChild(t)}},html:function(n,e){yi(e).insertAdjacentHTML("beforeend",n.content)},text:function(n,e){var t=document.createTextNode(n.content);yi(e).appendChild(t)}},gBe=function(){function n(e,t){var r=cx(e,t),i=Pe(Pe({},t.htmlBlock),t.htmlInline);this.customConvertorKeys=Object.keys(t).concat(Object.keys(i)),this.renderer=new ux({gfm:!0,convertors:Pe(Pe({},r),i)}),this.convertors=this.renderer.getConvertors()}return n.prototype.generateTokens=function(e){var t=vBe(e),r={entering:!0,leaf:mv(e)?e.isLeaf:!1,options:this.renderer.getOptions(),getChildrenText:function(){return mv(e)?e.textContent:""},skipChildren:function(){return!1}},i=this.convertors[e.type.name],o=i(t,r,this.convertors),a=kf(o)?o:[o];return(F6(e.type.name)||e.attrs.htmlInline)&&(r.entering=!1,a.push({type:"text",content:mv(e)?e.textContent:""}),a=a.concat(i(t,r,this.convertors))),a},n.prototype.toDOMNode=function(e){var t=this.generateTokens(e),r=[];return t.forEach(function(i){return mBe[i.type](i,r)}),r[0]},n.prototype.getToDOMNode=function(e){return ci(this.customConvertorKeys,e)?this.toDOMNode.bind(this):null},n}(),yBe=100,bBe=15,gp=null,Ey=null;function CT(n,e){var t=e.syncScrollTop,r=e.releaseEventBlock;Ey&&clearTimeout(Ey),t(n),Ey=setTimeout(function(){r()},bBe)}function wBe(n,e,t){var r=e-n,i=Date.now(),o=function(){var a=Date.now(),s=(a-i)/yBe,l;gp&&clearTimeout(gp),s<1?(l=n+r*Math.cos((1-s)*Math.PI/2),CT(Math.ceil(l),t),gp=setTimeout(o,1)):(CT(e,t),gp=null)};o()}var kBe=18,xBe=function(){function n(e,t,r){this.latestEditorScrollTop=null,this.latestPreviewScrollTop=null,this.blockedScroll=null,this.active=!0,this.timer=null;var i=t.previewContent,o=t.el;this.previewRoot=i,this.previewEl=o,this.mdEditor=e,this.editorView=e.view,this.toastMark=e.getToastMark(),this.eventEmitter=r,this.addScrollSyncEvent()}return n.prototype.addScrollSyncEvent=function(){var e=this;this.eventEmitter.listen("afterPreviewRender",function(){e.clearTimer(),e.timer=setTimeout(function(){e.syncPreviewScrollTop(!0)},200)}),this.eventEmitter.listen("scroll",function(t,r){e.active&&(t==="editor"&&e.blockedScroll!=="editor"?e.syncPreviewScrollTop():t==="preview"&&e.blockedScroll!=="preview"&&e.syncEditorScrollTop(r))}),this.eventEmitter.listen("toggleScrollSync",function(t){e.active=t})},n.prototype.getMdNodeAtPos=function(e,t){var r=e.content.findIndex(t.pos),i=r.index;return this.toastMark.findFirstNodeAtLine(i+1)},n.prototype.getScrollTopByCaretPos=function(){var e=this.mdEditor.getSelection(),t=this.toastMark.findFirstNodeAtLine(e[0][0]),r=this.previewEl.clientHeight,i=Cy(this.previewRoot,t).el,o=fm(i,this.previewRoot)||i.offsetTop,a=i.clientHeight,s=o+a-r*.5;this.latestEditorScrollTop=null;var l=i.getBoundingClientRect().top-this.previewEl.getBoundingClientRect().top;return l<r?null:s},n.prototype.syncPreviewScrollTop=function(e){e===void 0&&(e=!1);var t=this,r=t.editorView,i=t.previewEl,o=t.previewRoot,a=r.dom.getBoundingClientRect(),s=a.left,l=a.top,u=r.posAtCoords({left:s,top:l}),c=r.state.doc,f=this.getMdNodeAtPos(c,u);if(!(!f||sY(f))){var d=i.scrollTop,h=r.dom,v=h.scrollTop,p=h.scrollHeight,m=h.clientHeight,g=h.children,y=p-v<=m+kBe,b=y?i.scrollHeight:0;if(v&&!y){if(e){var w=this.getScrollTopByCaretPos();if(!w)return;b=w}else{var k=Cy(this.previewRoot,f),x=k.el,C=k.mdNode,T=uT(c,C,g),M=T.height,B=T.rect,_=fm(x,o)||x.offsetTop,N=x.clientHeight,$=l>B.top?Math.min((l-B.top)/M,1):0;b=_+N*$}b=this.getResolvedScrollTop("editor",v,b,d),this.latestEditorScrollTop=v}b!==d&&this.run("editor",b,d)}},n.prototype.syncEditorScrollTop=function(e){var t=this,r=t.toastMark,i=t.editorView,o=t.previewRoot,a=t.previewEl,s=i.dom,l=i.state,u=a.scrollTop,c=a.clientHeight,f=a.scrollHeight,d=f-u<=c,h=s.scrollTop,v=d?s.scrollHeight:0;if(u&&e&&!d){if(e=yRe(e,o),!e.getAttribute("data-nodeid"))return;var p=s.children,m=Number(e.getAttribute("data-nodeid")),g=Cy(this.previewRoot,r.findNodeById(m)),y=g.mdNode,b=g.el,w=$h(y);v=p[w-1].offsetTop;var k=uT(l.doc,y,p).height,x=TRe(b,o,m),C=x.nodeHeight,T=x.offsetTop;v+=wRe(u,T,C,k),v=this.getResolvedScrollTop("preview",u,v,h),this.latestPreviewScrollTop=u}v!==h&&this.run("preview",v,h)},n.prototype.getResolvedScrollTop=function(e,t,r,i){var o=e==="editor"?this.latestEditorScrollTop:this.latestPreviewScrollTop;return o===null?r:o<t?Math.max(r,i):Math.min(r,i)},n.prototype.run=function(e,t,r){var i=this,o;e==="editor"?(o=this.previewEl,this.blockedScroll="preview"):(o=this.editorView.dom,this.blockedScroll="editor");var a={syncScrollTop:function(s){return o.scrollTop=s},releaseEventBlock:function(){return i.blockedScroll=null}};wBe(r,t,a)},n.prototype.clearTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},n.prototype.destroy=function(){this.clearTimer(),this.eventEmitter.removeEventHandler("scroll"),this.eventEmitter.removeEventHandler("afterPreviewRender")},n}(),jBe={getPopupInitialValues:function(n,e){var t=e.popupName;return t==="link"?{linkText:n.getSelectedText()}:{}}};function CBe(n){n.eventEmitter.listen("query",function(e,t){return jBe[e](n,t)})}var H6=function(){function n(e){var t=this;this.initialHTML=e.el.innerHTML,e.el.innerHTML="",this.options=Bk({previewStyle:"tab",previewHighlight:!0,initialEditType:"markdown",height:"300px",minHeight:"200px",language:"en-US",useCommandShortcut:!0,usageStatistics:!0,toolbarItems:[["heading","bold","italic","strike"],["hr","quote"],["ul","ol","task","indent","outdent"],["table","image","link"],["code","codeblock"],["scrollSync"]],hideModeSwitch:!1,linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,customMarkdownRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,widgetRules:[],theme:"light",autofocus:!0},e);var r=this.options,i=r.customHTMLRenderer,o=r.extendedAutolinks,a=r.referenceDefinition,s=r.frontMatter,l=r.customMarkdownRenderer,u=r.useCommandShortcut,c=r.initialEditType,f=r.widgetRules,d=r.customHTMLSanitizer;this.mode=c||"markdown",this.mdPreviewStyle=this.options.previewStyle,this.i18n=un,this.i18n.setCode(this.options.language),this.eventEmitter=new R6,gY(f);var h=rR(this.options.linkAttributes);this.pluginInfo=z6({plugins:this.options.plugins,eventEmitter:this.eventEmitter,usageStatistics:this.options.usageStatistics,instance:this});var v=this.pluginInfo,p=v.toHTMLRenderers,m=v.toMarkdownRenderers,g=v.mdPlugins,y=v.wwPlugins,b=v.wwNodeViews,w=v.mdCommands,k=v.wwCommands,x=v.markdownParsers,C={linkAttributes:h,customHTMLRenderer:tm(p,i),extendedAutolinks:o,referenceDefinition:a,frontMatter:s,sanitizer:d||xu},T=new gBe(h,C.customHTMLRenderer),M=fRe(C.customHTMLRenderer,C.sanitizer,T);this.toastMark=new d6("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:o,referenceDefinition:a,disallowDeepHeading:!0,frontMatter:s,customParser:x}),this.mdEditor=new bX(this.eventEmitter,{toastMark:this.toastMark,useCommandShortcut:u,mdPlugins:g}),this.preview=new b6(this.eventEmitter,Pe(Pe({},C),{isViewer:!1,highlight:this.options.previewHighlight})),this.wwEditor=new L8e(this.eventEmitter,{toDOMAdaptor:T,useCommandShortcut:u,htmlSchemaMap:M,linkAttributes:h,wwPlugins:y,wwNodeViews:b}),this.convertor=new uBe(this.wwEditor.getSchema(),Pe(Pe({},m),l),cx(h,C.customHTMLRenderer),this.eventEmitter),this.setMinHeight(this.options.minHeight),this.setHeight(this.options.height),this.setMarkdown(this.options.initialValue,!1),this.options.placeholder&&this.setPlaceholder(this.options.placeholder),this.options.initialValue||this.setHTML(this.initialHTML,!1),this.commandManager=new J8e(this.eventEmitter,this.mdEditor.commands,this.wwEditor.commands,function(){return t.mode}),this.options.usageStatistics&&QQ(),this.scrollSync=new xBe(this.mdEditor,this.preview,this.eventEmitter),this.addInitEvent(),this.addInitCommand(w,k),CBe(this),this.options.hooks&&Uc(this.options.hooks,function(B,_){return t.addHook(_,B)}),this.options.events&&Uc(this.options.events,function(B,_){return t.on(_,B)}),this.eventEmitter.emit("load",this),this.moveCursorToStart(this.options.autofocus)}return n.prototype.addInitEvent=function(){var e=this;this.on("needChangeMode",this.changeMode.bind(this)),this.on("loadUI",function(){if(e.height!=="auto"){var t=Math.min(parseInt(e.minHeight,10),parseInt(e.height,10)-75)+"px";e.setMinHeight(t)}}),HY(this.eventEmitter)},n.prototype.addInitCommand=function(e,t){var r=this,i=function(o,a){Object.keys(a).forEach(function(s){r.addCommand(o,s,a[s])})};this.addCommand("markdown","toggleScrollSync",function(o){return r.eventEmitter.emit("toggleScrollSync",o.active),!0}),i("markdown",e),i("wysiwyg",t)},n.prototype.getCurrentModeEditor=function(){return this.isMarkdownMode()?this.mdEditor:this.wwEditor},n.factory=function(e){return e.viewer?new q6(e):new n(e)},n.setLanguage=function(e,t){un.setLanguage(e,t)},n.prototype.changePreviewStyle=function(e){this.mdPreviewStyle!==e&&(this.mdPreviewStyle=e,this.eventEmitter.emit("changePreviewStyle",e))},n.prototype.exec=function(e,t){this.commandManager.exec(e,t)},n.prototype.addCommand=function(e,t,r){var i=this,o=function(a){a===void 0&&(a={});var s=(e==="markdown"?i.mdEditor:i.wwEditor).view;r(a,s.state,s.dispatch,s)};this.commandManager.addCommand(e,t,o)},n.prototype.on=function(e,t){this.eventEmitter.listen(e,t)},n.prototype.off=function(e){this.eventEmitter.removeEventHandler(e)},n.prototype.addHook=function(e,t){this.eventEmitter.removeEventHandler(e),this.eventEmitter.listen(e,t)},n.prototype.removeHook=function(e){this.eventEmitter.removeEventHandler(e)},n.prototype.focus=function(){this.getCurrentModeEditor().focus()},n.prototype.blur=function(){this.getCurrentModeEditor().blur()},n.prototype.moveCursorToEnd=function(e){e===void 0&&(e=!0),this.getCurrentModeEditor().moveCursorToEnd(e)},n.prototype.moveCursorToStart=function(e){e===void 0&&(e=!0),this.getCurrentModeEditor().moveCursorToStart(e)},n.prototype.setMarkdown=function(e,t){if(e===void 0&&(e=""),t===void 0&&(t=!0),this.mdEditor.setMarkdown(e,t),this.isWysiwygMode()){var r=this.toastMark.getRootNode(),i=this.convertor.toWysiwygModel(r);this.wwEditor.setModel(i,t)}},n.prototype.setHTML=function(e,t){e===void 0&&(e=""),t===void 0&&(t=!0);var r=document.createElement("div");r.innerHTML=zY(e);var i=hu.fromSchema(this.wwEditor.schema).parse(r);this.isMarkdownMode()?this.mdEditor.setMarkdown(this.convertor.toMarkdownText(i),t):this.wwEditor.setModel(i,t)},n.prototype.getMarkdown=function(){return this.isMarkdownMode()?this.mdEditor.getMarkdown():this.convertor.toMarkdownText(this.wwEditor.getModel())},n.prototype.getHTML=function(){var e=this;this.eventEmitter.holdEventInvoke(function(){if(e.isMarkdownMode()){var i=e.toastMark.getRootNode(),o=e.convertor.toWysiwygModel(i);e.wwEditor.setModel(o)}});var t=Zk(this.wwEditor.view.dom.innerHTML);if(this.placeholder){var r=new RegExp('<span class="placeholder[^>]+>'+this.placeholder+"</span>","i");return t.replace(r,"")}return t},n.prototype.insertText=function(e){this.getCurrentModeEditor().replaceSelection(e)},n.prototype.setSelection=function(e,t){this.getCurrentModeEditor().setSelection(e,t)},n.prototype.replaceSelection=function(e,t,r){this.getCurrentModeEditor().replaceSelection(e,t,r)},n.prototype.deleteSelection=function(e,t){this.getCurrentModeEditor().deleteSelection(e,t)},n.prototype.getSelectedText=function(e,t){return this.getCurrentModeEditor().getSelectedText(e,t)},n.prototype.getRangeInfoOfNode=function(e){return this.getCurrentModeEditor().getRangeInfoOfNode(e)},n.prototype.addWidget=function(e,t,r){this.getCurrentModeEditor().addWidget(e,t,r)},n.prototype.replaceWithWidget=function(e,t,r){this.getCurrentModeEditor().replaceWithWidget(e,t,r)},n.prototype.setHeight=function(e){var t=this.options.el;xs(e)&&(e==="auto"?_a(t,"auto-height"):Fo(t,"auto-height"),this.setMinHeight(this.getMinHeight())),Ba(t,{height:e}),this.height=e},n.prototype.getHeight=function(){return this.height},n.prototype.setMinHeight=function(e){if(e!==this.minHeight){var t=this.height||this.options.height;t!=="auto"&&this.options.el.querySelector("."+Ot("main"))&&(e=Math.min(parseInt(e,10),parseInt(t,10)-75)+"px");var r=parseInt(e,10);this.minHeight=e,this.wwEditor.setMinHeight(r),this.mdEditor.setMinHeight(r),this.preview.setMinHeight(r)}},n.prototype.getMinHeight=function(){return this.minHeight},n.prototype.isMarkdownMode=function(){return this.mode==="markdown"},n.prototype.isWysiwygMode=function(){return this.mode==="wysiwyg"},n.prototype.isViewer=function(){return!1},n.prototype.getCurrentPreviewStyle=function(){return this.mdPreviewStyle},n.prototype.changeMode=function(e,t){if(this.mode!==e){if(this.mode=e,this.isWysiwygMode()){var r=this.toastMark.getRootNode(),i=this.convertor.toWysiwygModel(r);this.wwEditor.setModel(i)}else{var i=this.wwEditor.getModel();this.mdEditor.setMarkdown(this.convertor.toMarkdownText(i),!t)}if(this.eventEmitter.emit("removePopupWidget"),this.eventEmitter.emit("changeMode",e),!t){var o=this.convertor.getMappedPos();this.focus(),this.isWysiwygMode()&&ns(o)?this.wwEditor.setSelection(o):Array.isArray(o)&&this.mdEditor.setSelection(o)}}},n.prototype.destroy=function(){var e=this;this.wwEditor.destroy(),this.mdEditor.destroy(),this.preview.destroy(),this.scrollSync.destroy(),this.eventEmitter.emit("destroy"),this.eventEmitter.getEvents().forEach(function(t,r){return e.off(r)})},n.prototype.hide=function(){this.eventEmitter.emit("hide")},n.prototype.show=function(){this.eventEmitter.emit("show")},n.prototype.setScrollTop=function(e){this.getCurrentModeEditor().setScrollTop(e)},n.prototype.getScrollTop=function(){return this.getCurrentModeEditor().getScrollTop()},n.prototype.reset=function(){this.wwEditor.setModel([]),this.mdEditor.setMarkdown("")},n.prototype.getSelection=function(){return this.getCurrentModeEditor().getSelection()},n.prototype.setPlaceholder=function(e){this.placeholder=e,this.mdEditor.setPlaceholder(e),this.wwEditor.setPlaceholder(e)},n.prototype.getEditorElements=function(){return{mdEditor:this.mdEditor.getElement(),mdPreview:this.preview.getElement(),wwEditor:this.wwEditor.getElement()}},n.prototype.convertPosToMatchEditorMode=function(e,t,r){var i,o;t===void 0&&(t=e),r===void 0&&(r=this.mode);var a=this.mdEditor.view.state.doc,s=Array.isArray(e),l=Array.isArray(t),u=e,c=t;if(s!==l)throw new Error("Types of arguments must be same");return r==="markdown"&&!s&&!l?(i=cv(a,e,t),u=i[0],c=i[1]):r==="wysiwyg"&&s&&l&&(o=zl(a,e,t),u=o[0],c=o[1]),[u,c]},n}();function SBe(n){for(var e,t,r=arguments,i=1,o="",a="",s=[0],l=function(c){i===1&&(c||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?s.push(c?r[c]:o):i===3&&(c||o)?(s[1]=c?r[c]:o,i=2):i===2&&o==="..."&&c?s[2]=Wk(s[2]||{},r[c]):i===2&&o&&!c?(s[2]=s[2]||{})[o]=!0:i>=5&&(i===5?((s[2]=s[2]||{})[t]=c?o?o+r[c]:r[c]:o,i=6):(c||o)&&(s[2][t]+=c?o+r[c]:o)),o=""},u=0;u<n.length;u++){u&&(i===1&&l(),l(u));for(let c=0;c<n[u].length;c++)e=n[u][c],i===1?e==="<"?(l(),s=[s,"",null],i=3):o+=e:i===4?o==="--"&&e===">"?(i=1,o=""):o=e+o[0]:a?e===a?a="":o+=e:e==='"'||e==="'"?a=e:e===">"?(l(),i=1):i&&(e==="="?(i=5,t=o,o=""):e==="/"&&(i<5||n[u][c+1]===">")?(l(),i===3&&(s=s[0]),i=s,(s=s[0]).push(this.apply(null,i.slice(1))),i=0):e===" "||e==="	"||e===`
`||e==="\r"?(l(),i=2):o+=e),i===3&&o==="!--"&&(i=4,s=s[0])}return l(),s.length>2?s.slice(1):s[1]}function TBe(n){return typeof n=="boolean"||n instanceof Boolean}var OBe=TBe,EBe=function(){function n(e){this.current=e,this.root=e,this.entering=!0}return n.prototype.walk=function(){var e=this,t=e.entering,r=e.current;return r?(t?r.firstChild?(this.current=r.firstChild,this.entering=!0):this.entering=!1:r===this.root?this.current=null:r.next?(this.current=r.next,this.entering=!0):(this.current=r.parent,this.entering=!1),{vnode:r,entering:t}):null},n}(),Yo=function(){function n(e,t,r){this.parent=null,this.old=null,this.firstChild=null,this.next=null,this.skip=!1,this.type=e,this.props=t,this.children=r,this.props.children=r,t.ref&&(this.ref=t.ref,delete t.ref),t.key&&(this.key=t.key,delete t.key)}return n.prototype.walker=function(){return new EBe(this)},n.removalNodes=[],n}();function MBe(n){return new Yo("TEXT_NODE",{nodeValue:n},[])}function ST(n,e){var t=n;OBe(n)||n==null?t=null:(xs(n)||ns(n))&&(t=MBe(String(n))),t&&e.push(t)}function $Be(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];var i=[];return t.forEach(function(o){Array.isArray(o)?o.forEach(function(a){ST(a,i)}):ST(o,i)}),new Yo(n,e||{},i)}var En=SBe.bind($Be);function ABe(n){return n===Object(n)}var _Be=ABe;function NBe(n){var e;return n.type==="TEXT_NODE"?e=document.createTextNode(n.props.nodeValue):(e=document.createElement(n.type),W6(e,{},n.props)),e}function V6(n,e){n.node?e.removeChild(n.node):V6(n.firstChild,e)}function IBe(n,e,t){Object.keys(e).forEach(function(r){if(/^on/.test(r)){if(!t[r]||e[r]!==t[r]){var i=r.slice(2).toLowerCase();n.removeEventListener(i,e[r])}}else r!=="children"&&!t[r]&&!PY(n)&&n.removeAttribute(r)}),W6(n,e,t,function(r){return!qk(e[r],t[r])})}var PBe=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function W6(n,e,t,r){Object.keys(t).forEach(function(i){if(!r||r(i))if(/^on/.test(i)){var o=i.slice(2).toLowerCase();n.addEventListener(o,t[i])}else i==="nodeValue"?n[i]=t[i]:i==="style"&&_Be(t[i])?LBe(n,e[i],t[i]):i!=="children"&&(t[i]===!1?n.removeAttribute(i):n.setAttribute(i,t[i]))})}function LBe(n,e,t){e&&Object.keys(e).forEach(function(r){n.style[r]=""}),Object.keys(t).forEach(function(r){var i=t[r];n.style[r]=ns(i)&&!PBe.test(r)?i+"px":i})}function hx(n){if(Yo.removalNodes.forEach(function(o){return OT(o)}),n){for(var e=void 0,t=n.walker();e=t.walk();)if(n=e.vnode,e.entering)OT(n);else if(So(n.type)){var r=n.component;if(!n.old&&r.mounted&&r.mounted(),n.old&&r.updated){var i=r.prevProps||{};r.updated(i)}}}}function TT(n){for(var e=n.parent;!e.node;)e=e.parent;return e.node}function OT(n){if(!(!n||!n.parent)){if(n.node){var e=TT(n);n.effect==="A"?e.appendChild(n.node):n.effect==="U"&&IBe(n.node,n.old.props,n.props)}if(n.effect==="D"){for(var t=void 0,r=n.walker();t=r.walk();)if(n=t.vnode,!t.entering)if(So(n.type)){var i=n.component;i.beforeDestroy&&i.beforeDestroy()}else{var e=TT(n);V6(n,e)}}n.ref&&(n.component?n.ref(n.component):n.node&&n.ref(n.node))}}function DBe(n,e){var t=e.props,r=e.component;return r?(r.prevProps=r.props,r.props=e.props,r):new n(t)}function U6(n){for(var e=n;n&&!n.skip;){if(So(n.type)){var t=DBe(n.type,n);t.vnode=n,n.component=t,n.props.children=n.children=[t.render()],ET(n)}else n.node||(n.node=NBe(n)),ET(n);if(n.firstChild)n=n.firstChild;else{for(;n&&n.parent&&!n.next&&(n=n.parent,n!==e););n=n.next}}}function RBe(n,e){return n&&e&&e.type===n.type&&(!e.key||e.key===n.key)}function ET(n){var e=n.children,t=n.old?n.old.firstChild:null,r=null;e.forEach(function(o,a){var s=RBe(t,o);s&&(o.old=t,o.parent=n,o.node=t.node,o.component=t.component,o.effect="U"),o&&!s&&(o.old=null,o.parent=n,o.node=null,o.effect="A"),t&&!s&&(Yo.removalNodes.push(t),t.effect="D"),t&&(t=t.next),a===0?n.firstChild=o:o&&(r.next=o),r=o});var i=yi(e);if(!e.length)for(;t;)Yo.removalNodes.push(t),t.effect="D",t=t.next;for(;t&&i;)t&&i.old!==t&&(Yo.removalNodes.push(t),t.effect="D",t=t.next)}function BBe(n){n.effect="D",Yo.removalNodes=[n],hx(),Yo.removalNodes=[]}function zBe(n){var e=n.vnode;e.effect="U",e.old=e,e.next&&(e.next.skip=!0),Yo.removalNodes=[],U6(e),hx(e),e.next&&(e.next.skip=!1)}function qBe(n,e){var t=new Yo(n.tagName.toLowerCase(),{},[e]);return t.node=n,Yo.removalNodes=[],U6(t),hx(t),function(){return BBe(t.firstChild)}}var xi=function(){function n(e){this.props=e,this.state={},this.refs={}}return n.prototype.setState=function(e){var t=Pe(Pe({},this.state),e);qk(this.state,t)||(this.state=t,zBe(this))},n}(),FBe=function(n){kt(e,n);function e(t){var r=n.call(this,t)||this;return r.state={hide:!1},r}return e.prototype.show=function(){this.setState({hide:!1})},e.prototype.hide=function(){this.setState({hide:!0})},e.prototype.render=function(){var t=this.props,r=t.editorType,i=t.eventEmitter;return En(MT||(MT=On([`
      <div class="`,'" style="display: ',`">
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
      </div>
    `],[`
      <div class="`,'" style="display: ',`">
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
        <div
          class="tab-item`,`"
          onClick=`,`
        >
          `,`
        </div>
      </div>
    `])),Ot("mode-switch"),this.state.hide?"none":"block",r==="markdown"?" active":"",function(){i.emit("needChangeMode","markdown")},un.get("Markdown"),r==="wysiwyg"?" active":"",function(){i.emit("needChangeMode","wysiwyg")},un.get("WYSIWYG"))},e}(xi),MT;function HBe(n,e){var t,r;e=e||0;function i(){r=Array.prototype.slice.call(arguments),window.clearTimeout(t),t=window.setTimeout(function(){n.apply(null,r)},e)}return i}var VBe=HBe,WBe=VBe;function UBe(n,e){var t,r=!0,i=function(c){n.apply(null,c),t=null},o,a,s;e=e||0,o=WBe(i,e);function l(){if(s=Array.prototype.slice.call(arguments),r){i(s),r=!1;return}a=Number(new Date),t=t||a,o(s),a-t>=e&&i(s)}function u(){r=!0,t=null}return l.reset=u,l}var JBe=UBe,J6=function(){if(typeof Map!="undefined")return Map;function n(e,t){var r=-1;return e.some(function(i,o){return i[0]===t?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var r=n(this.__entries__,t),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(t,r){var i=n(this.__entries__,t);~i?this.__entries__[i][1]=r:this.__entries__.push([t,r])},e.prototype.delete=function(t){var r=this.__entries__,i=n(r,t);~i&&r.splice(i,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var a=o[i];t.call(r,a[1],a[0])}},e}()}(),wb=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,hm=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),GBe=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(hm):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),KBe=2;function QBe(n,e){var t=!1,r=!1,i=0;function o(){t&&(t=!1,n()),r&&s()}function a(){GBe(o)}function s(){var l=Date.now();if(t){if(l-i<KBe)return;r=!0}else t=!0,r=!1,setTimeout(a,e);i=l}return s}var YBe=20,ZBe=["top","right","bottom","left","width","height","size","weight"],XBe=typeof MutationObserver!="undefined",eze=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=QBe(this.refresh.bind(this),YBe)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!wb||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),XBe?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!wb||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=t===void 0?"":t,i=ZBe.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),G6=function(n,e){for(var t=0,r=Object.keys(e);t<r.length;t++){var i=r[t];Object.defineProperty(n,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return n},tf=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||hm},K6=Rg(0,0,0,0);function pm(n){return parseFloat(n)||0}function $T(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(r,i){var o=n["border-"+i+"-width"];return r+pm(o)},0)}function tze(n){for(var e=["top","right","bottom","left"],t={},r=0,i=e;r<i.length;r++){var o=i[r],a=n["padding-"+o];t[o]=pm(a)}return t}function nze(n){var e=n.getBBox();return Rg(0,0,e.width,e.height)}function rze(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return K6;var r=tf(n).getComputedStyle(n),i=tze(r),o=i.left+i.right,a=i.top+i.bottom,s=pm(r.width),l=pm(r.height);if(r.boxSizing==="border-box"&&(Math.round(s+o)!==e&&(s-=$T(r,"left","right")+o),Math.round(l+a)!==t&&(l-=$T(r,"top","bottom")+a)),!oze(n)){var u=Math.round(s+o)-e,c=Math.round(l+a)-t;Math.abs(u)!==1&&(s-=u),Math.abs(c)!==1&&(l-=c)}return Rg(i.left,i.top,s,l)}var ize=function(){return typeof SVGGraphicsElement!="undefined"?function(n){return n instanceof tf(n).SVGGraphicsElement}:function(n){return n instanceof tf(n).SVGElement&&typeof n.getBBox=="function"}}();function oze(n){return n===tf(n).document.documentElement}function aze(n){return wb?ize(n)?nze(n):rze(n):K6}function sze(n){var e=n.x,t=n.y,r=n.width,i=n.height,o=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,a=Object.create(o.prototype);return G6(a,{x:e,y:t,width:r,height:i,top:t,right:e+r,bottom:i+t,left:e}),a}function Rg(n,e,t,r){return{x:n,y:e,width:t,height:r}}var lze=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Rg(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=aze(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),uze=function(){function n(e,t){var r=sze(t);G6(this,{target:e,contentRect:r})}return n}(),cze=function(){function n(e,t,r){if(this.activeObservations_=[],this.observations_=new J6,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(e instanceof tf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new lze(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(e instanceof tf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;!t.has(e)||(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(!!this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(r){return new uze(r.target,r.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),Q6=typeof WeakMap!="undefined"?new WeakMap:new J6,Y6=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=eze.getInstance(),r=new cze(e,t,this);Q6.set(this,r)}return n}();["observe","unobserve","disconnect"].forEach(function(n){Y6.prototype[n]=function(){var e;return(e=Q6.get(this))[n].apply(e,arguments)}});var fze=function(){return typeof hm.ResizeObserver!="undefined"?hm.ResizeObserver:Y6}(),dze=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.execCommand=function(t){var r=Na(t.target,"li");this.props.execCommand("heading",{level:Number(r.getAttribute("data-level"))})},e.prototype.render=function(){var t=this;return En(_T||(_T=On([`
      <ul
        onClick=`,`
        aria-role="menu"
        aria-label="`,`"
      >
        `,`
        <li data-type="Paragraph" aria-role="menuitem">
          <div>`,`</div>
        </li>
      </ul>
    `],[`
      <ul
        onClick=`,`
        aria-role="menu"
        aria-label="`,`"
      >
        `,`
        <li data-type="Paragraph" aria-role="menuitem">
          <div>`,`</div>
        </li>
      </ul>
    `])),function(r){return t.execCommand(r)},un.get("Headings"),[1,2,3,4,5,6].map(function(r){return En(AT||(AT=On([`
              <li data-level="`,`" data-type="Heading" aria-role="menuitem">
                <`,">"," ",`</$>
              </li>
            `],[`
              <li data-level="`,`" data-type="Heading" aria-role="menuitem">
                <`,">"," ",`</$>
              </li>
            `])),r,"h"+r,un.get("Heading"),r)}),un.get("Paragraph"))},e}(xi),AT,_T,Z6=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.toggleTab=function(t,r){this.props.onClick(t,r)},e.prototype.render=function(){var t=this;return En(IT||(IT=On([`
      <div class="`,`" aria-role="tabpanel">
        `,`
      </div>
    `],[`
      <div class="`,`" aria-role="tabpanel">
        `,`
      </div>
    `])),Ot("tabs"),this.props.tabs.map(function(r){var i=r.name,o=r.text,a=t.props.activeTab===i;return En(NT||(NT=On([`
            <div
              class="tab-item`,`"
              onClick=`,`
              aria-role="tab"
              aria-label="`,`"
              aria-selected="`,`"
              tabindex="`,`"
            >
              `,`
            </div>
          `],[`
            <div
              class="tab-item`,`"
              onClick=`,`
              aria-role="tab"
              aria-label="`,`"
              aria-selected="`,`"
              tabindex="`,`"
            >
              `,`
            </div>
          `])),a?" active":"",function(s){return t.toggleTab(s,i)},un.get(o),a?"true":"false",a?"0":"-1",un.get(o))}))},e}(xi),NT,IT,hze="ui",pze=function(n){kt(e,n);function e(t){var r=n.call(this,t)||this;return r.initialize=function(i){i===void 0&&(i="file");var o=r.refs.url;o.value="",r.refs.altText.value="",r.refs.file.value="",Fo(o,"wrong"),r.setState({activeTab:i,file:null,fileNameElClassName:""})},r.execCommand=function(){r.state.activeTab==="file"?r.emitAddImageBlob():r.emitAddImage()},r.toggleTab=function(i,o){o!==r.state.activeTab&&r.initialize(o)},r.showFileSelectBox=function(){r.refs.file.click()},r.changeFile=function(i){var o=i.target.files;o!=null&&o.length&&r.setState({file:o[0]})},r.state={activeTab:"file",file:null,fileNameElClassName:""},r.tabs=[{name:"file",text:"File"},{name:"url",text:"URL"}],r}return e.prototype.emitAddImageBlob=function(){var t=this,r=this.refs.file.files,i=this.refs.altText,o=" wrong";if(r!=null&&r.length){o="";var a=r.item(0),s=function(l,u){return t.props.execCommand("addImage",{imageUrl:l,altText:u||i.value})};this.props.eventEmitter.emit("addImageBlobHook",a,s,hze)}this.setState({fileNameElClassName:o})},e.prototype.emitAddImage=function(){var t=this.refs.url,r=this.refs.altText,i=t.value,o=r.value||"image";if(Fo(t,"wrong"),!i.length){_a(t,"wrong");return}i&&this.props.execCommand("addImage",{imageUrl:i,altText:o})},e.prototype.preventSelectStart=function(t){t.preventDefault()},e.prototype.updated=function(){this.props.show||this.initialize()},e.prototype.render=function(){var t=this,r=this.state,i=r.activeTab,o=r.file,a=r.fileNameElClassName;return En(PT||(PT=On([`
      <div aria-label="`,`">
        <`," tabs="," activeTab="," onClick=",` />
        <div style="display:`,`">
          <label for="toastuiImageUrlInput">`,`</label>
          <input
            id="toastuiImageUrlInput"
            type="text"
            ref=`,`
          />
        </div>
        <div style="display:`,`;position: relative;">
          <label for="toastuiImageFileInput">`,`</label>
          <span
            class="`,"",`"
            onClick=`,`
            onSelectstart=`,`
          >
            `,`
          </span>
          <button
            type="button"
            class="`,`"
            onClick=`,`
          >
            `,`
          </button>
          <input
            id="toastuiImageFileInput"
            type="file"
            accept="image/*"
            onChange=`,`
            ref=`,`
          />
        </div>
        <label for="toastuiAltTextInput">`,`</label>
        <input
          id="toastuiAltTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `],[`
      <div aria-label="`,`">
        <`," tabs="," activeTab="," onClick=",` />
        <div style="display:`,`">
          <label for="toastuiImageUrlInput">`,`</label>
          <input
            id="toastuiImageUrlInput"
            type="text"
            ref=`,`
          />
        </div>
        <div style="display:`,`;position: relative;">
          <label for="toastuiImageFileInput">`,`</label>
          <span
            class="`,"",`"
            onClick=`,`
            onSelectstart=`,`
          >
            `,`
          </span>
          <button
            type="button"
            class="`,`"
            onClick=`,`
          >
            `,`
          </button>
          <input
            id="toastuiImageFileInput"
            type="file"
            accept="image/*"
            onChange=`,`
            ref=`,`
          />
        </div>
        <label for="toastuiAltTextInput">`,`</label>
        <input
          id="toastuiAltTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `])),un.get("Insert image"),Z6,this.tabs,i,this.toggleTab,i==="url"?"block":"none",un.get("Image URL"),function(s){return t.refs.url=s},i==="file"?"block":"none",un.get("Select image file"),Ot("file-name"),o?" has-file":a,this.showFileSelectBox,this.preventSelectStart,o?o.name:un.get("No file"),Ot("file-select-button"),this.showFileSelectBox,un.get("Choose a file"),this.changeFile,function(s){return t.refs.file=s},un.get("Description"),function(s){return t.refs.altText=s},Ot("button-container"),Ot("close-button"),this.props.hidePopup,un.get("Cancel"),Ot("ok-button"),this.execCommand,un.get("OK"))},e}(xi),PT,vze=function(n){kt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.execCommand=function(){var r=t.refs.url,i=t.refs.text;if(Fo(r,"wrong"),Fo(i,"wrong"),r.value.length<1){_a(r,"wrong");return}var o=na(t.props.initialValues.linkUrl);if(o&&i.value.length<1){_a(i,"wrong");return}t.props.execCommand("addLink",{linkUrl:r.value,linkText:i.value})},t}return e.prototype.initialize=function(){var t=this.props.initialValues,r=t.linkUrl,i=t.linkText,o=this.refs.url,a=this.refs.text;Fo(o,"wrong"),Fo(a,"wrong","disabled"),a.removeAttribute("disabled"),r&&(_a(a,"disabled"),a.setAttribute("disabled","disabled")),o.value=r||"",a.value=i||""},e.prototype.mounted=function(){this.initialize()},e.prototype.updated=function(t){!t.show&&this.props.show&&this.initialize()},e.prototype.render=function(){var t=this;return En(LT||(LT=On([`
      <div aria-label="`,`">
        <label for="toastuiLinkUrlInput">`,`</label>
        <input
          id="toastuiLinkUrlInput"
          type="text"
          ref=`,`
        />
        <label for="toastuiLinkTextInput">`,`</label>
        <input
          id="toastuiLinkTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `],[`
      <div aria-label="`,`">
        <label for="toastuiLinkUrlInput">`,`</label>
        <input
          id="toastuiLinkUrlInput"
          type="text"
          ref=`,`
        />
        <label for="toastuiLinkTextInput">`,`</label>
        <input
          id="toastuiLinkTextInput"
          type="text"
          ref=`,`
        />
        <div class="`,`">
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
          <button type="button" class="`,'" onClick=',`>
            `,`
          </button>
        </div>
      </div>
    `])),un.get("Insert link"),un.get("URL"),function(r){return t.refs.url=r},un.get("Link text"),function(r){return t.refs.text=r},Ot("button-container"),Ot("close-button"),this.props.hidePopup,un.get("Cancel"),Ot("ok-button"),this.execCommand,un.get("OK"))},e}(xi),LT,DT=20,RT=20,BT=5,zT=14,qT=5,FT=9,mze=1,gze=1,HT=1,yze=function(n){kt(e,n);function e(t){var r=n.call(this,t)||this;return r.extendSelectionRange=function(i){var o=i.pageX,a=i.pageY,s=o-r.offsetRect.left,l=a-r.offsetRect.top,u=r.getSelectionRangeByOffset(s,l);r.setState(Pe({},u))},r.execCommand=function(){r.props.execCommand("addTable",{rowCount:r.state.rowIdx+1,columnCount:r.state.colIdx+1})},r.state={rowIdx:-1,colIdx:-1},r}return e.prototype.getDescription=function(){return this.state.colIdx===-1?"":this.state.colIdx+1+" x "+(this.state.rowIdx+1)},e.prototype.getBoundByRange=function(t,r){return{width:(t+1)*DT,height:(r+1)*RT}},e.prototype.getRangeByOffset=function(t,r){return{colIdx:Math.floor(t/DT),rowIdx:Math.floor(r/RT)}},e.prototype.getTableRange=function(){var t=this.state,r=t.colIdx,i=t.rowIdx,o=Math.max(r,qT),a=Math.max(i,BT);return r>=qT&&o<FT&&(o+=1),i>=BT&&a<zT&&(a+=1),{colIdx:o+1,rowIdx:a+1}},e.prototype.getSelectionAreaBound=function(){var t=this.getBoundByRange(this.state.colIdx,this.state.rowIdx),r=t.width,i=t.height;return!r&&!i?{display:"none"}:{width:r-HT,height:i-HT,display:"block"}},e.prototype.getSelectionRangeByOffset=function(t,r){var i=this.getRangeByOffset(t,r);return i.rowIdx=Math.min(Math.max(i.rowIdx,mze),zT),i.colIdx=Math.min(Math.max(i.colIdx,gze),FT),i},e.prototype.updated=function(){if(!this.props.show)this.setState({colIdx:-1,rowIdx:-1});else if(this.state.colIdx===-1&&this.state.rowIdx===-1){var t=this.refs.tableEl.getBoundingClientRect(),r=t.left,i=t.top;this.offsetRect={left:window.pageXOffset+r,top:window.pageYOffset+i}}},e.prototype.createTableArea=function(t){for(var r=t.colIdx,i=t.rowIdx,o=[],a=0;a<i;a+=1){for(var s=[],l=0;l<r;l+=1){var u=""+Ot("table-cell")+(a>0?"":" header");s.push(En(VT||(VT=On(['<div class="','"></div>'],['<div class="','"></div>'])),u))}o.push(En(WT||(WT=On(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),Ot("table-row"),s))}return En(UT||(UT=On(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),Ot("table"),o)},e.prototype.render=function(){var t=this,r=this.getTableRange(),i=this.getSelectionAreaBound();return En(JT||(JT=On([`
      <div aria-label="`,`">
        <div
          class="`,`"
          ref=`,`
          onMousemove=`,`
          onClick=`,`
        >
          `,`
          <div class="`,'" style=',`></div>
        </div>
        <p class="`,'">',`</p>
      </div>
    `],[`
      <div aria-label="`,`">
        <div
          class="`,`"
          ref=`,`
          onMousemove=`,`
          onClick=`,`
        >
          `,`
          <div class="`,'" style=',`></div>
        </div>
        <p class="`,'">',`</p>
      </div>
    `])),un.get("Insert table"),Ot("table-selection"),function(o){return t.refs.tableEl=o},this.extendSelectionRange,this.execCommand,this.createTableArea(r),Ot("table-selection-layer"),i,Ot("table-description"),this.getDescription())},e}(xi),VT,WT,UT,JT,bze=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.mounted=function(){this.refs.el.appendChild(this.props.body)},e.prototype.updated=function(t){this.refs.el.replaceChild(this.props.body,t.body)},e.prototype.render=function(){var t=this;return En(GT||(GT=On(["<div ref=","></div>"],["<div ref=","></div>"])),function(r){return t.refs.el=r})},e}(xi),GT;function kb(n){return xs(n)?kze(n):n}function wze(){var n=document.createElement("label"),e=document.createElement("input"),t=document.createElement("span");n.className="scroll-sync active",e.type="checkbox",e.checked=!0,t.className="switch";var r=function(i){return e.addEventListener("change",function(o){var a=o.target.checked;a?_a(n,"active"):Fo(n,"active"),i("toggleScrollSync",{active:a})})};return n.appendChild(e),n.appendChild(t),{name:"scrollSync",el:n,onMounted:r}}function kze(n){var e;switch(n){case"heading":e={name:"heading",className:"heading",tooltip:un.get("Headings"),state:"heading"};break;case"bold":e={name:"bold",className:"bold",command:"bold",tooltip:un.get("Bold"),state:"strong"};break;case"italic":e={name:"italic",className:"italic",command:"italic",tooltip:un.get("Italic"),state:"emph"};break;case"strike":e={name:"strike",className:"strike",command:"strike",tooltip:un.get("Strike"),state:"strike"};break;case"hr":e={name:"hr",className:"hrline",command:"hr",tooltip:un.get("Line"),state:"thematicBreak"};break;case"quote":e={name:"quote",className:"quote",command:"blockQuote",tooltip:un.get("Blockquote"),state:"blockQuote"};break;case"ul":e={name:"ul",className:"bullet-list",command:"bulletList",tooltip:un.get("Unordered list"),state:"bulletList"};break;case"ol":e={name:"ol",className:"ordered-list",command:"orderedList",tooltip:un.get("Ordered list"),state:"orderedList"};break;case"task":e={name:"task",className:"task-list",command:"taskList",tooltip:un.get("Task"),state:"taskList"};break;case"table":e={name:"table",className:"table",tooltip:un.get("Insert table"),state:"table"};break;case"image":e={name:"image",className:"image",tooltip:un.get("Insert image")};break;case"link":e={name:"link",className:"link",tooltip:un.get("Insert link")};break;case"code":e={name:"code",className:"code",command:"code",tooltip:un.get("Code"),state:"code"};break;case"codeblock":e={name:"codeblock",className:"codeblock",command:"codeBlock",tooltip:un.get("Insert CodeBlock"),state:"codeBlock"};break;case"indent":e={name:"indent",className:"indent",command:"indent",tooltip:un.get("Indent"),state:"indent"};break;case"outdent":e={name:"outdent",className:"outdent",command:"outdent",tooltip:un.get("Outdent"),state:"outdent"};break;case"scrollSync":e=wze();break;case"more":e={name:"more",className:"more",tooltip:un.get("More")};break}return e.name!=="scrollSync"&&(e.className+=" "+Ot("toolbar-icons")),e}function px(n,e){var t=e.el,r=e.pos,i=e.popup,o=e.initialValues;switch(n){case"heading":return{render:function(a){return En(KT||(KT=On(["<"," ..."," />"],["<"," ..."," />"])),dze,a)},className:Ot("popup-add-heading"),fromEl:t,pos:r};case"link":return{render:function(a){return En(QT||(QT=On(["<"," ..."," />"],["<"," ..."," />"])),vze,a)},className:Ot("popup-add-link"),fromEl:t,pos:r,initialValues:o};case"image":return{render:function(a){return En(YT||(YT=On(["<"," ..."," />"],["<"," ..."," />"])),pze,a)},className:Ot("popup-add-image"),fromEl:t,pos:r};case"table":return{render:function(a){return En(ZT||(ZT=On(["<"," ..."," />"],["<"," ..."," />"])),yze,a)},className:Ot("popup-add-table"),fromEl:t,pos:r};case"customPopupBody":return i?Pe({render:function(a){return En(XT||(XT=On(["<"," ..."," body="," />"],["<"," ..."," body="," />"])),bze,a,i.body)},fromEl:t,pos:r},i):null;default:return null}}function vm(n){n.hidden=n.length===n.filter(function(e){return e.hidden}).length}function xze(n,e){var t=function(r){return r.hidden=r.name==="scrollSync"&&e,r};return n.reduce(function(r,i){r.push(i.map(function(a){return t(kb(a))}));var o=r[(r.length||1)-1];return o&&vm(o),r},[])}function jze(n,e){n.forEach(function(t){t.forEach(function(r){return r.hidden=r.name==="scrollSync"&&e}),vm(t)})}var KT,QT,YT,ZT,XT,Cze=20,Sze=function(n){kt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.handleMousedown=function(r){!Na(r.target,"."+Ot("popup"))&&!Na(r.target,t.props.info.fromEl)&&t.props.hidePopup()},t}return e.prototype.mounted=function(){document.addEventListener("mousedown",this.handleMousedown),this.props.eventEmitter.listen("closePopup",this.props.hidePopup)},e.prototype.beforeDestroy=function(){document.removeEventListener("mousedown",this.handleMousedown)},e.prototype.updated=function(t){var r=this.props,i=r.show,o=r.info;if(i&&o.pos&&t.show!==i){var a=Pe({},o.pos),s=this.refs.el.offsetWidth,l=Na(this.refs.el,"."+Ot("toolbar")),u=l.offsetWidth;a.left+s>=u&&(a.left=u-s-Cze),qk(this.state.popupPos,a)||this.setState({popupPos:a})}},e.prototype.render=function(){var t=this,r=this.props,i=r.info,o=r.show,a=r.hidePopup,s=r.eventEmitter,l=r.execCommand,u=i||{},c=u.className,f=c===void 0?"":c,d=u.style,h=u.render,v=u.initialValues,p=v===void 0?{}:v,m=Pe(Pe({display:o?"block":"none"},d),this.state.popupPos);return En(eO||(eO=On([`
      <div
        class="`," ",`"
        style=`,`
        ref=`,`
        aria-role="dialog"
      >
        <div class="`,`">
          `,`
        </div>
      </div>
    `],[`
      <div
        class="`," ",`"
        style=`,`
        ref=`,`
        aria-role="dialog"
      >
        <div class="`,`">
          `,`
        </div>
      </div>
    `])),Ot("popup"),f,m,function(g){return t.refs.el=g},Ot("popup-body"),h&&h({eventEmitter:s,show:o,hidePopup:a,execCommand:l,initialValues:p}))},e}(xi),eO,tO=6;function vx(n){return function(e){kt(t,e);function t(r){var i=e.call(this,r)||this;return i.showTooltip=function(o){var a=i.props.item.tooltip;if(!i.props.disabled&&a){var s=i.getBound(o),l=s.left+tO+"px",u=s.top+tO+"px";Ba(i.props.tooltipRef.current,{display:"block",left:l,top:u}),i.props.tooltipRef.current.querySelector(".text").textContent=a}},i.hideTooltip=function(){Ba(i.props.tooltipRef.current,"display","none")},i.state={active:!1,disabled:r.disabled},i.addEvent(),i}return t.prototype.addEvent=function(){var r=this,i=this.props,o=i.item,a=i.eventEmitter;o.state&&a.listen("changeToolbarState",function(s){var l,u=s.toolbarState,c=(l=u[o.state])!==null&&l!==void 0?l:{},f=c.active,d=c.disabled;r.setState({active:!!f,disabled:d!=null?d:r.props.disabled})})},t.prototype.getBound=function(r){var i=yR(r,Na(r,"."+Ot("toolbar"))),o=i.offsetLeft,a=i.offsetTop;return{left:o,top:r.offsetHeight+a}},t.prototype.render=function(){return En(nO||(nO=On([`
        <`,`
          ...`,`
          active=`,`
          showTooltip=`,`
          hideTooltip=`,`
          getBound=`,`
          disabled=`,`
        />
      `],[`
        <`,`
          ...`,`
          active=`,`
          showTooltip=`,`
          hideTooltip=`,`
          getBound=`,`
          disabled=`,`
        />
      `])),n,this.props,this.state.active,this.showTooltip,this.hideTooltip,this.getBound,this.state.disabled||this.props.disabled)},t}(xi)}var nO,Tze=80,Oze=function(n){kt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.showTooltip=function(){t.props.showTooltip(t.refs.el)},t.execCommand=function(){var r=t.props,i=r.item,o=r.execCommand,a=r.setPopupInfo,s=r.getBound,l=r.eventEmitter,u=i.command,c=i.name,f=i.popup;if(u)o(u);else{var d=f?"customPopupBody":c,h=l.emit("query","getPopupInitialValues",{popupName:d})[0],v=px(d,{el:t.refs.el,pos:s(t.refs.el),popup:f,initialValues:h});v&&a(v)}},t}return e.prototype.mounted=function(){this.setItemWidth()},e.prototype.updated=function(t){t.item.name!==this.props.item.name&&this.setItemWidth()},e.prototype.setItemWidth=function(){var t=this.props,r=t.setItemWidth,i=t.item;r&&r(i.name,Qk(this.refs.el)+(i.hidden?Tze:0))},e.prototype.render=function(){var t=this,r=this.props,i=r.hideTooltip,o=r.disabled,a=r.item,s=r.active,l=Pe({display:a.hidden?"none":null},a.style),u=""+(a.className||"")+(s?" active":"");return En(rO||(rO=On([`
      <button
        ref=`,`
        type="button"
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
        disabled=`,`
        aria-label=`,`
      >
        `,`
      </button>
    `],[`
      <button
        ref=`,`
        type="button"
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
        disabled=`,`
        aria-label=`,`
      >
        `,`
      </button>
    `])),function(c){return t.refs.el=c},l,u,this.execCommand,this.showTooltip,i,!!o,a.text||a.tooltip||"",a.text||"")},e}(xi),Eze=vx(Oze),rO,Mze=function(n){kt(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.showTooltip=function(){t.props.showTooltip(t.refs.el)},t.showPopup=function(){var r=px("customPopupBody",{el:t.refs.el,pos:t.props.getBound(t.refs.el),popup:t.props.item.popup});r&&t.props.setPopupInfo(r)},t}return e.prototype.mounted=function(){var t=this.props,r=t.setItemWidth,i=t.item;this.refs.el.appendChild(i.el),r&&r(i.name,Qk(this.refs.el)),i.onMounted&&i.onMounted(this.props.execCommand)},e.prototype.updated=function(t){var r,i=this.props,o=i.item,a=i.active,s=i.disabled;(t.active!==a||t.disabled!==s)&&((r=o.onUpdated)===null||r===void 0||r.call(o,{active:a,disabled:s}))},e.prototype.render=function(){var t=this,r=this.props,i=r.disabled,o=r.item,a={display:o.hidden?"none":"inline-block"},s=function(l){return i?null:l};return En(iO||(iO=On([`
      <div
        ref=`,`
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
      ></div>
    `],[`
      <div
        ref=`,`
        style=`,`
        class=`,`
        onClick=`,`
        onMouseover=`,`
        onMouseout=`,`
      ></div>
    `])),function(l){return t.refs.el=l},a,Ot("toolbar-item-wrapper"),s(this.showPopup),s(this.showTooltip),s(this.props.hideTooltip))},e}(xi),$ze=vx(Mze),iO,X6=function(n){kt(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){var t=this,r=this.props,i=r.group,o=r.hiddenDivider,a=i.hidden?{display:"none"}:null,s=o?{display:"none"}:null;return En(aO||(aO=On([`
      <div class="`,'" style=',`>
        `,`
        <div class="`,'" style=',`></div>
      </div>
    `],[`
      <div class="`,'" style=',`>
        `,`
        <div class="`,'" style=',`></div>
      </div>
    `])),Ot("toolbar-group"),a,i.map(function(l){var u=l.el?$ze:Eze;return En(oO||(oO=On(["<"," key="," ..."," item="," />"],["<"," key="," ..."," item="," />"])),u,l.name,t.props,l)}),Ot("toolbar-divider"),s)},e}(xi),oO,aO,Aze=4,_ze=function(n){kt(e,n);function e(t){var r=n.call(this,t)||this;return r.handleClickDocument=function(i){var o=i.target;!Na(o,"."+Ot("dropdown-toolbar"))&&!Na(o,".more")&&r.setState({showDropdown:!1,dropdownPos:null})},r.showTooltip=function(){r.props.showTooltip(r.refs.el)},r.state={showDropdown:!1,dropdownPos:null},r}return e.prototype.getBound=function(){var t=this.props.getBound(this.refs.el);return t.top+=Aze,Pe(Pe({},t),{left:null,right:10})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.updated=function(){this.state.showDropdown&&!this.state.dropdownPos&&this.setState({dropdownPos:this.getBound()})},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.render=function(){var t=this,r=this.state,i=r.showDropdown,o=r.dropdownPos,a=this.props,s=a.disabled,l=a.item,u=a.items,c=a.hideTooltip,f=u.filter(function(v){return!v.hidden}),d=f.length?null:{display:"none"},h=i?null:{display:"none"};return En(lO||(lO=On([`
      <div class="`,'" style=',`>
        <button
          ref=`,`
          type="button"
          class=`,`
          onClick=`,`
          onMouseover=`,`
          onMouseout=`,`
          disabled=`,`
        ></button>
        <div
          class="`,`"
          style=`,`
          ref=`,`
        >
          `,`
        </div>
      </div>
    `],[`
      <div class="`,'" style=',`>
        <button
          ref=`,`
          type="button"
          class=`,`
          onClick=`,`
          onMouseover=`,`
          onMouseout=`,`
          disabled=`,`
        ></button>
        <div
          class="`,`"
          style=`,`
          ref=`,`
        >
          `,`
        </div>
      </div>
    `])),Ot("toolbar-group"),d,function(v){return t.refs.el=v},l.className,function(){return t.setState({showDropdown:!0})},this.showTooltip,c,s,Ot("dropdown-toolbar"),Pe(Pe({},h),o),function(v){return t.refs.dropdownEl=v},f.length?f.map(function(v,p){var m;return En(sO||(sO=On([`
                  <`,`
                    group=`,`
                    hiddenDivider=`,`
                    ...`,`
                  />
                `],[`
                  <`,`
                    group=`,`
                    hiddenDivider=`,`
                    ...`,`
                  />
                `])),X6,v,p===f.length-1||((m=f[p+1])===null||m===void 0?void 0:m.hidden),t.props)}):null)},e}(xi),Nze=vx(_ze),sO,lO,Ize=50,Pze=function(n){kt(e,n);function e(t){var r=n.call(this,t)||this;return r.toggleTab=function(i,o){var a=r.props.eventEmitter;if(r.state.activeTab!==o){var s=o==="write"?"changePreviewTabWrite":"changePreviewTabPreview";a.emit(s),r.setState({activeTab:o})}},r.setItemWidth=function(i,o){r.itemWidthMap[i]=o},r.setPopupInfo=function(i){r.setState({showPopup:!0,popupInfo:i})},r.openPopup=function(i,o){o===void 0&&(o={});var a=r.refs.el.querySelector("."+Ot("toolbar-group")+" ."+i);if(a){var s=yR(a,Na(a,"."+Ot("toolbar"))),l=s.offsetLeft,u=s.offsetTop,c=px(i,{el:a,pos:{left:l,top:a.offsetHeight+u},initialValues:o});c&&r.setPopupInfo(c)}},r.hidePopup=function(){r.state.showPopup&&r.setState({showPopup:!1})},r.execCommand=function(i,o){var a=r.props.eventEmitter;a.emit("command",i,o),r.hidePopup()},r.tabs=[{name:"write",text:"Write"},{name:"preview",text:"Preview"}],r.itemWidthMap={},r.initialItems=xze(t.toolbarItems||[],r.hiddenScrollSync()),r.state={items:r.initialItems,dropdownItems:[],showPopup:!1,popupInfo:{},activeTab:"write"},r.tooltipRef={current:null},r.resizeObserver=new fze(function(){return r.handleResize()}),r.addEvent(),r}return e.prototype.insertToolbarItem=function(t,r){var i=t.groupIndex,o=t.itemIndex,a=this.initialItems[i];r=kb(r),a?a.splice(o,0,r):this.initialItems.push([r]),this.setState(this.classifyToolbarItems())},e.prototype.removeToolbarItem=function(t){var r=this;Jc(this.initialItems,function(i){var o=!1;return Jc(i,function(a,s){return a.name===t?(o=!0,i.splice(s,1),r.setState(r.classifyToolbarItems()),!1):!0}),!o})},e.prototype.addEvent=function(){var t=this,r=this.props.eventEmitter;this.handleResize=JBe(function(){t.setState({items:t.initialItems,dropdownItems:[]}),t.setState(t.classifyToolbarItems())},200),r.listen("openPopup",this.openPopup)},e.prototype.appendTooltipToRoot=function(){var t='<div class="'+Ot("tooltip")+`" style="display:none">
        <div class="arrow"></div>
        <span class="text"></span>
      </div>`;this.tooltipRef.current=gR(t,this.refs.el)},e.prototype.hiddenScrollSync=function(){return this.props.editorType==="wysiwyg"||this.props.previewStyle==="tab"},e.prototype.movePrevItemToDropdownToolbar=function(t,r,i,o){var a=function(l){var u=l.pop();u&&o.push(u)};if(t>1)a(i);else{var s=yi(r);s&&a(s)}},e.prototype.classifyToolbarItems=function(){var t=this,r=0,i=this.refs.el.clientWidth,o=this.refs.el.querySelector("."+Ot("toolbar-divider")),a=o?Qk(o):0,s=[],l=[],u=!1;return this.initialItems.forEach(function(c,f){var d=[],h=[];c.forEach(function(v,p){v.hidden||(r+=t.itemWidthMap[v.name],r>i-Ize?(u||(t.movePrevItemToDropdownToolbar(p,s,d,h),u=!0),h.push(v)):d.push(v))}),d.length&&(vm(d),s.push(d)),h.length&&(vm(h),l.push(h)),f<t.state.items.length-1&&(r+=a)}),{items:s,dropdownItems:l}},e.prototype.mounted=function(){this.props.previewStyle==="tab"&&this.props.eventEmitter.emit("changePreviewTabWrite",!0),this.setState(this.classifyToolbarItems()),this.appendTooltipToRoot(),this.resizeObserver.observe(this.refs.el)},e.prototype.updated=function(t){var r=this.props,i=r.editorType,o=r.previewStyle,a=r.eventEmitter,s=o!==t.previewStyle,l=i!==t.editorType;if(s||l){jze(this.initialItems,this.hiddenScrollSync());var u=this.classifyToolbarItems();(s||o==="tab"&&i==="markdown")&&(a.emit("changePreviewTabWrite"),u.activeTab="write"),this.setState(u)}},e.prototype.beforeDestroy=function(){window.removeEventListener("resize",this.handleResize),this.resizeObserver.disconnect(),bu(this.tooltipRef.current)},e.prototype.render=function(){var t=this,r=this.props,i=r.previewStyle,o=r.eventEmitter,a=r.editorType,s=this.state,l=s.popupInfo,u=s.showPopup,c=s.activeTab,f=s.items,d=s.dropdownItems,h={eventEmitter:o,tooltipRef:this.tooltipRef,disabled:a==="markdown"&&i==="tab"&&c==="preview",execCommand:this.execCommand,setPopupInfo:this.setPopupInfo},v=i==="tab"?{borderTopLeftRadius:0}:null;return En(cO||(cO=On([`
      <div class="`,`">
        <div
          class="`,`"
          style="display: `,`"
        >
          <`," tabs="," activeTab="," onClick=",` />
        </div>
        <div
          class="`,`"
          ref=`,`
          style=`,`
        >
          `,`
          <`,`
            item=`,`
            items=`,`
            ...`,`
          />
        </div>
        <`,`
          info=`,`
          show=`,`
          eventEmitter=`,`
          hidePopup=`,`
          execCommand=`,`
        />
      </div>
    `],[`
      <div class="`,`">
        <div
          class="`,`"
          style="display: `,`"
        >
          <`," tabs="," activeTab="," onClick=",` />
        </div>
        <div
          class="`,`"
          ref=`,`
          style=`,`
        >
          `,`
          <`,`
            item=`,`
            items=`,`
            ...`,`
          />
        </div>
        <`,`
          info=`,`
          show=`,`
          eventEmitter=`,`
          hidePopup=`,`
          execCommand=`,`
        />
      </div>
    `])),Ot("toolbar"),Ot("md-tab-container"),a==="wysiwyg"||i==="vertical"?"none":"block",Z6,this.tabs,c,this.toggleTab,Ot("defaultUI-toolbar"),function(p){return t.refs.el=p},v,f.map(function(p,m){var g;return En(uO||(uO=On([`
              <`,`
                group=`,`
                hiddenDivider=`,`
                setItemWidth=`,`
                ...`,`
              />
            `],[`
              <`,`
                group=`,`
                hiddenDivider=`,`
                setItemWidth=`,`
                ...`,`
              />
            `])),X6,p,m===f.length-1||((g=f[m+1])===null||g===void 0?void 0:g.hidden),t.setItemWidth,h)}),Nze,kb("more"),d,h,Sze,l,u,o,this.hidePopup,this.execCommand)},e}(xi),uO,cO,Lze=function(n){kt(e,n);function e(t){var r=n.call(this,t)||this;return r.handleClickDocument=function(i){Na(i.target,"."+Ot("context-menu"))||r.setState({pos:null})},r.state={pos:null,menuGroups:[]},r.addEvent(),r}return e.prototype.addEvent=function(){var t=this;this.props.eventEmitter.listen("contextmenu",function(r){var i=r.pos,o=r.menuGroups;t.setState({pos:i,menuGroups:o})})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.getMenuGroupElements=function(){var t=this,r=this.state,i=r.pos,o=r.menuGroups;return i?o.reduce(function(a,s){var l=[];return s.forEach(function(u){var c=u.label,f=u.className,d=f===void 0?!1:f,h=u.disabled,v=u.onClick,p=function(){h||(v(),t.setState({pos:null}))};l.push(En(fO||(fO=On([`
                <li
                  onClick=`,`
                  class="menu-item`,`"
                  aria-role="menuitem"
                >
                  <span class="`,'">',`</span>
                </li>
              `],[`
                <li
                  onClick=`,`
                  class="menu-item`,`"
                  aria-role="menuitem"
                >
                  <span class="`,'">',`</span>
                </li>
              `])),p,h?" disabled":"",d,c))}),a.push(En(dO||(dO=On([`<ul class="menu-group">
              `,`
            </ul>`],[`<ul class="menu-group">
              `,`
            </ul>`])),l)),a},[]):[]},e.prototype.render=function(){var t=Pe({display:this.state.pos?"block":"none"},this.state.pos);return En(hO||(hO=On(['<div class="','" style=',` aria-role="menu">
      `,`
    </div>`],['<div class="','" style=',` aria-role="menu">
      `,`
    </div>`])),Ot("context-menu"),t,this.getMenuGroupElements())},e}(xi),fO,dO,hO,Dze=function(n){kt(e,n);function e(t){var r=n.call(this,t)||this;r.changeMode=function(a){a!==r.state.editorType&&r.setState({editorType:a})},r.changePreviewStyle=function(a){a!==r.state.previewStyle&&r.setState({previewStyle:a})},r.hide=function(){r.setState({hide:!0})},r.show=function(){r.setState({hide:!1})};var i=t.editorType,o=t.previewStyle;return r.state={editorType:i,previewStyle:o,hide:!1},r.addEvent(),r}return e.prototype.mounted=function(){var t=this.props.slots,r=t.wwEditor,i=t.mdEditor,o=t.mdPreview;this.refs.wwContainer.appendChild(r),this.refs.mdContainer.insertAdjacentElement("afterbegin",i),this.refs.mdContainer.appendChild(o)},e.prototype.insertToolbarItem=function(t,r){this.toolbar.insertToolbarItem(t,r)},e.prototype.removeToolbarItem=function(t){this.toolbar.removeToolbarItem(t)},e.prototype.render=function(){var t=this,r=this.props,i=r.eventEmitter,o=r.hideModeSwitch,a=r.toolbarItems,s=r.theme,l=this.state,u=l.hide,c=l.previewStyle,f=l.editorType,d=u?" hidden":"",h=Ot(f==="markdown"?"md-mode":"ww-mode"),v=Ot("md")+"-"+c+"-style",p=Ot([s!=="light",s+" "]);return En(vO||(vO=On([`
      <div
        class="`,"","",`"
        ref=`,`
      >
        <`,`
          ref=`,`
          eventEmitter=`,`
          previewStyle=`,`
          toolbarItems=`,`
          editorType=`,`
        />
        <div
          class="`," ",`"
          ref=`,`
        >
          <div class="`,`">
            <div
              class="`," ",`"
              ref=`,`
            >
              <div class="`,`"></div>
            </div>
            <div
              class="`,`"
              ref=`,`
            />
          </div>
        </div>
        `,`
        <`," eventEmitter=",` />
      </div>
    `],[`
      <div
        class="`,"","",`"
        ref=`,`
      >
        <`,`
          ref=`,`
          eventEmitter=`,`
          previewStyle=`,`
          toolbarItems=`,`
          editorType=`,`
        />
        <div
          class="`," ",`"
          ref=`,`
        >
          <div class="`,`">
            <div
              class="`," ",`"
              ref=`,`
            >
              <div class="`,`"></div>
            </div>
            <div
              class="`,`"
              ref=`,`
            />
          </div>
        </div>
        `,`
        <`," eventEmitter=",` />
      </div>
    `])),p,Ot("defaultUI"),d,function(m){return t.refs.el=m},Pze,function(m){return t.toolbar=m},i,c,a,f,Ot("main"),h,function(m){return t.refs.editorSection=m},Ot("main-container"),Ot("md-container"),v,function(m){return t.refs.mdContainer=m},Ot("md-splitter"),Ot("ww-container"),function(m){return t.refs.wwContainer=m},!o&&En(pO||(pO=On(["<"," eventEmitter="," editorType="," />"],["<"," eventEmitter="," editorType="," />"])),FBe,i,f),Lze,i)},e.prototype.addEvent=function(){var t=this.props.eventEmitter;t.listen("hide",this.hide),t.listen("show",this.show),t.listen("changeMode",this.changeMode),t.listen("changePreviewStyle",this.changePreviewStyle)},e}(xi),pO,vO,cst=function(n){kt(e,n);function e(t){var r,i=n.call(this,t)||this,o,a=qBe(i.options.el,En(mO||(mO=On([`
        <`,`
          ref=`,`
          eventEmitter=`,`
          slots=`,`
          hideModeSwitch=`,`
          toolbarItems=`,`
          previewStyle=`,`
          editorType=`,`
          theme=`,`
        />
      `],[`
        <`,`
          ref=`,`
          eventEmitter=`,`
          slots=`,`
          hideModeSwitch=`,`
          toolbarItems=`,`
          previewStyle=`,`
          editorType=`,`
          theme=`,`
        />
      `])),Dze,function(s){return o=s},i.eventEmitter,i.getEditorElements(),i.options.hideModeSwitch,i.options.toolbarItems,i.options.previewStyle,i.options.initialEditType,i.options.theme));return i.setMinHeight(i.options.minHeight),i.setHeight(i.options.height),i.defaultUI={insertToolbarItem:o.insertToolbarItem.bind(o),removeToolbarItem:o.removeToolbarItem.bind(o),destroy:a},(r=i.pluginInfo.toolbarItems)===null||r===void 0||r.forEach(function(s){var l=s.groupIndex,u=s.itemIndex,c=s.item;i.defaultUI.insertToolbarItem({groupIndex:l,itemIndex:u},c)}),i.eventEmitter.emit("loadUI",i),i}return e.factory=function(t){return t.viewer?new q6(t):new e(t)},e.prototype.insertToolbarItem=function(t,r){this.defaultUI.insertToolbarItem(t,r)},e.prototype.removeToolbarItem=function(t){this.defaultUI.removeToolbarItem(t)},e.prototype.destroy=function(){n.prototype.destroy.call(this),this.defaultUI.destroy()},e}(H6),mO;H6.setLanguage(["en","en-US"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Write",Preview:"Preview",Headings:"Headings",Paragraph:"Paragraph",Bold:"Bold",Italic:"Italic",Strike:"Strike",Code:"Inline code",Line:"Line",Blockquote:"Blockquote","Unordered list":"Unordered list","Ordered list":"Ordered list",Task:"Task",Indent:"Indent",Outdent:"Outdent","Insert link":"Insert link","Insert CodeBlock":"Insert codeBlock","Insert table":"Insert table","Insert image":"Insert image",Heading:"Heading","Image URL":"Image URL","Select image file":"Select image file","Choose a file":"Choose a file","No file":"No file",Description:"Description",OK:"OK",More:"More",Cancel:"Cancel",File:"File",URL:"URL","Link text":"Link text","Add row to up":"Add row to up","Add row to down":"Add row to down","Add column to left":"Add column to left","Add column to right":"Add column to right","Remove row":"Remove row","Remove column":"Remove column","Align column to left":"Align column to left","Align column to center":"Align column to center","Align column to right":"Align column to right","Remove table":"Remove table","Would you like to paste as table?":"Would you like to paste as table?","Text color":"Text color","Auto scroll enabled":"Auto scroll enabled","Auto scroll disabled":"Auto scroll disabled","Choose language":"Choose language"});/**
 * filesize
 *
 * @copyright 2022 Jason Mulligan <jason.mulligan@avoidwork.com>
 * @license BSD-3-Clause
 * @version 10.0.5
 */const Rze="array",Bze="bit",gO="bits",zze="byte",yO="bytes",ec="",qze="exponent",Fze="function",yp="iec",Hze="Invalid number",Vze="Invalid rounding method",Kf="jedec",Wze="object",bO=".",Uze="round",Jze="s",Gze="kbit",Kze="kB",Qze=" ",Yze="string",Zze="0",My={symbol:{iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},fullform:{iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]}};function Xze(n,{bits:e=!1,pad:t=!1,base:r=-1,round:i=2,locale:o=ec,localeOptions:a={},separator:s=ec,spacer:l=Qze,symbols:u={},standard:c=ec,output:f=Yze,fullform:d=!1,fullforms:h=[],exponent:v=-1,roundingMethod:p=Uze,precision:m=0}={}){let g=v,y=Number(n),b=[],w=0,k=ec;r===-1&&c.length===0?(r=10,c=Kf):r===-1&&c.length>0?(c=c===yp?yp:Kf,r=c===yp?2:10):(r=r===2?2:10,c=r===10||c===Kf?Kf:yp);const x=r===10?1e3:1024,C=d===!0,T=y<0,M=Math[p];if(typeof n!="bigint"&&isNaN(n))throw new TypeError(Hze);if(typeof M!==Fze)throw new TypeError(Vze);if(T&&(y=-y),(g===-1||isNaN(g))&&(g=Math.floor(Math.log(y)/Math.log(x)),g<0&&(g=0)),g>8&&(m>0&&(m+=8-g),g=8),f===qze)return g;if(y===0)b[0]=0,k=b[1]=My.symbol[c][e?gO:yO][g];else{w=y/(r===2?Math.pow(2,g*10):Math.pow(1e3,g)),e&&(w=w*8,w>=x&&g<8&&(w=w/x,g++));const B=Math.pow(10,g>0?i:0);b[0]=M(w*B)/B,b[0]===x&&g<8&&v===-1&&(b[0]=1,g++),k=b[1]=r===10&&g===1?e?Gze:Kze:My.symbol[c][e?gO:yO][g]}if(T&&(b[0]=-b[0]),m>0&&(b[0]=b[0].toPrecision(m)),b[1]=u[b[1]]||b[1],o===!0?b[0]=b[0].toLocaleString():o.length>0?b[0]=b[0].toLocaleString(o,a):s.length>0&&(b[0]=b[0].toString().replace(bO,s)),t&&Number.isInteger(b[0])===!1&&i>0){const B=s||bO,_=b[0].toString().split(B),N=_[1]||ec,$=N.length,j=i-$;b[0]=`${_[0]}${B}${N.padEnd($+j,Zze)}`}return C&&(b[1]=h[g]?h[g]:My.fullform[c][g]+(e?Bze:zze)+(b[0]===1?ec:Jze)),f===Rze?b:f===Wze?{value:b[0],symbol:b[1],exponent:g,unit:k}:b.join(l)}const e9e={key:0},t9e={key:1,style:{height:"20px",width:"100%"},class:"fit"},n9e={__name:"uploadFile",setup(n){const e=Qt(null),{onDialogOK:t,dialogRef:r}=gk(),i=pk({loading:!1,showInput:!1,files:[]});async function o(){i.loading=!0;var s=await kd.upload(i.files).catch(l=>null).then(l=>l);i.loading=!1,s&&(i.files.length>1?t({hasMany:!0,data:s}):t({hasMany:!1,data:s}))}function a(){i.files.length&&o()}return(s,l)=>{const u=vk("van-uploader");return Rr(),ms(Fd,{ref_key:"dialogRef",ref:r},{default:ln(()=>[vt(iu,{style:{"min-width":"00px"}},{default:ln(()=>[vt(ou,{class:"q-mx-md text-bold"},{default:ln(()=>[vt(Lv,{class:"text-bold"},{default:ln(()=>[Bi(" Add file ")]),_:1}),vt(Ys),Vs(vt(vi,{round:"",flat:"",icon:"mdi-close"},null,512),[[wd]])]),_:1}),vt(jc,{style:{"min-width":"400px"},class:"fit"},{default:ln(()=>[vt(iu,{style:mk(`${i.loading?"":"min-width: 100%; border: 0.1px solid gray"}`),class:"box cursor-pointer flex flex-center",onClick:l[0]||(l[0]=c=>s.$refs.uploader.chooseFile())},{default:ln(()=>[vt(jc,{class:"fit"},{default:ln(()=>[i.loading?(Rr(),Sa("div",t9e,[Ro("div",null,[vt(kU,{rounded:"",indeterminate:"",color:"primary","track-color":"primary",class:"q-mt-sm"})])])):(Rr(),Sa("div",e9e,[vt(lk,{size:"sm",name:"mdi-file-plus"}),Bi(" Click to browse ")]))]),_:1})]),_:1},8,["style"]),Vs(Ro("div",null,[vt(u,{"after-read":a,modelValue:i.files,"onUpdate:modelValue":l[1]||(l[1]=c=>i.files=c),multiple:"",ref_key:"uploader",ref:e,class:"flex flex-center"},null,8,["modelValue"])],512),[[fk,i.showInput]])]),_:1}),vt(ou,null,{default:ln(()=>[vt(Ys),vt(vi,{onClick:l[2]||(l[2]=c=>o()),loading:i.loading,color:"primary",label:"Done"},null,8,["loading"])]),_:1})]),_:1})]),_:1},512)}}},r9e=Ro("br",null,null,-1),i9e={class:"text-caption"},o9e={class:"q-gutter-md"},a9e={class:"q-py-sm q-mx-lg text-bold"},s9e={key:0},l9e={key:1},u9e={class:"row justify-start text-center"},c9e=["onClick"],f9e={class:"text-center q-mx-lg"},d9e={__name:"modalLibrary",props:{field:{}},setup(n){const e=n,t=rU(),{dialogRef:r,onDialogOK:i}=gk(),o=pk({loading:!1,search:null,selected:[],files:[],isReady:!1,isOpen:!1});console.log("Field",e.field),mf(()=>{s()}),Tr(()=>o.selected,()=>{!e.field.hasMany&&o.selected.length>1&&o.selected.shift()}),Tr(()=>o.isOpen,c=>{c?setTimeout(()=>{o.isReady=!0},400):o.isReady=!1}),Tr(()=>o.search,()=>{s()});async function a(){t.loading.show(),await kd.deleteMany("medias",{where:{id:{in:o.selected}}}).catch().then(c=>{o.selected=[]}),s(),t.loading.hide()}async function s(){o.loading=!0;var c={filename:{contains:o.search}};o.files=await kd.findMany("medias",{orderBy:{createdAt:"desc"},where:{...iU(c)}}).then(f=>f).catch(f=>[]),console.log(o.files),o.loading=!1}function l(){t.dialog({component:n9e}).onOk(c=>{c.hasMany?c.data.map(f=>{o.files.unshift(f)}):o.files.unshift(c.data)})}function u(){i(o.selected)}return(c,f)=>{const d=vk("van-skeleton");return Rr(),ms(Fd,{modelValue:o.isOpen,"onUpdate:modelValue":f[6]||(f[6]=h=>o.isOpen=h),maximized:"",position:"right",ref_key:"dialogRef",ref:r,padding:""},{default:ln(()=>[vt(iu,{style:{"min-width":"65vw"}},{default:ln(()=>[o.isReady?(Rr(),Sa("div",{key:0,style:mk(`${o.isOpen?`
          margin-left: -6%;
          margin-top: 1.4%;
          z-index: 9999;
          position: fixed;
          top: 0;
          transition: 0.4s;`:"display:none"}`)},[Vs(vt(vi,{round:"",color:"white","text-color":"black",icon:"mdi-close"},null,512),[[wd]])],4)):Hd("",!0),vt(qj,{class:"q-py-md"},{default:ln(()=>[vt(Lv,{class:"text-bold"},{default:ln(()=>[vt(lk,{name:"mdi-folder"}),Bi(" File library "),r9e,Ro("span",i9e,is(o.files.length)+" Item(s) ",1)]),_:1}),vt(Ys),Ro("div",o9e,[o.selected.length?(Rr(),ms(vi,{key:0,color:"red",outline:"",onClick:f[0]||(f[0]=h=>a()),flat:"","fab-mini":"",icon:"las la-trash"})):Hd("",!0),vt(vi,{class:"bg-white text-primary",onClick:f[1]||(f[1]=h=>s()),"fab-mini":"",icon:"las la-sync"}),vt(vi,{onClick:f[2]||(f[2]=h=>u()),"fab-mini":"",color:"secondary",icon:"mdi-check"})])]),_:1}),vt(qj,{class:"q-pt-md"},{default:ln(()=>[vt(jL,{outlined:"",dense:"",style:{"min-width":"30vw"},modelValue:o.search,"onUpdate:modelValue":f[3]||(f[3]=h=>o.search=h),label:"Search ...."},null,8,["modelValue"]),vt(Ys),vt(vi,{onClick:f[4]||(f[4]=h=>l()),color:"primary",outline:"",label:"New media",icon:"mdi-plus"})]),_:1}),vt(oU,{spaced:"",inset:"",dark:""}),vt(jc,null,{default:ln(()=>[Ro("div",a9e,[vt(yU,{dark:"",color:"green"},{default:ln(()=>[Bi(is(o.selected.length),1)]),_:1}),Bi(" Item(s) selected ")]),vt(wU,{style:{height:"70vh"},class:"q-pa-lg scroll rounded-borders"},{default:ln(()=>[o.loading?(Rr(),Sa("div",s9e,[vt(d,{row:15})])):(Rr(),Sa("div",l9e,[Ro("div",u9e,[(Rr(!0),Sa(dk,null,CL(o.files,(h,v)=>(Rr(),Sa("div",{class:"col-12 col-sm-6 col-md-4 col-lg-3",key:v},[vt(iu,{flat:"",style:{height:"250px",border:"0.5px solid #ccc"},class:"q-ma-xs overflow-hidden relative-position bg-lite box"},{default:ln(()=>[vt(ou,{class:"q-pa-none q-ma-none"},{default:ln(()=>[vt(aU,{size:"lg",ref_for:!0,ref:"cc",color:"green","unchecked-icon":"mdi-circle-outline","checked-icon":"mdi-check-circle-outline",val:h,modelValue:o.selected,"onUpdate:modelValue":f[5]||(f[5]=p=>o.selected=p)},null,8,["val","modelValue"])]),_:2},1024),Ro("div",{class:"overflow-hidden cursor-pointer relative-position q-pa-md",style:{"border-radius":"20px"},onClick:p=>c.$refs.cc[v].toggle()},[vt(bU,{class:"rounded-borders overflow-hidden",height:"100px","no-spinner":"",width:"100%",fit:"cover",src:N1(kd).assets(h.filedisk,{transform:!0,q:40})},null,8,["src"])],8,c9e),Ro("div",f9e,[vt(SL,{lines:1},{default:ln(()=>[Bi(is(h.filename),1)]),_:2},1024)]),vt(ou,{class:"text-bold text-grey"},{default:ln(()=>[Bi(is(h.details.mimeType)+" ",1),vt(Ys),Bi(" "+is(N1(Xze)(h.details.size,{base:2,standard:"jedec"})),1)]),_:2},1024)]),_:2},1024)]))),128))])]))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}};typeof Fj=="function"&&Fj(d9e);var wO,kO,xO,jO,CO,SO,TO,OO,EO,MO,$O,AO,_O,NO,IO,PO,LO,DO,RO,BO,zO,qO,FO,HO,VO,WO,UO,JO,GO,KO,QO,YO,ZO,XO,e3,t3,n3,r3,i3,o3,a3,s3,l3,u3,c3,f3,d3,h3,p3,v3,m3,g3,y3,b3,w3,k3,x3,j3,C3,S3,T3,O3,E3,M3,$3,A3,_3,N3,I3,P3,L3,D3,R3,B3,z3,q3,F3,H3,V3,W3,U3,J3,G3,K3,Q3,Y3,Z3,X3,eE,tE,nE,rE,iE,oE,aE,sE,lE,uE,cE,fE,dE,hE,pE,vE,mE,gE,yE,bE,wE,kE,xE,jE,CE,SE,TE,OE,EE,ME,$E,AE,_E,NE,IE,PE,LE,DE,RE,BE,zE,qE,FE,HE,VE,WE,UE,JE,GE,KE,QE,YE,ZE,XE,eM,tM,nM,rM,iM,oM,aM,sM,lM,uM,cM,fM,dM,hM,pM,vM,mM,gM,yM,bM,wM,kM,xM,jM,CM,SM,TM,OM,EM,MM,$M,AM,_M,NM,IM,PM,LM,DM,RM,BM,zM,qM,FM,HM,VM,WM,UM,JM,GM,KM,QM,YM,ZM,XM,e$,t$,n$,r$,i$,o$,a$,s$,l$,u$,c$,f$,d$,h$,p$,v$,m$,g$,y$,b$,w$,k$,x$,j$,C$,S$,T$,O$,E$,M$,$$,A$,_$,N$,I$,P$,L$,D$,R$,B$,z$,q$,F$,H$,V$,W$,U$,J$,G$,K$,Q$,Y$,Z$,X$,eA,tA,nA,rA,iA,oA,aA,sA,lA,uA,cA,fA,dA,hA,pA,vA,mA,gA,yA,bA,wA,kA,xA,jA,CA,SA,TA,OA,EA,MA,$A,AA;function Md(n){var e=typeof Map=="function"?new Map:void 0;return Md=function(t){if(t===null||(r=t,Function.toString.call(r).indexOf("[native code]")===-1))return t;var r;if(typeof t!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return xb(t,arguments,sn(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Yd(i,t)},Md(n)}function xb(n,e,t){return xb=t8()?Reflect.construct.bind():function(r,i,o){var a=[null];a.push.apply(a,i);var s=new(Function.bind.apply(r,a));return o&&Yd(s,o.prototype),s},xb.apply(null,arguments)}function oe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function At(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */At=function(){return n};var n={},e=Object.prototype,t=e.hasOwnProperty,r=Object.defineProperty||function(N,$,j){N[$]=j.value},i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(N,$,j){return Object.defineProperty(N,$,{value:j,enumerable:!0,configurable:!0,writable:!0}),N[$]}try{l({},"")}catch{l=function($,j,D){return $[j]=D}}function u(N,$,j,D){var q=$&&$.prototype instanceof d?$:d,R=Object.create(q.prototype),G=new M(D||[]);return r(R,"_invoke",{value:k(N,j,G)}),R}function c(N,$,j){try{return{type:"normal",arg:N.call($,j)}}catch(D){return{type:"throw",arg:D}}}n.wrap=u;var f={};function d(){}function h(){}function v(){}var p={};l(p,o,function(){return this});var m=Object.getPrototypeOf,g=m&&m(m(B([])));g&&g!==e&&t.call(g,o)&&(p=g);var y=v.prototype=d.prototype=Object.create(p);function b(N){["next","throw","return"].forEach(function($){l(N,$,function(j){return this._invoke($,j)})})}function w(N,$){function j(q,R,G,A){var I=c(N[q],N,R);if(I.type!=="throw"){var z=I.arg,F=z.value;return F&&mt(F)=="object"&&t.call(F,"__await")?$.resolve(F.__await).then(function(L){j("next",L,G,A)},function(L){j("throw",L,G,A)}):$.resolve(F).then(function(L){z.value=L,G(z)},function(L){return j("throw",L,G,A)})}A(I.arg)}var D;r(this,"_invoke",{value:function(q,R){function G(){return new $(function(A,I){j(q,R,A,I)})}return D=D?D.then(G,G):G()}})}function k(N,$,j){var D="suspendedStart";return function(q,R){if(D==="executing")throw new Error("Generator is already running");if(D==="completed"){if(q==="throw")throw R;return _()}for(j.method=q,j.arg=R;;){var G=j.delegate;if(G){var A=x(G,j);if(A){if(A===f)continue;return A}}if(j.method==="next")j.sent=j._sent=j.arg;else if(j.method==="throw"){if(D==="suspendedStart")throw D="completed",j.arg;j.dispatchException(j.arg)}else j.method==="return"&&j.abrupt("return",j.arg);D="executing";var I=c(N,$,j);if(I.type==="normal"){if(D=j.done?"completed":"suspendedYield",I.arg===f)continue;return{value:I.arg,done:j.done}}I.type==="throw"&&(D="completed",j.method="throw",j.arg=I.arg)}}}function x(N,$){var j=N.iterator[$.method];if(j===void 0){if($.delegate=null,$.method==="throw"){if(N.iterator.return&&($.method="return",$.arg=void 0,x(N,$),$.method==="throw"))return f;$.method="throw",$.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var D=c(j,N.iterator,$.arg);if(D.type==="throw")return $.method="throw",$.arg=D.arg,$.delegate=null,f;var q=D.arg;return q?q.done?($[N.resultName]=q.value,$.next=N.nextLoc,$.method!=="return"&&($.method="next",$.arg=void 0),$.delegate=null,f):q:($.method="throw",$.arg=new TypeError("iterator result is not an object"),$.delegate=null,f)}function C(N){var $={tryLoc:N[0]};1 in N&&($.catchLoc=N[1]),2 in N&&($.finallyLoc=N[2],$.afterLoc=N[3]),this.tryEntries.push($)}function T(N){var $=N.completion||{};$.type="normal",delete $.arg,N.completion=$}function M(N){this.tryEntries=[{tryLoc:"root"}],N.forEach(C,this),this.reset(!0)}function B(N){if(N){var $=N[o];if($)return $.call(N);if(typeof N.next=="function")return N;if(!isNaN(N.length)){var j=-1,D=function q(){for(;++j<N.length;)if(t.call(N,j))return q.value=N[j],q.done=!1,q;return q.value=void 0,q.done=!0,q};return D.next=D}}return{next:_}}function _(){return{value:void 0,done:!0}}return h.prototype=v,r(y,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=l(v,s,"GeneratorFunction"),n.isGeneratorFunction=function(N){var $=typeof N=="function"&&N.constructor;return!!$&&($===h||($.displayName||$.name)==="GeneratorFunction")},n.mark=function(N){return Object.setPrototypeOf?Object.setPrototypeOf(N,v):(N.__proto__=v,l(N,s,"GeneratorFunction")),N.prototype=Object.create(y),N},n.awrap=function(N){return{__await:N}},b(w.prototype),l(w.prototype,a,function(){return this}),n.AsyncIterator=w,n.async=function(N,$,j,D,q){q===void 0&&(q=Promise);var R=new w(u(N,$,j,D),q);return n.isGeneratorFunction($)?R:R.next().then(function(G){return G.done?G.value:R.next()})},b(y),l(y,s,"Generator"),l(y,o,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),n.keys=function(N){var $=Object(N),j=[];for(var D in $)j.push(D);return j.reverse(),function q(){for(;j.length;){var R=j.pop();if(R in $)return q.value=R,q.done=!1,q}return q.done=!0,q}},n.values=B,M.prototype={constructor:M,reset:function(N){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!N)for(var $ in this)$.charAt(0)==="t"&&t.call(this,$)&&!isNaN(+$.slice(1))&&(this[$]=void 0)},stop:function(){this.done=!0;var N=this.tryEntries[0].completion;if(N.type==="throw")throw N.arg;return this.rval},dispatchException:function(N){if(this.done)throw N;var $=this;function j(I,z){return R.type="throw",R.arg=N,$.next=I,z&&($.method="next",$.arg=void 0),!!z}for(var D=this.tryEntries.length-1;D>=0;--D){var q=this.tryEntries[D],R=q.completion;if(q.tryLoc==="root")return j("end");if(q.tryLoc<=this.prev){var G=t.call(q,"catchLoc"),A=t.call(q,"finallyLoc");if(G&&A){if(this.prev<q.catchLoc)return j(q.catchLoc,!0);if(this.prev<q.finallyLoc)return j(q.finallyLoc)}else if(G){if(this.prev<q.catchLoc)return j(q.catchLoc,!0)}else{if(!A)throw new Error("try statement without catch or finally");if(this.prev<q.finallyLoc)return j(q.finallyLoc)}}}},abrupt:function(N,$){for(var j=this.tryEntries.length-1;j>=0;--j){var D=this.tryEntries[j];if(D.tryLoc<=this.prev&&t.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var q=D;break}}q&&(N==="break"||N==="continue")&&q.tryLoc<=$&&$<=q.finallyLoc&&(q=null);var R=q?q.completion:{};return R.type=N,R.arg=$,q?(this.method="next",this.next=q.finallyLoc,f):this.complete(R)},complete:function(N,$){if(N.type==="throw")throw N.arg;return N.type==="break"||N.type==="continue"?this.next=N.arg:N.type==="return"?(this.rval=this.arg=N.arg,this.method="return",this.next="end"):N.type==="normal"&&$&&(this.next=$),f},finish:function(N){for(var $=this.tryEntries.length-1;$>=0;--$){var j=this.tryEntries[$];if(j.finallyLoc===N)return this.complete(j.completion,j.afterLoc),T(j),f}},catch:function(N){for(var $=this.tryEntries.length-1;$>=0;--$){var j=this.tryEntries[$];if(j.tryLoc===N){var D=j.completion;if(D.type==="throw"){var q=D.arg;T(j)}return q}}throw new Error("illegal catch attempt")},delegateYield:function(N,$,j){return this.delegate={iterator:B(N),resultName:$,nextLoc:j},this.method==="next"&&(this.arg=void 0),f}},n}function _A(n,e,t,r,i,o,a){try{var s=n[o](a),l=s.value}catch(u){return void t(u)}s.done?e(l):Promise.resolve(l).then(r,i)}function Fn(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function a(l){_A(o,r,i,a,s,"next",l)}function s(l){_A(o,r,i,a,s,"throw",l)}a(void 0)})}}function fe(n,e){var t=typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=mx(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,s=!1;return{s:function(){t=t.call(n)},n:function(){var l=t.next();return a=l.done,l},e:function(l){s=!0,o=l},f:function(){try{a||t.return==null||t.return()}finally{if(s)throw o}}}}function Dt(n,e){return function(t){if(Array.isArray(t))return t}(n)||function(t,r){var i=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var o,a,s=[],l=!0,u=!1;try{for(i=i.call(t);!(l=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);l=!0);}catch(c){u=!0,a=c}finally{try{l||i.return==null||i.return()}finally{if(u)throw a}}return s}}(n,e)||mx(n,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function NA(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function $e(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?NA(Object(t),!0).forEach(function(r){ul(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):NA(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ul(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function vn(){return vn=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(n,e,t){var r=h9e(n,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?n:t):i.value}},vn.apply(this,arguments)}function h9e(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&(n=sn(n))!==null;);return n}function De(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Yd(n,e)}function Yd(n,e){return Yd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Yd(n,e)}function Re(n){var e=t8();return function(){var t,r=sn(n);if(e){var i=sn(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return e8(this,t)}}function e8(n,e){if(e&&(mt(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Et(n)}function Et(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function t8(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sn(n){return sn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sn(n)}function Ut(n){return function(e){if(Array.isArray(e))return jb(e)}(n)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(n)||mx(n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function mx(n,e){if(n){if(typeof n=="string")return jb(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?jb(n,e):void 0}}function jb(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function re(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function IA(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function ie(n,e,t){return e&&IA(n.prototype,e),t&&IA(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function mt(n){return mt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mt(n)}function Ze(){}var n8=function(n){return n};function wl(n,e){for(var t in e)n[t]=e[t];return n}function r8(n){return n()}function PA(){return Object.create(null)}function Xn(n){n.forEach(r8)}function oo(n){return typeof n=="function"}function Or(n,e){return n!=n?e==e:n!==e||n&&mt(n)==="object"||typeof n=="function"}function mn(n,e){return n!=n?e==e:n!==e}function ia(n,e,t,r){if(n){var i=i8(n,e,t,r);return n[0](i)}}function i8(n,e,t,r){return n[1]&&r?wl(t.ctx.slice(),n[1](r(e))):t.ctx}function oa(n,e,t,r){if(n[2]&&r){var i=n[2](r(t));if(e.dirty===void 0)return i;if(mt(i)==="object"){for(var o=[],a=Math.max(e.dirty.length,i.length),s=0;s<a;s+=1)o[s]=e.dirty[s]|i[s];return o}return e.dirty|i}return e.dirty}function aa(n,e,t,r,i,o){if(i){var a=i8(e,t,r,o);n.p(a,i)}}function sa(n){if(n.ctx.length>32){for(var e=[],t=n.ctx.length/32,r=0;r<t;r++)e[r]=-1;return e}return-1}function Mr(n){return n==null?"":n}function xf(n){return n&&oo(n.destroy)?n.destroy:Ze}var bp,o8=typeof window!="undefined",p9e=o8?function(){return window.performance.now()}:function(){return Date.now()},gx=o8?function(n){return requestAnimationFrame(n)}:Ze,$d=new Set;function a8(n){$d.forEach(function(e){e.c(n)||($d.delete(e),e.f())}),$d.size!==0&&gx(a8)}function W(n,e){n.appendChild(e)}function Gt(n,e,t){var r=yx(n);if(!r.getElementById(e)){var i=ee("style");i.id=e,i.textContent=t,s8(r,i)}}function yx(n){if(!n)return document;var e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function v9e(n){var e=ee("style");return s8(yx(n),e),e.sheet}function s8(n,e){return W(n.head||n,e),e.sheet}function me(n,e,t){n.insertBefore(e,t||null)}function he(n){n.parentNode&&n.parentNode.removeChild(n)}function ji(n,e){for(var t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function ee(n){return document.createElement(n)}function ys(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function ot(n){return document.createTextNode(n)}function je(){return ot(" ")}function kn(){return ot("")}function Be(n,e,t,r){return n.addEventListener(e,t,r),function(){return n.removeEventListener(e,t,r)}}function bx(n){return function(e){return e.stopPropagation(),n.call(this,e)}}function E(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function LA(n,e){var t=Object.getOwnPropertyDescriptors(n.__proto__);for(var r in e)e[r]==null?n.removeAttribute(r):r==="style"?n.style.cssText=e[r]:r==="__value"?n.value=n[r]=e[r]:t[r]&&t[r].set?n[r]=e[r]:E(n,r,e[r])}function mm(n,e){for(var t in e)E(n,t,e[t])}function Cb(n,e,t){e in n?n[e]=typeof n[e]=="boolean"&&t===""||t:E(n,e,t)}function m9e(n){return Array.from(n.childNodes)}function on(n,e){e=""+e,n.wholeText!==e&&(n.data=e)}function cl(n,e){n.value=e==null?"":e}function ja(n,e,t,r){t===null?n.style.removeProperty(e):n.style.setProperty(e,t,r?"important":"")}function DA(n,e){for(var t=0;t<n.options.length;t+=1){var r=n.options[t];if(r.__value===e)return void(r.selected=!0)}n.selectedIndex=-1}function g9e(){if(bp===void 0){bp=!1;try{typeof window!="undefined"&&window.parent&&window.parent.document}catch{bp=!0}}return bp}function Ve(n,e,t){n.classList[t?"add":"remove"](e)}function l8(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=t.bubbles,i=r!==void 0&&r,o=t.cancelable,a=o!==void 0&&o,s=document.createEvent("CustomEvent");return s.initCustomEvent(n,i,a,e),s}var y9e=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];re(this,n),this.is_svg=!1,this.is_svg=e,this.e=this.n=null}return ie(n,[{key:"c",value:function(e){this.h(e)}},{key:"m",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;this.e||(this.is_svg?this.e=ys(t.nodeName):this.e=ee(t.nodeName),this.t=t,this.c(e)),this.i(r)}},{key:"h",value:function(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}},{key:"i",value:function(e){for(var t=0;t<this.n.length;t+=1)me(this.t,this.n[t],e)}},{key:"p",value:function(e){this.d(),this.h(e),this.i(this.a)}},{key:"d",value:function(){this.n.forEach(he)}}]),n}();function ur(n,e){return new n(e)}var Zd,gm=new Map,Sb=0;function b9e(n){for(var e=5381,t=n.length;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function w9e(n,e){var t={stylesheet:v9e(e),rules:{}};return gm.set(n,t),t}function RA(n,e,t,r,i,o,a){for(var s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,l=16.666/r,u=`{
`,c=0;c<=1;c+=l){var f=e+(t-e)*o(c);u+=100*c+"%{".concat(a(f,1-f),`}
`)}var d=u+"100% {".concat(a(t,1-t),`}
}`),h="__svelte_".concat(b9e(d),"_").concat(s),v=yx(n),p=gm.get(v)||w9e(v,n),m=p.stylesheet,g=p.rules;g[h]||(g[h]=!0,m.insertRule("@keyframes ".concat(h," ").concat(d),m.cssRules.length));var y=n.style.animation||"";return n.style.animation="".concat(y?"".concat(y,", "):"").concat(h," ").concat(r,"ms linear ").concat(i,"ms 1 both"),Sb+=1,h}function k9e(n,e){var t=(n.style.animation||"").split(", "),r=t.filter(e?function(o){return o.indexOf(e)<0}:function(o){return o.indexOf("__svelte")===-1}),i=t.length-r.length;i&&(n.style.animation=r.join(", "),(Sb-=i)||gx(function(){Sb||(gm.forEach(function(o){var a=o.stylesheet.ownerNode;a&&he(a)}),gm.clear())}))}function Ad(n){Zd=n}function jf(){if(!Zd)throw new Error("Function called outside component initialization");return Zd}function u8(n){jf().$$.before_update.push(n)}function fo(n){jf().$$.on_mount.push(n)}function fl(n){jf().$$.on_destroy.push(n)}function Bg(){var n=jf();return function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.cancelable,o=i!==void 0&&i,a=n.$$.callbacks[e];if(a){var s=l8(e,t,{cancelable:o});return a.slice().forEach(function(l){l.call(n,s)}),!s.defaultPrevented}return!0}}function c8(n,e){return jf().$$.context.set(n,e),e}function Ni(n){return jf().$$.context.get(n)}var fd=[],en=[],gv=[],Tb=[],f8=Promise.resolve(),Ob=!1;function d8(){Ob||(Ob=!0,f8.then(h8))}function xr(){return d8(),f8}function dl(n){gv.push(n)}function wo(n){Tb.push(n)}var wp,$y=new Set,kp=0;function h8(){var n=Zd;do{for(;kp<fd.length;){var e=fd[kp];kp++,Ad(e),x9e(e.$$)}for(Ad(null),fd.length=0,kp=0;en.length;)en.pop()();for(var t=0;t<gv.length;t+=1){var r=gv[t];$y.has(r)||($y.add(r),r())}gv.length=0}while(fd.length);for(;Tb.length;)Tb.pop()();Ob=!1,$y.clear(),Ad(n)}function x9e(n){if(n.fragment!==null){n.update(),Xn(n.before_update);var e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(dl)}}function Ay(n,e,t){n.dispatchEvent(l8("".concat(e?"intro":"outro").concat(t)))}var cs,yv=new Set;function Je(){cs={r:0,c:[],p:cs}}function Ge(){cs.r||Xn(cs.c),cs=cs.p}function J(n,e){n&&n.i&&(yv.delete(n),n.i(e))}function Y(n,e,t,r){if(n&&n.o){if(yv.has(n))return;yv.add(n),cs.c.push(function(){yv.delete(n),r&&(t&&n.d(1),r())}),n.o(e)}else r&&r()}var j9e={duration:0};function xp(n,e,t,r){var i=e(n,t),o=r?0:1,a=null,s=null,l=null;function u(){l&&k9e(n,l)}function c(d,h){var v=d.b-o;return h*=Math.abs(v),{a:o,b:d.b,d:v,duration:h,start:d.start,end:d.start+h,group:d.group}}function f(d){var h,v=i||j9e,p=v.delay,m=p===void 0?0:p,g=v.duration,y=g===void 0?300:g,b=v.easing,w=b===void 0?n8:b,k=v.tick,x=k===void 0?Ze:k,C=v.css,T={start:p9e()+m,b:d};d||(T.group=cs,cs.r+=1),a||s?s=T:(C&&(u(),l=RA(n,o,d,y,m,w,C)),d&&x(0,1),a=c(T,y),dl(function(){return Ay(n,d,"start")}),h=function(M){if(s&&M>s.start&&(a=c(s,y),s=null,Ay(n,a.b,"start"),C&&(u(),l=RA(n,o,a.b,a.duration,0,w,i.css))),a){if(M>=a.end)x(o=a.b,1-o),Ay(n,a.b,"end"),s||(a.b?u():--a.group.r||Xn(a.group.c)),a=null;else if(M>=a.start){var B=M-a.start;o=a.a+a.d*w(B/a.duration),x(o,1-o)}}return!(!a&&!s)},$d.size===0&&gx(a8),new Promise(function(M){$d.add({c:h,f:M})}))}return{run:function(d){oo(i)?(wp||(wp=Promise.resolve()).then(function(){wp=null}),wp).then(function(){i=i(),f(d)}):f(d)},end:function(){u(),a=s=null}}}var wx=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function C9e(n,e){n.d(1),e.delete(n.key)}function zg(n,e){Y(n,1,1,function(){e.delete(n.key)})}function _h(n,e,t,r,i,o,a,s,l,u,c,f){for(var d=n.length,h=o.length,v=d,p={};v--;)p[n[v].key]=v;var m=[],g=new Map,y=new Map;for(v=h;v--;){var b=f(i,o,v),w=t(b),k=a.get(w);k?r&&k.p(b,e):(k=u(w,b)).c(),g.set(w,m[v]=k),w in p&&y.set(w,Math.abs(v-p[w]))}var x=new Set,C=new Set;function T(j){J(j,1),j.m(s,c),a.set(j.key,j),c=j.first,h--}for(;d&&h;){var M=m[h-1],B=n[d-1],_=M.key,N=B.key;M===B?(c=M.first,d--,h--):g.has(N)?!a.has(_)||x.has(_)?T(M):C.has(N)?d--:y.get(_)>y.get(N)?(C.add(_),T(M)):(x.add(N),d--):(l(B,a),d--)}for(;d--;){var $=n[d];g.has($.key)||l($,a)}for(;h;)T(m[h-1]);return m}function _u(n,e){for(var t={},r={},i={$$scope:1},o=n.length;o--;){var a=n[o],s=e[o];if(s){for(var l in a)l in s||(r[l]=1);for(var u in s)i[u]||(t[u]=s[u],i[u]=1);n[o]=s}else for(var c in a)i[c]=1}for(var f in r)f in t||(t[f]=void 0);return t}function qg(n){return mt(n)==="object"&&n!==null?n:{}}function to(n,e,t){var r=n.$$.props[e];r!==void 0&&(n.$$.bound[r]=t,t(n.$$.ctx[r]))}function Ne(n){n&&n.c()}function Ae(n,e,t,r){var i=n.$$,o=i.fragment,a=i.after_update;o&&o.m(e,t),r||dl(function(){var s,l=n.$$.on_mount.map(r8).filter(oo);n.$$.on_destroy?(s=n.$$.on_destroy).push.apply(s,Ut(l)):Xn(l),n.$$.on_mount=[]}),a.forEach(dl)}function _e(n,e){var t=n.$$;t.fragment!==null&&(Xn(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function S9e(n,e){n.$$.dirty[0]===-1&&(fd.push(n),d8(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function Lt(n,e,t,r,i,o,a){var s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[-1],l=Zd;Ad(n);var u=n.$$={fragment:null,ctx:[],props:o,update:Ze,not_equal:i,bound:PA(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:PA(),dirty:s,skip_bound:!1,root:e.target||l.$$.root};a&&a(u.root);var c=!1;if(u.ctx=t?t(n,e.props||{},function(d,h){var v=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:h;return u.ctx&&i(u.ctx[d],u.ctx[d]=v)&&(!u.skip_bound&&u.bound[d]&&u.bound[d](v),c&&S9e(n,d)),h}):[],u.update(),c=!0,Xn(u.before_update),u.fragment=!!r&&r(u.ctx),e.target){if(e.hydrate){var f=m9e(e.target);u.fragment&&u.fragment.l(f),f.forEach(he)}else u.fragment&&u.fragment.c();e.intro&&J(n.$$.fragment),Ae(n,e.target,e.anchor,e.customElement),h8()}Ad(l)}var It=function(){function n(){re(this,n)}return ie(n,[{key:"$destroy",value:function(){_e(this,1),this.$destroy=Ze}},{key:"$on",value:function(e,t){if(!oo(t))return Ze;var r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),function(){var i=r.indexOf(t);i!==-1&&r.splice(i,1)}}},{key:"$set",value:function(e){var t;this.$$set&&(t=e,Object.keys(t).length!==0)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}]),n}(),T9e=function(n){De(t,It);var e=Re(t);function t(r){if(re(this,t),!r||!r.target&&!r.$$inline)throw new Error("'target' is a required option");return e.call(this)}return ie(t,[{key:"$destroy",value:function(){vn(sn(t.prototype),"$destroy",this).call(this),this.$destroy=function(){console.warn("Component was already destroyed")}}},{key:"$capture_state",value:function(){}},{key:"$inject_state",value:function(){}}]),t}();(function(n){De(t,T9e);var e=Re(t);function t(r){return re(this,t),e.call(this,r)}return ie(t)})();function Li(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!!E9e("debug");if(e){var t=M9e(n);return function(){for(var r,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];(r=console).log.apply(r,["%c".concat(n),"color:".concat(t)].concat(o))}}return O9e}function O9e(){}function E9e(n){try{if(typeof window!="undefined"&&window.localStorage!==void 0)return window.localStorage[n]}catch{}}function M9e(n){for(var e=0,t=0;t<n.length;t++)e=(e<<5)-e+n.charCodeAt(t),e|=0;return BA[Math.abs(e)%BA.length]}var BA=["#0000CC","#0099FF","#009400","#8dd200","#CCCC00","#CC9933","#ae04e7","#ff35d7","#FF3333","#FF6600","#FF9933","#FFCC33"];function $9e(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.delay,r=t===void 0?0:t,i=e.duration,o=i===void 0?400:i,a=e.easing,s=a===void 0?n8:a,l=+getComputedStyle(n).opacity;return{delay:r,duration:o,easing:s,css:function(u){return"opacity: ".concat(u*l)}}}var A9e=wx.window;function _9e(n){Gt(n,"svelte-n7cvum",`.svelte-n7cvum{box-sizing:border-box}.bg.svelte-n7cvum{position:fixed;z-index:1000;top:0;left:0;display:flex;flex-direction:column;justify-content:center;width:100vw;height:100vh;background:rgba(0, 0, 0, 0.66)}@supports (-webkit-touch-callout: none){}.wrap.svelte-n7cvum{position:relative;margin:2rem;max-height:100%}.window.svelte-n7cvum{position:relative;width:40rem;max-width:100%;max-height:100%;margin:2rem auto;color:black;border-radius:0.5rem;background:white}.content.svelte-n7cvum{position:relative;padding:1rem;max-height:calc(100vh - 4rem);overflow:auto}.close.svelte-n7cvum{display:block;box-sizing:border-box;position:absolute;z-index:1000;top:1rem;right:1rem;margin:0;padding:0;width:1.5rem;height:1.5rem;border:0;color:black;border-radius:1.5rem;background:white;box-shadow:0 0 0 1px black;transition:transform 0.2s cubic-bezier(0.25, 0.1, 0.25, 1),
      background 0.2s cubic-bezier(0.25, 0.1, 0.25, 1);-webkit-appearance:none}.close.svelte-n7cvum:before,.close.svelte-n7cvum:after{content:'';display:block;box-sizing:border-box;position:absolute;top:50%;width:1rem;height:1px;background:black;transform-origin:center;transition:height 0.2s cubic-bezier(0.25, 0.1, 0.25, 1),
      background 0.2s cubic-bezier(0.25, 0.1, 0.25, 1)}.close.svelte-n7cvum:before{-webkit-transform:translate(0, -50%) rotate(45deg);-moz-transform:translate(0, -50%) rotate(45deg);transform:translate(0, -50%) rotate(45deg);left:0.25rem}.close.svelte-n7cvum:after{-webkit-transform:translate(0, -50%) rotate(-45deg);-moz-transform:translate(0, -50%) rotate(-45deg);transform:translate(0, -50%) rotate(-45deg);left:0.25rem}.close.svelte-n7cvum:hover{background:black}.close.svelte-n7cvum:hover:before,.close.svelte-n7cvum:hover:after{height:2px;background:white}.close.svelte-n7cvum:focus{border-color:#3399ff;box-shadow:0 0 0 2px #3399ff}.close.svelte-n7cvum:active{transform:scale(0.9)}.close.svelte-n7cvum:hover,.close.svelte-n7cvum:focus,.close.svelte-n7cvum:active{outline:none}`)}function zA(n){var e,t,r,i,o,a,s,l,u,c,f,d,h,v,p,m,g,y=n[1].closeButton&&qA(n),b=n[2];return b&&(a=ur(b,{})),{c:function(){e=ee("div"),t=ee("div"),r=ee("div"),y&&y.c(),i=je(),o=ee("div"),a&&Ne(a.$$.fragment),E(o,"class",s=Mr(n[1].classContent)+" svelte-n7cvum"),E(o,"style",n[9]),Ve(o,"content",!n[0]),E(r,"class",l=Mr(n[1].classWindow)+" svelte-n7cvum"),E(r,"role","dialog"),E(r,"aria-modal","true"),E(r,"aria-label",u=n[1].ariaLabelledBy?null:n[1].ariaLabel||null),E(r,"aria-labelledby",c=n[1].ariaLabelledBy||null),E(r,"style",n[8]),Ve(r,"window",!n[0]),E(t,"class",d=Mr(n[1].classWindowWrap)+" svelte-n7cvum"),E(t,"style",n[7]),Ve(t,"wrap",!n[0]),E(e,"class",h=Mr(n[1].classBg)+" svelte-n7cvum"),E(e,"style",n[6]),Ve(e,"bg",!n[0])},m:function(w,k){me(w,e,k),W(e,t),W(t,r),y&&y.m(r,null),W(r,i),W(r,o),a&&Ae(a,o,null),n[49](r),n[50](t),n[51](e),p=!0,m||(g=[Be(r,"introstart",function(){oo(n[13])&&n[13].apply(this,arguments)}),Be(r,"outrostart",function(){oo(n[14])&&n[14].apply(this,arguments)}),Be(r,"introend",function(){oo(n[15])&&n[15].apply(this,arguments)}),Be(r,"outroend",function(){oo(n[16])&&n[16].apply(this,arguments)}),Be(e,"mousedown",n[20]),Be(e,"mouseup",n[21])],m=!0)},p:function(w,k){if((n=w)[1].closeButton?y?(y.p(n,k),2&k[0]&&J(y,1)):((y=qA(n)).c(),J(y,1),y.m(r,i)):y&&(Je(),Y(y,1,1,function(){y=null}),Ge()),b!==(b=n[2])){if(a){Je();var x=a;Y(x.$$.fragment,1,0,function(){_e(x,1)}),Ge()}b?(Ne((a=ur(b,{})).$$.fragment),J(a.$$.fragment,1),Ae(a,o,null)):a=null}(!p||2&k[0]&&s!==(s=Mr(n[1].classContent)+" svelte-n7cvum"))&&E(o,"class",s),(!p||512&k[0])&&E(o,"style",n[9]),(!p||3&k[0])&&Ve(o,"content",!n[0]),(!p||2&k[0]&&l!==(l=Mr(n[1].classWindow)+" svelte-n7cvum"))&&E(r,"class",l),(!p||2&k[0]&&u!==(u=n[1].ariaLabelledBy?null:n[1].ariaLabel||null))&&E(r,"aria-label",u),(!p||2&k[0]&&c!==(c=n[1].ariaLabelledBy||null))&&E(r,"aria-labelledby",c),(!p||256&k[0])&&E(r,"style",n[8]),(!p||3&k[0])&&Ve(r,"window",!n[0]),(!p||2&k[0]&&d!==(d=Mr(n[1].classWindowWrap)+" svelte-n7cvum"))&&E(t,"class",d),(!p||128&k[0])&&E(t,"style",n[7]),(!p||3&k[0])&&Ve(t,"wrap",!n[0]),(!p||2&k[0]&&h!==(h=Mr(n[1].classBg)+" svelte-n7cvum"))&&E(e,"class",h),(!p||64&k[0])&&E(e,"style",n[6]),(!p||3&k[0])&&Ve(e,"bg",!n[0])},i:function(w){p||(J(y),a&&J(a.$$.fragment,w),dl(function(){f||(f=xp(r,n[12],n[1].transitionWindowProps,!0)),f.run(1)}),dl(function(){v||(v=xp(e,n[11],n[1].transitionBgProps,!0)),v.run(1)}),p=!0)},o:function(w){Y(y),a&&Y(a.$$.fragment,w),f||(f=xp(r,n[12],n[1].transitionWindowProps,!1)),f.run(0),v||(v=xp(e,n[11],n[1].transitionBgProps,!1)),v.run(0),p=!1},d:function(w){w&&he(e),y&&y.d(),a&&_e(a),n[49](null),w&&f&&f.end(),n[50](null),n[51](null),w&&v&&v.end(),m=!1,Xn(g)}}}function qA(n){var e,t,r,i,o,a=[I9e,N9e],s=[];function l(u,c){return 2&c[0]&&(e=null),e==null&&(e=!!u[17](u[1].closeButton)),e?0:1}return t=l(n,[-1,-1,-1]),r=s[t]=a[t](n),{c:function(){r.c(),i=kn()},m:function(u,c){s[t].m(u,c),me(u,i,c),o=!0},p:function(u,c){var f=t;(t=l(u,c))===f?s[t].p(u,c):(Je(),Y(s[f],1,1,function(){s[f]=null}),Ge(),(r=s[t])?r.p(u,c):(r=s[t]=a[t](u)).c(),J(r,1),r.m(i.parentNode,i))},i:function(u){o||(J(r),o=!0)},o:function(u){Y(r),o=!1},d:function(u){s[t].d(u),u&&he(i)}}}function N9e(n){var e,t,r,i;return{c:function(){E(e=ee("button"),"class",t=Mr(n[1].classCloseButton)+" svelte-n7cvum"),E(e,"aria-label","Close modal"),E(e,"style",n[10]),E(e,"type","button"),Ve(e,"close",!n[0])},m:function(o,a){me(o,e,a),r||(i=Be(e,"click",n[18]),r=!0)},p:function(o,a){2&a[0]&&t!==(t=Mr(o[1].classCloseButton)+" svelte-n7cvum")&&E(e,"class",t),1024&a[0]&&E(e,"style",o[10]),3&a[0]&&Ve(e,"close",!o[0])},i:Ze,o:Ze,d:function(o){o&&he(e),r=!1,i()}}}function I9e(n){var e,t,r,i=n[1].closeButton;function o(a){return{props:{onClose:a[18]}}}return i&&(e=ur(i,o(n))),{c:function(){e&&Ne(e.$$.fragment),t=kn()},m:function(a,s){e&&Ae(e,a,s),me(a,t,s),r=!0},p:function(a,s){if(i!==(i=a[1].closeButton)){if(e){Je();var l=e;Y(l.$$.fragment,1,0,function(){_e(l,1)}),Ge()}i?(Ne((e=ur(i,o(a))).$$.fragment),J(e.$$.fragment,1),Ae(e,t.parentNode,t)):e=null}},i:function(a){r||(e&&J(e.$$.fragment,a),r=!0)},o:function(a){e&&Y(e.$$.fragment,a),r=!1},d:function(a){a&&he(t),e&&_e(e,a)}}}function P9e(n){var e,t,r,i,o=n[2]&&zA(n),a=n[48].default,s=ia(a,n,n[47],null);return{c:function(){o&&o.c(),e=je(),s&&s.c()},m:function(l,u){o&&o.m(l,u),me(l,e,u),s&&s.m(l,u),t=!0,r||(i=Be(A9e,"keydown",n[19]),r=!0)},p:function(l,u){l[2]?o?(o.p(l,u),4&u[0]&&J(o,1)):((o=zA(l)).c(),J(o,1),o.m(e.parentNode,e)):o&&(Je(),Y(o,1,1,function(){o=null}),Ge()),s&&s.p&&(!t||65536&u[1])&&aa(s,a,l,l[47],t?oa(a,l[47],u,null):sa(l[47]),null)},i:function(l){t||(J(o),J(s,l),t=!0)},o:function(l){Y(o),Y(s,l),t=!1},d:function(l){o&&o.d(l),l&&he(e),s&&s.d(l),r=!1,i()}}}function L9e(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(t){return new n($e($e({},t),{},{props:$e($e({},e),t.props)}))}}function D9e(n,e,t){var r,i,o,a,s,l,u,c,f,d,h,v,p,m,g,y=e.$$slots,b=y===void 0?{}:y,w=e.$$scope,k=Bg(),x=c8,C=e.isTabbable,T=C===void 0?function(ze){return ze.tabIndex>=0&&!ze.hidden&&!ze.disabled&&ze.style.display!=="none"&&ze.type!=="hidden"&&Boolean(ze.offsetWidth||ze.offsetHeight||ze.getClientRects().length)}:C,M=e.show,B=M===void 0?null:M,_=e.key,N=_===void 0?"simple-modal":_,$=e.ariaLabel,j=$===void 0?null:$,D=e.ariaLabelledBy,q=D===void 0?null:D,R=e.closeButton,G=R===void 0||R,A=e.closeOnEsc,I=A===void 0||A,z=e.closeOnOuterClick,F=z===void 0||z,L=e.styleBg,O=L===void 0?{}:L,V=e.styleWindowWrap,Z=V===void 0?{}:V,te=e.styleWindow,ve=te===void 0?{}:te,ue=e.styleContent,ge=ue===void 0?{}:ue,P=e.styleCloseButton,S=P===void 0?{}:P,ae=e.classBg,ce=ae===void 0?null:ae,ne=e.classWindowWrap,ye=ne===void 0?null:ne,Ce=e.classWindow,Se=Ce===void 0?null:Ce,Ue=e.classContent,pt=Ue===void 0?null:Ue,Ke=e.classCloseButton,Me=Ke===void 0?null:Ke,et=e.unstyled,le=et!==void 0&&et,be=e.setContext,Le=be===void 0?x:be,Ee=e.transitionBg,ct=Ee===void 0?$9e:Ee,it=e.transitionBgProps,at=it===void 0?{duration:250}:it,Bt=e.transitionWindow,zt=Bt===void 0?ct:Bt,H=e.transitionWindowProps,U=H===void 0?at:H,se=e.disableFocusTrap,Q=se!==void 0&&se,we={ariaLabel:j,ariaLabelledBy:q,closeButton:G,closeOnEsc:I,closeOnOuterClick:F,styleBg:O,styleWindowWrap:Z,styleWindow:ve,styleContent:ge,styleCloseButton:S,classBg:ce,classWindowWrap:ye,classWindow:Se,classContent:pt,classCloseButton:Me,transitionBg:ct,transitionBgProps:at,transitionWindow:zt,transitionWindowProps:U,disableFocusTrap:Q,isTabbable:T,unstyled:le},Oe=$e({},we),Fe=null,Xe=function(ze){return ze?Object.keys(ze).reduce(function(xn,Mn){return"".concat(xn,"; ").concat(function(cn){return cn.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase()}(Mn),": ").concat(ze[Mn])},""):""},nt=function(ze){return!!(ze&&ze.constructor&&ze.call&&ze.apply)},jt=function(){t(6,s=Xe(Object.assign({},{width:window.innerWidth,height:window.innerHeight},Oe.styleBg))),t(7,l=Xe(Oe.styleWindowWrap)),t(8,u=Xe(Oe.styleWindow)),t(9,c=Xe(Oe.styleContent)),t(10,f=Xe(Oe.styleCloseButton)),t(11,d=Oe.transitionBg),t(12,h=Oe.transitionWindow)},Vt=function(){},st=Vt,Xt=Vt,Ft=Vt,fn=Vt,Ht=function(ze){var xn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Mn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},cn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};t(2,Fe=L9e(ze,xn)),t(1,Oe=$e($e({},we),Mn)),jt(),sr(),t(13,st=function(lt){cn.onOpen&&cn.onOpen(lt),k("open"),k("opening")}),t(14,Xt=function(lt){cn.onClose&&cn.onClose(lt),k("close"),k("closing")}),t(15,Ft=function(lt){cn.onOpened&&cn.onOpened(lt),k("opened")}),t(16,fn=function(lt){cn.onClosed&&cn.onClosed(lt),k("closed")})},tn=function(){var ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Fe&&(t(14,Xt=ze.onClose||Xt),t(16,fn=ze.onClosed||fn),t(2,Fe=null),Bn())},sr=function(){a=window.scrollY,v=document.body.style.position,p=document.body.style.overflow,m=document.body.style.width,document.body.style.position="fixed",document.body.style.top="-".concat(a,"px"),document.body.style.overflow="hidden",document.body.style.width="100%"},Bn=function(){document.body.style.position=v||"",document.body.style.top="",document.body.style.overflow=p||"",document.body.style.width=m||"",window.scrollTo(0,a)};Le(N,{open:Ht,close:tn});var An=!1;return fl(function(){An&&tn()}),fo(function(){t(46,An=!0)}),n.$$set=function(ze){"isTabbable"in ze&&t(22,T=ze.isTabbable),"show"in ze&&t(23,B=ze.show),"key"in ze&&t(24,N=ze.key),"ariaLabel"in ze&&t(25,j=ze.ariaLabel),"ariaLabelledBy"in ze&&t(26,q=ze.ariaLabelledBy),"closeButton"in ze&&t(27,G=ze.closeButton),"closeOnEsc"in ze&&t(28,I=ze.closeOnEsc),"closeOnOuterClick"in ze&&t(29,F=ze.closeOnOuterClick),"styleBg"in ze&&t(30,O=ze.styleBg),"styleWindowWrap"in ze&&t(31,Z=ze.styleWindowWrap),"styleWindow"in ze&&t(32,ve=ze.styleWindow),"styleContent"in ze&&t(33,ge=ze.styleContent),"styleCloseButton"in ze&&t(34,S=ze.styleCloseButton),"classBg"in ze&&t(35,ce=ze.classBg),"classWindowWrap"in ze&&t(36,ye=ze.classWindowWrap),"classWindow"in ze&&t(37,Se=ze.classWindow),"classContent"in ze&&t(38,pt=ze.classContent),"classCloseButton"in ze&&t(39,Me=ze.classCloseButton),"unstyled"in ze&&t(0,le=ze.unstyled),"setContext"in ze&&t(40,Le=ze.setContext),"transitionBg"in ze&&t(41,ct=ze.transitionBg),"transitionBgProps"in ze&&t(42,at=ze.transitionBgProps),"transitionWindow"in ze&&t(43,zt=ze.transitionWindow),"transitionWindowProps"in ze&&t(44,U=ze.transitionWindowProps),"disableFocusTrap"in ze&&t(45,Q=ze.disableFocusTrap),"$$scope"in ze&&t(47,w=ze.$$scope)},n.$$.update=function(){8388608&n.$$.dirty[0]|32768&n.$$.dirty[1]&&An&&(nt(B)?Ht(B):tn())},[le,Oe,Fe,r,i,o,s,l,u,c,f,d,h,st,Xt,Ft,fn,nt,tn,function(ze){if(Oe.closeOnEsc&&Fe&&ze.key==="Escape"&&(ze.preventDefault(),tn()),Fe&&ze.key==="Tab"&&!Oe.disableFocusTrap){var xn=o.querySelectorAll("*"),Mn=Array.from(xn).filter(Oe.isTabbable).sort(function(lt,xe){return lt.tabIndex-xe.tabIndex}),cn=Mn.indexOf(document.activeElement);cn===-1&&ze.shiftKey&&(cn=0),cn+=Mn.length+(ze.shiftKey?-1:1),Mn[cn%=Mn.length].focus(),ze.preventDefault()}},function(ze){!Oe.closeOnOuterClick||ze.target!==r&&ze.target!==i||(g=ze.target)},function(ze){Oe.closeOnOuterClick&&ze.target===g&&(ze.preventDefault(),tn())},T,B,N,j,q,G,I,F,O,Z,ve,ge,S,ce,ye,Se,pt,Me,Le,ct,at,zt,U,Q,An,w,b,function(ze){en[ze?"unshift":"push"](function(){t(5,o=ze)})},function(ze){en[ze?"unshift":"push"](function(){t(4,i=ze)})},function(ze){en[ze?"unshift":"push"](function(){t(3,r=ze)})}]}var R9e=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,D9e,P9e,Or,{isTabbable:22,show:23,key:24,ariaLabel:25,ariaLabelledBy:26,closeButton:27,closeOnEsc:28,closeOnOuterClick:29,styleBg:30,styleWindowWrap:31,styleWindow:32,styleContent:33,styleCloseButton:34,classBg:35,classWindowWrap:36,classWindow:37,classContent:38,classCloseButton:39,unstyled:0,setContext:40,transitionBg:41,transitionBgProps:42,transitionWindow:43,transitionWindowProps:44,disableFocusTrap:45},_9e,[-1,-1,-1]),i}return ie(t)}(),ju=[{start:0,end:100}],ym={closeButton:!1,classBg:"jse-modal-bg",classWindow:"jse-modal-window",classWindowWrap:"jse-modal-window-wrap",classContent:"jse-modal-content"},B9e=$e($e({},ym),{},{classWindow:"jse-modal-window jse-modal-window-sort"}),z9e=$e($e({},ym),{},{classWindow:"jse-modal-window jse-modal-window-transform"}),kx="Insert or paste contents, enter [ insert a new array, enter { to insert a new object, or start typing to insert a new value",p8="Open context menu (Click here, right click on the selection, or use the context menu button or Ctrl+Q)",q9e="NO",xx="SELF",jx="NEXT_INSIDE",F9e=0;function _d(){return++F9e}function H9e(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var de={exports:{}};(function(n){function e(le){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(be){return typeof be}:function(be){return be&&typeof Symbol=="function"&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be},e(le)}function t(le){return Array.isArray(le)}function r(le){return le!==null&&e(le)==="object"&&le.constructor===Object}function i(le){return!(!le||e(le)!=="object")&&typeof le.op=="string"}function o(le){return!(!le||e(le)!=="object")&&le.op==="add"}function a(le){return!(!le||e(le)!=="object")&&le.op==="remove"}function s(le){return!(!le||e(le)!=="object")&&le.op==="replace"}function l(le){return!(!le||e(le)!=="object")&&le.op==="copy"}function u(le){return!(!le||e(le)!=="object")&&le.op==="move"}function c(le){return!(!le||e(le)!=="object")&&le.op==="test"}function f(le){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(be){return typeof be}:function(be){return be&&typeof Symbol=="function"&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be},f(le)}function d(le,be){return JSON.stringify(le)===JSON.stringify(be)}function h(le,be){return le===be}function v(le){return le.slice(0,le.length-1)}function p(le){return le[le.length-1]}function m(le,be){var Le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h;if(le.length<be.length)return!1;for(var Ee=0;Ee<be.length;Ee++)if(!Le(le[Ee],be[Ee]))return!1;return!0}function g(le){return f(le)==="object"&&le!==null}function y(le,be){var Le=Object.keys(le);if(Object.getOwnPropertySymbols){var Ee=Object.getOwnPropertySymbols(le);be&&(Ee=Ee.filter(function(ct){return Object.getOwnPropertyDescriptor(le,ct).enumerable})),Le.push.apply(Le,Ee)}return Le}function b(le){for(var be=1;be<arguments.length;be++){var Le=arguments[be]!=null?arguments[be]:{};be%2?y(Object(Le),!0).forEach(function(Ee){w(le,Ee,Le[Ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(le,Object.getOwnPropertyDescriptors(Le)):y(Object(Le)).forEach(function(Ee){Object.defineProperty(le,Ee,Object.getOwnPropertyDescriptor(Le,Ee))})}return le}function w(le,be,Le){return be in le?Object.defineProperty(le,be,{value:Le,enumerable:!0,configurable:!0,writable:!0}):le[be]=Le,le}function k(le){if(t(le)){var be=le.slice();return Object.getOwnPropertySymbols(le).forEach(function(Ee){be[Ee]=le[Ee]}),be}if(r(le)){var Le=b({},le);return Object.getOwnPropertySymbols(le).forEach(function(Ee){Le[Ee]=le[Ee]}),Le}return le}function x(le,be,Le){if(le[be]===Le)return le;var Ee=k(le);return Ee[be]=Le,Ee}function C(le,be){for(var Le=le,Ee=0;Ee<be.length;)Le=r(Le)?Le[be[Ee]]:t(Le)?Le[parseInt(be[Ee])]:void 0,Ee++;return Le}function T(le,be,Le){var Ee=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(be.length===0)return Le;var ct=be[0],it=T(le?le[ct]:void 0,be.slice(1),Le,Ee);if(r(le)||t(le))return x(le,ct,it);if(Ee){var at=M.test(ct)?[]:{};return at[ct]=it,at}throw new Error("Path does not exist")}var M=/^\d+$/;function B(le,be,Le){if(be.length===0)return Le(le);if(!g(le))throw new Error("Path doesn't exist");var Ee=be[0];return x(le,Ee,B(le[Ee],be.slice(1),Le))}function _(le,be){if(be.length===0)return le;if(!g(le))throw new Error("Path does not exist");if(be.length===1){var Le=be[0];if(Le in le){var Ee=k(le);return t(Ee)&&Ee.splice(parseInt(Le),1),r(Ee)&&delete Ee[Le],Ee}return le}var ct=be[0];return x(le,ct,_(le[ct],be.slice(1)))}function N(le,be,Le){var Ee=be.slice(0,be.length-1),ct=be[be.length-1];return B(le,Ee,function(it){if(!Array.isArray(it))throw new TypeError("Array expected at path "+JSON.stringify(Ee));var at=k(it);return at.splice(parseInt(ct),0,Le),at})}function $(le,be){var Le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],Ee=be(le,Le);if(t(Ee)){for(var ct,it=0;it<Ee.length;it++){var at=Ee[it],Bt=$(at,be,Le.concat(it+""));Bt!==at&&(ct||(ct=k(Ee)),ct[it]=Bt)}return ct||Ee}if(r(Ee)){var zt;for(var H in Ee)if(Object.hasOwnProperty.call(Ee,H)){var U=Ee[H],se=$(U,be,Le.concat(H));se!==U&&(zt||(zt=k(Ee)),zt[H]=se)}return zt||Ee}return Ee}function j(le,be){return le!==void 0&&(be.length===0||le!==null&&j(le[be[0]],be.slice(1)))}function D(le){var be=le.split("/");return be.shift(),be.map(function(Le){return Le.replace(/~1/g,"/").replace(/~0/g,"~")})}function q(le){return le.map(R).join("")}function R(le){return"/"+String(le).replace(/~/g,"~0").replace(/\//g,"~1")}function G(le,be){return le+R(be)}function A(le,be){return le.startsWith(be)&&(le.length===be.length||le[be.length]==="/")}function I(le,be,Le){for(var Ee=le,ct=0;ct<be.length;ct++){ue(be[ct]);var it=be[ct];if(Le&&Le.before){var at=Le.before(Ee,it);if(at!==void 0){if(at.document!==void 0&&(Ee=at.document),at.json!==void 0)throw new Error('Deprecation warning: returned object property ".json" has been renamed to ".document"');at.operation!==void 0&&(it=at.operation)}}var Bt=Ee,zt=ge(Ee,it.path);if(it.op==="add")Ee=L(Ee,zt,it.value);else if(it.op==="remove")Ee=F(Ee,zt);else if(it.op==="replace")Ee=z(Ee,zt,it.value);else if(it.op==="copy")Ee=O(Ee,zt,P(it.from));else if(it.op==="move")Ee=V(Ee,zt,P(it.from));else{if(it.op!=="test")throw new Error("Unknown JSONPatch operation "+JSON.stringify(it));Z(Ee,zt,it.value)}if(Le&&Le.after){var H=Le.after(Ee,it,Bt);H!==void 0&&(Ee=H)}}return Ee}function z(le,be,Le){return T(le,be,Le)}function F(le,be){return _(le,be)}function L(le,be,Le){return te(le,be)?N(le,be,Le):T(le,be,Le)}function O(le,be,Le){var Ee=C(le,Le);return te(le,be)?N(le,be,Ee):T(le,be,C(le,Le))}function V(le,be,Le){var Ee=C(le,Le),ct=_(le,Le);return te(ct,be)?N(ct,be,Ee):T(ct,be,Ee)}function Z(le,be,Le){if(Le===void 0)throw new Error('Test failed: no value provided (path: "'.concat(q(be),'")'));if(!j(le,be))throw new Error('Test failed: path not found (path: "'.concat(q(be),'")'));if(!d(C(le,be),Le))throw new Error('Test failed, value differs (path: "'.concat(q(be),'")'))}function te(le,be){if(be.length===0)return!1;var Le=C(le,v(be));return Array.isArray(Le)}function ve(le,be){if(p(be)!=="-")return be;var Le=v(be),Ee=C(le,Le);return Le.concat(Ee.length)}function ue(le){if(!["add","remove","replace","copy","move","test"].includes(le.op))throw new Error("Unknown JSONPatch op "+JSON.stringify(le.op));if(typeof le.path!="string")throw new Error('Required property "path" missing or not a string in operation '+JSON.stringify(le));if((le.op==="copy"||le.op==="move")&&typeof le.from!="string")throw new Error('Required property "from" missing or not a string in operation '+JSON.stringify(le))}function ge(le,be){return ve(le,D(be))}function P(le){return D(le)}function S(le){return ye(le)||ne(le)||ce(le)||ae()}function ae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ce(le,be){if(le){if(typeof le=="string")return Ce(le,be);var Le=Object.prototype.toString.call(le).slice(8,-1);return Le==="Object"&&le.constructor&&(Le=le.constructor.name),Le==="Map"||Le==="Set"?Array.from(le):Le==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Le)?Ce(le,be):void 0}}function ne(le){if(typeof Symbol!="undefined"&&le[Symbol.iterator]!=null||le["@@iterator"]!=null)return Array.from(le)}function ye(le){if(Array.isArray(le))return Ce(le)}function Ce(le,be){(be==null||be>le.length)&&(be=le.length);for(var Le=0,Ee=new Array(be);Le<be;Le++)Ee[Le]=le[Le];return Ee}function Se(le,be,Le){var Ee=[];return I(le,be,{before:function(ct,it){var at,Bt,zt=ge(ct,it.path);if(it.op==="add")at=Ke(ct,zt);else if(it.op==="remove")at=pt(ct,zt);else if(it.op==="replace")at=Ue(ct,zt);else if(it.op==="copy")at=Me(ct,zt);else if(it.op==="move")at=et(ct,zt,P(it.from));else{if(it.op!=="test")throw new Error("Unknown JSONPatch operation "+JSON.stringify(it));at=[]}if(Le&&Le.before){var H=Le.before(ct,it,at);if(H&&H.revertOperations&&(at=H.revertOperations),H&&H.document&&(Bt=H.document),H&&H.json)throw new Error('Deprecation warning: returned object property ".json" has been renamed to ".document"')}if(Ee=at.concat(Ee),Bt!==void 0)return{document:Bt}}}),Ee}function Ue(le,be){return[{op:"replace",path:q(be),value:C(le,be)}]}function pt(le,be){return[{op:"add",path:q(be),value:C(le,be)}]}function Ke(le,be){return te(le,be)||!j(le,be)?[{op:"remove",path:q(be)}]:Ue(le,be)}function Me(le,be){return Ke(le,be)}function et(le,be,Le){if(be.length<Le.length&&m(Le,be))return[{op:"replace",path:q(be),value:le}];var Ee={op:"move",from:q(be),path:q(Le)};return!te(le,be)&&j(le,be)?[Ee].concat(S(pt(le,be))):[Ee]}n.appendToJSONPointer=G,n.compileJSONPointer=q,n.compileJSONPointerProp=R,n.deleteIn=_,n.existsIn=j,n.getIn=C,n.immutableJSONPatch=I,n.insertAt=N,n.isJSONArray=t,n.isJSONObject=r,n.isJSONPatchAdd=o,n.isJSONPatchCopy=l,n.isJSONPatchMove=u,n.isJSONPatchOperation=i,n.isJSONPatchRemove=a,n.isJSONPatchReplace=s,n.isJSONPatchTest=c,n.parseFrom=P,n.parseJSONPointer=D,n.parsePath=ge,n.revertJSONPatch=Se,n.setIn=T,n.startsWithJSONPointer=A,n.transform=$,n.updateIn=B,Object.defineProperty(n,"__esModule",{value:!0})})(de.exports);var bm={},FA={b:"\b",f:"\f",n:`
`,r:"\r",t:"	",'"':'"',"/":"/","\\":"\\"},V9e="a".charCodeAt();bm.parse=function(n,e,t){var r={},i=0,o=0,a=0,s=t&&t.bigint&&typeof BigInt!="undefined";return{data:l("",!0),pointers:r};function l(x,C){var T;u(),m(x,"value");var M=d();switch(M){case"t":f("rue"),T=!0;break;case"f":f("alse"),T=!1;break;case"n":f("ull"),T=null;break;case'"':T=c();break;case"[":T=function(B){u();var _=[],N=0;if(d()=="]")return _;for(h();;){var $=B+"/"+N;_.push(l($)),u();var j=d();if(j=="]")break;j!=","&&w(),u(),N++}return _}(x);break;case"{":T=function(B){u();var _={};if(d()=="}")return _;for(h();;){var N=y();d()!='"'&&w();var $=c(),j=B+"/"+_y($);g(j,"key",N),m(j,"keyEnd"),u(),d()!=":"&&w(),u(),_[$]=l(j),u();var D=d();if(D=="}")break;D!=","&&w(),u()}return _}(x);break;default:h(),"-0123456789".indexOf(M)>=0?T=function(){var B="",_=!0;n[a]=="-"&&(B+=d()),B+=n[a]=="0"?d():p(),n[a]=="."&&(B+=d()+p(),_=!1),n[a]!="e"&&n[a]!="E"||(B+=d(),n[a]!="+"&&n[a]!="-"||(B+=d()),B+=p(),_=!1);var N=+B;return s&&_&&(N>Number.MAX_SAFE_INTEGER||N<Number.MIN_SAFE_INTEGER)?BigInt(B):N}():b()}return m(x,"valueEnd"),u(),C&&a<n.length&&b(),T}function u(){e:for(;a<n.length;){switch(n[a]){case" ":o++;break;case"	":o+=4;break;case"\r":o=0;break;case`
`:o=0,i++;break;default:break e}a++}}function c(){for(var x,C="";(x=d())!='"';)x=="\\"?(x=d())in FA?C+=FA[x]:x=="u"?C+=v():w():C+=x;return C}function f(x){for(var C=0;C<x.length;C++)d()!==x[C]&&w()}function d(){k();var x=n[a];return a++,o++,x}function h(){a--,o--}function v(){for(var x=4,C=0;x--;){C<<=4;var T=d().toLowerCase();T>="a"&&T<="f"?C+=T.charCodeAt()-V9e+10:T>="0"&&T<="9"?C+=+T:w()}return String.fromCharCode(C)}function p(){for(var x="";n[a]>="0"&&n[a]<="9";)x+=d();if(x.length)return x;k(),b()}function m(x,C){g(x,C,y())}function g(x,C,T){r[x]=r[x]||{},r[x][C]=T}function y(){return{line:i,column:o,pos:a}}function b(){throw new SyntaxError("Unexpected token "+n[a]+" in JSON at position "+a)}function w(){h(),b()}function k(){if(a>=n.length)throw new SyntaxError("Unexpected end of JSON input")}},bm.stringify=function(n,e,t){if(jp(n)){var r,i,o=0,a=mt(t)=="object"?t.space:t;switch(mt(a)){case"number":var s=a>10?10:a<0?0:Math.floor(a);a=s&&y(s," "),r=s,i=s;break;case"string":a=a.slice(0,10),r=0,i=0;for(var l=0;l<a.length;l++){switch(a[l]){case" ":i++;break;case"	":i+=4;break;case"\r":i=0;break;case`
`:i=0,o++;break;default:throw new Error("whitespace characters not allowed in JSON")}r++}break;default:a=void 0}var u="",c={},f=0,d=0,h=0,v=t&&t.es6&&typeof Map=="function";return function b(w,k,x){switch(g(x,"value"),mt(w)){case"number":case"bigint":case"boolean":p(""+w);break;case"string":p(Cp(w));break;case"object":w===null?p("null"):typeof w.toJSON=="function"?p(Cp(w.toJSON())):Array.isArray(w)?C():v?w.constructor.BYTES_PER_ELEMENT?C():w instanceof Map?M():w instanceof Set?M(!0):T():T()}function C(){if(w.length){p("[");for(var B=k+1,_=0;_<w.length;_++){_&&p(","),m(B);var N=jp(w[_])?w[_]:null;b(N,B,x+"/"+_)}m(k),p("]")}else p("[]")}function T(){var B=Object.keys(w);if(B.length){p("{");for(var _=k+1,N=0;N<B.length;N++){var $=B[N],j=w[$];if(jp(j)){N&&p(",");var D=x+"/"+_y($);m(_),g(D,"key"),p(Cp($)),g(D,"keyEnd"),p(":"),a&&p(" "),b(j,_,D)}}m(k),p("}")}else p("{}")}function M(B){if(w.size){p("{");for(var _=k+1,N=!0,$=w.entries(),j=$.next();!j.done;){var D=j.value,q=D[0],R=!!B||D[1];if(jp(R)){N||p(","),N=!1;var G=x+"/"+_y(q);m(_),g(G,"key"),p(Cp(q)),g(G,"keyEnd"),p(":"),a&&p(" "),b(R,_,G)}j=$.next()}m(k),p("}")}else p("{}")}g(x,"valueEnd")}(n,0,""),{json:u,pointers:c}}function p(b){d+=b.length,h+=b.length,u+=b}function m(b){if(a){for(u+=`
`+y(b,a),f++,d=0;b--;)o?(f+=o,d=i):d+=i,h+=r;h+=1}}function g(b,w){c[b]=c[b]||{},c[b][w]={line:f,column:d,pos:h}}function y(b,w){return Array(b+1).join(w)}};var W9e=["number","bigint","boolean","string","object"];function jp(n){return W9e.indexOf(mt(n))>=0}var U9e=/"|\\/g,J9e=/[\b]/g,G9e=/\f/g,K9e=/\n/g,Q9e=/\r/g,Y9e=/\t/g;function Cp(n){return'"'+(n=n.replace(U9e,"\\$&").replace(G9e,"\\f").replace(J9e,"\\b").replace(K9e,"\\n").replace(Q9e,"\\r").replace(Y9e,"\\t"))+'"'}var Z9e=/~/g,X9e=/\//g;function _y(n){return n.replace(Z9e,"~0").replace(X9e,"~1")}var nl=function(){function n(O,V){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.message=O+" (char "+V+")",this.char=V,this.stack=new Error().stack}(n.prototype=new Error).constructor=Error;var e={"'":!0,"\u2018":!0,"\u2019":!0,"`":!0,"\xB4":!0},t={'"':!0,"\u201C":!0,"\u201D":!0};function r(O){return i.test(O)}var i=/^[a-zA-Z_]$/,o=/^[0-9a-fA-F]$/;function a(O){return s.test(O)}var s=/^[0-9]$/;function l(O){return O===" "||O==="	"||O===`
`||O==="\r"}function u(O){return O==="\xA0"||"\u2000"<=O&&O<="\u200A"||O==="\u202F"||O==="\u205F"||O==="\u3000"}function c(O){return e[O]===!0}function f(O){return t[O]===!0}function d(O){return e[O]===!0?"'":t[O]===!0?'"':O}function h(O,V){return(V=O.lastIndexOf(V))!==-1?O.substring(0,V)+O.substring(V+1):O}function v(O,V){var Z=O.length;if(!l(O[Z-1]))return O+V;for(;l(O[Z-1]);)Z--;return O.substring(0,Z)+V+O.substring(Z)}var p=0,m=1,g=2,y=3,b=4,w=5,k=6,x={"":!0,"{":!0,"}":!0,"[":!0,"]":!0,":":!0,",":!0,"(":!0,")":!0,";":!0,"+":!0},C={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},T={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},M={null:"null",true:"true",false:"false"},B={None:"null",True:"true",False:"false"},_="",N="",$=0,j="",D="",q=k;function R(){$++,j=_.charAt($)}function G(){R(),j==="\\"&&R()}function A(){return q===p&&(D==="["||D==="{")||q===g||q===m||q===y}function I(){N+=D,q=k,D="",x[j]?(q=p,D=j,R()):function(){if(a(j)||j==="-"){if(q=m,j==="-"){if(D+=j,R(),!a(j))throw new n("Invalid number, digit expected",$)}else j==="0"&&(D+=j,R());for(;a(j);)D+=j,R();if(j==="."){if(D+=j,R(),!a(j))throw new n("Invalid number, digit expected",$);for(;a(j);)D+=j,R()}if(j==="e"||j==="E"){if(D+=j,R(),j!=="+"&&j!=="-"||(D+=j,R()),!a(j))throw new n("Invalid number, digit expected",$);for(;a(j);)D+=j,R()}}else j==="\\"&&_.charAt($+1)==='"'?(R(),F(G)):F(R)}(),q===b&&(D=function(O){for(var V="",Z=0;Z<O.length;Z++){var te=O[Z];V+=u(te)?" ":te}return V}(D),I()),q===w&&(q=k,D="",I())}function z(){D===","&&(D="",q=k,I())}function F(O){if(e[V=j]===!0||t[V]===!0){var V=d(j),Z=c(j)?c:f;for(D+='"',q=g,O();j!==""&&!Z(j);)if(j==="\\")if(O(),C[j]!==void 0)D+="\\"+j,O();else if(j==="u"){D+="\\u",O();for(var te=0;te<4;te++){if(ve=j,!o.test(ve))throw new n("Invalid unicode character",$-D.length);D+=j,O()}}else{if(j!=="'")throw new n('Invalid escape character "\\'+j+'"',$);D+="'",O()}else T[j]?D+=T[j]:D+=j==='"'?'\\"':j,O();if(d(j)!==V)throw new n("End of string expected",$-D.length);return D+='"',void O()}var ve;(function(){if(r(j))for(q=y;r(j)||a(j)||j==="$";)D+=j,R();else(function(){if(l(j)||u(j))for(q=b;l(j)||u(j);)D+=j,R();else(function(){if(j!=="/"||_[$+1]!=="*")if(j!=="/"||_[$+1]!=="/")(function(){for(q=k;j!=="";)D+=j,R();throw new n('Syntax error in part "'+D+'"',$-D.length)})();else for(q=w;j!==""&&j!==`
`;)D+=j,R();else{for(q=w;j!==""&&(j!=="*"||j==="*"&&_[$+1]!=="/");)D+=j,R();j==="*"&&_[$+1]==="/"&&(D+=j,R(),D+=j,R())}})()})()})()}function L(){if(q!==p||D!=="{")(function(){if(q!==p||D!=="[")(function(){if(q!==g)(q!==m?function(){if(q!==y)(function(){throw new n(D===""?"Unexpected end of json string":"Value expected",$-D.length)})();else if(M[D])I();else{if(B[D])return D=B[D],I();var V=D,Z=N.length;if(D="",I(),q===p&&D==="(")return D="",I(),L(),q===p&&D===")"&&(D="",I(),q===p&&D===";"&&(D="",I()));for(N=function(te,ve,ue){return te.substring(0,ue)+ve+te.substring(ue)}(N,'"'.concat(V),Z);q===y||q===m;)I();N+='"'}}:I)();else for(I();q===p&&D==="+";){var O;D="",I(),q===g&&(O=N.lastIndexOf('"'),N=N.substring(0,O)+D.substring(1),D="",I())}})();else if(I(),q!==p||D!=="]"){for(;;)if(L(),q===p&&D===","){if(I(),q===p&&D==="]"){N=h(N,",");break}if(D===""){N=h(N,",");break}}else{if(!A())break;N=v(N,",")}q===p&&D==="]"?I():N=v(N,"]")}else I()})();else if(I(),q!==p||D!=="}"){for(;;){if(q!==y&&q!==m||(q=g,D='"'.concat(D,'"')),q!==g)throw new n("Object key expected",$-D.length);if(I(),q===p&&D===":")I();else{if(!A())throw new n("Colon expected",$-D.length);N=v(N,":")}if(L(),q===p&&D===","){if(I(),q===p&&D==="}"){N=h(N,",");break}if(D===""){N=h(N,",");break}}else{if(q!==g&&q!==m&&q!==y)break;N=v(N,",")}}q===p&&D==="}"?I():N=v(N,"}")}else I()}return function(O){N="",$=0,j=(_=O).charAt(0),D="",q=k,I();var V=q;if(L(),z(),D==="")return N;if(V===q&&A()){for(var Z="";V===q&&A();)Z+=N=v(N,","),N="",L(),z();return`[
`.concat(Z).concat(N,`
]`)}throw new n("Unexpected characters",$-D.length)}}();function Ar(n){return parseInt(n,10)}function v8(n){return e7e.test(n)}var e7e=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;function $r(n){return mt(n)==="object"&&n!==null&&n.constructor===Object}function Dr(n){return mt(n)==="object"&&n!==null&&(n.constructor===Object||n.constructor===Array)}function Eb(n){if(typeof n=="number")return n>9466848e5&&isFinite(n)&&Math.floor(n)===n&&!isNaN(new Date(n).valueOf());if(typeof n=="bigint")return Eb(Number(n));try{var e=n.valueOf();if(e!==n)return Eb(e)}catch{return!1}}function m8(n){var e=window.document.createElement("div");return e.style.color=n,e.style.color.split(/\s+/).join("").toLowerCase()||null}function g8(n,e){if(typeof n=="number"||typeof n=="string"||typeof n=="boolean"||n===void 0)return mt(n);if(typeof n=="bigint")return"number";if(n===null)return"null";if(Array.isArray(n))return"array";if($r(n))return"object";var t=e.stringify(n);return t&&v8(t)?"number":t==="true"||t==="false"?"boolean":t==="null"?"null":"unknown"}var t7e=/^https?:\/\/\S+$/;function Cx(n){return typeof n=="string"&&t7e.test(n)}function Nh(n,e){if(n==="")return"";var t=n.trim();return t==="null"?null:t==="true"||t!=="false"&&(v8(t)?e.parse(t):n)}function n7e(n){return r7e.test(n)}var r7e=/^-?[0-9]+$/,y8=(typeof global=="undefined"?"undefined":mt(global))=="object"&&global&&global.Object===Object&&global,i7e=(typeof self=="undefined"?"undefined":mt(self))=="object"&&self&&self.Object===Object&&self,Gr=y8||i7e||Function("return this")(),bi=Gr.Symbol,b8=Object.prototype,o7e=b8.hasOwnProperty,a7e=b8.toString,Qf=bi?bi.toStringTag:void 0,s7e=Object.prototype.toString,HA=bi?bi.toStringTag:void 0;function Di(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":HA&&HA in Object(n)?function(e){var t=o7e.call(e,Qf),r=e[Qf];try{e[Qf]=void 0;var i=!0}catch{}var o=a7e.call(e);return i&&(t?e[Qf]=r:delete e[Qf]),o}(n):function(e){return s7e.call(e)}(n)}function mr(n){return n!=null&&mt(n)=="object"}function Ui(n){return mt(n)=="symbol"||mr(n)&&Di(n)=="[object Symbol]"}function VA(n){return typeof n=="number"?n:Ui(n)?NaN:+n}function lr(n,e){for(var t=-1,r=n==null?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i}var Yt=Array.isArray,WA=bi?bi.prototype:void 0,UA=WA?WA.toString:void 0;function ho(n){if(typeof n=="string")return n;if(Yt(n))return lr(n,ho)+"";if(Ui(n))return UA?UA.call(n):"";var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}function Fg(n,e){return function(t,r){var i;if(t===void 0&&r===void 0)return e;if(t!==void 0&&(i=t),r!==void 0){if(i===void 0)return r;typeof t=="string"||typeof r=="string"?(t=ho(t),r=ho(r)):(t=VA(t),r=VA(r)),i=n(t,r)}return i}}var w8=Fg(function(n,e){return n+e},0),l7e=/\s/;function k8(n){for(var e=n.length;e--&&l7e.test(n.charAt(e)););return e}var u7e=/^\s+/;function x8(n){return n&&n.slice(0,k8(n)+1).replace(u7e,"")}function ar(n){var e=mt(n);return n!=null&&(e=="object"||e=="function")}var c7e=/^[-+]0x[0-9a-f]+$/i,f7e=/^0b[01]+$/i,d7e=/^0o[0-7]+$/i,h7e=parseInt;function uo(n){if(typeof n=="number")return n;if(Ui(n))return NaN;if(ar(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=ar(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=x8(n);var t=f7e.test(n);return t||d7e.test(n)?h7e(n.slice(2),t?2:8):c7e.test(n)?NaN:+n}function Ia(n){return n?(n=uo(n))===1/0||n===-1/0?17976931348623157e292*(n<0?-1:1):n==n?n:0:n===0?n:0}function rn(n){var e=Ia(n),t=e%1;return e==e?t?e-t:e:0}function j8(n,e){if(typeof e!="function")throw new TypeError("Expected a function");return n=rn(n),function(){if(--n<1)return e.apply(this,arguments)}}function wi(n){return n}function Wa(n){if(!ar(n))return!1;var e=Di(n);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"}var JA,bv=Gr["__core-js_shared__"],GA=(JA=/[^.]+$/.exec(bv&&bv.keys&&bv.keys.IE_PROTO||""))?"Symbol(src)_1."+JA:"",p7e=Function.prototype.toString;function Nu(n){if(n!=null){try{return p7e.call(n)}catch{}try{return n+""}catch{}}return""}var v7e=/^\[object .+?Constructor\]$/,m7e=Function.prototype,g7e=Object.prototype,y7e=m7e.toString,b7e=g7e.hasOwnProperty,w7e=RegExp("^"+y7e.call(b7e).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function C8(n){return!(!ar(n)||function(e){return!!GA&&GA in e}(n))&&(Wa(n)?w7e:v7e).test(Nu(n))}function Iu(n,e){var t=function(r,i){return r==null?void 0:r[i]}(n,e);return C8(t)?t:void 0}var Xd=Iu(Gr,"WeakMap"),wm=Xd&&new Xd,S8=wm?function(n,e){return wm.set(n,e),n}:wi,KA=Object.create,Cf=function(){function n(){}return function(e){if(!ar(e))return{};if(KA)return KA(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();function Nd(n){return function(){var e=arguments;switch(e.length){case 0:return new n;case 1:return new n(e[0]);case 2:return new n(e[0],e[1]);case 3:return new n(e[0],e[1],e[2]);case 4:return new n(e[0],e[1],e[2],e[3]);case 5:return new n(e[0],e[1],e[2],e[3],e[4]);case 6:return new n(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new n(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=Cf(n.prototype),r=n.apply(t,e);return ar(r)?r:t}}function po(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}var k7e=Math.max;function T8(n,e,t,r){for(var i=-1,o=n.length,a=t.length,s=-1,l=e.length,u=k7e(o-a,0),c=Array(l+u),f=!r;++s<l;)c[s]=e[s];for(;++i<a;)(f||i<o)&&(c[t[i]]=n[i]);for(;u--;)c[s++]=n[i++];return c}var x7e=Math.max;function O8(n,e,t,r){for(var i=-1,o=n.length,a=-1,s=t.length,l=-1,u=e.length,c=x7e(o-s,0),f=Array(c+u),d=!r;++i<c;)f[i]=n[i];for(var h=i;++l<u;)f[h+l]=e[l];for(;++a<s;)(d||i<o)&&(f[h+t[a]]=n[i++]);return f}function j7e(n,e){for(var t=n.length,r=0;t--;)n[t]===e&&++r;return r}function Hg(){}function gn(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Dn(){}gn.prototype=Cf(Hg.prototype),gn.prototype.constructor=gn;var Sx=wm?function(n){return wm.get(n)}:Dn,gc={},C7e=Object.prototype.hasOwnProperty;function wv(n){for(var e=n.name+"",t=gc[e],r=C7e.call(gc,e)?t.length:0;r--;){var i=t[r],o=i.func;if(o==null||o==n)return i.name}return e}function jo(n,e){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function Vi(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}function E8(n){if(n instanceof gn)return n.clone();var e=new jo(n.__wrapped__,n.__chain__);return e.__actions__=Vi(n.__actions__),e.__index__=n.__index__,e.__values__=n.__values__,e}jo.prototype=Cf(Hg.prototype),jo.prototype.constructor=jo;var S7e=Object.prototype.hasOwnProperty;function K(n){if(mr(n)&&!Yt(n)&&!(n instanceof gn)){if(n instanceof jo)return n;if(S7e.call(n,"__wrapped__"))return E8(n)}return new jo(n)}function Mb(n){var e=wv(n),t=K[e];if(typeof t!="function"||!(e in gn.prototype))return!1;if(n===t)return!0;var r=Sx(t);return!!r&&n===r[0]}K.prototype=Hg.prototype,K.prototype.constructor=K;var T7e=Date.now;function M8(n){var e=0,t=0;return function(){var r=T7e(),i=16-(r-t);if(t=r,i>0){if(++e>=800)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}var $8=M8(S8),O7e=/\{\n\/\* \[wrapped with (.+)\] \*/,E7e=/,? & /,M7e=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function Vg(n){return function(){return n}}var km=function(){try{var n=Iu(Object,"defineProperty");return n({},"",{}),n}catch{}}(),$7e=km?function(n,e){return km(n,"toString",{configurable:!0,enumerable:!1,value:Vg(e),writable:!0})}:wi,Tx=M8($7e);function yo(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}function Wg(n,e,t,r){for(var i=n.length,o=t+(r?1:-1);r?o--:++o<i;)if(e(n[o],o,n))return o;return-1}function A8(n){return n!=n}function Sf(n,e,t){return e==e?function(r,i,o){for(var a=o-1,s=r.length;++a<s;)if(r[a]===i)return a;return-1}(n,e,t):Wg(n,A8,t)}function Ug(n,e){return!!(n!=null&&n.length)&&Sf(n,e,0)>-1}var A7e=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];function _8(n,e,t){var r=e+"";return Tx(n,function(i,o){var a=o.length;if(!a)return i;var s=a-1;return o[s]=(a>1?"& ":"")+o[s],o=o.join(a>2?", ":" "),i.replace(M7e,`{
/* [wrapped with `+o+`] */
`)}(r,function(i,o){return yo(A7e,function(a){var s="_."+a[0];o&a[1]&&!Ug(i,s)&&i.push(s)}),i.sort()}(function(i){var o=i.match(O7e);return o?o[1].split(E7e):[]}(r),t)))}function N8(n,e,t,r,i,o,a,s,l,u){var c=8&e;e|=c?32:64,4&(e&=~(c?64:32))||(e&=-4);var f=[n,e,i,c?o:void 0,c?a:void 0,c?void 0:o,c?void 0:a,s,l,u],d=t.apply(void 0,f);return Mb(n)&&$8(d,f),d.placeholder=r,_8(d,n,e)}function Tf(n){return n.placeholder}var _7e=/^(?:0|[1-9]\d*)$/;function Cs(n,e){var t=mt(n);return!!(e=e==null?9007199254740991:e)&&(t=="number"||t!="symbol"&&_7e.test(n))&&n>-1&&n%1==0&&n<e}var N7e=Math.min;function I7e(n,e){for(var t=n.length,r=N7e(e.length,t),i=Vi(n);r--;){var o=e[r];n[r]=Cs(o,t)?i[o]:void 0}return n}function rl(n,e){for(var t=-1,r=n.length,i=0,o=[];++t<r;){var a=n[t];a!==e&&a!=="__lodash_placeholder__"||(n[t]="__lodash_placeholder__",o[i++]=t)}return o}function xm(n,e,t,r,i,o,a,s,l,u){var c=128&e,f=1&e,d=2&e,h=24&e,v=512&e,p=d?void 0:Nd(n);return function m(){for(var g=arguments.length,y=Array(g),b=g;b--;)y[b]=arguments[b];if(h)var w=Tf(m),k=j7e(y,w);if(r&&(y=T8(y,r,i,h)),o&&(y=O8(y,o,a,h)),g-=k,h&&g<u){var x=rl(y,w);return N8(n,e,xm,m.placeholder,t,y,x,s,l,u-g)}var C=f?t:this,T=d?C[n]:n;return g=y.length,s?y=I7e(y,s):v&&g>1&&y.reverse(),c&&l<g&&(y.length=l),this&&this!==Gr&&this instanceof m&&(T=p||Nd(T)),T.apply(C,y)}}var P7e=Math.min,QA=Math.max;function Ss(n,e,t,r,i,o,a,s){var l=2&e;if(!l&&typeof n!="function")throw new TypeError("Expected a function");var u=r?r.length:0;if(u||(e&=-97,r=i=void 0),a=a===void 0?a:QA(rn(a),0),s=s===void 0?s:rn(s),u-=i?i.length:0,64&e){var c=r,f=i;r=i=void 0}var d=l?void 0:Sx(n),h=[n,e,t,r,i,c,f,o,a,s];if(d&&function(p,m){var g=p[1],y=m[1],b=g|y,w=b<131,k=y==128&&g==8||y==128&&g==256&&p[7].length<=m[8]||y==384&&m[7].length<=m[8]&&g==8;if(!w&&!k)return p;1&y&&(p[2]=m[2],b|=1&g?0:4);var x=m[3];if(x){var C=p[3];p[3]=C?T8(C,x,m[4]):x,p[4]=C?rl(p[3],"__lodash_placeholder__"):m[4]}(x=m[5])&&(C=p[5],p[5]=C?O8(C,x,m[6]):x,p[6]=C?rl(p[5],"__lodash_placeholder__"):m[6]),(x=m[7])&&(p[7]=x),128&y&&(p[8]=p[8]==null?m[8]:P7e(p[8],m[8])),p[9]==null&&(p[9]=m[9]),p[0]=m[0],p[1]=b}(h,d),n=h[0],e=h[1],t=h[2],r=h[3],i=h[4],!(s=h[9]=h[9]===void 0?l?0:n.length:QA(h[9]-u,0))&&24&e&&(e&=-25),e&&e!=1)v=e==8||e==16?function(p,m,g){var y=Nd(p);return function b(){for(var w=arguments.length,k=Array(w),x=w,C=Tf(b);x--;)k[x]=arguments[x];var T=w<3&&k[0]!==C&&k[w-1]!==C?[]:rl(k,C);return(w-=T.length)<g?N8(p,m,xm,b.placeholder,void 0,k,T,void 0,void 0,g-w):po(this&&this!==Gr&&this instanceof b?y:p,this,k)}}(n,e,s):e!=32&&e!=33||i.length?xm.apply(void 0,h):function(p,m,g,y){var b=1&m,w=Nd(p);return function k(){for(var x=-1,C=arguments.length,T=-1,M=y.length,B=Array(M+C),_=this&&this!==Gr&&this instanceof k?w:p;++T<M;)B[T]=y[T];for(;C--;)B[T++]=arguments[++x];return po(_,b?g:this,B)}}(n,e,t,r);else var v=function(p,m,g){var y=1&m,b=Nd(p);return function w(){return(this&&this!==Gr&&this instanceof w?b:p).apply(y?g:this,arguments)}}(n,e,t);return _8((d?S8:$8)(v,h),n,e)}function Ox(n,e,t){return e=t?void 0:e,Ss(n,128,void 0,void 0,void 0,void 0,e=n&&e==null?n.length:e)}function Ts(n,e,t){e=="__proto__"&&km?km(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function _o(n,e){return n===e||n!=n&&e!=e}var L7e=Object.prototype.hasOwnProperty;function Ih(n,e,t){var r=n[e];L7e.call(n,e)&&_o(r,t)&&(t!==void 0||e in n)||Ts(n,e,t)}function Pa(n,e,t,r){var i=!t;t||(t={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=r?r(t[s],n[s],s,t,n):void 0;l===void 0&&(l=n[s]),i?Ts(t,s,l):Ih(t,s,l)}return t}var YA=Math.max;function I8(n,e,t){return e=YA(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,o=YA(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=t(a),po(n,this,s)}}function hn(n,e){return Tx(I8(n,e,wi),n+"")}function Ph(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=9007199254740991}function Ri(n){return n!=null&&Ph(n.length)&&!Wa(n)}function Ii(n,e,t){if(!ar(t))return!1;var r=mt(e);return!!(r=="number"?Ri(t)&&Cs(e,t.length):r=="string"&&e in t)&&_o(t[e],n)}function Of(n){return hn(function(e,t){var r=-1,i=t.length,o=i>1?t[i-1]:void 0,a=i>2?t[2]:void 0;for(o=n.length>3&&typeof o=="function"?(i--,o):void 0,a&&Ii(t[0],t[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var s=t[r];s&&n(e,s,r,o)}return e})}var D7e=Object.prototype;function Lh(n){var e=n&&n.constructor;return n===(typeof e=="function"&&e.prototype||D7e)}function Ex(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}function ZA(n){return mr(n)&&Di(n)=="[object Arguments]"}var P8=Object.prototype,R7e=P8.hasOwnProperty,B7e=P8.propertyIsEnumerable,hl=ZA(function(){return arguments}())?ZA:function(n){return mr(n)&&R7e.call(n,"callee")&&!B7e.call(n,"callee")};function Jg(){return!1}var L8=(typeof exports=="undefined"?"undefined":mt(exports))=="object"&&exports&&!exports.nodeType&&exports,XA=L8&&(typeof module=="undefined"?"undefined":mt(module))=="object"&&module&&!module.nodeType&&module,e_=XA&&XA.exports===L8?Gr.Buffer:void 0,bs=(e_?e_.isBuffer:void 0)||Jg,er={};function vo(n){return function(e){return n(e)}}er["[object Float32Array]"]=er["[object Float64Array]"]=er["[object Int8Array]"]=er["[object Int16Array]"]=er["[object Int32Array]"]=er["[object Uint8Array]"]=er["[object Uint8ClampedArray]"]=er["[object Uint16Array]"]=er["[object Uint32Array]"]=!0,er["[object Arguments]"]=er["[object Array]"]=er["[object ArrayBuffer]"]=er["[object Boolean]"]=er["[object DataView]"]=er["[object Date]"]=er["[object Error]"]=er["[object Function]"]=er["[object Map]"]=er["[object Number]"]=er["[object Object]"]=er["[object RegExp]"]=er["[object Set]"]=er["[object String]"]=er["[object WeakMap]"]=!1;var D8=(typeof exports=="undefined"?"undefined":mt(exports))=="object"&&exports&&!exports.nodeType&&exports,Id=D8&&(typeof module=="undefined"?"undefined":mt(module))=="object"&&module&&!module.nodeType&&module,Ny=Id&&Id.exports===D8&&y8.process,To=function(){try{var n=Id&&Id.require&&Id.require("util").types;return n||Ny&&Ny.binding&&Ny.binding("util")}catch{}}(),t_=To&&To.isTypedArray,Pu=t_?vo(t_):function(n){return mr(n)&&Ph(n.length)&&!!er[Di(n)]},z7e=Object.prototype.hasOwnProperty;function R8(n,e){var t=Yt(n),r=!t&&hl(n),i=!t&&!r&&bs(n),o=!t&&!r&&!i&&Pu(n),a=t||r||i||o,s=a?Ex(n.length,String):[],l=s.length;for(var u in n)!e&&!z7e.call(n,u)||a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Cs(u,l))||s.push(u);return s}function B8(n,e){return function(t){return n(e(t))}}var q7e=B8(Object.keys,Object),F7e=Object.prototype.hasOwnProperty;function Mx(n){if(!Lh(n))return q7e(n);var e=[];for(var t in Object(n))F7e.call(n,t)&&t!="constructor"&&e.push(t);return e}function Ir(n){return Ri(n)?R8(n):Mx(n)}var H7e=Object.prototype.hasOwnProperty,z8=Of(function(n,e){if(Lh(e)||Ri(e))Pa(e,Ir(e),n);else for(var t in e)H7e.call(e,t)&&Ih(n,t,e[t])}),V7e=Object.prototype.hasOwnProperty;function W7e(n){if(!ar(n))return function(i){var o=[];if(i!=null)for(var a in Object(i))o.push(a);return o}(n);var e=Lh(n),t=[];for(var r in n)(r!="constructor"||!e&&V7e.call(n,r))&&t.push(r);return t}function Pi(n){return Ri(n)?R8(n,!0):W7e(n)}var jm=Of(function(n,e){Pa(e,Pi(e),n)}),nf=Of(function(n,e,t,r){Pa(e,Pi(e),n,r)}),q8=Of(function(n,e,t,r){Pa(e,Ir(e),n,r)}),U7e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J7e=/^\w*$/;function $x(n,e){if(Yt(n))return!1;var t=mt(n);return!(t!="number"&&t!="symbol"&&t!="boolean"&&n!=null&&!Ui(n))||J7e.test(n)||!U7e.test(n)||e!=null&&n in Object(e)}var Yf=Iu(Object,"create"),G7e=Object.prototype.hasOwnProperty,K7e=Object.prototype.hasOwnProperty;function Wl(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}function Sp(n,e){for(var t=n.length;t--;)if(_o(n[t][0],e))return t;return-1}Wl.prototype.clear=function(){this.__data__=Yf?Yf(null):{},this.size=0},Wl.prototype.delete=function(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e},Wl.prototype.get=function(n){var e=this.__data__;if(Yf){var t=e[n];return t==="__lodash_hash_undefined__"?void 0:t}return G7e.call(e,n)?e[n]:void 0},Wl.prototype.has=function(n){var e=this.__data__;return Yf?e[n]!==void 0:K7e.call(e,n)},Wl.prototype.set=function(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Yf&&e===void 0?"__lodash_hash_undefined__":e,this};var Q7e=Array.prototype.splice;function as(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}as.prototype.clear=function(){this.__data__=[],this.size=0},as.prototype.delete=function(n){var e=this.__data__,t=Sp(e,n);return!(t<0)&&(t==e.length-1?e.pop():Q7e.call(e,t,1),--this.size,!0)},as.prototype.get=function(n){var e=this.__data__,t=Sp(e,n);return t<0?void 0:e[t][1]},as.prototype.has=function(n){return Sp(this.__data__,n)>-1},as.prototype.set=function(n,e){var t=this.__data__,r=Sp(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this};var eh=Iu(Gr,"Map");function Tp(n,e){var t,r,i=n.__data__;return((r=mt(t=e))=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null)?i[typeof e=="string"?"string":"hash"]:i.map}function ss(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}ss.prototype.clear=function(){this.size=0,this.__data__={hash:new Wl,map:new(eh||as),string:new Wl}},ss.prototype.delete=function(n){var e=Tp(this,n).delete(n);return this.size-=e?1:0,e},ss.prototype.get=function(n){return Tp(this,n).get(n)},ss.prototype.has=function(n){return Tp(this,n).has(n)},ss.prototype.set=function(n,e){var t=Tp(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this};function Ef(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var t=function r(){var i=arguments,o=e?e.apply(this,i):i[0],a=r.cache;if(a.has(o))return a.get(o);var s=n.apply(this,i);return r.cache=a.set(o,s)||a,s};return t.cache=new(Ef.Cache||ss),t}Ef.Cache=ss;var Y7e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Z7e=/\\(\\)?/g,F8=function(n){var e=Ef(n,function(r){return t.size===500&&t.clear(),r}),t=e.cache;return e}(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(Y7e,function(t,r,i,o){e.push(i?o.replace(Z7e,"$1"):r||t)}),e});function Nn(n){return n==null?"":ho(n)}function kl(n,e){return Yt(n)?n:$x(n,e)?[n]:F8(Nn(n))}function Ua(n){if(typeof n=="string"||Ui(n))return n;var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}function Lu(n,e){for(var t=0,r=(e=kl(e,n)).length;n!=null&&t<r;)n=n[Ua(e[t++])];return t&&t==r?n:void 0}function Gg(n,e,t){var r=n==null?void 0:Lu(n,e);return r===void 0?t:r}function Ax(n,e){for(var t=-1,r=e.length,i=Array(r),o=n==null;++t<r;)i[t]=o?void 0:Gg(n,e[t]);return i}function xl(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var n_=bi?bi.isConcatSpreadable:void 0;function X7e(n){return Yt(n)||hl(n)||!!(n_&&n&&n[n_])}function di(n,e,t,r,i){var o=-1,a=n.length;for(t||(t=X7e),i||(i=[]);++o<a;){var s=n[o];e>0&&t(s)?e>1?di(s,e-1,t,r,i):xl(i,s):r||(i[i.length]=s)}return i}function _x(n){return n!=null&&n.length?di(n,1):[]}function Os(n){return Tx(I8(n,void 0,_x),n+"")}var H8=Os(Ax),Kg=B8(Object.getPrototypeOf,Object),eqe=Function.prototype,tqe=Object.prototype,V8=eqe.toString,nqe=tqe.hasOwnProperty,rqe=V8.call(Object);function Mf(n){if(!mr(n)||Di(n)!="[object Object]")return!1;var e=Kg(n);if(e===null)return!0;var t=nqe.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&V8.call(t)==rqe}function Qg(n){if(!mr(n))return!1;var e=Di(n);return e=="[object Error]"||e=="[object DOMException]"||typeof n.message=="string"&&typeof n.name=="string"&&!Mf(n)}var Nx=hn(function(n,e){try{return po(n,void 0,e)}catch(t){return Qg(t)?t:new Error(t)}});function Ix(n,e){var t;if(typeof e!="function")throw new TypeError("Expected a function");return n=rn(n),function(){return--n>0&&(t=e.apply(this,arguments)),n<=1&&(e=void 0),t}}var Dh=hn(function(n,e,t){var r=1;if(t.length){var i=rl(t,Tf(Dh));r|=32}return Ss(n,r,e,t,i)});Dh.placeholder={};var W8=Os(function(n,e){return yo(e,function(t){t=Ua(t),Ts(n,t,Dh(n[t],n))}),n}),Yg=hn(function(n,e,t){var r=3;if(t.length){var i=rl(t,Tf(Yg));r|=32}return Ss(e,r,n,t,i)});function Oo(n,e,t){var r=-1,i=n.length;e<0&&(e=-e>i?0:i+e),(t=t>i?i:t)<0&&(t+=i),i=e>t?0:t-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=n[r+e];return o}function jl(n,e,t){var r=n.length;return t=t===void 0?r:t,!e&&t>=r?n:Oo(n,e,t)}Yg.placeholder={};var iqe=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function $f(n){return iqe.test(n)}var oqe="[\\ud800-\\udfff]",$b="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Ab="\\ud83c[\\udffb-\\udfff]",U8="[^\\ud800-\\udfff]",J8="(?:\\ud83c[\\udde6-\\uddff]){2}",G8="[\\ud800-\\udbff][\\udc00-\\udfff]",r_="(?:"+$b+"|"+Ab+")?",aqe="[\\ufe0e\\ufe0f]?"+r_+("(?:\\u200d(?:"+[U8,J8,G8].join("|")+")[\\ufe0e\\ufe0f]?"+r_+")*"),sqe="(?:"+[U8+$b+"?",$b,J8,G8,oqe].join("|")+")",lqe=RegExp(Ab+"(?="+Ab+")|"+sqe+aqe,"g");function la(n){return $f(n)?function(e){return e.match(lqe)||[]}(n):function(e){return e.split("")}(n)}function K8(n){return function(e){var t=$f(e=Nn(e))?la(e):void 0,r=t?t[0]:e.charAt(0),i=t?jl(t,1).join(""):e.slice(1);return r[n]()+i}}var Zg=K8("toUpperCase");function Px(n){return Zg(Nn(n).toLowerCase())}function Lx(n,e,t,r){var i=-1,o=n==null?0:n.length;for(r&&o&&(t=n[++i]);++i<o;)t=e(t,n[i],i,n);return t}function Dx(n){return function(e){return n==null?void 0:n[e]}}var uqe=Dx({\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"}),cqe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,fqe=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");function Rx(n){return(n=Nn(n))&&n.replace(cqe,uqe).replace(fqe,"")}var dqe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,hqe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Q8="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",i_="["+Q8+"]",Y8="\\d+",pqe="[\\u2700-\\u27bf]",Z8="[a-z\\xdf-\\xf6\\xf8-\\xff]",X8="[^\\ud800-\\udfff"+Q8+Y8+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",eB="(?:\\ud83c[\\udde6-\\uddff]){2}",tB="[\\ud800-\\udbff][\\udc00-\\udfff]",ac="[A-Z\\xc0-\\xd6\\xd8-\\xde]",o_="(?:"+Z8+"|"+X8+")",vqe="(?:"+ac+"|"+X8+")",a_="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",mqe="[\\ufe0e\\ufe0f]?"+a_+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",eB,tB].join("|")+")[\\ufe0e\\ufe0f]?"+a_+")*"),gqe="(?:"+[pqe,eB,tB].join("|")+")"+mqe,yqe=RegExp([ac+"?"+Z8+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[i_,ac,"$"].join("|")+")",vqe+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[i_,ac+o_,"$"].join("|")+")",ac+"?"+o_+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",ac+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Y8,gqe].join("|"),"g");function Bx(n,e,t){return n=Nn(n),(e=t?void 0:e)===void 0?function(r){return hqe.test(r)}(n)?function(r){return r.match(yqe)||[]}(n):function(r){return r.match(dqe)||[]}(n):n.match(e)||[]}var bqe=RegExp("['\u2019]","g");function Af(n){return function(e){return Lx(Bx(Rx(e).replace(bqe,"")),n,"")}}var nB=Af(function(n,e,t){return e=e.toLowerCase(),n+(t?Px(e):e)});function rB(){if(!arguments.length)return[];var n=arguments[0];return Yt(n)?n:[n]}var wqe=Gr.isFinite,kqe=Math.min;function zx(n){var e=Math[n];return function(t,r){if(t=uo(t),(r=r==null?0:kqe(rn(r),292))&&wqe(t)){var i=(Nn(t)+"e").split("e");return+((i=(Nn(e(i[0]+"e"+(+i[1]+r)))+"e").split("e"))[0]+"e"+(+i[1]-r))}return e(t)}}var iB=zx("ceil");function qx(n){var e=K(n);return e.__chain__=!0,e}var xqe=Math.ceil,jqe=Math.max;function oB(n,e,t){e=(t?Ii(n,e,t):e===void 0)?1:jqe(rn(e),0);var r=n==null?0:n.length;if(!r||e<1)return[];for(var i=0,o=0,a=Array(xqe(r/e));i<r;)a[o++]=Oo(n,i,i+=e);return a}function Du(n,e,t){return n==n&&(t!==void 0&&(n=n<=t?n:t),e!==void 0&&(n=n>=e?n:e)),n}function aB(n,e,t){return t===void 0&&(t=e,e=void 0),t!==void 0&&(t=(t=uo(t))==t?t:0),e!==void 0&&(e=(e=uo(e))==e?e:0),Du(uo(n),e,t)}function zo(n){var e=this.__data__=new as(n);this.size=e.size}function sB(n,e){return n&&Pa(e,Ir(e),n)}zo.prototype.clear=function(){this.__data__=new as,this.size=0},zo.prototype.delete=function(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t},zo.prototype.get=function(n){return this.__data__.get(n)},zo.prototype.has=function(n){return this.__data__.has(n)},zo.prototype.set=function(n,e){var t=this.__data__;if(t instanceof as){var r=t.__data__;if(!eh||r.length<199)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new ss(r)}return t.set(n,e),this.size=t.size,this};var lB=(typeof exports=="undefined"?"undefined":mt(exports))=="object"&&exports&&!exports.nodeType&&exports,s_=lB&&(typeof module=="undefined"?"undefined":mt(module))=="object"&&module&&!module.nodeType&&module,l_=s_&&s_.exports===lB?Gr.Buffer:void 0,u_=l_?l_.allocUnsafe:void 0;function uB(n,e){if(e)return n.slice();var t=n.length,r=u_?u_(t):new n.constructor(t);return n.copy(r),r}function Cl(n,e){for(var t=-1,r=n==null?0:n.length,i=0,o=[];++t<r;){var a=n[t];e(a,t,n)&&(o[i++]=a)}return o}function Xg(){return[]}var Cqe=Object.prototype.propertyIsEnumerable,c_=Object.getOwnPropertySymbols,Fx=c_?function(n){return n==null?[]:(n=Object(n),Cl(c_(n),function(e){return Cqe.call(n,e)}))}:Xg,cB=Object.getOwnPropertySymbols?function(n){for(var e=[];n;)xl(e,Fx(n)),n=Kg(n);return e}:Xg;function fB(n,e,t){var r=e(n);return Yt(n)?r:xl(r,t(n))}function _b(n){return fB(n,Ir,Fx)}function Hx(n){return fB(n,Pi,cB)}var Nb=Iu(Gr,"DataView"),Ib=Iu(Gr,"Promise"),Mc=Iu(Gr,"Set"),Sqe=Nu(Nb),Tqe=Nu(eh),Oqe=Nu(Ib),Eqe=Nu(Mc),Mqe=Nu(Xd),ql=Di;(Nb&&ql(new Nb(new ArrayBuffer(1)))!="[object DataView]"||eh&&ql(new eh)!="[object Map]"||Ib&&ql(Ib.resolve())!="[object Promise]"||Mc&&ql(new Mc)!="[object Set]"||Xd&&ql(new Xd)!="[object WeakMap]")&&(ql=function(n){var e=Di(n),t=e=="[object Object]"?n.constructor:void 0,r=t?Nu(t):"";if(r)switch(r){case Sqe:return"[object DataView]";case Tqe:return"[object Map]";case Oqe:return"[object Promise]";case Eqe:return"[object Set]";case Mqe:return"[object WeakMap]"}return e});var za=ql,$qe=Object.prototype.hasOwnProperty,Cm=Gr.Uint8Array;function Pb(n){var e=new n.constructor(n.byteLength);return new Cm(e).set(new Cm(n)),e}var Aqe=/\w*$/,f_=bi?bi.prototype:void 0,d_=f_?f_.valueOf:void 0;function dB(n,e){var t=e?Pb(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}function _qe(n,e,t){var r,i=n.constructor;switch(e){case"[object ArrayBuffer]":return Pb(n);case"[object Boolean]":case"[object Date]":return new i(+n);case"[object DataView]":return function(o,a){var s=a?Pb(o.buffer):o.buffer;return new o.constructor(s,o.byteOffset,o.byteLength)}(n,t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return dB(n,t);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(n);case"[object RegExp]":return function(o){var a=new o.constructor(o.source,Aqe.exec(o));return a.lastIndex=o.lastIndex,a}(n);case"[object Symbol]":return r=n,d_?Object(d_.call(r)):{}}}function hB(n){return typeof n.constructor!="function"||Lh(n)?{}:Cf(Kg(n))}var h_=To&&To.isMap,Vx=h_?vo(h_):function(n){return mr(n)&&za(n)=="[object Map]"},p_=To&&To.isSet,Wx=p_?vo(p_):function(n){return mr(n)&&za(n)=="[object Set]"},Gn={};function Co(n,e,t,r,i,o){var a,s=1&e,l=2&e,u=4&e;if(t&&(a=i?t(n,r,i,o):t(n)),a!==void 0)return a;if(!ar(n))return n;var c=Yt(n);if(c){if(a=function(p){var m=p.length,g=new p.constructor(m);return m&&typeof p[0]=="string"&&$qe.call(p,"index")&&(g.index=p.index,g.input=p.input),g}(n),!s)return Vi(n,a)}else{var f=za(n),d=f=="[object Function]"||f=="[object GeneratorFunction]";if(bs(n))return uB(n,s);if(f=="[object Object]"||f=="[object Arguments]"||d&&!i){if(a=l||d?{}:hB(n),!s)return l?function(p,m){return Pa(p,cB(p),m)}(n,function(p,m){return p&&Pa(m,Pi(m),p)}(a,n)):function(p,m){return Pa(p,Fx(p),m)}(n,sB(a,n))}else{if(!Gn[f])return i?n:{};a=_qe(n,f,s)}}o||(o=new zo);var h=o.get(n);if(h)return h;o.set(n,a),Wx(n)?n.forEach(function(p){a.add(Co(p,e,t,p,n,o))}):Vx(n)&&n.forEach(function(p,m){a.set(m,Co(p,e,t,m,n,o))});var v=c?void 0:(u?l?Hx:_b:l?Pi:Ir)(n);return yo(v||n,function(p,m){v&&(p=n[m=p]),Ih(a,m,Co(p,e,t,m,n,o))}),a}Gn["[object Arguments]"]=Gn["[object Array]"]=Gn["[object ArrayBuffer]"]=Gn["[object DataView]"]=Gn["[object Boolean]"]=Gn["[object Date]"]=Gn["[object Float32Array]"]=Gn["[object Float64Array]"]=Gn["[object Int8Array]"]=Gn["[object Int16Array]"]=Gn["[object Int32Array]"]=Gn["[object Map]"]=Gn["[object Number]"]=Gn["[object Object]"]=Gn["[object RegExp]"]=Gn["[object Set]"]=Gn["[object String]"]=Gn["[object Symbol]"]=Gn["[object Uint8Array]"]=Gn["[object Uint8ClampedArray]"]=Gn["[object Uint16Array]"]=Gn["[object Uint32Array]"]=!0,Gn["[object Error]"]=Gn["[object Function]"]=Gn["[object WeakMap]"]=!1;function pB(n){return Co(n,4)}function vB(n){return Co(n,5)}function Ux(n,e){return Co(n,5,e=typeof e=="function"?e:void 0)}function mB(n,e){return Co(n,4,e=typeof e=="function"?e:void 0)}function Lb(){return new jo(this.value(),this.__chain__)}function gB(n){for(var e=-1,t=n==null?0:n.length,r=0,i=[];++e<t;){var o=n[e];o&&(i[r++]=o)}return i}function yB(){var n=arguments.length;if(!n)return[];for(var e=Array(n-1),t=arguments[0],r=n;r--;)e[r-1]=arguments[r];return xl(Yt(t)?Vi(t):[t],di(e,1))}function fu(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new ss;++e<t;)this.add(n[e])}function Jx(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function th(n,e){return n.has(e)}fu.prototype.add=fu.prototype.push=function(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this},fu.prototype.has=function(n){return this.__data__.has(n)};function v_(n,e,t,r,i,o){var a=1&t,s=n.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(n),c=o.get(e);if(u&&c)return u==e&&c==n;var f=-1,d=!0,h=2&t?new fu:void 0;for(o.set(n,e),o.set(e,n);++f<s;){var v=n[f],p=e[f];if(r)var m=a?r(p,v,f,e,n,o):r(v,p,f,n,e,o);if(m!==void 0){if(m)continue;d=!1;break}if(h){if(!Jx(e,function(g,y){if(!th(h,y)&&(v===g||i(v,g,t,r,o)))return h.push(y)})){d=!1;break}}else if(v!==p&&!i(v,p,t,r,o)){d=!1;break}}return o.delete(n),o.delete(e),d}function Gx(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}function e0(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var m_=bi?bi.prototype:void 0,Iy=m_?m_.valueOf:void 0,Nqe=Object.prototype.hasOwnProperty,Op="[object Object]",g_=Object.prototype.hasOwnProperty;function Iqe(n,e,t,r,i,o){var a=Yt(n),s=Yt(e),l=a?"[object Array]":za(n),u=s?"[object Array]":za(e),c=(l=l=="[object Arguments]"?Op:l)==Op,f=(u=u=="[object Arguments]"?Op:u)==Op,d=l==u;if(d&&bs(n)){if(!bs(e))return!1;a=!0,c=!1}if(d&&!c)return o||(o=new zo),a||Pu(n)?v_(n,e,t,r,i,o):function(g,y,b,w,k,x,C){switch(b){case"[object DataView]":if(g.byteLength!=y.byteLength||g.byteOffset!=y.byteOffset)return!1;g=g.buffer,y=y.buffer;case"[object ArrayBuffer]":return!(g.byteLength!=y.byteLength||!x(new Cm(g),new Cm(y)));case"[object Boolean]":case"[object Date]":case"[object Number]":return _o(+g,+y);case"[object Error]":return g.name==y.name&&g.message==y.message;case"[object RegExp]":case"[object String]":return g==y+"";case"[object Map]":var T=Gx;case"[object Set]":var M=1&w;if(T||(T=e0),g.size!=y.size&&!M)return!1;var B=C.get(g);if(B)return B==y;w|=2,C.set(g,y);var _=v_(T(g),T(y),w,k,x,C);return C.delete(g),_;case"[object Symbol]":if(Iy)return Iy.call(g)==Iy.call(y)}return!1}(n,e,l,t,r,i,o);if(!(1&t)){var h=c&&g_.call(n,"__wrapped__"),v=f&&g_.call(e,"__wrapped__");if(h||v){var p=h?n.value():n,m=v?e.value():e;return o||(o=new zo),i(p,m,t,r,o)}}return!!d&&(o||(o=new zo),function(g,y,b,w,k,x){var C=1&b,T=_b(g),M=T.length;if(M!=_b(y).length&&!C)return!1;for(var B=M;B--;){var _=T[B];if(!(C?_ in y:Nqe.call(y,_)))return!1}var N=x.get(g),$=x.get(y);if(N&&$)return N==y&&$==g;var j=!0;x.set(g,y),x.set(y,g);for(var D=C;++B<M;){var q=g[_=T[B]],R=y[_];if(w)var G=C?w(R,q,_,y,g,x):w(q,R,_,g,y,x);if(!(G===void 0?q===R||k(q,R,b,w,x):G)){j=!1;break}D||(D=_=="constructor")}if(j&&!D){var A=g.constructor,I=y.constructor;A==I||!("constructor"in g)||!("constructor"in y)||typeof A=="function"&&A instanceof A&&typeof I=="function"&&I instanceof I||(j=!1)}return x.delete(g),x.delete(y),j}(n,e,t,r,i,o))}function Rh(n,e,t,r,i){return n===e||(n==null||e==null||!mr(n)&&!mr(e)?n!=n&&e!=e:Iqe(n,e,t,r,Rh,i))}function Kx(n,e,t,r){var i=t.length,o=i,a=!r;if(n==null)return!o;for(n=Object(n);i--;){var s=t[i];if(a&&s[2]?s[1]!==n[s[0]]:!(s[0]in n))return!1}for(;++i<o;){var l=(s=t[i])[0],u=n[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in n))return!1}else{var f=new zo;if(r)var d=r(u,c,l,n,e,f);if(!(d===void 0?Rh(c,u,3,r,f):d))return!1}}return!0}function bB(n){return n==n&&!ar(n)}function Qx(n){for(var e=Ir(n),t=e.length;t--;){var r=e[t],i=n[r];e[t]=[r,i,bB(i)]}return e}function wB(n,e){return function(t){return t!=null&&t[n]===e&&(e!==void 0||n in Object(t))}}function kB(n){var e=Qx(n);return e.length==1&&e[0][2]?wB(e[0][0],e[0][1]):function(t){return t===n||Kx(t,n,e)}}function Pqe(n,e){return n!=null&&e in Object(n)}function xB(n,e,t){for(var r=-1,i=(e=kl(e,n)).length,o=!1;++r<i;){var a=Ua(e[r]);if(!(o=n!=null&&t(n,a)))break;n=n[a]}return o||++r!=i?o:!!(i=n==null?0:n.length)&&Ph(i)&&Cs(a,i)&&(Yt(n)||hl(n))}function t0(n,e){return n!=null&&xB(n,e,Pqe)}function jB(n,e){return $x(n)&&bB(e)?wB(Ua(n),e):function(t){var r=Gg(t,n);return r===void 0&&r===e?t0(t,n):Rh(e,r,3)}}function Yx(n){return function(e){return e==null?void 0:e[n]}}function Zx(n){return $x(n)?Yx(Ua(n)):function(e){return function(t){return Lu(t,e)}}(n)}function Zt(n){return typeof n=="function"?n:n==null?wi:mt(n)=="object"?Yt(n)?jB(n[0],n[1]):kB(n):Zx(n)}function CB(n){var e=n==null?0:n.length,t=Zt;return n=e?lr(n,function(r){if(typeof r[1]!="function")throw new TypeError("Expected a function");return[t(r[0]),r[1]]}):[],hn(function(r){for(var i=-1;++i<e;){var o=n[i];if(po(o[0],this,r))return po(o[1],this,r)}})}function SB(n,e,t){var r=t.length;if(n==null)return!r;for(n=Object(n);r--;){var i=t[r],o=e[i],a=n[i];if(a===void 0&&!(i in n)||!o(a))return!1}return!0}function TB(n){return function(e){var t=Ir(e);return function(r){return SB(r,e,t)}}(Co(n,1))}function OB(n,e){return e==null||SB(n,e,Ir(e))}function Lqe(n,e,t,r){for(var i=-1,o=n==null?0:n.length;++i<o;){var a=n[i];e(r,a,t(a),n)}return r}function EB(n){return function(e,t,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[n?s:++i];if(t(o[l],l,o)===!1)break}return e}}var Xx=EB();function La(n,e){return n&&Xx(n,e,Ir)}function MB(n,e){return function(t,r){if(t==null)return t;if(!Ri(t))return n(t,r);for(var i=t.length,o=e?i:-1,a=Object(t);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return t}}var Sl=MB(La);function Dqe(n,e,t,r){return Sl(n,function(i,o,a){e(r,i,t(i),a)}),r}function n0(n,e){return function(t,r){var i=Yt(t)?Lqe:Dqe,o=e?e():{};return i(t,n,Zt(r),o)}}var Rqe=Object.prototype.hasOwnProperty,$B=n0(function(n,e,t){Rqe.call(n,t)?++n[t]:Ts(n,t,1)});function AB(n,e){var t=Cf(n);return e==null?t:sB(t,e)}function r0(n,e,t){var r=Ss(n,8,void 0,void 0,void 0,void 0,void 0,e=t?void 0:e);return r.placeholder=r0.placeholder,r}r0.placeholder={};function i0(n,e,t){var r=Ss(n,16,void 0,void 0,void 0,void 0,void 0,e=t?void 0:e);return r.placeholder=i0.placeholder,r}i0.placeholder={};var Pd=function(){return Gr.Date.now()},Bqe=Math.max,zqe=Math.min;function _f(n,e,t){var r,i,o,a,s,l,u=0,c=!1,f=!1,d=!0;if(typeof n!="function")throw new TypeError("Expected a function");function h(b){var w=r,k=i;return r=i=void 0,u=b,a=n.apply(k,w)}function v(b){return u=b,s=setTimeout(m,e),c?h(b):a}function p(b){var w=b-l;return l===void 0||w>=e||w<0||f&&b-u>=o}function m(){var b=Pd();if(p(b))return g(b);s=setTimeout(m,function(w){var k=e-(w-l);return f?zqe(k,o-(w-u)):k}(b))}function g(b){return s=void 0,d&&r?h(b):(r=i=void 0,a)}function y(){var b=Pd(),w=p(b);if(r=arguments,i=this,l=b,w){if(s===void 0)return v(l);if(f)return clearTimeout(s),s=setTimeout(m,e),h(l)}return s===void 0&&(s=setTimeout(m,e)),a}return e=uo(e)||0,ar(t)&&(c=!!t.leading,o=(f="maxWait"in t)?Bqe(uo(t.maxWait)||0,e):o,d="trailing"in t?!!t.trailing:d),y.cancel=function(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0},y.flush=function(){return s===void 0?a:g(Pd())},y}function _B(n,e){return n==null||n!=n?e:n}var NB=Object.prototype,qqe=NB.hasOwnProperty,IB=hn(function(n,e){n=Object(n);var t=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&Ii(e[0],e[1],i)&&(r=1);++t<r;)for(var o=e[t],a=Pi(o),s=-1,l=a.length;++s<l;){var u=a[s],c=n[u];(c===void 0||_o(c,NB[u])&&!qqe.call(n,u))&&(n[u]=o[u])}return n});function Py(n,e,t){(t!==void 0&&!_o(n[e],t)||t===void 0&&!(e in n))&&Ts(n,e,t)}function wr(n){return mr(n)&&Ri(n)}function Ly(n,e){if((e!=="constructor"||typeof n[e]!="function")&&e!="__proto__")return n[e]}function e2(n){return Pa(n,Pi(n))}function o0(n,e,t,r,i){n!==e&&Xx(e,function(o,a){if(i||(i=new zo),ar(o))(function(l,u,c,f,d,h,v){var p=Ly(l,c),m=Ly(u,c),g=v.get(m);if(g)Py(l,c,g);else{var y=h?h(p,m,c+"",l,u,v):void 0,b=y===void 0;if(b){var w=Yt(m),k=!w&&bs(m),x=!w&&!k&&Pu(m);y=m,w||k||x?Yt(p)?y=p:wr(p)?y=Vi(p):k?(b=!1,y=uB(m,!0)):x?(b=!1,y=dB(m,!0)):y=[]:Mf(m)||hl(m)?(y=p,hl(p)?y=e2(p):ar(p)&&!Wa(p)||(y=hB(m))):b=!1}b&&(v.set(m,y),d(y,m,f,h,v),v.delete(m)),Py(l,c,y)}})(n,e,a,t,o0,r,i);else{var s=r?r(Ly(n,a),o,a+"",n,e,i):void 0;s===void 0&&(s=o),Py(n,a,s)}},Pi)}function PB(n,e,t,r,i,o){return ar(n)&&ar(e)&&(o.set(e,n),o0(n,e,void 0,PB,o),o.delete(e)),n}var t2=Of(function(n,e,t,r){o0(n,e,t,r)}),LB=hn(function(n){return n.push(void 0,PB),po(t2,void 0,n)});function DB(n,e,t){if(typeof n!="function")throw new TypeError("Expected a function");return setTimeout(function(){n.apply(void 0,t)},e)}var RB=hn(function(n,e){return DB(n,1,e)}),BB=hn(function(n,e,t){return DB(n,uo(e)||0,t)});function n2(n,e,t){for(var r=-1,i=n==null?0:n.length;++r<i;)if(t(e,n[r]))return!0;return!1}function Bh(n,e,t,r){var i=-1,o=Ug,a=!0,s=n.length,l=[],u=e.length;if(!s)return l;t&&(e=lr(e,vo(t))),r?(o=n2,a=!1):e.length>=200&&(o=th,a=!1,e=new fu(e));e:for(;++i<s;){var c=n[i],f=t==null?c:t(c);if(c=r||c!==0?c:0,a&&f==f){for(var d=u;d--;)if(e[d]===f)continue e;l.push(c)}else o(e,f,r)||l.push(c)}return l}var zB=hn(function(n,e){return wr(n)?Bh(n,di(e,1,wr,!0)):[]});function Nt(n){var e=n==null?0:n.length;return e?n[e-1]:void 0}var qB=hn(function(n,e){var t=Nt(e);return wr(t)&&(t=void 0),wr(n)?Bh(n,di(e,1,wr,!0),Zt(t)):[]}),FB=hn(function(n,e){var t=Nt(e);return wr(t)&&(t=void 0),wr(n)?Bh(n,di(e,1,wr,!0),void 0,t):[]}),HB=Fg(function(n,e){return n/e},1);function VB(n,e,t){var r=n==null?0:n.length;return r?Oo(n,(e=t||e===void 0?1:rn(e))<0?0:e,r):[]}function WB(n,e,t){var r=n==null?0:n.length;return r?Oo(n,0,(e=r-(e=t||e===void 0?1:rn(e)))<0?0:e):[]}function a0(n,e,t,r){for(var i=n.length,o=r?i:-1;(r?o--:++o<i)&&e(n[o],o,n););return t?Oo(n,r?0:o,r?o+1:i):Oo(n,r?o+1:0,r?i:o)}function UB(n,e){return n&&n.length?a0(n,Zt(e),!0,!0):[]}function JB(n,e){return n&&n.length?a0(n,Zt(e),!0):[]}function Ja(n){return typeof n=="function"?n:wi}function Sm(n,e){return(Yt(n)?yo:Sl)(n,Ja(e))}function Fqe(n,e){for(var t=n==null?0:n.length;t--&&e(n[t],t,n)!==!1;);return n}var GB=EB(!0);function r2(n,e){return n&&GB(n,e,Ir)}var KB=MB(r2,!0);function nh(n,e){return(Yt(n)?Fqe:KB)(n,Ja(e))}function QB(n,e,t){n=Nn(n),e=ho(e);var r=n.length,i=t=t===void 0?r:Du(rn(t),0,r);return(t-=e.length)>=0&&n.slice(t,i)==e}function YB(n){return function(e){var t=za(e);return t=="[object Map]"?Gx(e):t=="[object Set]"?function(r){var i=-1,o=Array(r.size);return r.forEach(function(a){o[++i]=[a,a]}),o}(e):function(r,i){return lr(i,function(o){return[o,r[o]]})}(e,n(e))}}var Tm=YB(Ir),Om=YB(Pi),Hqe=Dx({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),ZB=/[&<>"']/g,Vqe=RegExp(ZB.source);function i2(n){return(n=Nn(n))&&Vqe.test(n)?n.replace(ZB,Hqe):n}var XB=/[\\^$.*+?()[\]{}|]/g,Wqe=RegExp(XB.source);function ez(n){return(n=Nn(n))&&Wqe.test(n)?n.replace(XB,"\\$&"):n}function tz(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(!e(n[t],t,n))return!1;return!0}function Uqe(n,e){var t=!0;return Sl(n,function(r,i,o){return t=!!e(r,i,o)}),t}function nz(n,e,t){var r=Yt(n)?tz:Uqe;return t&&Ii(n,e,t)&&(e=void 0),r(n,Zt(e))}function o2(n){return n?Du(rn(n),0,4294967295):0}function rz(n,e,t,r){var i=n==null?0:n.length;return i?(t&&typeof t!="number"&&Ii(n,e,t)&&(t=0,r=i),function(o,a,s,l){var u=o.length;for((s=rn(s))<0&&(s=-s>u?0:u+s),(l=l===void 0||l>u?u:rn(l))<0&&(l+=u),l=s>l?0:o2(l);s<l;)o[s++]=a;return o}(n,e,t,r)):[]}function iz(n,e){var t=[];return Sl(n,function(r,i,o){e(r,i,o)&&t.push(r)}),t}function oz(n,e){return(Yt(n)?Cl:iz)(n,Zt(e))}function az(n){return function(e,t,r){var i=Object(e);if(!Ri(e)){var o=Zt(t);e=Ir(e),t=function(s){return o(i[s],s,i)}}var a=n(e,t,r);return a>-1?i[o?e[a]:a]:void 0}}var Jqe=Math.max;function a2(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=t==null?0:rn(t);return i<0&&(i=Jqe(r+i,0)),Wg(n,Zt(e),i)}var sz=az(a2);function lz(n,e,t){var r;return t(n,function(i,o,a){if(e(i,o,a))return r=o,!1}),r}function uz(n,e){return lz(n,Zt(e),La)}var Gqe=Math.max,Kqe=Math.min;function s2(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=r-1;return t!==void 0&&(i=rn(t),i=t<0?Gqe(r+i,0):Kqe(i,r-1)),Wg(n,Zt(e),i,!0)}var cz=az(s2);function fz(n,e){return lz(n,Zt(e),r2)}function qr(n){return n&&n.length?n[0]:void 0}function dz(n,e){var t=-1,r=Ri(n)?Array(n.length):[];return Sl(n,function(i,o,a){r[++t]=e(i,o,a)}),r}function Nf(n,e){return(Yt(n)?lr:dz)(n,Zt(e))}function hz(n,e){return di(Nf(n,e),1)}function pz(n,e){return di(Nf(n,e),1/0)}function vz(n,e,t){return t=t===void 0?1:rn(t),di(Nf(n,e),t)}function mz(n){return n!=null&&n.length?di(n,1/0):[]}function gz(n,e){return n!=null&&n.length?di(n,e=e===void 0?1:rn(e)):[]}function yz(n){return Ss(n,512)}var bz=zx("floor");function wz(n){return Os(function(e){var t=e.length,r=t,i=jo.prototype.thru;for(n&&e.reverse();r--;){var o=e[r];if(typeof o!="function")throw new TypeError("Expected a function");if(i&&!a&&wv(o)=="wrapper")var a=new jo([],!0)}for(r=a?r:t;++r<t;){var s=wv(o=e[r]),l=s=="wrapper"?Sx(o):void 0;a=l&&Mb(l[0])&&l[1]==424&&!l[4].length&&l[9]==1?a[wv(l[0])].apply(a,l[3]):o.length==1&&Mb(o)?a[s]():a.thru(o)}return function(){var u=arguments,c=u[0];if(a&&u.length==1&&Yt(c))return a.plant(c).value();for(var f=0,d=t?e[f].apply(this,u):c;++f<t;)d=e[f].call(this,d);return d}})}var kz=wz(),xz=wz(!0);function jz(n,e){return n==null?n:Xx(n,Ja(e),Pi)}function Cz(n,e){return n==null?n:GB(n,Ja(e),Pi)}function Sz(n,e){return n&&La(n,Ja(e))}function Tz(n,e){return n&&r2(n,Ja(e))}function Oz(n){for(var e=-1,t=n==null?0:n.length,r={};++e<t;){var i=n[e];r[i[0]]=i[1]}return r}function s0(n,e){return Cl(e,function(t){return Wa(n[t])})}function Ez(n){return n==null?[]:s0(n,Ir(n))}function Mz(n){return n==null?[]:s0(n,Pi(n))}var Qqe=Object.prototype.hasOwnProperty,zh=n0(function(n,e,t){Qqe.call(n,t)?n[t].push(e):Ts(n,t,[e])});function l2(n,e){return n>e}function l0(n){return function(e,t){return typeof e=="string"&&typeof t=="string"||(e=uo(e),t=uo(t)),n(e,t)}}var $z=l0(l2),Az=l0(function(n,e){return n>=e}),Yqe=Object.prototype.hasOwnProperty;function Zqe(n,e){return n!=null&&Yqe.call(n,e)}function _z(n,e){return n!=null&&xB(n,e,Zqe)}var Xqe=Math.max,eFe=Math.min;function Nz(n,e,t){return e=Ia(e),t===void 0?(t=e,e=0):t=Ia(t),function(r,i,o){return r>=eFe(i,o)&&r<Xqe(i,o)}(n=uo(n),e,t)}function qh(n){return typeof n=="string"||!Yt(n)&&mr(n)&&Di(n)=="[object String]"}function u2(n,e){return lr(e,function(t){return n[t]})}function Ru(n){return n==null?[]:u2(n,Ir(n))}var tFe=Math.max;function Iz(n,e,t,r){n=Ri(n)?n:Ru(n),t=t&&!r?rn(t):0;var i=n.length;return t<0&&(t=tFe(i+t,0)),qh(n)?t<=i&&n.indexOf(e,t)>-1:!!i&&Sf(n,e,t)>-1}var nFe=Math.max;function Pz(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=t==null?0:rn(t);return i<0&&(i=nFe(r+i,0)),Sf(n,e,i)}function bn(n){return n!=null&&n.length?Oo(n,0,-1):[]}var rFe=Math.min;function c2(n,e,t){for(var r=t?n2:Ug,i=n[0].length,o=n.length,a=o,s=Array(o),l=1/0,u=[];a--;){var c=n[a];a&&e&&(c=lr(c,vo(e))),l=rFe(c.length,l),s[a]=!t&&(e||i>=120&&c.length>=120)?new fu(a&&c):void 0}c=n[0];var f=-1,d=s[0];e:for(;++f<i&&u.length<l;){var h=c[f],v=e?e(h):h;if(h=t||h!==0?h:0,!(d?th(d,v):r(u,v,t))){for(a=o;--a;){var p=s[a];if(!(p?th(p,v):r(n[a],v,t)))continue e}d&&d.push(v),u.push(h)}}return u}function f2(n){return wr(n)?n:[]}var Lz=hn(function(n){var e=lr(n,f2);return e.length&&e[0]===n[0]?c2(e):[]}),Dz=hn(function(n){var e=Nt(n),t=lr(n,f2);return e===Nt(t)?e=void 0:t.pop(),t.length&&t[0]===n[0]?c2(t,Zt(e)):[]}),Rz=hn(function(n){var e=Nt(n),t=lr(n,f2);return(e=typeof e=="function"?e:void 0)&&t.pop(),t.length&&t[0]===n[0]?c2(t,void 0,e):[]});function Bz(n,e){return function(t,r){return function(i,o,a,s){return La(i,function(l,u,c){o(s,a(l),u,c)}),s}(t,n,e(r),{})}}var iFe=Object.prototype.toString,zz=Bz(function(n,e,t){e!=null&&typeof e.toString!="function"&&(e=iFe.call(e)),n[e]=t},Vg(wi)),qz=Object.prototype,oFe=qz.hasOwnProperty,aFe=qz.toString,Fz=Bz(function(n,e,t){e!=null&&typeof e.toString!="function"&&(e=aFe.call(e)),oFe.call(n,e)?n[e].push(t):n[e]=[t]},Zt);function Hz(n,e){return e.length<2?n:Lu(n,Oo(e,0,-1))}function Fh(n,e,t){var r=(n=Hz(n,e=kl(e,n)))==null?n:n[Ua(Nt(e))];return r==null?void 0:po(r,n,t)}var Vz=hn(Fh),Wz=hn(function(n,e,t){var r=-1,i=typeof e=="function",o=Ri(n)?Array(n.length):[];return Sl(n,function(a){o[++r]=i?po(e,a,t):Fh(a,e,t)}),o}),y_=To&&To.isArrayBuffer,Uz=y_?vo(y_):function(n){return mr(n)&&Di(n)=="[object ArrayBuffer]"};function Jz(n){return n===!0||n===!1||mr(n)&&Di(n)=="[object Boolean]"}var b_=To&&To.isDate,Gz=b_?vo(b_):function(n){return mr(n)&&Di(n)=="[object Date]"};function Kz(n){return mr(n)&&n.nodeType===1&&!Mf(n)}var sFe=Object.prototype.hasOwnProperty;function ir(n){if(n==null)return!0;if(Ri(n)&&(Yt(n)||typeof n=="string"||typeof n.splice=="function"||bs(n)||Pu(n)||hl(n)))return!n.length;var e=za(n);if(e=="[object Map]"||e=="[object Set]")return!n.size;if(Lh(n))return!Mx(n).length;for(var t in n)if(sFe.call(n,t))return!1;return!0}function jn(n,e){return Rh(n,e)}function Qz(n,e,t){var r=(t=typeof t=="function"?t:void 0)?t(n,e):void 0;return r===void 0?Rh(n,e,void 0,t):!!r}var lFe=Gr.isFinite;function Yz(n){return typeof n=="number"&&lFe(n)}function d2(n){return typeof n=="number"&&n==rn(n)}function Zz(n,e){return n===e||Kx(n,e,Qx(e))}function Xz(n,e,t){return t=typeof t=="function"?t:void 0,Kx(n,e,Qx(e),t)}function h2(n){return typeof n=="number"||mr(n)&&Di(n)=="[object Number]"}function e9(n){return h2(n)&&n!=+n}var uFe=bv?Wa:Jg;function t9(n){if(uFe(n))throw new Error("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return C8(n)}function n9(n){return n==null}function r9(n){return n===null}var w_=To&&To.isRegExp,u0=w_?vo(w_):function(n){return mr(n)&&Di(n)=="[object RegExp]"};function i9(n){return d2(n)&&n>=-9007199254740991&&n<=9007199254740991}function o9(n){return n===void 0}function a9(n){return mr(n)&&za(n)=="[object WeakMap]"}function s9(n){return mr(n)&&Di(n)=="[object WeakSet]"}function l9(n){return Zt(typeof n=="function"?n:Co(n,1))}var cFe=Array.prototype.join;function u9(n,e){return n==null?"":cFe.call(n,e)}var c9=Af(function(n,e,t){return n+(t?"-":"")+e.toLowerCase()}),f9=n0(function(n,e,t){Ts(n,t,e)}),fFe=Math.max,dFe=Math.min;function d9(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=r;return t!==void 0&&(i=(i=rn(t))<0?fFe(r+i,0):dFe(i,r-1)),e==e?function(o,a,s){for(var l=s+1;l--;)if(o[l]===a)return l;return l}(n,e,i):Wg(n,A8,i,!0)}var h9=Af(function(n,e,t){return n+(t?" ":"")+e.toLowerCase()}),p9=K8("toLowerCase");function p2(n,e){return n<e}var v9=l0(p2),m9=l0(function(n,e){return n<=e});function g9(n,e){var t={};return e=Zt(e),La(n,function(r,i,o){Ts(t,e(r,i,o),r)}),t}function y9(n,e){var t={};return e=Zt(e),La(n,function(r,i,o){Ts(t,i,e(r,i,o))}),t}function b9(n){return kB(Co(n,1))}function w9(n,e){return jB(n,Co(e,1))}function c0(n,e,t){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=e(o);if(a!=null&&(s===void 0?a==a&&!Ui(a):t(a,s)))var s=a,l=o}return l}function k9(n){return n&&n.length?c0(n,wi,l2):void 0}function x9(n,e){return n&&n.length?c0(n,Zt(e),l2):void 0}function v2(n,e){for(var t,r=-1,i=n.length;++r<i;){var o=e(n[r]);o!==void 0&&(t=t===void 0?o:t+o)}return t}function j9(n,e){var t=n==null?0:n.length;return t?v2(n,e)/t:NaN}function C9(n){return j9(n,wi)}function S9(n,e){return j9(n,Zt(e))}var T9=Of(function(n,e,t){o0(n,e,t)}),O9=hn(function(n,e){return function(t){return Fh(t,n,e)}}),E9=hn(function(n,e){return function(t){return Fh(n,t,e)}});function M9(n){return n&&n.length?c0(n,wi,p2):void 0}function yc(n,e){return n&&n.length?c0(n,Zt(e),p2):void 0}function m2(n,e,t){var r=Ir(e),i=s0(e,r),o=!(ar(t)&&"chain"in t&&!t.chain),a=Wa(n);return yo(i,function(s){var l=e[s];n[s]=l,a&&(n.prototype[s]=function(){var u=this.__chain__;if(o||u){var c=n(this.__wrapped__),f=c.__actions__=Vi(this.__actions__);return f.push({func:l,args:arguments,thisArg:n}),c.__chain__=u,c}return l.apply(n,xl([this.value()],arguments))})}),n}var $9=Fg(function(n,e){return n*e},1);function rf(n){if(typeof n!="function")throw new TypeError("Expected a function");return function(){var e=arguments;switch(e.length){case 0:return!n.call(this);case 1:return!n.call(this,e[0]);case 2:return!n.call(this,e[0],e[1]);case 3:return!n.call(this,e[0],e[1],e[2])}return!n.apply(this,e)}}var Dy=bi?bi.iterator:void 0;function g2(n){if(!n)return[];if(Ri(n))return qh(n)?la(n):Vi(n);if(Dy&&n[Dy])return function(t){for(var r,i=[];!(r=t.next()).done;)i.push(r.value);return i}(n[Dy]());var e=za(n);return(e=="[object Map]"?Gx:e=="[object Set]"?e0:Ru)(n)}function Db(){this.__values__===void 0&&(this.__values__=g2(this.value()));var n=this.__index__>=this.__values__.length;return{done:n,value:n?void 0:this.__values__[this.__index__++]}}function A9(n,e){var t=n.length;if(t)return Cs(e+=e<0?t:0,t)?n[e]:void 0}function _9(n,e){return n&&n.length?A9(n,rn(e)):void 0}function N9(n){return n=rn(n),hn(function(e){return A9(e,n)})}function y2(n,e){return(n=Hz(n,e=kl(e,n)))==null||delete n[Ua(Nt(e))]}function hFe(n){return Mf(n)?void 0:n}var I9=Os(function(n,e){var t={};if(n==null)return t;var r=!1;e=lr(e,function(o){return o=kl(o,n),r||(r=o.length>1),o}),Pa(n,Hx(n),t),r&&(t=Co(t,7,hFe));for(var i=e.length;i--;)y2(t,e[i]);return t});function Hh(n,e,t,r){if(!ar(n))return n;for(var i=-1,o=(e=kl(e,n)).length,a=o-1,s=n;s!=null&&++i<o;){var l=Ua(e[i]),u=t;if(l==="__proto__"||l==="constructor"||l==="prototype")return n;if(i!=a){var c=s[l];(u=r?r(c,l,s):void 0)===void 0&&(u=ar(c)?c:Cs(e[i+1])?[]:{})}Ih(s,l,u),s=s[l]}return n}function P9(n,e,t){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=Lu(n,a);t(s,a)&&Hh(o,kl(a,n),s)}return o}function b2(n,e){if(n==null)return{};var t=lr(Hx(n),function(r){return[r]});return e=Zt(e),P9(n,t,function(r,i){return e(r,i[0])})}function L9(n,e){return b2(n,rf(Zt(e)))}function D9(n){return Ix(2,n)}function R9(n,e){if(n!==e){var t=n!==void 0,r=n===null,i=n==n,o=Ui(n),a=e!==void 0,s=e===null,l=e==e,u=Ui(e);if(!s&&!u&&!o&&n>e||o&&a&&l&&!s&&!u||r&&a&&l||!t&&l||!i)return 1;if(!r&&!o&&!u&&n<e||u&&t&&i&&!r&&!o||s&&t&&i||!a&&i||!l)return-1}return 0}function B9(n,e,t){e=e.length?lr(e,function(o){return Yt(o)?function(a){return Lu(a,o.length===1?o[0]:o)}:o}):[wi];var r=-1;e=lr(e,vo(Zt));var i=dz(n,function(o,a,s){var l=lr(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return function(o,a){var s=o.length;for(o.sort(a);s--;)o[s]=o[s].value;return o}(i,function(o,a){return function(s,l,u){for(var c=-1,f=s.criteria,d=l.criteria,h=f.length,v=u.length;++c<h;){var p=R9(f[c],d[c]);if(p)return c>=v?p:p*(u[c]=="desc"?-1:1)}return s.index-l.index}(o,a,t)})}function z9(n,e,t,r){return n==null?[]:(Yt(e)||(e=e==null?[]:[e]),Yt(t=r?void 0:t)||(t=t==null?[]:[t]),B9(n,e,t))}function w2(n){return Os(function(e){return e=lr(e,vo(Zt)),hn(function(t){var r=this;return n(e,function(i){return po(i,r,t)})})})}var q9=w2(lr),pFe=hn,vFe=Math.min,F9=pFe(function(n,e){var t=(e=e.length==1&&Yt(e[0])?lr(e[0],vo(Zt)):lr(di(e,1),vo(Zt))).length;return hn(function(r){for(var i=-1,o=vFe(r.length,t);++i<o;)r[i]=e[i].call(this,r[i]);return po(n,this,r)})}),H9=w2(tz),V9=w2(Jx),mFe=Math.floor;function Rb(n,e){var t="";if(!n||e<1||e>9007199254740991)return t;do e%2&&(t+=n),(e=mFe(e/2))&&(n+=n);while(e);return t}var gFe=Yx("length"),yFe="[\\ud800-\\udfff]",Bb="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",zb="\\ud83c[\\udffb-\\udfff]",W9="[^\\ud800-\\udfff]",U9="(?:\\ud83c[\\udde6-\\uddff]){2}",J9="[\\ud800-\\udbff][\\udc00-\\udfff]",k_="(?:"+Bb+"|"+zb+")?",bFe="[\\ufe0e\\ufe0f]?"+k_+("(?:\\u200d(?:"+[W9,U9,J9].join("|")+")[\\ufe0e\\ufe0f]?"+k_+")*"),wFe="(?:"+[W9+Bb+"?",Bb,U9,J9,yFe].join("|")+")",x_=RegExp(zb+"(?="+zb+")|"+wFe+bFe,"g");function If(n){return $f(n)?function(e){for(var t=x_.lastIndex=0;x_.test(e);)++t;return t}(n):gFe(n)}var kFe=Math.ceil;function Em(n,e){var t=(e=e===void 0?" ":ho(e)).length;if(t<2)return t?Rb(e,n):e;var r=Rb(e,kFe(n/If(e)));return $f(e)?jl(la(r),0,n).join(""):r.slice(0,n)}var xFe=Math.ceil,jFe=Math.floor;function G9(n,e,t){n=Nn(n);var r=(e=rn(e))?If(n):0;if(!e||r>=e)return n;var i=(e-r)/2;return Em(jFe(i),t)+n+Em(xFe(i),t)}function K9(n,e,t){n=Nn(n);var r=(e=rn(e))?If(n):0;return e&&r<e?n+Em(e-r,t):n}function Q9(n,e,t){n=Nn(n);var r=(e=rn(e))?If(n):0;return e&&r<e?Em(e-r,t)+n:n}var CFe=/^\s+/,SFe=Gr.parseInt;function Y9(n,e,t){return t||e==null?e=0:e&&(e=+e),SFe(Nn(n).replace(CFe,""),e||0)}var Vh=hn(function(n,e){return Ss(n,32,void 0,e,rl(e,Tf(Vh)))});Vh.placeholder={};var f0=hn(function(n,e){return Ss(n,64,void 0,e,rl(e,Tf(f0)))});f0.placeholder={};var Z9=n0(function(n,e,t){n[t?0:1].push(e)},function(){return[[],[]]}),X9=Os(function(n,e){return n==null?{}:function(t,r){return P9(t,r,function(i,o){return t0(t,o)})}(n,e)});function qb(n){for(var e,t=this;t instanceof Hg;){var r=E8(t);r.__index__=0,r.__values__=void 0,e?i.__wrapped__=r:e=r;var i=r;t=t.__wrapped__}return i.__wrapped__=n,e}function e7(n){return function(e){return n==null?void 0:Lu(n,e)}}function TFe(n,e,t,r){for(var i=t-1,o=n.length;++i<o;)if(r(n[i],e))return i;return-1}var j_=Array.prototype.splice;function k2(n,e,t,r){var i=r?TFe:Sf,o=-1,a=e.length,s=n;for(n===e&&(e=Vi(e)),t&&(s=lr(n,vo(t)));++o<a;)for(var l=0,u=e[o],c=t?t(u):u;(l=i(s,c,l,r))>-1;)s!==n&&j_.call(s,l,1),j_.call(n,l,1);return n}function x2(n,e){return n&&n.length&&e&&e.length?k2(n,e):n}var t7=hn(x2);function n7(n,e,t){return n&&n.length&&e&&e.length?k2(n,e,Zt(t)):n}function r7(n,e,t){return n&&n.length&&e&&e.length?k2(n,e,void 0,t):n}var OFe=Array.prototype.splice;function i7(n,e){for(var t=n?e.length:0,r=t-1;t--;){var i=e[t];if(t==r||i!==o){var o=i;Cs(i)?OFe.call(n,i,1):y2(n,i)}}return n}var o7=Os(function(n,e){var t=n==null?0:n.length,r=Ax(n,e);return i7(n,lr(e,function(i){return Cs(i,t)?+i:i}).sort(R9)),r}),EFe=Math.floor,MFe=Math.random;function j2(n,e){return n+EFe(MFe()*(e-n+1))}var $Fe=parseFloat,AFe=Math.min,_Fe=Math.random;function a7(n,e,t){if(t&&typeof t!="boolean"&&Ii(n,e,t)&&(e=t=void 0),t===void 0&&(typeof e=="boolean"?(t=e,e=void 0):typeof n=="boolean"&&(t=n,n=void 0)),n===void 0&&e===void 0?(n=0,e=1):(n=Ia(n),e===void 0?(e=n,n=0):e=Ia(e)),n>e){var r=n;n=e,e=r}if(t||n%1||e%1){var i=_Fe();return AFe(n+i*(e-n+$Fe("1e-"+((i+"").length-1))),e)}return j2(n,e)}var NFe=Math.ceil,IFe=Math.max;function s7(n){return function(e,t,r){return r&&typeof r!="number"&&Ii(e,t,r)&&(t=r=void 0),e=Ia(e),t===void 0?(t=e,e=0):t=Ia(t),function(i,o,a,s){for(var l=-1,u=IFe(NFe((o-i)/(a||1)),0),c=Array(u);u--;)c[s?u:++l]=i,i+=a;return c}(e,t,r=r===void 0?e<t?1:-1:Ia(r),n)}}var C2=s7(),l7=s7(!0),u7=Os(function(n,e){return Ss(n,256,void 0,void 0,void 0,e)});function c7(n,e,t,r,i){return i(n,function(o,a,s){t=r?(r=!1,o):e(t,o,a,s)}),t}function f7(n,e,t){var r=Yt(n)?Lx:c7,i=arguments.length<3;return r(n,Zt(e),t,i,Sl)}function PFe(n,e,t,r){var i=n==null?0:n.length;for(r&&i&&(t=n[--i]);i--;)t=e(t,n[i],i,n);return t}function d7(n,e,t){var r=Yt(n)?PFe:c7,i=arguments.length<3;return r(n,Zt(e),t,i,KB)}function h7(n,e){return(Yt(n)?Cl:iz)(n,rf(Zt(e)))}function p7(n,e){var t=[];if(!n||!n.length)return t;var r=-1,i=[],o=n.length;for(e=Zt(e);++r<o;){var a=n[r];e(a,r,n)&&(t.push(a),i.push(r))}return i7(n,i),t}function v7(n,e,t){return e=(t?Ii(n,e,t):e===void 0)?1:rn(e),Rb(Nn(n),e)}function m7(){var n=arguments,e=Nn(n[0]);return n.length<3?e:e.replace(n[1],n[2])}function g7(n,e){if(typeof n!="function")throw new TypeError("Expected a function");return hn(n,e=e===void 0?e:rn(e))}function y7(n,e,t){var r=-1,i=(e=kl(e,n)).length;for(i||(i=1,n=void 0);++r<i;){var o=n==null?void 0:n[Ua(e[r])];o===void 0&&(r=i,o=t),n=Wa(o)?o.call(n):o}return n}var LFe=Array.prototype.reverse;function Mm(n){return n==null?n:LFe.call(n)}var b7=zx("round");function w7(n){var e=n.length;return e?n[j2(0,e-1)]:void 0}function DFe(n){return w7(Ru(n))}function k7(n){return(Yt(n)?w7:DFe)(n)}function d0(n,e){var t=-1,r=n.length,i=r-1;for(e=e===void 0?r:e;++t<e;){var o=j2(t,i),a=n[o];n[o]=n[t],n[t]=a}return n.length=e,n}function RFe(n,e){return d0(Vi(n),Du(e,0,n.length))}function BFe(n,e){var t=Ru(n);return d0(t,Du(e,0,t.length))}function x7(n,e,t){return e=(t?Ii(n,e,t):e===void 0)?1:rn(e),(Yt(n)?RFe:BFe)(n,e)}function j7(n,e,t){return n==null?n:Hh(n,e,t)}function C7(n,e,t,r){return r=typeof r=="function"?r:void 0,n==null?n:Hh(n,e,t,r)}function zFe(n){return d0(Vi(n))}function qFe(n){return d0(Ru(n))}function S7(n){return(Yt(n)?zFe:qFe)(n)}function T7(n){if(n==null)return 0;if(Ri(n))return qh(n)?If(n):n.length;var e=za(n);return e=="[object Map]"||e=="[object Set]"?n.size:Mx(n).length}function O7(n,e,t){var r=n==null?0:n.length;return r?(t&&typeof t!="number"&&Ii(n,e,t)?(e=0,t=r):(e=e==null?0:rn(e),t=t===void 0?r:rn(t)),Oo(n,e,t)):[]}var E7=Af(function(n,e,t){return n+(t?"_":"")+e.toLowerCase()});function FFe(n,e){var t;return Sl(n,function(r,i,o){return!(t=e(r,i,o))}),!!t}function M7(n,e,t){var r=Yt(n)?Jx:FFe;return t&&Ii(n,e,t)&&(e=void 0),r(n,Zt(e))}var S2=hn(function(n,e){if(n==null)return[];var t=e.length;return t>1&&Ii(n,e[0],e[1])?e=[]:t>2&&Ii(e[0],e[1],e[2])&&(e=[e[0]]),B9(n,di(e,1),[])}),HFe=Math.floor,VFe=Math.min;function T2(n,e,t,r){var i=0,o=n==null?0:n.length;if(o===0)return 0;for(var a=(e=t(e))!=e,s=e===null,l=Ui(e),u=e===void 0;i<o;){var c=HFe((i+o)/2),f=t(n[c]),d=f!==void 0,h=f===null,v=f==f,p=Ui(f);if(a)var m=r||v;else m=u?v&&(r||d):s?v&&d&&(r||!h):l?v&&d&&!h&&(r||!p):!h&&!p&&(r?f<=e:f<e);m?i=c+1:o=c}return VFe(o,4294967294)}function h0(n,e,t){var r=0,i=n==null?r:n.length;if(typeof e=="number"&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=n[o];a!==null&&!Ui(a)&&(t?a<=e:a<e)?r=o+1:i=o}return i}return T2(n,e,wi,t)}function $7(n,e){return h0(n,e)}function A7(n,e,t){return T2(n,e,Zt(t))}function _7(n,e){var t=n==null?0:n.length;if(t){var r=h0(n,e);if(r<t&&_o(n[r],e))return r}return-1}function N7(n,e){return h0(n,e,!0)}function I7(n,e,t){return T2(n,e,Zt(t),!0)}function P7(n,e){if(n!=null&&n.length){var t=h0(n,e,!0)-1;if(_o(n[t],e))return t}return-1}function L7(n,e){for(var t=-1,r=n.length,i=0,o=[];++t<r;){var a=n[t],s=e?e(a):a;if(!t||!_o(s,l)){var l=s;o[i++]=a===0?0:a}}return o}function D7(n){return n&&n.length?L7(n):[]}function R7(n,e){return n&&n.length?L7(n,Zt(e)):[]}function B7(n,e,t){return t&&typeof t!="number"&&Ii(n,e,t)&&(e=t=void 0),(t=t===void 0?4294967295:t>>>0)?(n=Nn(n))&&(typeof e=="string"||e!=null&&!u0(e))&&!(e=ho(e))&&$f(n)?jl(la(n),0,t):n.split(e,t):[]}var WFe=Math.max;function z7(n,e){if(typeof n!="function")throw new TypeError("Expected a function");return e=e==null?0:WFe(rn(e),0),hn(function(t){var r=t[e],i=jl(t,0,e);return r&&xl(i,r),po(n,this,i)})}var q7=Af(function(n,e,t){return n+(t?" ":"")+Zg(e)});function F7(n,e,t){return n=Nn(n),t=t==null?0:Du(rn(t),0,n.length),e=ho(e),n.slice(t,t+e.length)==e}function H7(){return{}}function V7(){return""}function W7(){return!0}var U7=Fg(function(n,e){return n-e},0);function J7(n){return n&&n.length?v2(n,wi):0}function G7(n,e){return n&&n.length?v2(n,Zt(e)):0}function K7(n){var e=n==null?0:n.length;return e?Oo(n,1,e):[]}function Q7(n,e,t){return n&&n.length?Oo(n,0,(e=t||e===void 0?1:rn(e))<0?0:e):[]}function Y7(n,e,t){var r=n==null?0:n.length;return r?Oo(n,(e=r-(e=t||e===void 0?1:rn(e)))<0?0:e,r):[]}function Z7(n,e){return n&&n.length?a0(n,Zt(e),!1,!0):[]}function X7(n,e){return n&&n.length?a0(n,Zt(e)):[]}function eq(n,e){return e(n),n}var tq=Object.prototype,UFe=tq.hasOwnProperty;function C_(n,e,t,r){return n===void 0||_o(n,tq[t])&&!UFe.call(r,t)?e:n}var JFe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function GFe(n){return"\\"+JFe[n]}var nq=/<%=([\s\S]+?)%>/g,$m={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:nq,variable:"",imports:{_:{escape:i2}}},KFe=/\b__p \+= '';/g,QFe=/\b(__p \+=) '' \+/g,YFe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ZFe=/[()=,{}\[\]\/\s]/,XFe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ep=/($^)/,eHe=/['\n\r\u2028\u2029\\]/g,S_=Object.prototype.hasOwnProperty;function rq(n,e,t){var r=$m.imports._.templateSettings||$m;t&&Ii(n,e,t)&&(e=void 0),n=Nn(n),e=nf({},e,r,C_);var i,o,a=nf({},e.imports,r.imports,C_),s=Ir(a),l=u2(a,s),u=0,c=e.interpolate||Ep,f="__p += '",d=RegExp((e.escape||Ep).source+"|"+c.source+"|"+(c===nq?XFe:Ep).source+"|"+(e.evaluate||Ep).source+"|$","g"),h=S_.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+`
`:"";n.replace(d,function(m,g,y,b,w,k){return y||(y=b),f+=n.slice(u,k).replace(eHe,GFe),g&&(i=!0,f+=`' +
__e(`+g+`) +
'`),w&&(o=!0,f+=`';
`+w+`;
__p += '`),y&&(f+=`' +
((__t = (`+y+`)) == null ? '' : __t) +
'`),u=k+m.length,m}),f+=`';
`;var v=S_.call(e,"variable")&&e.variable;if(v){if(ZFe.test(v))throw new Error("Invalid `variable` option passed into `_.template`")}else f=`with (obj) {
`+f+`
}
`;f=(o?f.replace(KFe,""):f).replace(QFe,"$1").replace(YFe,"$1;"),f="function("+(v||"obj")+`) {
`+(v?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+f+`return __p
}`;var p=Nx(function(){return Function(s,h+"return "+f).apply(void 0,l)});if(p.source=f,Qg(p))throw p;return p}function O2(n,e,t){var r=!0,i=!0;if(typeof n!="function")throw new TypeError("Expected a function");return ar(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),_f(n,e,{leading:r,maxWait:e,trailing:i})}function of(n,e){return e(n)}var tHe=Math.min;function E2(n,e){if((n=rn(n))<1||n>9007199254740991)return[];var t=4294967295,r=tHe(n,4294967295);n-=4294967295;for(var i=Ex(r,e=Ja(e));++t<n;)e(t);return i}function Fb(){return this}function iq(n,e){var t=n;return t instanceof gn&&(t=t.value()),Lx(e,function(r,i){return i.func.apply(i.thisArg,xl([r],i.args))},t)}function Ql(){return iq(this.__wrapped__,this.__actions__)}function oq(n){return Nn(n).toLowerCase()}function aq(n){return Yt(n)?lr(n,Ua):Ui(n)?[n]:Vi(F8(Nn(n)))}function sq(n){return n?Du(rn(n),-9007199254740991,9007199254740991):n===0?n:0}function lq(n){return Nn(n).toUpperCase()}function uq(n,e,t){var r=Yt(n),i=r||bs(n)||Pu(n);if(e=Zt(e),t==null){var o=n&&n.constructor;t=i?r?new o:[]:ar(n)&&Wa(o)?Cf(Kg(n)):{}}return(i?yo:La)(n,function(a,s,l){return e(t,a,s,l)}),t}function cq(n,e){for(var t=n.length;t--&&Sf(e,n[t],0)>-1;);return t}function fq(n,e){for(var t=-1,r=n.length;++t<r&&Sf(e,n[t],0)>-1;);return t}function dq(n,e,t){if((n=Nn(n))&&(t||e===void 0))return x8(n);if(!n||!(e=ho(e)))return n;var r=la(n),i=la(e);return jl(r,fq(r,i),cq(r,i)+1).join("")}function hq(n,e,t){if((n=Nn(n))&&(t||e===void 0))return n.slice(0,k8(n)+1);if(!n||!(e=ho(e)))return n;var r=la(n);return jl(r,0,cq(r,la(e))+1).join("")}var nHe=/^\s+/;function pq(n,e,t){if((n=Nn(n))&&(t||e===void 0))return n.replace(nHe,"");if(!n||!(e=ho(e)))return n;var r=la(n);return jl(r,fq(r,la(e))).join("")}var rHe=/\w*$/;function vq(n,e){var t=30,r="...";if(ar(e)){var i="separator"in e?e.separator:i;t="length"in e?rn(e.length):t,r="omission"in e?ho(e.omission):r}var o=(n=Nn(n)).length;if($f(n)){var a=la(n);o=a.length}if(t>=o)return n;var s=t-If(r);if(s<1)return r;var l=a?jl(a,0,s).join(""):n.slice(0,s);if(i===void 0)return l+r;if(a&&(s+=l.length-s),u0(i)){if(n.slice(s).search(i)){var u,c=l;for(i.global||(i=RegExp(i.source,Nn(rHe.exec(i))+"g")),i.lastIndex=0;u=i.exec(c);)var f=u.index;l=l.slice(0,f===void 0?s:f)}}else if(n.indexOf(ho(i),s)!=s){var d=l.lastIndexOf(i);d>-1&&(l=l.slice(0,d))}return l+r}function mq(n){return Ox(n,1)}var iHe=Dx({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),gq=/&(?:amp|lt|gt|quot|#39);/g,oHe=RegExp(gq.source);function yq(n){return(n=Nn(n))&&oHe.test(n)?n.replace(gq,iHe):n}var aHe=Mc&&1/e0(new Mc([,-0]))[1]==1/0?function(n){return new Mc(n)}:Dn;function pl(n,e,t){var r=-1,i=Ug,o=n.length,a=!0,s=[],l=s;if(t)a=!1,i=n2;else if(o>=200){var u=e?null:aHe(n);if(u)return e0(u);a=!1,i=th,l=new fu}else l=e?[]:s;e:for(;++r<o;){var c=n[r],f=e?e(c):c;if(c=t||c!==0?c:0,a&&f==f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,t)||(l!==s&&l.push(f),s.push(c))}return s}var bq=hn(function(n){return pl(di(n,1,wr,!0))}),wq=hn(function(n){var e=Nt(n);return wr(e)&&(e=void 0),pl(di(n,1,wr,!0),Zt(e))}),kq=hn(function(n){var e=Nt(n);return e=typeof e=="function"?e:void 0,pl(di(n,1,wr,!0),void 0,e)});function xq(n){return n&&n.length?pl(n):[]}function jq(n,e){return n&&n.length?pl(n,Zt(e)):[]}function Cq(n,e){return e=typeof e=="function"?e:void 0,n&&n.length?pl(n,void 0,e):[]}var sHe=0;function af(n){var e=++sHe;return Nn(n)+e}function Sq(n,e){return n==null||y2(n,e)}var lHe=Math.max;function p0(n){if(!n||!n.length)return[];var e=0;return n=Cl(n,function(t){if(wr(t))return e=lHe(t.length,e),!0}),Ex(e,function(t){return lr(n,Yx(t))})}function M2(n,e){if(!n||!n.length)return[];var t=p0(n);return e==null?t:lr(t,function(r){return po(e,void 0,r)})}function Tq(n,e,t,r){return Hh(n,e,t(Lu(n,e)),r)}function Oq(n,e,t){return n==null?n:Tq(n,e,Ja(t))}function Eq(n,e,t,r){return r=typeof r=="function"?r:void 0,n==null?n:Tq(n,e,Ja(t),r)}var Mq=Af(function(n,e,t){return n+(t?" ":"")+e.toUpperCase()});function $q(n){return n==null?[]:u2(n,Pi(n))}var Aq=hn(function(n,e){return wr(n)?Bh(n,e):[]});function _q(n,e){return Vh(Ja(e),n)}var Nq=Os(function(n){var e=n.length,t=e?n[0]:0,r=this.__wrapped__,i=function(o){return Ax(o,n)};return!(e>1||this.__actions__.length)&&r instanceof gn&&Cs(t)?((r=r.slice(t,+t+(e?1:0))).__actions__.push({func:of,args:[i],thisArg:void 0}),new jo(r,this.__chain__).thru(function(o){return e&&!o.length&&o.push(void 0),o})):this.thru(i)});function Iq(){return qx(this)}function Pq(){var n=this.__wrapped__;if(n instanceof gn){var e=n;return this.__actions__.length&&(e=new gn(this)),(e=e.reverse()).__actions__.push({func:of,args:[Mm],thisArg:void 0}),new jo(e,this.__chain__)}return this.thru(Mm)}function $2(n,e,t){var r=n.length;if(r<2)return r?pl(n[0]):[];for(var i=-1,o=Array(r);++i<r;)for(var a=n[i],s=-1;++s<r;)s!=i&&(o[i]=Bh(o[i]||a,n[s],e,t));return pl(di(o,1),e,t)}var Lq=hn(function(n){return $2(Cl(n,wr))}),Dq=hn(function(n){var e=Nt(n);return wr(e)&&(e=void 0),$2(Cl(n,wr),Zt(e))}),Rq=hn(function(n){var e=Nt(n);return e=typeof e=="function"?e:void 0,$2(Cl(n,wr),void 0,e)}),Bq=hn(p0);function zq(n,e,t){for(var r=-1,i=n.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:void 0;t(a,n[r],s)}return a}function qq(n,e){return zq(n||[],e||[],Ih)}function Fq(n,e){return zq(n||[],e||[],Hh)}var Hq=hn(function(n){var e=n.length,t=e>1?n[e-1]:void 0;return t=typeof t=="function"?(n.pop(),t):void 0,M2(n,t)}),xt={chunk:oB,compact:gB,concat:yB,difference:zB,differenceBy:qB,differenceWith:FB,drop:VB,dropRight:WB,dropRightWhile:UB,dropWhile:JB,fill:rz,findIndex:a2,findLastIndex:s2,first:qr,flatten:_x,flattenDeep:mz,flattenDepth:gz,fromPairs:Oz,head:qr,indexOf:Pz,initial:bn,intersection:Lz,intersectionBy:Dz,intersectionWith:Rz,join:u9,last:Nt,lastIndexOf:d9,nth:_9,pull:t7,pullAll:x2,pullAllBy:n7,pullAllWith:r7,pullAt:o7,remove:p7,reverse:Mm,slice:O7,sortedIndex:$7,sortedIndexBy:A7,sortedIndexOf:_7,sortedLastIndex:N7,sortedLastIndexBy:I7,sortedLastIndexOf:P7,sortedUniq:D7,sortedUniqBy:R7,tail:K7,take:Q7,takeRight:Y7,takeRightWhile:Z7,takeWhile:X7,union:bq,unionBy:wq,unionWith:kq,uniq:xq,uniqBy:jq,uniqWith:Cq,unzip:p0,unzipWith:M2,without:Aq,xor:Lq,xorBy:Dq,xorWith:Rq,zip:Bq,zipObject:qq,zipObjectDeep:Fq,zipWith:Hq},Un={countBy:$B,each:Sm,eachRight:nh,every:nz,filter:oz,find:sz,findLast:cz,flatMap:hz,flatMapDeep:pz,flatMapDepth:vz,forEach:Sm,forEachRight:nh,groupBy:zh,includes:Iz,invokeMap:Wz,keyBy:f9,map:Nf,orderBy:z9,partition:Z9,reduce:f7,reduceRight:d7,reject:h7,sample:k7,sampleSize:x7,shuffle:S7,size:T7,some:M7,sortBy:S2},uHe=Pd,br={after:j8,ary:Ox,before:Ix,bind:Dh,bindKey:Yg,curry:r0,curryRight:i0,debounce:_f,defer:RB,delay:BB,flip:yz,memoize:Ef,negate:rf,once:D9,overArgs:F9,partial:Vh,partialRight:f0,rearg:u7,rest:g7,spread:z7,throttle:O2,unary:mq,wrap:_q},Rt={castArray:rB,clone:pB,cloneDeep:vB,cloneDeepWith:Ux,cloneWith:mB,conformsTo:OB,eq:_o,gt:$z,gte:Az,isArguments:hl,isArray:Yt,isArrayBuffer:Uz,isArrayLike:Ri,isArrayLikeObject:wr,isBoolean:Jz,isBuffer:bs,isDate:Gz,isElement:Kz,isEmpty:ir,isEqual:jn,isEqualWith:Qz,isError:Qg,isFinite:Yz,isFunction:Wa,isInteger:d2,isLength:Ph,isMap:Vx,isMatch:Zz,isMatchWith:Xz,isNaN:e9,isNative:t9,isNil:n9,isNull:r9,isNumber:h2,isObject:ar,isObjectLike:mr,isPlainObject:Mf,isRegExp:u0,isSafeInteger:i9,isSet:Wx,isString:qh,isSymbol:Ui,isTypedArray:Pu,isUndefined:o9,isWeakMap:a9,isWeakSet:s9,lt:v9,lte:m9,toArray:g2,toFinite:Ia,toInteger:rn,toLength:o2,toNumber:uo,toPlainObject:e2,toSafeInteger:sq,toString:Nn},Ci={add:w8,ceil:iB,divide:HB,floor:bz,max:k9,maxBy:x9,mean:C9,meanBy:S9,min:M9,minBy:yc,multiply:$9,round:b7,subtract:U7,sum:J7,sumBy:G7},cHe=aB,fHe=Nz,dHe=a7,Kt={assign:z8,assignIn:jm,assignInWith:nf,assignWith:q8,at:H8,create:AB,defaults:IB,defaultsDeep:LB,entries:Tm,entriesIn:Om,extend:jm,extendWith:nf,findKey:uz,findLastKey:fz,forIn:jz,forInRight:Cz,forOwn:Sz,forOwnRight:Tz,functions:Ez,functionsIn:Mz,get:Gg,has:_z,hasIn:t0,invert:zz,invertBy:Fz,invoke:Vz,keys:Ir,keysIn:Pi,mapKeys:g9,mapValues:y9,merge:T9,mergeWith:t2,omit:I9,omitBy:L9,pick:X9,pickBy:b2,result:y7,set:j7,setWith:C7,toPairs:Tm,toPairsIn:Om,transform:uq,unset:Sq,update:Oq,updateWith:Eq,values:Ru,valuesIn:$q},ha={at:Nq,chain:qx,commit:Lb,lodash:K,next:Db,plant:qb,reverse:Pq,tap:eq,thru:of,toIterator:Fb,toJSON:Ql,value:Ql,valueOf:Ql,wrapperChain:Iq},_n={camelCase:nB,capitalize:Px,deburr:Rx,endsWith:QB,escape:i2,escapeRegExp:ez,kebabCase:c9,lowerCase:h9,lowerFirst:p9,pad:G9,padEnd:K9,padStart:Q9,parseInt:Y9,repeat:v7,replace:m7,snakeCase:E7,split:B7,startCase:q7,startsWith:F7,template:rq,templateSettings:$m,toLower:oq,toUpper:lq,trim:dq,trimEnd:hq,trimStart:pq,truncate:vq,unescape:yq,upperCase:Mq,upperFirst:Zg,words:Bx},Ln={attempt:Nx,bindAll:W8,cond:CB,conforms:TB,constant:Vg,defaultTo:_B,flow:kz,flowRight:xz,identity:wi,iteratee:l9,matches:b9,matchesProperty:w9,method:O9,methodOf:E9,mixin:m2,noop:Dn,nthArg:N9,over:q9,overEvery:H9,overSome:V9,property:Zx,propertyOf:e7,range:C2,rangeRight:l7,stubArray:Xg,stubFalse:Jg,stubObject:H7,stubString:V7,stubTrue:W7,times:E2,toPath:aq,uniqueId:af},hHe=Math.max,pHe=Math.min,vHe=Math.min;/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var Ry,mHe=Array.prototype,T_=Object.prototype.hasOwnProperty,O_=bi?bi.iterator:void 0,gHe=Math.max,E_=Math.min,By=function(n){return function(e,t,r){if(r==null){var i=ar(t),o=i&&Ir(t),a=o&&o.length&&s0(t,o);(a?a.length:i)||(r=t,t=e,e=this)}return n(e,t,r)}}(m2);K.after=br.after,K.ary=br.ary,K.assign=Kt.assign,K.assignIn=Kt.assignIn,K.assignInWith=Kt.assignInWith,K.assignWith=Kt.assignWith,K.at=Kt.at,K.before=br.before,K.bind=br.bind,K.bindAll=Ln.bindAll,K.bindKey=br.bindKey,K.castArray=Rt.castArray,K.chain=ha.chain,K.chunk=xt.chunk,K.compact=xt.compact,K.concat=xt.concat,K.cond=Ln.cond,K.conforms=Ln.conforms,K.constant=Ln.constant,K.countBy=Un.countBy,K.create=Kt.create,K.curry=br.curry,K.curryRight=br.curryRight,K.debounce=br.debounce,K.defaults=Kt.defaults,K.defaultsDeep=Kt.defaultsDeep,K.defer=br.defer,K.delay=br.delay,K.difference=xt.difference,K.differenceBy=xt.differenceBy,K.differenceWith=xt.differenceWith,K.drop=xt.drop,K.dropRight=xt.dropRight,K.dropRightWhile=xt.dropRightWhile,K.dropWhile=xt.dropWhile,K.fill=xt.fill,K.filter=Un.filter,K.flatMap=Un.flatMap,K.flatMapDeep=Un.flatMapDeep,K.flatMapDepth=Un.flatMapDepth,K.flatten=xt.flatten,K.flattenDeep=xt.flattenDeep,K.flattenDepth=xt.flattenDepth,K.flip=br.flip,K.flow=Ln.flow,K.flowRight=Ln.flowRight,K.fromPairs=xt.fromPairs,K.functions=Kt.functions,K.functionsIn=Kt.functionsIn,K.groupBy=Un.groupBy,K.initial=xt.initial,K.intersection=xt.intersection,K.intersectionBy=xt.intersectionBy,K.intersectionWith=xt.intersectionWith,K.invert=Kt.invert,K.invertBy=Kt.invertBy,K.invokeMap=Un.invokeMap,K.iteratee=Ln.iteratee,K.keyBy=Un.keyBy,K.keys=Ir,K.keysIn=Kt.keysIn,K.map=Un.map,K.mapKeys=Kt.mapKeys,K.mapValues=Kt.mapValues,K.matches=Ln.matches,K.matchesProperty=Ln.matchesProperty,K.memoize=br.memoize,K.merge=Kt.merge,K.mergeWith=Kt.mergeWith,K.method=Ln.method,K.methodOf=Ln.methodOf,K.mixin=By,K.negate=rf,K.nthArg=Ln.nthArg,K.omit=Kt.omit,K.omitBy=Kt.omitBy,K.once=br.once,K.orderBy=Un.orderBy,K.over=Ln.over,K.overArgs=br.overArgs,K.overEvery=Ln.overEvery,K.overSome=Ln.overSome,K.partial=br.partial,K.partialRight=br.partialRight,K.partition=Un.partition,K.pick=Kt.pick,K.pickBy=Kt.pickBy,K.property=Ln.property,K.propertyOf=Ln.propertyOf,K.pull=xt.pull,K.pullAll=xt.pullAll,K.pullAllBy=xt.pullAllBy,K.pullAllWith=xt.pullAllWith,K.pullAt=xt.pullAt,K.range=Ln.range,K.rangeRight=Ln.rangeRight,K.rearg=br.rearg,K.reject=Un.reject,K.remove=xt.remove,K.rest=br.rest,K.reverse=xt.reverse,K.sampleSize=Un.sampleSize,K.set=Kt.set,K.setWith=Kt.setWith,K.shuffle=Un.shuffle,K.slice=xt.slice,K.sortBy=Un.sortBy,K.sortedUniq=xt.sortedUniq,K.sortedUniqBy=xt.sortedUniqBy,K.split=_n.split,K.spread=br.spread,K.tail=xt.tail,K.take=xt.take,K.takeRight=xt.takeRight,K.takeRightWhile=xt.takeRightWhile,K.takeWhile=xt.takeWhile,K.tap=ha.tap,K.throttle=br.throttle,K.thru=of,K.toArray=Rt.toArray,K.toPairs=Kt.toPairs,K.toPairsIn=Kt.toPairsIn,K.toPath=Ln.toPath,K.toPlainObject=Rt.toPlainObject,K.transform=Kt.transform,K.unary=br.unary,K.union=xt.union,K.unionBy=xt.unionBy,K.unionWith=xt.unionWith,K.uniq=xt.uniq,K.uniqBy=xt.uniqBy,K.uniqWith=xt.uniqWith,K.unset=Kt.unset,K.unzip=xt.unzip,K.unzipWith=xt.unzipWith,K.update=Kt.update,K.updateWith=Kt.updateWith,K.values=Kt.values,K.valuesIn=Kt.valuesIn,K.without=xt.without,K.words=_n.words,K.wrap=br.wrap,K.xor=xt.xor,K.xorBy=xt.xorBy,K.xorWith=xt.xorWith,K.zip=xt.zip,K.zipObject=xt.zipObject,K.zipObjectDeep=xt.zipObjectDeep,K.zipWith=xt.zipWith,K.entries=Kt.toPairs,K.entriesIn=Kt.toPairsIn,K.extend=Kt.assignIn,K.extendWith=Kt.assignInWith,By(K,K),K.add=Ci.add,K.attempt=Ln.attempt,K.camelCase=_n.camelCase,K.capitalize=_n.capitalize,K.ceil=Ci.ceil,K.clamp=cHe,K.clone=Rt.clone,K.cloneDeep=Rt.cloneDeep,K.cloneDeepWith=Rt.cloneDeepWith,K.cloneWith=Rt.cloneWith,K.conformsTo=Rt.conformsTo,K.deburr=_n.deburr,K.defaultTo=Ln.defaultTo,K.divide=Ci.divide,K.endsWith=_n.endsWith,K.eq=Rt.eq,K.escape=_n.escape,K.escapeRegExp=_n.escapeRegExp,K.every=Un.every,K.find=Un.find,K.findIndex=xt.findIndex,K.findKey=Kt.findKey,K.findLast=Un.findLast,K.findLastIndex=xt.findLastIndex,K.findLastKey=Kt.findLastKey,K.floor=Ci.floor,K.forEach=Un.forEach,K.forEachRight=Un.forEachRight,K.forIn=Kt.forIn,K.forInRight=Kt.forInRight,K.forOwn=Kt.forOwn,K.forOwnRight=Kt.forOwnRight,K.get=Kt.get,K.gt=Rt.gt,K.gte=Rt.gte,K.has=Kt.has,K.hasIn=Kt.hasIn,K.head=xt.head,K.identity=wi,K.includes=Un.includes,K.indexOf=xt.indexOf,K.inRange=fHe,K.invoke=Kt.invoke,K.isArguments=Rt.isArguments,K.isArray=Yt,K.isArrayBuffer=Rt.isArrayBuffer,K.isArrayLike=Rt.isArrayLike,K.isArrayLikeObject=Rt.isArrayLikeObject,K.isBoolean=Rt.isBoolean,K.isBuffer=Rt.isBuffer,K.isDate=Rt.isDate,K.isElement=Rt.isElement,K.isEmpty=Rt.isEmpty,K.isEqual=Rt.isEqual,K.isEqualWith=Rt.isEqualWith,K.isError=Rt.isError,K.isFinite=Rt.isFinite,K.isFunction=Rt.isFunction,K.isInteger=Rt.isInteger,K.isLength=Rt.isLength,K.isMap=Rt.isMap,K.isMatch=Rt.isMatch,K.isMatchWith=Rt.isMatchWith,K.isNaN=Rt.isNaN,K.isNative=Rt.isNative,K.isNil=Rt.isNil,K.isNull=Rt.isNull,K.isNumber=Rt.isNumber,K.isObject=ar,K.isObjectLike=Rt.isObjectLike,K.isPlainObject=Rt.isPlainObject,K.isRegExp=Rt.isRegExp,K.isSafeInteger=Rt.isSafeInteger,K.isSet=Rt.isSet,K.isString=Rt.isString,K.isSymbol=Rt.isSymbol,K.isTypedArray=Rt.isTypedArray,K.isUndefined=Rt.isUndefined,K.isWeakMap=Rt.isWeakMap,K.isWeakSet=Rt.isWeakSet,K.join=xt.join,K.kebabCase=_n.kebabCase,K.last=Nt,K.lastIndexOf=xt.lastIndexOf,K.lowerCase=_n.lowerCase,K.lowerFirst=_n.lowerFirst,K.lt=Rt.lt,K.lte=Rt.lte,K.max=Ci.max,K.maxBy=Ci.maxBy,K.mean=Ci.mean,K.meanBy=Ci.meanBy,K.min=Ci.min,K.minBy=Ci.minBy,K.stubArray=Ln.stubArray,K.stubFalse=Ln.stubFalse,K.stubObject=Ln.stubObject,K.stubString=Ln.stubString,K.stubTrue=Ln.stubTrue,K.multiply=Ci.multiply,K.nth=xt.nth,K.noop=Ln.noop,K.now=uHe,K.pad=_n.pad,K.padEnd=_n.padEnd,K.padStart=_n.padStart,K.parseInt=_n.parseInt,K.random=dHe,K.reduce=Un.reduce,K.reduceRight=Un.reduceRight,K.repeat=_n.repeat,K.replace=_n.replace,K.result=Kt.result,K.round=Ci.round,K.sample=Un.sample,K.size=Un.size,K.snakeCase=_n.snakeCase,K.some=Un.some,K.sortedIndex=xt.sortedIndex,K.sortedIndexBy=xt.sortedIndexBy,K.sortedIndexOf=xt.sortedIndexOf,K.sortedLastIndex=xt.sortedLastIndex,K.sortedLastIndexBy=xt.sortedLastIndexBy,K.sortedLastIndexOf=xt.sortedLastIndexOf,K.startCase=_n.startCase,K.startsWith=_n.startsWith,K.subtract=Ci.subtract,K.sum=Ci.sum,K.sumBy=Ci.sumBy,K.template=_n.template,K.times=Ln.times,K.toFinite=Rt.toFinite,K.toInteger=rn,K.toLength=Rt.toLength,K.toLower=_n.toLower,K.toNumber=Rt.toNumber,K.toSafeInteger=Rt.toSafeInteger,K.toString=Rt.toString,K.toUpper=_n.toUpper,K.trim=_n.trim,K.trimEnd=_n.trimEnd,K.trimStart=_n.trimStart,K.truncate=_n.truncate,K.unescape=_n.unescape,K.uniqueId=Ln.uniqueId,K.upperCase=_n.upperCase,K.upperFirst=_n.upperFirst,K.each=Un.forEach,K.eachRight=Un.forEachRight,K.first=xt.head,By(K,(Ry={},La(K,function(n,e){T_.call(K.prototype,e)||(Ry[e]=n)}),Ry),{chain:!1}),K.VERSION="4.17.21",(K.templateSettings=_n.templateSettings).imports._=K,yo(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){K[n].placeholder=K}),yo(["drop","take"],function(n,e){gn.prototype[n]=function(t){t=t===void 0?1:gHe(rn(t),0);var r=this.__filtered__&&!e?new gn(this):this.clone();return r.__filtered__?r.__takeCount__=E_(t,r.__takeCount__):r.__views__.push({size:E_(t,4294967295),type:n+(r.__dir__<0?"Right":"")}),r},gn.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),yo(["filter","map","takeWhile"],function(n,e){var t=e+1,r=t==1||t==3;gn.prototype[n]=function(i){var o=this.clone();return o.__iteratees__.push({iteratee:Zt(i),type:t}),o.__filtered__=o.__filtered__||r,o}}),yo(["head","last"],function(n,e){var t="take"+(e?"Right":"");gn.prototype[n]=function(){return this[t](1).value()[0]}}),yo(["initial","tail"],function(n,e){var t="drop"+(e?"":"Right");gn.prototype[n]=function(){return this.__filtered__?new gn(this):this[t](1)}}),gn.prototype.compact=function(){return this.filter(wi)},gn.prototype.find=function(n){return this.filter(n).head()},gn.prototype.findLast=function(n){return this.reverse().find(n)},gn.prototype.invokeMap=hn(function(n,e){return typeof n=="function"?new gn(this):this.map(function(t){return Fh(t,n,e)})}),gn.prototype.reject=function(n){return this.filter(rf(Zt(n)))},gn.prototype.slice=function(n,e){n=rn(n);var t=this;return t.__filtered__&&(n>0||e<0)?new gn(t):(n<0?t=t.takeRight(-n):n&&(t=t.drop(n)),e!==void 0&&(t=(e=rn(e))<0?t.dropRight(-e):t.take(e-n)),t)},gn.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},gn.prototype.toArray=function(){return this.take(4294967295)},La(gn.prototype,function(n,e){var t=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=K[r?"take"+(e=="last"?"Right":""):e],o=r||/^find/.test(e);i&&(K.prototype[e]=function(){var a=this.__wrapped__,s=r?[1]:arguments,l=a instanceof gn,u=s[0],c=l||Yt(a),f=function(g){var y=i.apply(K,xl([g],s));return r&&d?y[0]:y};c&&t&&typeof u=="function"&&u.length!=1&&(l=c=!1);var d=this.__chain__,h=!!this.__actions__.length,v=o&&!d,p=l&&!h;if(!o&&c){a=p?a:new gn(this);var m=n.apply(a,s);return m.__actions__.push({func:of,args:[f],thisArg:void 0}),new jo(m,d)}return v&&p?n.apply(this,s):(m=this.thru(f),v?r?m.value()[0]:m.value():m)})}),yo(["pop","push","shift","sort","splice","unshift"],function(n){var e=mHe[n],t=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",r=/^(?:pop|shift)$/.test(n);K.prototype[n]=function(){var i=arguments;if(r&&!this.__chain__){var o=this.value();return e.apply(Yt(o)?o:[],i)}return this[t](function(a){return e.apply(Yt(a)?a:[],i)})}}),La(gn.prototype,function(n,e){var t=K[e];if(t){var r=t.name+"";T_.call(gc,r)||(gc[r]=[]),gc[r].push({name:e,func:t})}}),gc[xm(void 0,2).name]=[{name:"wrapper",func:void 0}],gn.prototype.clone=function(){var n=new gn(this.__wrapped__);return n.__actions__=Vi(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Vi(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Vi(this.__views__),n},gn.prototype.reverse=function(){if(this.__filtered__){var n=new gn(this);n.__dir__=-1,n.__filtered__=!0}else(n=this.clone()).__dir__*=-1;return n},gn.prototype.value=function(){var n=this.__wrapped__.value(),e=this.__dir__,t=Yt(n),r=e<0,i=t?n.length:0,o=function(k,x,C){for(var T=-1,M=C.length;++T<M;){var B=C[T],_=B.size;switch(B.type){case"drop":k+=_;break;case"dropRight":x-=_;break;case"take":x=pHe(x,k+_);break;case"takeRight":k=hHe(k,x-_)}}return{start:k,end:x}}(0,i,this.__views__),a=o.start,s=o.end,l=s-a,u=r?s:a-1,c=this.__iteratees__,f=c.length,d=0,h=vHe(l,this.__takeCount__);if(!t||!r&&i==l&&h==l)return iq(n,this.__actions__);var v=[];e:for(;l--&&d<h;){for(var p=-1,m=n[u+=e];++p<f;){var g=c[p],y=g.iteratee,b=g.type,w=y(m);if(b==2)m=w;else if(!w){if(b==1)continue e;break e}}v[d++]=m}return v},K.prototype.at=ha.at,K.prototype.chain=ha.wrapperChain,K.prototype.commit=ha.commit,K.prototype.next=ha.next,K.prototype.plant=ha.plant,K.prototype.reverse=ha.reverse,K.prototype.toJSON=K.prototype.valueOf=K.prototype.value=ha.value,K.prototype.first=K.prototype.head,O_&&(K.prototype[O_]=ha.toIterator);Object.freeze({__proto__:null,add:w8,after:j8,ary:Ox,assign:z8,assignIn:jm,assignInWith:nf,assignWith:q8,at:H8,attempt:Nx,before:Ix,bind:Dh,bindAll:W8,bindKey:Yg,camelCase:nB,capitalize:Px,castArray:rB,ceil:iB,chain:qx,chunk:oB,clamp:aB,clone:pB,cloneDeep:vB,cloneDeepWith:Ux,cloneWith:mB,commit:Lb,compact:gB,concat:yB,cond:CB,conforms:TB,conformsTo:OB,constant:Vg,countBy:$B,create:AB,curry:r0,curryRight:i0,debounce:_f,deburr:Rx,defaultTo:_B,defaults:IB,defaultsDeep:LB,defer:RB,delay:BB,difference:zB,differenceBy:qB,differenceWith:FB,divide:HB,drop:VB,dropRight:WB,dropRightWhile:UB,dropWhile:JB,each:Sm,eachRight:nh,endsWith:QB,entries:Tm,entriesIn:Om,eq:_o,escape:i2,escapeRegExp:ez,every:nz,extend:jm,extendWith:nf,fill:rz,filter:oz,find:sz,findIndex:a2,findKey:uz,findLast:cz,findLastIndex:s2,findLastKey:fz,first:qr,flatMap:hz,flatMapDeep:pz,flatMapDepth:vz,flatten:_x,flattenDeep:mz,flattenDepth:gz,flip:yz,floor:bz,flow:kz,flowRight:xz,forEach:Sm,forEachRight:nh,forIn:jz,forInRight:Cz,forOwn:Sz,forOwnRight:Tz,fromPairs:Oz,functions:Ez,functionsIn:Mz,get:Gg,groupBy:zh,gt:$z,gte:Az,has:_z,hasIn:t0,head:qr,identity:wi,inRange:Nz,includes:Iz,indexOf:Pz,initial:bn,intersection:Lz,intersectionBy:Dz,intersectionWith:Rz,invert:zz,invertBy:Fz,invoke:Vz,invokeMap:Wz,isArguments:hl,isArray:Yt,isArrayBuffer:Uz,isArrayLike:Ri,isArrayLikeObject:wr,isBoolean:Jz,isBuffer:bs,isDate:Gz,isElement:Kz,isEmpty:ir,isEqual:jn,isEqualWith:Qz,isError:Qg,isFinite:Yz,isFunction:Wa,isInteger:d2,isLength:Ph,isMap:Vx,isMatch:Zz,isMatchWith:Xz,isNaN:e9,isNative:t9,isNil:n9,isNull:r9,isNumber:h2,isObject:ar,isObjectLike:mr,isPlainObject:Mf,isRegExp:u0,isSafeInteger:i9,isSet:Wx,isString:qh,isSymbol:Ui,isTypedArray:Pu,isUndefined:o9,isWeakMap:a9,isWeakSet:s9,iteratee:l9,join:u9,kebabCase:c9,keyBy:f9,keys:Ir,keysIn:Pi,last:Nt,lastIndexOf:d9,lodash:K,lowerCase:h9,lowerFirst:p9,lt:v9,lte:m9,map:Nf,mapKeys:g9,mapValues:y9,matches:b9,matchesProperty:w9,max:k9,maxBy:x9,mean:C9,meanBy:S9,memoize:Ef,merge:T9,mergeWith:t2,method:O9,methodOf:E9,min:M9,minBy:yc,mixin:m2,multiply:$9,negate:rf,next:Db,noop:Dn,now:Pd,nth:_9,nthArg:N9,omit:I9,omitBy:L9,once:D9,orderBy:z9,over:q9,overArgs:F9,overEvery:H9,overSome:V9,pad:G9,padEnd:K9,padStart:Q9,parseInt:Y9,partial:Vh,partialRight:f0,partition:Z9,pick:X9,pickBy:b2,plant:qb,property:Zx,propertyOf:e7,pull:t7,pullAll:x2,pullAllBy:n7,pullAllWith:r7,pullAt:o7,random:a7,range:C2,rangeRight:l7,rearg:u7,reduce:f7,reduceRight:d7,reject:h7,remove:p7,repeat:v7,replace:m7,rest:g7,result:y7,reverse:Mm,round:b7,sample:k7,sampleSize:x7,set:j7,setWith:C7,shuffle:S7,size:T7,slice:O7,snakeCase:E7,some:M7,sortBy:S2,sortedIndex:$7,sortedIndexBy:A7,sortedIndexOf:_7,sortedLastIndex:N7,sortedLastIndexBy:I7,sortedLastIndexOf:P7,sortedUniq:D7,sortedUniqBy:R7,split:B7,spread:z7,startCase:q7,startsWith:F7,stubArray:Xg,stubFalse:Jg,stubObject:H7,stubString:V7,stubTrue:W7,subtract:U7,sum:J7,sumBy:G7,tail:K7,take:Q7,takeRight:Y7,takeRightWhile:Z7,takeWhile:X7,tap:eq,template:rq,templateSettings:$m,throttle:O2,thru:of,times:E2,toArray:g2,toFinite:Ia,toInteger:rn,toIterator:Fb,toJSON:Ql,toLength:o2,toLower:oq,toNumber:uo,toPairs:Tm,toPairsIn:Om,toPath:aq,toPlainObject:e2,toSafeInteger:sq,toString:Nn,toUpper:lq,transform:uq,trim:dq,trimEnd:hq,trimStart:pq,truncate:vq,unary:mq,unescape:yq,union:bq,unionBy:wq,unionWith:kq,uniq:xq,uniqBy:jq,uniqWith:Cq,uniqueId:af,unset:Sq,unzip:p0,unzipWith:M2,update:Oq,updateWith:Eq,upperCase:Mq,upperFirst:Zg,value:Ql,valueOf:Ql,values:Ru,valuesIn:$q,without:Aq,words:Bx,wrap:_q,wrapperAt:Nq,wrapperChain:Iq,wrapperCommit:Lb,wrapperLodash:K,wrapperNext:Db,wrapperPlant:qb,wrapperReverse:Pq,wrapperToIterator:Fb,wrapperValue:Ql,xor:Lq,xorBy:Dq,xorWith:Rq,zip:Bq,zipObject:qq,zipObjectDeep:Fq,zipWith:Hq,default:K});var yHe=[];function Hb(n){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],t={};if(!Array.isArray(n))throw new TypeError("Array expected");function r(l,u){(!Array.isArray(l)&&!$r(l)||e&&u.length>0)&&(t[de.exports.compileJSONPointer(u)]=!0),$r(l)&&Object.keys(l).forEach(function(c){r(l[c],u.concat(c))})}for(var i=Math.min(n.length,1e4),o=0;o<i;o++){var a=n[o];r(a,yHe)}var s=Object.keys(t).sort();return s.map(de.exports.parseJSONPointer)}function Vq(n,e,t){if(!(e<=n))for(var r=n;r<e;r++)t(r)}function Am(n,e){return n.length>e?n.slice(0,e):n}function M_(n){return $e({},n)}function $_(n){return Object.values(n)}function A_(n,e,t,r){var i=n.slice(0),o=i.splice(e,t);return i.splice.apply(i,[e+r,0].concat(Ut(o))),i}function A2(n,e){try{return e.parse(n)}catch{return e.parse(nl(n))}}function Wq(n,e){try{return A2(n,e)}catch{return}}function _2(n,e){n=n.replace(Uq,"");try{return e(n)}catch{}try{return e("["+n+"]")}catch{}try{return e("{"+n+"}")}catch{}throw new Error("Failed to parse partial JSON")}function bHe(n){n=n.replace(Uq,"");try{return nl(n)}catch{}try{var e=nl("["+n+"]");return e.substring(1,e.length-1)}catch{}try{var t=nl("{"+n+"}");return t.substring(1,t.length-1)}catch{}throw new Error("Failed to repair partial JSON")}var Uq=/,\s*$/;function N2(n,e){var t=I_.exec(e);if(t){var r=Ar(t[2]),i=function(h,v){for(var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:h.length,g=0,y=p;y<m;y++)h.charAt(y)===v&&g++;return g}(n,`
`,0,r),o=r-n.lastIndexOf(`
`,r)-1;return{position:r,line:i,column:o,message:e.replace(I_,function(){return"line ".concat(i+1," column ").concat(o+1)})}}var a=jHe.exec(e),s=a?Ar(a[1]):null,l=s!==null?s-1:null,u=CHe.exec(e),c=u?Ar(u[1]):null,f=c!==null?c-1:null,d=l!==null&&f!==null?function(h,v,p){for(var m=h.indexOf(`
`),g=1;g<v&&m!==-1;)m=h.indexOf(`
`,m+1),g++;return m!==-1?m+p+1:null}(n,l,f):null;return{position:d,line:l,column:f,message:e.replace(/^JSON.parse: /,"").replace(/ of the JSON data$/,"")}}function zy(n){return $r(n)?n.json!==void 0?n.text!==void 0?'Content must contain either a property "json" or a property "text" but not both':null:n.text===void 0?'Content must contain either a property "json" or a property "text"':typeof n.text!="string"?'Content "text" property must be a string containing a JSON document. Did you mean to use the "json" property instead?':null:"Content must be an object"}function v0(n){return $r(n)&&typeof n.text=="string"}function wHe(n){return $r(n)&&n.json!==void 0&&!v0(n)}function kHe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:JSON;return v0(n)?n:{text:t.stringify(n.json,null,e)}}function __(n,e,t){return kHe(n,e,t).text}function N_(n,e){return xHe(n,e)>e}function xHe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0;if(v0(n))return n.text.length;var t=n.json,r=0;function i(o){if(Array.isArray(o)){if((r+=o.length-1+2)>e)return r;for(var a=0;a<o.length;a++)if(i(o[a]),r>e)return r}else if($r(o)){var s=Object.keys(o);r+=2+s.length+(s.length-1);for(var l=0;l<s.length;l++){var u=s[l],c=o[u];r+=u.length+2,i(c)}}else r+=typeof o=="string"?o.length+2:String(o).length}return i(t),r}var mo,Hn,qo,sf,Zo,I_=/(position|char) (\d+)/,jHe=/line (\d+)/,CHe=/column (\d+)/;function SHe(n,e){return n.parse===e.parse&&n.stringify===e.stringify}function Jq(n){var e=n.escapeControlCharacters,t=n.escapeUnicodeCharacters;return e?t?THe:OHe:t?EHe:MHe}(function(n){n.text="text",n.tree="tree"})(mo||(mo={})),function(n){n.after="after",n.inside="inside",n.key="key",n.value="value",n.multi="multi"}(Hn||(Hn={})),function(n){n.after="after",n.key="key",n.value="value",n.inside="inside"}(qo||(qo={})),function(n){n.info="info",n.warning="warning",n.error="error"}(sf||(sf={})),function(n){n.key="key",n.value="value"}(Zo||(Zo={}));var THe={escapeValue:function(n){return Gq(Yq(String(n)))},unescapeValue:function(n){return Zq(Kq(n))}},OHe={escapeValue:function(n){return Yq(String(n))},unescapeValue:function(n){return Zq(n)}},EHe={escapeValue:function(n){return Gq(String(n))},unescapeValue:function(n){return Kq(n)}},MHe={escapeValue:function(n){return String(n)},unescapeValue:function(n){return n}};function Gq(n){return n.replace(/[^\x20-\x7F]/g,function(e){var t;return e==="\b"||e==="\f"||e===`
`||e==="\r"||e==="	"?e:"\\u"+("000"+((t=e.codePointAt(0))===null||t===void 0?void 0:t.toString(16))).slice(-4)})}function Kq(n){return n.replace(/\\u[a-fA-F0-9]{4}/g,function(e){try{var t=JSON.parse('"'+e+'"');return Qq[t]||t}catch{return e}})}var Qq={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},$He={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"};function Yq(n){return n.replace(/["\b\f\n\r\t\\]/g,function(e){return Qq[e]||e})}function Zq(n){return n.replace(/\\["bfnrt\\]/g,function(e){return $He[e]||e})}function Cu(n){return typeof n!="string"?String(n):n.endsWith(`
`)?n+`
`:n}function Xq(n,e){return Wh(n,function(t){return t.nodeName.toUpperCase()===e.toUpperCase()})}function Yl(n,e,t){return Wh(n,function(r){return function(i,o,a){return typeof i.getAttribute=="function"&&i.getAttribute(o)===a}(r,e,t)})}function Wh(n,e){return!!I2(n,e)}function I2(n,e){for(var t=n;t&&!e(t);)t=t.parentNode;return t||void 0}function eF(n){if(n.firstChild!=null){var e=document.createRange(),t=window.getSelection();e.setStart(n,1),e.collapse(!0),t==null||t.removeAllRanges(),t==null||t.addRange(e)}else n.focus()}function rh(n){return n&&n.ownerDocument&&n.ownerDocument.defaultView}function Vb(n){return Wh(rh(n).document.activeElement,function(e){return e===n})}function AHe(n,e){return I2(n,function(t){return t.nodeName===e})}function qy(n){return Yl(n,"data-type","selectable-key")?Hn.key:Yl(n,"data-type","selectable-value")?Hn.value:Yl(n,"data-type","insert-selection-area-inside")?Hn.inside:Yl(n,"data-type","insert-selection-area-after")?Hn.after:Hn.multi}function Wb(n){return encodeURIComponent(de.exports.compileJSONPointer(n))}function _He(n){var e,t=I2(n,function(r){return r.hasAttribute("data-path")});return t?(e=t.getAttribute("data-path"),de.exports.parseJSONPointer(decodeURIComponent(e))):null}function NHe(n){var e=n.allElements,t=n.currentElement,r=n.direction,i=n.hasPrio,o=i===void 0?function(){return!0}:i,a=n.margin,s=a===void 0?10:a,l=Nf(e.filter(function(g){var y=g.getBoundingClientRect();return y.width>0&&y.height>0}),c),u=c(t);function c(g){var y=g.getBoundingClientRect();return{x:y.left+y.width/2,y:y.top+y.height/2,rect:y,element:g}}function f(g,y){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,w=g.x-y.x,k=(g.y-y.y)*b;return Math.sqrt(w*w+k*k)}var d=function(g){return f(g,u)};if(r==="Left"||r==="Right"){var h=r==="Left"?l.filter(function(g){return y=u,g.rect.left+s<y.rect.left;var y}):l.filter(function(g){return y=u,g.rect.right>y.rect.right+s;var y}),v=yc(h.filter(function(g){return y=g,b=u,Math.abs(y.y-b.y)<s;var y,b}),d)||yc(h,function(g){return f(g,u,10)});return v==null?void 0:v.element}if(r==="Up"||r==="Down"){var p=r==="Up"?l.filter(function(g){return y=u,g.y+s<y.y;var y}):l.filter(function(g){return y=u,g.y>y.y+s;var y}),m=yc(p.filter(function(g){return o(g.element)}),d)||yc(p,d);return m==null?void 0:m.element}}var tF=typeof navigator!="undefined"&&navigator.platform.toUpperCase().indexOf("MAC")>=0;function Bu(n){var e=[];n.ctrlKey&&e.push("Ctrl"),n.metaKey&&e.push("Command"),n.altKey&&e.push(tF?"Option":"Alt"),n.shiftKey&&e.push("Shift");var t=function(r){return PHe[r]||""}(n.which);return IHe[t]||e.push(t),e.join("+")}var IHe={Ctrl:!0,Command:!0,Alt:!0,Option:!0,Shift:!0},PHe={8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause_Break",20:"Caps_Lock",27:"Escape",33:"Page_Up",34:"Page_Down",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"Left_Window_Key",92:"Right_Window_Key",93:"Select_Key",96:"Numpad_0",97:"Numpad_1",98:"Numpad_2",99:"Numpad_3",100:"Numpad_4",101:"Numpad_5",102:"Numpad_6",103:"Numpad_7",104:"Numpad_8",105:"Numpad_9",106:"Numpad_*",107:"Numpad_+",109:"Numpad_-",110:"Numpad_.",111:"Numpad_/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Num_Lock",145:"Scroll_Lock",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Fy=wx.window;function LHe(n){Gt(n,"svelte-1r8q3m8",".jse-absolute-popup.svelte-1r8q3m8.svelte-1r8q3m8{position:relative;left:0;top:0;width:0;height:0;z-index:1001}.jse-absolute-popup.svelte-1r8q3m8 .jse-hidden-input.svelte-1r8q3m8{position:fixed;left:0;top:0;width:0;height:0;padding:0;margin:0;border:none;outline:none;overflow:hidden}.jse-absolute-popup.svelte-1r8q3m8 .jse-absolute-popup-content.svelte-1r8q3m8{position:absolute}")}function P_(n){var e,t,r,i,o,a,s=[n[0].props],l=n[0].component;function u(c){for(var f={},d=0;d<s.length;d+=1)f=wl(f,s[d]);return{props:f}}return l&&(i=ur(l,u())),{c:function(){e=ee("div"),t=ee("input"),r=je(),i&&Ne(i.$$.fragment),E(t,"type","text"),t.readOnly="readonly",E(t,"tabindex","-1"),E(t,"class","jse-hidden-input svelte-1r8q3m8"),E(e,"class","jse-absolute-popup-content svelte-1r8q3m8"),E(e,"style",o=L_(n[1],n[0].options))},m:function(c,f){me(c,e,f),W(e,t),n[7](t),W(e,r),i&&Ae(i,e,null),a=!0},p:function(c,f){var d=1&f?_u(s,[qg(c[0].props)]):{};if(l!==(l=c[0].component)){if(i){Je();var h=i;Y(h.$$.fragment,1,0,function(){_e(h,1)}),Ge()}l?(Ne((i=ur(l,u())).$$.fragment),J(i.$$.fragment,1),Ae(i,e,null)):i=null}else l&&i.$set(d);(!a||3&f&&o!==(o=L_(c[1],c[0].options)))&&E(e,"style",o)},i:function(c){a||(i&&J(i.$$.fragment,c),a=!0)},o:function(c){i&&Y(i.$$.fragment,c),a=!1},d:function(c){c&&he(e),n[7](null),i&&_e(i)}}}function DHe(n){var e,t,r,i,o=n[1]&&P_(n);return{c:function(){e=ee("div"),o&&o.c(),E(e,"class","jse-absolute-popup svelte-1r8q3m8")},m:function(a,s){me(a,e,s),o&&o.m(e,null),n[8](e),t=!0,r||(i=[Be(Fy,"mousedown",n[3],!0),Be(Fy,"keydown",n[4],!0),Be(Fy,"wheel",n[5],!0),Be(e,"mousedown",RHe),Be(e,"keydown",n[4])],r=!0)},p:function(a,s){var l=Dt(s,1)[0];a[1]?o?(o.p(a,l),2&l&&J(o,1)):((o=P_(a)).c(),J(o,1),o.m(e,null)):o&&(Je(),Y(o,1,1,function(){o=null}),Ge())},i:function(a){t||(J(o),t=!0)},o:function(a){Y(o),t=!1},d:function(a){a&&he(e),o&&o.d(),n[8](null),r=!1,Xn(i)}}}function RHe(n){n.stopPropagation()}function L_(n,e){var t=n.getBoundingClientRect(),r=function(){if(e.anchor){var l=e.anchor,u=e.width,c=u===void 0?0:u,f=e.height,d=f===void 0?0:f,h=e.offsetTop,v=h===void 0?0:h,p=e.offsetLeft,m=p===void 0?0:p,g=e.position,y=l.getBoundingClientRect(),b=y.left,w=y.top,k=y.bottom,x=y.right,C=g==="top"||w+d>window.innerHeight&&w>d,T=g==="left"||b+c>window.innerWidth&&b>c;return{left:T?x-m:b+m,top:C?w-v:k+v,positionAbove:C,positionLeft:T}}if(typeof e.left=="number"&&typeof e.top=="number"){var M=e.left,B=e.top,_=e.width,N=_===void 0?0:_,$=e.height,j=$===void 0?0:$;return{left:M,top:B,positionAbove:B+j>window.innerHeight&&B>j,positionLeft:M+N>window.innerWidth&&M>N}}throw new Error('Invalid config: pass either "left" and "top", or pass "anchor"')}(),i=r.left,o=r.top,a=r.positionAbove,s=r.positionLeft;return(a?"bottom: ".concat(t.top-o,"px;"):"top: ".concat(o-t.top,"px;"))+(s?"right: ".concat(t.left-i,"px;"):"left: ".concat(i-t.left,"px;"))}function BHe(n,e,t){var r,i,o=e.popup,a=e.closeAbsolutePopup;function s(l){o.options&&o.options.closeOnOuterClick&&!Wh(l.target,function(u){return u===r})&&a(o.id)}return fo(function(){i&&i.focus()}),n.$$set=function(l){"popup"in l&&t(0,o=l.popup),"closeAbsolutePopup"in l&&t(6,a=l.closeAbsolutePopup)},[o,r,i,function(l){s(l)},function(l){Bu(l)==="Escape"&&a(o.id)},function(l){s(l)},a,function(l){en[l?"unshift":"push"](function(){t(2,i=l)})},function(l){en[l?"unshift":"push"](function(){t(1,r=l)})}]}var zHe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,BHe,DHe,Or,{popup:0,closeAbsolutePopup:6},LHe),i}return ie(t)}();function D_(n,e,t){var r=n.slice();return r[6]=e[t],r}function R_(n){var e,t;return e=new zHe({props:{popup:n[6],closeAbsolutePopup:n[1]}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o={};1&i&&(o.popup=r[6]),e.$set(o)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function qHe(n){for(var e,t,r=n[0],i=[],o=0;o<r.length;o+=1)i[o]=R_(D_(n,r,o));var a=function(u){return Y(i[u],1,1,function(){i[u]=null})},s=n[3].default,l=ia(s,n,n[2],null);return{c:function(){for(var u=0;u<i.length;u+=1)i[u].c();e=je(),l&&l.c()},m:function(u,c){for(var f=0;f<i.length;f+=1)i[f].m(u,c);me(u,e,c),l&&l.m(u,c),t=!0},p:function(u,c){var f=Dt(c,1)[0];if(3&f){var d;for(r=u[0],d=0;d<r.length;d+=1){var h=D_(u,r,d);i[d]?(i[d].p(h,f),J(i[d],1)):(i[d]=R_(h),i[d].c(),J(i[d],1),i[d].m(e.parentNode,e))}for(Je(),d=r.length;d<i.length;d+=1)a(d);Ge()}l&&l.p&&(!t||4&f)&&aa(l,s,u,u[2],t?oa(s,u[2],f,null):sa(u[2]),null)},i:function(u){if(!t){for(var c=0;c<r.length;c+=1)J(i[c]);J(l,u),t=!0}},o:function(u){i=i.filter(Boolean);for(var c=0;c<i.length;c+=1)Y(i[c]);Y(l,u),t=!1},d:function(u){ji(i,u),u&&he(e),l&&l.d(u)}}}function FHe(n,e,t){var r=e.$$slots,i=r===void 0?{}:r,o=e.$$scope,a=Li("jsoneditor:AbsolutePopup"),s=[];function l(u){var c=s.findIndex(function(d){return d.id===u});if(c!==-1){var f=s[c];f.options.onClose&&f.options.onClose(),t(0,s=s.filter(function(d){return d.id!==u}))}}return c8("absolute-popup",{openAbsolutePopup:function(u,c,f){a("open...",c,f);var d={id:_d(),component:u,props:c||{},options:f||{}};return t(0,s=[].concat(Ut(s),[d])),d.id},closeAbsolutePopup:l}),n.$$set=function(u){"$$scope"in u&&t(2,o=u.$$scope)},n.$$.update=function(){1&n.$$.dirty&&a("popups",s)},[s,l,o,i]}var nF=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,FHe,qHe,mn,{}),i}return ie(t)}(),Gs={prefix:"fas",iconName:"caret-right",icon:[256,512,[],"f0da","M246.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-9.2-9.2-22.9-11.9-34.9-6.9s-19.8 16.6-19.8 29.6l0 256c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l128-128z"]},HHe={prefix:"fas",iconName:"paste",icon:[512,512,["file-clipboard"],"f0ea","M160 0c-23.7 0-44.4 12.9-55.4 32H48C21.5 32 0 53.5 0 80V400c0 26.5 21.5 48 48 48H192V176c0-44.2 35.8-80 80-80h48V80c0-26.5-21.5-48-48-48H215.4C204.4 12.9 183.7 0 160 0zM272 128c-26.5 0-48 21.5-48 48V448v16c0 26.5 21.5 48 48 48H464c26.5 0 48-21.5 48-48V256H416c-17.7 0-32-14.3-32-32V128H320 272zM160 40a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm256 88v96h96l-96-96z"]},VHe={prefix:"fas",iconName:"circle-notch",icon:[512,512,[],"f1ce","M222.7 32.1c5 16.9-4.6 34.8-21.5 39.8C121.8 95.6 64 169.1 64 256c0 106 86 192 192 192s192-86 192-192c0-86.9-57.8-160.4-137.1-184.1c-16.9-5-26.6-22.9-21.5-39.8s22.9-26.6 39.8-21.5C434.9 42.1 512 140 512 256c0 141.4-114.6 256-256 256S0 397.4 0 256C0 140 77.1 42.1 182.9 10.6c16.9-5 34.8 4.6 39.8 21.5z"]},Ub={prefix:"fas",iconName:"scissors",icon:[512,512,[9984,9986,9988,"cut"],"f0c4","M256 192l-39.5-39.5c4.9-12.6 7.5-26.2 7.5-40.5C224 50.1 173.9 0 112 0S0 50.1 0 112s50.1 112 112 112c14.3 0 27.9-2.7 40.5-7.5L192 256l-39.5 39.5c-12.6-4.9-26.2-7.5-40.5-7.5C50.1 288 0 338.1 0 400s50.1 112 112 112s112-50.1 112-112c0-14.3-2.7-27.9-7.5-40.5L499.2 76.8c7.1-7.1 7.1-18.5 0-25.6c-28.3-28.3-74.1-28.3-102.4 0L256 192zm22.6 150.6L396.8 460.8c28.3 28.3 74.1 28.3 102.4 0c7.1-7.1 7.1-18.5 0-25.6L342.6 278.6l-64 64zM160 112c0 26.5-21.5 48-48 48s-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48zM112 448c-26.5 0-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48s-21.5 48-48 48z"]},WHe={prefix:"fas",iconName:"square-caret-down",icon:[448,512,["caret-square-down"],"f150","M384 480c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0zM224 352c-6.7 0-13-2.8-17.6-7.7l-104-112c-6.5-7-8.2-17.2-4.4-25.9s12.5-14.4 22-14.4l208 0c9.5 0 18.2 5.7 22 14.4s2.1 18.9-4.4 25.9l-104 112c-4.5 4.9-10.9 7.7-17.6 7.7z"]},B_={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.8 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"]},UHe={prefix:"fas",iconName:"chevron-up",icon:[512,512,[],"f077","M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"]},rF={prefix:"fas",iconName:"angle-right",icon:[320,512,[8250],"f105","M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"]},JHe={prefix:"fas",iconName:"square-caret-up",icon:[448,512,["caret-square-up"],"f151","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zM224 160c6.7 0 13 2.8 17.6 7.7l104 112c6.5 7 8.2 17.2 4.4 25.9s-12.5 14.4-22 14.4H120c-9.5 0-18.2-5.7-22-14.4s-2.1-18.9 4.4-25.9l104-112c4.5-4.9 10.9-7.7 17.6-7.7z"]},P2={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M3.9 54.9C10.5 40.9 24.5 32 40 32H472c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9V448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6V320.9L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"]},_m={prefix:"fas",iconName:"code",icon:[640,512,[],"f121","M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"]},L2={prefix:"fas",iconName:"wrench",icon:[512,512,[128295],"f0ad","M352 320c88.4 0 160-71.6 160-160c0-15.3-2.2-30.1-6.2-44.2c-3.1-10.8-16.4-13.2-24.3-5.3l-76.8 76.8c-3 3-7.1 4.7-11.3 4.7H336c-8.8 0-16-7.2-16-16V118.6c0-4.2 1.7-8.3 4.7-11.3l76.8-76.8c7.9-7.9 5.4-21.2-5.3-24.3C382.1 2.2 367.3 0 352 0C263.6 0 192 71.6 192 160c0 19.1 3.4 37.5 9.5 54.5L19.9 396.1C7.2 408.8 0 426.1 0 444.1C0 481.6 30.4 512 67.9 512c18 0 35.3-7.2 48-19.9L297.5 310.5c17 6.2 35.4 9.5 54.5 9.5zM80 456c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"]},D2={prefix:"fas",iconName:"pen",icon:[512,512,[128394],"f304","M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"]},iF={prefix:"fas",iconName:"arrow-rotate-right",icon:[512,512,[8635,"arrow-right-rotate","arrow-rotate-forward","redo"],"f01e","M386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32H464c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0s-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3s163.8-62.5 226.3 0L386.3 160z"]},oF={prefix:"fas",iconName:"arrow-rotate-left",icon:[512,512,[8634,"arrow-left-rotate","arrow-rotate-back","arrow-rotate-backward","undo"],"f0e2","M125.7 160H176c17.7 0 32 14.3 32 32s-14.3 32-32 32H48c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32s32 14.3 32 32v51.2L97.6 97.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0L125.7 160z"]},GHe={prefix:"fas",iconName:"crop-simple",icon:[512,512,["crop-alt"],"f565","M128 32c0-17.7-14.3-32-32-32S64 14.3 64 32V64H32C14.3 64 0 78.3 0 96s14.3 32 32 32H64V384c0 35.3 28.7 64 64 64H352V384H128V32zM384 480c0 17.7 14.3 32 32 32s32-14.3 32-32V448h32c17.7 0 32-14.3 32-32s-14.3-32-32-32H448l0-256c0-35.3-28.7-64-64-64L160 64v64l224 0 0 352z"]},KHe={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336c44.2 0 80-35.8 80-80s-35.8-80-80-80s-80 35.8-80 80s35.8 80 80 80z"]},Ma={prefix:"fas",iconName:"caret-down",icon:[320,512,[],"f0d7","M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"]},QHe={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 360c30.9 0 56 25.1 56 56s-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56zm0-160c30.9 0 56 25.1 56 56s-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56zM120 96c0 30.9-25.1 56-56 56S8 126.9 8 96S33.1 40 64 40s56 25.1 56 56z"]},R2={prefix:"fas",iconName:"arrow-down-short-wide",icon:[576,512,["sort-amount-desc","sort-amount-down-alt"],"f884","M151.6 469.6C145.5 476.2 137 480 128 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L96 365.7V64c0-17.7 14.3-32 32-32s32 14.3 32 32V365.7l32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 32h32c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128H544c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},YHe={prefix:"fas",iconName:"angle-down",icon:[448,512,[8964],"f107","M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},ZHe={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},B2={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"]},XHe={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},ih={prefix:"fas",iconName:"copy",icon:[512,512,[],"f0c5","M224 0c-35.3 0-64 28.7-64 64V288c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224zM64 160c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384H288v64H64V224h64V160H64z"]},aF={prefix:"fas",iconName:"xmark",icon:[320,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"]},z_=aF,Uh=aF,eVe={prefix:"fas",iconName:"clone",icon:[512,512,[],"f24d","M0 448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384H224c-53 0-96-43-96-96V160H64c-35.3 0-64 28.7-64 64V448zm224-96H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224c-35.3 0-64 28.7-64 64V288c0 35.3 28.7 64 64 64z"]},Jb={prefix:"fas",iconName:"check",icon:[512,512,[10003,10004],"f00c","M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},zu={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224c0-17.7-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32z"]};function Mp(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(n<.9*e)return n.toFixed()+" B";var t=n/e;if(t<.9*e)return t.toFixed(1)+" KB";var r=t/e;if(r<.9*e)return r.toFixed(1)+" MB";var i=r/e;if(i<.9*e)return i.toFixed(1)+" GB";var o=i/e;return o.toFixed(1)+" TB"}var $p=Li("jsoneditor:FocusTracker");function sF(n){var e,t=n.onMount,r=n.onDestroy,i=n.getWindow,o=n.hasFocus,a=n.onFocus,s=n.onBlur,l=!1;function u(){var f=o();f&&(clearTimeout(e),l||($p("focus"),a(),l=f))}function c(){l&&(clearTimeout(e),e=setTimeout(function(){$p("blur"),l=!1,s()}))}t(function(){$p("mount FocusTracker");var f=i();f&&(f.addEventListener("focusin",u,!0),f.addEventListener("focusout",c,!0))}),r(function(){$p("destroy FocusTracker");var f=i();f&&(f.removeEventListener("focusin",u,!0),f.removeEventListener("focusout",c,!0))})}function tVe(n){for(var e,t,r=[{id:t="path-"+n[0]},n[1]],i={},o=0;o<r.length;o+=1)i=wl(i,r[o]);return{c:function(){mm(e=ys("path"),i)},m:function(a,s){me(a,e,s)},p:function(a,s){var l=Dt(s,1)[0];mm(e,i=_u(r,[1&l&&t!==(t="path-"+a[0])&&{id:t},2&l&&a[1]]))},i:Ze,o:Ze,d:function(a){a&&he(e)}}}function nVe(n,e,t){var r=e.id,i=e.data,o=i===void 0?{}:i;return n.$$set=function(a){"id"in a&&t(0,r=a.id),"data"in a&&t(1,o=a.data)},[r,o]}var rVe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,nVe,tVe,Or,{id:0,data:1}),i}return ie(t)}();function iVe(n){for(var e,t,r=[{id:t="polygon-"+n[0]},n[1]],i={},o=0;o<r.length;o+=1)i=wl(i,r[o]);return{c:function(){mm(e=ys("polygon"),i)},m:function(a,s){me(a,e,s)},p:function(a,s){var l=Dt(s,1)[0];mm(e,i=_u(r,[1&l&&t!==(t="polygon-"+a[0])&&{id:t},2&l&&a[1]]))},i:Ze,o:Ze,d:function(a){a&&he(e)}}}function oVe(n,e,t){var r=e.id,i=e.data,o=i===void 0?{}:i;return n.$$set=function(a){"id"in a&&t(0,r=a.id),"data"in a&&t(1,o=a.data)},[r,o]}var aVe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,oVe,iVe,Or,{id:0,data:1}),i}return ie(t)}();function sVe(n){var e;return{c:function(){e=ys("g")},m:function(t,r){me(t,e,r),e.innerHTML=n[0]},p:function(t,r){1&Dt(r,1)[0]&&(e.innerHTML=t[0])},i:Ze,o:Ze,d:function(t){t&&he(e)}}}function lVe(n,e,t){var r,i=870711,o=e.data;function a(s){if(!s||!s.raw)return null;var l=s.raw,u={};return l=l.replace(/\s(?:xml:)?id=["']?([^"')\s]+)/g,function(c,f){var d="fa-".concat((i+=1).toString(16));return u[f]=d,' id="'.concat(d,'"')}),l=l.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,function(c,f,d,h){var v=f||h;return v&&u[v]?"#".concat(u[v]):c}),l}return n.$$set=function(s){"data"in s&&t(1,o=s.data)},n.$$.update=function(){2&n.$$.dirty&&t(0,r=a(o))},[r,o]}var uVe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,lVe,sVe,Or,{data:1}),i}return ie(t)}();function cVe(n){Gt(n,"svelte-1dof0an",".fa-icon.svelte-1dof0an{display:inline-block;fill:currentColor}.fa-flip-horizontal.svelte-1dof0an{transform:scale(-1, 1)}.fa-flip-vertical.svelte-1dof0an{transform:scale(1, -1)}.fa-spin.svelte-1dof0an{animation:svelte-1dof0an-fa-spin 1s 0s infinite linear}.fa-inverse.svelte-1dof0an{color:#fff}.fa-pulse.svelte-1dof0an{animation:svelte-1dof0an-fa-spin 1s infinite steps(8)}@keyframes svelte-1dof0an-fa-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}")}function fVe(n){var e,t,r,i,o=n[13].default,a=ia(o,n,n[12],null);return{c:function(){e=ys("svg"),a&&a.c(),E(e,"version","1.1"),E(e,"class",t="fa-icon "+n[0]+" svelte-1dof0an"),E(e,"x",n[8]),E(e,"y",n[9]),E(e,"width",n[1]),E(e,"height",n[2]),E(e,"aria-label",n[11]),E(e,"role",r=n[11]?"img":"presentation"),E(e,"viewBox",n[3]),E(e,"style",n[10]),Ve(e,"fa-spin",n[4]),Ve(e,"fa-pulse",n[6]),Ve(e,"fa-inverse",n[5]),Ve(e,"fa-flip-horizontal",n[7]==="horizontal"),Ve(e,"fa-flip-vertical",n[7]==="vertical")},m:function(s,l){me(s,e,l),a&&a.m(e,null),i=!0},p:function(s,l){var u=Dt(l,1)[0];a&&a.p&&(!i||4096&u)&&aa(a,o,s,s[12],i?oa(o,s[12],u,null):sa(s[12]),null),(!i||1&u&&t!==(t="fa-icon "+s[0]+" svelte-1dof0an"))&&E(e,"class",t),(!i||256&u)&&E(e,"x",s[8]),(!i||512&u)&&E(e,"y",s[9]),(!i||2&u)&&E(e,"width",s[1]),(!i||4&u)&&E(e,"height",s[2]),(!i||2048&u)&&E(e,"aria-label",s[11]),(!i||2048&u&&r!==(r=s[11]?"img":"presentation"))&&E(e,"role",r),(!i||8&u)&&E(e,"viewBox",s[3]),(!i||1024&u)&&E(e,"style",s[10]),(!i||17&u)&&Ve(e,"fa-spin",s[4]),(!i||65&u)&&Ve(e,"fa-pulse",s[6]),(!i||33&u)&&Ve(e,"fa-inverse",s[5]),(!i||129&u)&&Ve(e,"fa-flip-horizontal",s[7]==="horizontal"),(!i||129&u)&&Ve(e,"fa-flip-vertical",s[7]==="vertical")},i:function(s){i||(J(a,s),i=!0)},o:function(s){Y(a,s),i=!1},d:function(s){s&&he(e),a&&a.d(s)}}}function dVe(n,e,t){var r=e.$$slots,i=r===void 0?{}:r,o=e.$$scope,a=e.class,s=e.width,l=e.height,u=e.box,c=e.spin,f=c!==void 0&&c,d=e.inverse,h=d!==void 0&&d,v=e.pulse,p=v!==void 0&&v,m=e.flip,g=m===void 0?null:m,y=e.x,b=y===void 0?void 0:y,w=e.y,k=w===void 0?void 0:w,x=e.style,C=x===void 0?void 0:x,T=e.label,M=T===void 0?void 0:T;return n.$$set=function(B){"class"in B&&t(0,a=B.class),"width"in B&&t(1,s=B.width),"height"in B&&t(2,l=B.height),"box"in B&&t(3,u=B.box),"spin"in B&&t(4,f=B.spin),"inverse"in B&&t(5,h=B.inverse),"pulse"in B&&t(6,p=B.pulse),"flip"in B&&t(7,g=B.flip),"x"in B&&t(8,b=B.x),"y"in B&&t(9,k=B.y),"style"in B&&t(10,C=B.style),"label"in B&&t(11,M=B.label),"$$scope"in B&&t(12,o=B.$$scope)},[a,s,l,u,f,h,p,g,b,k,C,M,o,i]}var hVe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,dVe,fVe,Or,{class:0,width:1,height:2,box:3,spin:4,inverse:5,pulse:6,flip:7,x:8,y:9,style:10,label:11},cVe),i}return ie(t)}();function q_(n,e,t){var r=n.slice();return r[24]=e[t],r[26]=t,r}function F_(n,e,t){var r=n.slice();return r[27]=e[t],r[26]=t,r}function H_(n){var e,t,r,i,o=n[6].paths&&V_(n),a=n[6].polygons&&U_(n),s=n[6].raw&&G_(n);return{c:function(){o&&o.c(),e=je(),a&&a.c(),t=je(),s&&s.c(),r=kn()},m:function(l,u){o&&o.m(l,u),me(l,e,u),a&&a.m(l,u),me(l,t,u),s&&s.m(l,u),me(l,r,u),i=!0},p:function(l,u){l[6].paths?o?(o.p(l,u),64&u&&J(o,1)):((o=V_(l)).c(),J(o,1),o.m(e.parentNode,e)):o&&(Je(),Y(o,1,1,function(){o=null}),Ge()),l[6].polygons?a?(a.p(l,u),64&u&&J(a,1)):((a=U_(l)).c(),J(a,1),a.m(t.parentNode,t)):a&&(Je(),Y(a,1,1,function(){a=null}),Ge()),l[6].raw?s?(s.p(l,u),64&u&&J(s,1)):((s=G_(l)).c(),J(s,1),s.m(r.parentNode,r)):s&&(Je(),Y(s,1,1,function(){s=null}),Ge())},i:function(l){i||(J(o),J(a),J(s),i=!0)},o:function(l){Y(o),Y(a),Y(s),i=!1},d:function(l){o&&o.d(l),l&&he(e),a&&a.d(l),l&&he(t),s&&s.d(l),l&&he(r)}}}function V_(n){for(var e,t,r=n[6].paths,i=[],o=0;o<r.length;o+=1)i[o]=W_(F_(n,r,o));var a=function(s){return Y(i[s],1,1,function(){i[s]=null})};return{c:function(){for(var s=0;s<i.length;s+=1)i[s].c();e=kn()},m:function(s,l){for(var u=0;u<i.length;u+=1)i[u].m(s,l);me(s,e,l),t=!0},p:function(s,l){if(64&l){var u;for(r=s[6].paths,u=0;u<r.length;u+=1){var c=F_(s,r,u);i[u]?(i[u].p(c,l),J(i[u],1)):(i[u]=W_(c),i[u].c(),J(i[u],1),i[u].m(e.parentNode,e))}for(Je(),u=r.length;u<i.length;u+=1)a(u);Ge()}},i:function(s){if(!t){for(var l=0;l<r.length;l+=1)J(i[l]);t=!0}},o:function(s){i=i.filter(Boolean);for(var l=0;l<i.length;l+=1)Y(i[l]);t=!1},d:function(s){ji(i,s),s&&he(e)}}}function W_(n){var e,t;return e=new rVe({props:{id:n[26],data:n[27]}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o={};64&i&&(o.data=r[27]),e.$set(o)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function U_(n){for(var e,t,r=n[6].polygons,i=[],o=0;o<r.length;o+=1)i[o]=J_(q_(n,r,o));var a=function(s){return Y(i[s],1,1,function(){i[s]=null})};return{c:function(){for(var s=0;s<i.length;s+=1)i[s].c();e=kn()},m:function(s,l){for(var u=0;u<i.length;u+=1)i[u].m(s,l);me(s,e,l),t=!0},p:function(s,l){if(64&l){var u;for(r=s[6].polygons,u=0;u<r.length;u+=1){var c=q_(s,r,u);i[u]?(i[u].p(c,l),J(i[u],1)):(i[u]=J_(c),i[u].c(),J(i[u],1),i[u].m(e.parentNode,e))}for(Je(),u=r.length;u<i.length;u+=1)a(u);Ge()}},i:function(s){if(!t){for(var l=0;l<r.length;l+=1)J(i[l]);t=!0}},o:function(s){i=i.filter(Boolean);for(var l=0;l<i.length;l+=1)Y(i[l]);t=!1},d:function(s){ji(i,s),s&&he(e)}}}function J_(n){var e,t;return e=new aVe({props:{id:n[26],data:n[24]}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o={};64&i&&(o.data=r[24]),e.$set(o)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function G_(n){var e,t,r;function i(a){n[15](a)}var o={};return n[6]!==void 0&&(o.data=n[6]),e=new uVe({props:o}),en.push(function(){return to(e,"data",i)}),{c:function(){Ne(e.$$.fragment)},m:function(a,s){Ae(e,a,s),r=!0},p:function(a,s){var l={};!t&&64&s&&(t=!0,l.data=a[6],wo(function(){return t=!1})),e.$set(l)},i:function(a){r||(J(e.$$.fragment,a),r=!0)},o:function(a){Y(e.$$.fragment,a),r=!1},d:function(a){_e(e,a)}}}function pVe(n){var e,t=n[14].default,r=ia(t,n,n[16],null),i=r||function(o){var a,s,l=o[6]&&H_(o);return{c:function(){l&&l.c(),a=kn()},m:function(u,c){l&&l.m(u,c),me(u,a,c),s=!0},p:function(u,c){u[6]?l?(l.p(u,c),64&c&&J(l,1)):((l=H_(u)).c(),J(l,1),l.m(a.parentNode,a)):l&&(Je(),Y(l,1,1,function(){l=null}),Ge())},i:function(u){s||(J(l),s=!0)},o:function(u){Y(l),s=!1},d:function(u){l&&l.d(u),u&&he(a)}}}(n);return{c:function(){i&&i.c()},m:function(o,a){i&&i.m(o,a),e=!0},p:function(o,a){r?r.p&&(!e||65536&a)&&aa(r,t,o,o[16],e?oa(t,o[16],a,null):sa(o[16]),null):i&&i.p&&(!e||64&a)&&i.p(o,e?a:-1)},i:function(o){e||(J(i,o),e=!0)},o:function(o){Y(i,o),e=!1},d:function(o){i&&i.d(o)}}}function vVe(n){var e,t;return e=new hVe({props:{label:n[5],width:n[7],height:n[8],box:n[10],style:n[9],spin:n[1],flip:n[4],inverse:n[2],pulse:n[3],class:n[0],$$slots:{default:[pVe]},$$scope:{ctx:n}}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o=Dt(i,1)[0],a={};32&o&&(a.label=r[5]),128&o&&(a.width=r[7]),256&o&&(a.height=r[8]),1024&o&&(a.box=r[10]),512&o&&(a.style=r[9]),2&o&&(a.spin=r[1]),16&o&&(a.flip=r[4]),4&o&&(a.inverse=r[2]),8&o&&(a.pulse=r[3]),1&o&&(a.class=r[0]),65600&o&&(a.$$scope={dirty:o,ctx:r}),e.$set(a)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function mVe(n,e,t){var r,i,o,a,s=e.$$slots,l=s===void 0?{}:s,u=e.$$scope,c=e.class,f=c===void 0?"":c,d=e.data,h=e.scale,v=h===void 0?1:h,p=e.spin,m=p!==void 0&&p,g=e.inverse,y=g!==void 0&&g,b=e.pulse,w=b!==void 0&&b,k=e.flip,x=k===void 0?null:k,C=e.label,T=C===void 0?null:C,M=null,B=e.style,_=B===void 0?null:B;function N(){var j=1;return v!==void 0&&(j=Number(v)),isNaN(j)||j<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.'),1):1*j}function $(){return M?Math.max(M.width,M.height)/16:1}return n.$$set=function(j){"class"in j&&t(0,f=j.class),"data"in j&&t(11,d=j.data),"scale"in j&&t(12,v=j.scale),"spin"in j&&t(1,m=j.spin),"inverse"in j&&t(2,y=j.inverse),"pulse"in j&&t(3,w=j.pulse),"flip"in j&&t(4,x=j.flip),"label"in j&&t(5,T=j.label),"style"in j&&t(13,_=j.style),"$$scope"in j&&t(16,u=j.$$scope)},n.$$.update=function(){14336&n.$$.dirty&&(function(){if(d!==void 0){var j=function(q){if("iconName"in q&&"icon"in q){var R={},G=q.icon,A=q.iconName,I={width:G[0],height:G[1],paths:[{d:G[4]}]};return R[A]=I,R}return q}(d),D=j[Dt(Object.keys(j),1)[0]];D.paths||(D.paths=[]),D.d&&D.paths.push({d:D.d}),D.polygons||(D.polygons=[]),D.points&&D.polygons.push({points:D.points}),t(6,M=D)}}(),t(7,r=M?M.width/$()*N():0),t(8,i=M?M.height/$()*N():0),t(9,o=function(){var j="";_!==null&&(j+=_);var D=N();return D===1?j.length===0?void 0:j:(j===""||j.endsWith(";")||(j+="; "),"".concat(j,"font-size: ").concat(D,"em"))}()),t(10,a=M?"0 0 ".concat(M.width," ").concat(M.height):"0 0 ".concat(r," ").concat(i)))},[f,m,y,w,x,T,M,r,i,o,a,d,v,_,l,function(j){t(6,M=j)},u]}var Jt=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,mVe,vVe,Or,{class:0,data:11,scale:12,spin:1,inverse:2,pulse:3,flip:4,label:5,style:13}),i}return ie(t)}();function gVe(n){Gt(n,"svelte-kvi5ls",".jse-message.svelte-kvi5ls.svelte-kvi5ls{font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);padding:var(--jse-padding);display:flex;gap:var(--jse-padding);flex-wrap:wrap;align-items:center}.jse-message.jse-success.svelte-kvi5ls.svelte-kvi5ls{background:var(--jse-message-success-background);color:var(--jse-message-success-color)}.jse-message.svelte-kvi5ls .jse-text.svelte-kvi5ls{flex:1;min-width:60%}.jse-message.svelte-kvi5ls .jse-text.jse-clickable.svelte-kvi5ls{cursor:pointer}.jse-message.svelte-kvi5ls .jse-text.jse-clickable.svelte-kvi5ls:hover{background-color:rgba(255, 255, 255, 0.1)}.jse-message.jse-error.svelte-kvi5ls.svelte-kvi5ls{background:var(--jse-message-error-background);color:var(--jse-message-error-color)}.jse-message.jse-warning.svelte-kvi5ls.svelte-kvi5ls{background:var(--jse-message-warning-background);color:var(--jse-message-warning-color)}.jse-message.jse-info.svelte-kvi5ls.svelte-kvi5ls{background:var(--jse-message-info-background);color:var(--jse-message-info-color)}.jse-message.svelte-kvi5ls .jse-actions.svelte-kvi5ls{display:flex;gap:var(--jse-padding)}.jse-message.svelte-kvi5ls .jse-actions button.jse-action.svelte-kvi5ls{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;background:var(--jse-message-action-background);color:inherit;padding:calc(0.5 * var(--jse-padding)) var(--jse-padding)}.jse-message.svelte-kvi5ls .jse-actions button.jse-action.svelte-kvi5ls:hover{background:var(--jse-message-action-background-highlight)}")}function K_(n,e,t){var r=n.slice();return r[8]=e[t],r}function Q_(n){var e,t;return e=new Jt({props:{data:n[1]}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o={};2&i&&(o.data=r[1]),e.$set(o)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function Y_(n){var e,t;return e=new Jt({props:{data:n[8].icon}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o={};8&i&&(o.data=r[8].icon),e.$set(o)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function Z_(n){var e,t,r,i,o,a,s,l,u,c=n[8].text+"",f=n[8].icon&&Y_(n);function d(){return n[6](n[8])}function h(){return n[7](n[8])}return{c:function(){e=ee("button"),f&&f.c(),t=je(),r=ot(c),i=je(),E(e,"type","button"),E(e,"class","jse-button jse-action jse-primary svelte-kvi5ls"),E(e,"title",o=n[8].title),e.disabled=a=n[8].disabled},m:function(v,p){me(v,e,p),f&&f.m(e,null),W(e,t),W(e,r),W(e,i),s=!0,l||(u=[Be(e,"click",d),Be(e,"mousedown",h)],l=!0)},p:function(v,p){(n=v)[8].icon?f?(f.p(n,p),8&p&&J(f,1)):((f=Y_(n)).c(),J(f,1),f.m(e,t)):f&&(Je(),Y(f,1,1,function(){f=null}),Ge()),(!s||8&p)&&c!==(c=n[8].text+"")&&on(r,c),(!s||8&p&&o!==(o=n[8].title))&&E(e,"title",o),(!s||8&p&&a!==(a=n[8].disabled))&&(e.disabled=a)},i:function(v){s||(J(f),s=!0)},o:function(v){Y(f),s=!1},d:function(v){v&&he(e),f&&f.d(),l=!1,Xn(u)}}}function yVe(n){for(var e,t,r,i,o,a,s,l,u,c,f=n[1]&&Q_(n),d=n[3],h=[],v=0;v<d.length;v+=1)h[v]=Z_(K_(n,d,v));var p=function(m){return Y(h[m],1,1,function(){h[m]=null})};return{c:function(){e=ee("div"),t=ee("div"),f&&f.c(),r=je(),i=ot(n[2]),o=je(),a=ee("div");for(var m=0;m<h.length;m+=1)h[m].c();E(t,"class","jse-text svelte-kvi5ls"),Ve(t,"jse-clickable",n[4]!==null),E(a,"class","jse-actions svelte-kvi5ls"),E(e,"class",s="jse-message jse-"+n[0]+" svelte-kvi5ls")},m:function(m,g){me(m,e,g),W(e,t),f&&f.m(t,null),W(t,r),W(t,i),W(e,o),W(e,a);for(var y=0;y<h.length;y+=1)h[y].m(a,null);l=!0,u||(c=Be(t,"click",n[5]),u=!0)},p:function(m,g){var y=Dt(g,1)[0];if(m[1]?f?(f.p(m,y),2&y&&J(f,1)):((f=Q_(m)).c(),J(f,1),f.m(t,r)):f&&(Je(),Y(f,1,1,function(){f=null}),Ge()),(!l||4&y)&&on(i,m[2]),(!l||16&y)&&Ve(t,"jse-clickable",m[4]!==null),8&y){var b;for(d=m[3],b=0;b<d.length;b+=1){var w=K_(m,d,b);h[b]?(h[b].p(w,y),J(h[b],1)):(h[b]=Z_(w),h[b].c(),J(h[b],1),h[b].m(a,null))}for(Je(),b=d.length;b<h.length;b+=1)p(b);Ge()}(!l||1&y&&s!==(s="jse-message jse-"+m[0]+" svelte-kvi5ls"))&&E(e,"class",s)},i:function(m){if(!l){J(f);for(var g=0;g<d.length;g+=1)J(h[g]);l=!0}},o:function(m){Y(f),h=h.filter(Boolean);for(var g=0;g<h.length;g+=1)Y(h[g]);l=!1},d:function(m){m&&he(e),f&&f.d(),ji(h,m),u=!1,c()}}}function bVe(n,e,t){var r=e.type,i=r===void 0?"success":r,o=e.icon,a=o===void 0?void 0:o,s=e.message,l=s===void 0?void 0:s,u=e.actions,c=u===void 0?[]:u,f=e.onClick,d=f===void 0?void 0:f;return n.$$set=function(h){"type"in h&&t(0,i=h.type),"icon"in h&&t(1,a=h.icon),"message"in h&&t(2,l=h.message),"actions"in h&&t(3,c=h.actions),"onClick"in h&&t(4,d=h.onClick)},[i,a,l,c,d,function(){d&&d()},function(h){h.onClick&&h.onClick()},function(h){h.onMouseDown&&h.onMouseDown()}]}var qu=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,bVe,yVe,mn,{type:0,icon:1,message:2,actions:3,onClick:4},gVe),i}return ie(t)}();function ws(n){return"$"+n.map(wVe).join("")}function wVe(n){if(uF.test(n))return"["+n+"]";if(lF.test(n))return"."+n;var e=JSON.stringify(n);return"['"+e.substring(1,e.length-1).replace(/\\"/g,'"')+"']"}function Su(n){return n.replace(/^\$/,"").replace(/^\./,"")}function kVe(n){for(var e=function(i){return i.startsWith("$")?i:i.startsWith("[")||i.startsWith(".")?"$"+i:"$."+i}(n.trim()).substring(1),t=[];e.length>0;){var r=e.match(xVe);if(!r)throw new SyntaxError('Cannot parse path: unexpected part "'.concat(e,'" at position ').concat(n.length-e.length));t.push(r[1]||r[2]||r[3]),e=e.substring(r[0].length)}return t}var xVe=new RegExp(["^\\.([A-zA-Z$_][a-zA-Z$_0-9]*)","^\\[([0-9]+)]","^\\['(.*)']"].join("|"));function sc(n){return{value:n,label:ir(n)?"(whole item)":Su(ws(n))}}function Rl(n){return n.map(function(e){return uF.test(e)?"?.[".concat(e,"]"):lF.test(e)?"?.".concat(e):"?.[".concat(JSON.stringify(e),"]")}).join("")}var lF=/^[a-zA-Z$_][a-zA-Z$_\d]*$/,uF=/^\d+$/;function jVe(n){Gt(n,"svelte-1oe8e8r",".jse-validation-errors-overview.svelte-1oe8e8r.svelte-1oe8e8r{font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);background:var(--jse-message-warning-background);color:var(--jse-message-warning-color);overflow:auto;max-height:25%}.jse-validation-errors-overview.svelte-1oe8e8r table.svelte-1oe8e8r{border-collapse:collapse;width:100%}.jse-validation-errors-overview.svelte-1oe8e8r table tr.svelte-1oe8e8r{cursor:pointer}.jse-validation-errors-overview.svelte-1oe8e8r table tr.svelte-1oe8e8r:hover{background-color:rgba(255, 255, 255, 0.1)}.jse-validation-errors-overview.svelte-1oe8e8r table tr td.svelte-1oe8e8r{padding:4px var(--jse-padding);vertical-align:middle}.jse-validation-errors-overview.svelte-1oe8e8r table tr td.jse-validation-error-icon.svelte-1oe8e8r{width:36px;box-sizing:border-box}.jse-validation-errors-overview.svelte-1oe8e8r table tr td.jse-validation-error-action.svelte-1oe8e8r{width:36px;box-sizing:border-box;padding:0}.jse-validation-errors-overview.svelte-1oe8e8r table tr td.jse-validation-error-action button.jse-validation-errors-collapse.svelte-1oe8e8r{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;width:36px;height:26px;cursor:pointer}.jse-validation-errors-overview.svelte-1oe8e8r table tr td.jse-validation-error-action button.jse-validation-errors-collapse.svelte-1oe8e8r:hover{background-color:rgba(255, 255, 255, 0.2)}.jse-validation-errors-overview.svelte-1oe8e8r table tr td div.jse-validation-errors-expand.svelte-1oe8e8r{display:inline-block;position:relative;top:3px}")}function X_(n,e,t){var r=n.slice();return r[7]=e[t],r[9]=t,r}function e5(n){var e,t,r,i,o=[SVe,CVe],a=[];function s(l,u){return l[2]||l[3]===1?0:1}return t=s(n),r=a[t]=o[t](n),{c:function(){e=ee("div"),r.c(),E(e,"class","jse-validation-errors-overview svelte-1oe8e8r")},m:function(l,u){me(l,e,u),a[t].m(e,null),i=!0},p:function(l,u){var c=t;(t=s(l))===c?a[t].p(l,u):(Je(),Y(a[c],1,1,function(){a[c]=null}),Ge(),(r=a[t])?r.p(l,u):(r=a[t]=o[t](l)).c(),J(r,1),r.m(e,null))},i:function(l){i||(J(r),i=!0)},o:function(l){Y(r),i=!1},d:function(l){l&&he(e),a[t].d()}}}function CVe(n){var e,t,r,i,o,a,s,l,u,c,f,d,h,v;return o=new Jt({props:{data:zu}}),f=new Jt({props:{data:rF}}),{c:function(){e=ee("table"),t=ee("tbody"),r=ee("tr"),i=ee("td"),Ne(o.$$.fragment),a=je(),s=ee("td"),l=ot(n[3]),u=ot(` validation errors
              `),c=ee("div"),Ne(f.$$.fragment),E(i,"class","jse-validation-error-icon svelte-1oe8e8r"),E(c,"class","jse-validation-errors-expand svelte-1oe8e8r"),E(s,"class","svelte-1oe8e8r"),E(r,"class","jse-validation-error svelte-1oe8e8r"),E(e,"class","svelte-1oe8e8r")},m:function(p,m){me(p,e,m),W(e,t),W(t,r),W(r,i),Ae(o,i,null),W(r,a),W(r,s),W(s,l),W(s,u),W(s,c),Ae(f,c,null),d=!0,h||(v=Be(r,"click",n[5]),h=!0)},p:function(p,m){(!d||8&m)&&on(l,p[3])},i:function(p){d||(J(o.$$.fragment,p),J(f.$$.fragment,p),d=!0)},o:function(p){Y(o.$$.fragment,p),Y(f.$$.fragment,p),d=!1},d:function(p){p&&he(e),_e(o),_e(f),h=!1,v()}}}function SVe(n){for(var e,t,r,i,o=Am(n[0],100),a=[],s=0;s<o.length;s+=1)a[s]=n5(X_(n,o,s));var l=function(c){return Y(a[c],1,1,function(){a[c]=null})},u=n[3]>100&&r5(n);return{c:function(){e=ee("table"),t=ee("tbody");for(var c=0;c<a.length;c+=1)a[c].c();r=je(),u&&u.c(),E(e,"class","svelte-1oe8e8r")},m:function(c,f){me(c,e,f),W(e,t);for(var d=0;d<a.length;d+=1)a[d].m(t,null);W(t,r),u&&u.m(t,null),i=!0},p:function(c,f){if(19&f){var d;for(o=Am(c[0],100),d=0;d<o.length;d+=1){var h=X_(c,o,d);a[d]?(a[d].p(h,f),J(a[d],1)):(a[d]=n5(h),a[d].c(),J(a[d],1),a[d].m(t,r))}for(Je(),d=o.length;d<a.length;d+=1)l(d);Ge()}c[3]>100?u?u.p(c,f):((u=r5(c)).c(),u.m(t,null)):u&&(u.d(1),u=null)},i:function(c){if(!i){for(var f=0;f<o.length;f+=1)J(a[f]);i=!0}},o:function(c){a=a.filter(Boolean);for(var f=0;f<a.length;f+=1)Y(a[f]);i=!1},d:function(c){c&&he(e),ji(a,c),u&&u.d()}}}function t5(n){var e,t,r,i,o;return t=new Jt({props:{data:YHe}}),{c:function(){e=ee("button"),Ne(t.$$.fragment),E(e,"type","button"),E(e,"class","jse-validation-errors-collapse svelte-1oe8e8r"),E(e,"title","Collapse validation errors")},m:function(a,s){me(a,e,s),Ae(t,e,null),r=!0,i||(o=Be(e,"click",bx(n[4])),i=!0)},p:Ze,i:function(a){r||(J(t.$$.fragment,a),r=!0)},o:function(a){Y(t.$$.fragment,a),r=!1},d:function(a){a&&he(e),_e(t),i=!1,o()}}}function n5(n){var e,t,r,i,o,a,s,l,u,c,f,d,h,v,p=Su(ws(n[7].path))+"",m=n[7].message+"";r=new Jt({props:{data:zu}});var g=n[9]===0&&n[0].length>1&&t5(n);function y(){return n[6](n[7])}return{c:function(){e=ee("tr"),t=ee("td"),Ne(r.$$.fragment),i=je(),o=ee("td"),a=ot(p),s=je(),l=ee("td"),u=ot(m),c=je(),f=ee("td"),g&&g.c(),E(t,"class","jse-validation-error-icon svelte-1oe8e8r"),E(o,"class","svelte-1oe8e8r"),E(l,"class","svelte-1oe8e8r"),E(f,"class","jse-validation-error-action svelte-1oe8e8r"),E(e,"class","jse-validation-error svelte-1oe8e8r")},m:function(b,w){me(b,e,w),W(e,t),Ae(r,t,null),W(e,i),W(e,o),W(o,a),W(e,s),W(e,l),W(l,u),W(e,c),W(e,f),g&&g.m(f,null),d=!0,h||(v=Be(e,"click",y),h=!0)},p:function(b,w){n=b,(!d||1&w)&&p!==(p=Su(ws(n[7].path))+"")&&on(a,p),(!d||1&w)&&m!==(m=n[7].message+"")&&on(u,m),n[9]===0&&n[0].length>1?g?(g.p(n,w),1&w&&J(g,1)):((g=t5(n)).c(),J(g,1),g.m(f,null)):g&&(Je(),Y(g,1,1,function(){g=null}),Ge())},i:function(b){d||(J(r.$$.fragment,b),J(g),d=!0)},o:function(b){Y(r.$$.fragment,b),Y(g),d=!1},d:function(b){b&&he(e),_e(r),g&&g.d(),h=!1,v()}}}function r5(n){var e,t,r,i,o,a,s,l,u,c,f,d=n[3]-100+"";return{c:function(){e=ee("tr"),t=ee("td"),r=je(),i=ee("td"),o=je(),a=ee("td"),s=ot("(and "),l=ot(d),u=ot(" more errors)"),c=je(),f=ee("td"),E(t,"class","svelte-1oe8e8r"),E(i,"class","svelte-1oe8e8r"),E(a,"class","svelte-1oe8e8r"),E(f,"class","svelte-1oe8e8r"),E(e,"class","jse-validation-error svelte-1oe8e8r")},m:function(h,v){me(h,e,v),W(e,t),W(e,r),W(e,i),W(e,o),W(e,a),W(a,s),W(a,l),W(a,u),W(e,c),W(e,f)},p:function(h,v){8&v&&d!==(d=h[3]-100+"")&&on(l,d)},d:function(h){h&&he(e)}}}function TVe(n){var e,t,r=!ir(n[0]),i=r&&e5(n);return{c:function(){i&&i.c(),e=kn()},m:function(o,a){i&&i.m(o,a),me(o,e,a),t=!0},p:function(o,a){var s=Dt(a,1)[0];1&s&&(r=!ir(o[0])),r?i?(i.p(o,s),1&s&&J(i,1)):((i=e5(o)).c(),J(i,1),i.m(e.parentNode,e)):i&&(Je(),Y(i,1,1,function(){i=null}),Ge())},i:function(o){t||(J(i),t=!0)},o:function(o){Y(i),t=!1},d:function(o){i&&i.d(o),o&&he(e)}}}function OVe(n,e,t){var r,i=e.validationErrors,o=e.selectError,a=!0;return n.$$set=function(s){"validationErrors"in s&&t(0,i=s.validationErrors),"selectError"in s&&t(1,o=s.selectError)},n.$$.update=function(){1&n.$$.dirty&&t(3,r=i.length)},[i,o,a,r,function(){t(2,a=!1)},function(){t(2,a=!0)},function(s){setTimeout(function(){return o(s)})}]}var cF=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,OVe,TVe,mn,{validationErrors:0,selectError:1},jVe),i}return ie(t)}(),EVe={prefix:"fas",iconName:"jsoneditor-expand",icon:[512,512,[],null,"M 0,448 V 512 h 512 v -64 z M 0,0 V 64 H 512 V 0 Z M 256,96 128,224 h 256 z M 256,416 384,288 H 128 Z"]},MVe={prefix:"fas",iconName:"jsoneditor-collapse",icon:[512,512,[],null,"m 0,224 v 64 h 512 v -64 z M 256,192 384,64 H 128 Z M 256,320 128,448 h 256 z"]},$Ve={prefix:"fas",iconName:"jsoneditor-format",icon:[512,512,[],null,"M 0,32 v 64 h 416 v -64 z M 160,160 v 64 h 352 v -64 z M 160,288 v 64 h 288 v -64 z M 0,416 v 64 h 320 v -64 z"]},AVe={prefix:"fas",iconName:"jsoneditor-compact",icon:[512,512,[],null,"M 0,32 v 64 h 512 v -64 z M 0,160 v 64 h 512 v -64 z M 0,288 v 64 h 352 v -64 z"]};function _Ve(n){Gt(n,"svelte-v4jelk",".jse-menu.svelte-v4jelk.svelte-v4jelk{background:var(--jse-theme-color);border-bottom:1px solid var(--jse-theme-color);color:var(--jse-menu-color);display:flex;flex-wrap:wrap;align-items:center;position:relative}.jse-menu.svelte-v4jelk .jse-button.svelte-v4jelk{width:var(--jse-menu-button-size);height:var(--jse-menu-button-size);border:none;background:transparent;color:inherit;cursor:pointer;padding:calc(0.5 * var(--jse-padding));margin:0;border-radius:0}.jse-menu.svelte-v4jelk .jse-button.svelte-v4jelk:hover,.jse-menu.svelte-v4jelk .jse-button.svelte-v4jelk:focus{background:var(--jse-theme-color-highlight)}.jse-menu.svelte-v4jelk .jse-button.svelte-v4jelk:disabled{color:var(--jse-menu-color);opacity:0.5;background:transparent}.jse-menu.svelte-v4jelk .jse-button.jse-group-button.svelte-v4jelk{border:1px solid var(--jse-menu-color);padding:0;margin:calc(0.5 * var(--jse-padding)) 0;height:calc(var(--jse-menu-button-size) - var(--jse-padding));width:40px}.jse-menu.svelte-v4jelk .jse-button.jse-group-button.svelte-v4jelk:not(.jse-last){border-right:none}.jse-menu.svelte-v4jelk .jse-button.jse-group-button.jse-first.svelte-v4jelk{margin-left:calc(0.5 * var(--jse-padding))}.jse-menu.svelte-v4jelk .jse-button.jse-group-button.jse-last.svelte-v4jelk{margin-right:calc(0.5 * var(--jse-padding))}.jse-menu.svelte-v4jelk .jse-button.jse-group-button.svelte-v4jelk:hover,.jse-menu.svelte-v4jelk .jse-button.jse-group-button.svelte-v4jelk:focus{background:var(--jse-theme-color-highlight)}.jse-menu.svelte-v4jelk .jse-button.jse-group-button.jse-selected.svelte-v4jelk{background:var(--jse-menu-color);color:var(--jse-theme-color)}.jse-menu.svelte-v4jelk .jse-space.svelte-v4jelk{flex:1}.jse-menu.svelte-v4jelk .jse-separator.svelte-v4jelk{background:var(--jse-menu-color);opacity:0.3;box-sizing:border-box;width:1px;height:calc(var(--jse-menu-button-size) - 6px);margin:3px}")}var NVe=function(n){return{}},i5=function(n){return{}};function o5(n,e,t){var r=n.slice();return r[3]=e[t],r}var IVe=function(n){return{}},a5=function(n){return{}};function PVe(n){var e,t,r,i,o,a,s,l,u=n[3].icon&&s5(n),c=n[3].text&&l5(n);return{c:function(){e=ee("button"),u&&u.c(),t=je(),c&&c.c(),E(e,"type","button"),E(e,"class",r="jse-button "+n[3].className+" svelte-v4jelk"),E(e,"title",i=n[3].title),e.disabled=o=n[3].disabled||!1},m:function(f,d){me(f,e,d),u&&u.m(e,null),W(e,t),c&&c.m(e,null),a=!0,s||(l=Be(e,"click",function(){oo(n[3].onClick)&&n[3].onClick.apply(this,arguments)}),s=!0)},p:function(f,d){(n=f)[3].icon?u?(u.p(n,d),1&d&&J(u,1)):((u=s5(n)).c(),J(u,1),u.m(e,t)):u&&(Je(),Y(u,1,1,function(){u=null}),Ge()),n[3].text?c?c.p(n,d):((c=l5(n)).c(),c.m(e,null)):c&&(c.d(1),c=null),(!a||1&d&&r!==(r="jse-button "+n[3].className+" svelte-v4jelk"))&&E(e,"class",r),(!a||1&d&&i!==(i=n[3].title))&&E(e,"title",i),(!a||1&d&&o!==(o=n[3].disabled||!1))&&(e.disabled=o)},i:function(f){a||(J(u),a=!0)},o:function(f){Y(u),a=!1},d:function(f){f&&he(e),u&&u.d(),c&&c.d(),s=!1,l()}}}function LVe(n){var e;return{c:function(){E(e=ee("div"),"class","jse-space svelte-v4jelk")},m:function(t,r){me(t,e,r)},p:Ze,i:Ze,o:Ze,d:function(t){t&&he(e)}}}function DVe(n){var e;return{c:function(){E(e=ee("div"),"class","jse-separator svelte-v4jelk")},m:function(t,r){me(t,e,r)},p:Ze,i:Ze,o:Ze,d:function(t){t&&he(e)}}}function s5(n){var e,t;return e=new Jt({props:{data:n[3].icon}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o={};1&i&&(o.data=r[3].icon),e.$set(o)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function l5(n){var e,t=n[3].text+"";return{c:function(){e=ot(t)},m:function(r,i){me(r,e,i)},p:function(r,i){1&i&&t!==(t=r[3].text+"")&&on(e,t)},d:function(r){r&&he(e)}}}function u5(n){var e,t,r,i,o=[DVe,LVe,PVe],a=[];function s(l,u){return l[3].separator===!0?0:l[3].space===!0?1:2}return e=s(n),t=a[e]=o[e](n),{c:function(){t.c(),r=kn()},m:function(l,u){a[e].m(l,u),me(l,r,u),i=!0},p:function(l,u){var c=e;(e=s(l))===c?a[e].p(l,u):(Je(),Y(a[c],1,1,function(){a[c]=null}),Ge(),(t=a[e])?t.p(l,u):(t=a[e]=o[e](l)).c(),J(t,1),t.m(r.parentNode,r))},i:function(l){i||(J(t),i=!0)},o:function(l){Y(t),i=!1},d:function(l){a[e].d(l),l&&he(r)}}}function RVe(n){for(var e,t,r,i,o=n[2].left,a=ia(o,n,n[1],a5),s=n[0],l=[],u=0;u<s.length;u+=1)l[u]=u5(o5(n,s,u));var c=function(h){return Y(l[h],1,1,function(){l[h]=null})},f=n[2].right,d=ia(f,n,n[1],i5);return{c:function(){e=ee("div"),a&&a.c(),t=je();for(var h=0;h<l.length;h+=1)l[h].c();r=je(),d&&d.c(),E(e,"class","jse-menu svelte-v4jelk")},m:function(h,v){me(h,e,v),a&&a.m(e,null),W(e,t);for(var p=0;p<l.length;p+=1)l[p].m(e,null);W(e,r),d&&d.m(e,null),i=!0},p:function(h,v){var p=Dt(v,1)[0];if(a&&a.p&&(!i||2&p)&&aa(a,o,h,h[1],i?oa(o,h[1],p,IVe):sa(h[1]),a5),1&p){var m;for(s=h[0],m=0;m<s.length;m+=1){var g=o5(h,s,m);l[m]?(l[m].p(g,p),J(l[m],1)):(l[m]=u5(g),l[m].c(),J(l[m],1),l[m].m(e,r))}for(Je(),m=s.length;m<l.length;m+=1)c(m);Ge()}d&&d.p&&(!i||2&p)&&aa(d,f,h,h[1],i?oa(f,h[1],p,NVe):sa(h[1]),i5)},i:function(h){if(!i){J(a,h);for(var v=0;v<s.length;v+=1)J(l[v]);J(d,h),i=!0}},o:function(h){Y(a,h),l=l.filter(Boolean);for(var v=0;v<l.length;v+=1)Y(l[v]);Y(d,h),i=!1},d:function(h){h&&he(e),a&&a.d(h),ji(l,h),d&&d.d(h)}}}function BVe(n,e,t){var r=e.$$slots,i=r===void 0?{}:r,o=e.$$scope,a=e.items,s=a===void 0?[]:a;return n.$$set=function(l){"items"in l&&t(0,s=l.items),"$$scope"in l&&t(1,o=l.$$scope)},[s,o,i]}var z2=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,BVe,RVe,mn,{items:0},_Ve),i}return ie(t)}();function zVe(n){var e,t;return e=new z2({props:{items:n[0]}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o={};1&Dt(i,1)[0]&&(o.items=r[0]),e.$set(o)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function qVe(n,e,t){var r,i,o=e.readOnly,a=o!==void 0&&o,s=e.onFormat,l=e.onCompact,u=e.onSort,c=e.onTransform,f=e.onToggleSearch,d=e.onUndo,h=e.onRedo,v=e.canUndo,p=e.canRedo,m=e.canFormat,g=e.canCompact,y=e.canSort,b=e.canTransform,w=e.onRenderMenu,k=w===void 0?Dn:w;return n.$$set=function(x){"readOnly"in x&&t(1,a=x.readOnly),"onFormat"in x&&t(2,s=x.onFormat),"onCompact"in x&&t(3,l=x.onCompact),"onSort"in x&&t(4,u=x.onSort),"onTransform"in x&&t(5,c=x.onTransform),"onToggleSearch"in x&&t(6,f=x.onToggleSearch),"onUndo"in x&&t(7,d=x.onUndo),"onRedo"in x&&t(8,h=x.onRedo),"canUndo"in x&&t(9,v=x.canUndo),"canRedo"in x&&t(10,p=x.canRedo),"canFormat"in x&&t(11,m=x.canFormat),"canCompact"in x&&t(12,g=x.canCompact),"canSort"in x&&t(13,y=x.canSort),"canTransform"in x&&t(14,b=x.canTransform),"onRenderMenu"in x&&t(15,k=x.onRenderMenu)},n.$$.update=function(){32766&n.$$.dirty&&t(16,r=a?[{space:!0}]:[{icon:$Ve,title:"Format JSON: add proper indentation and new lines (Ctrl+I)",className:"jse-format",onClick:s,disabled:a||!m},{icon:AVe,title:"Compact JSON: remove all white spacing and new lines (Ctrl+Shift+I)",className:"jse-compact",onClick:l,disabled:a||!g},{separator:!0},{icon:R2,title:"Sort",className:"jse-sort",onClick:u,disabled:a||!y},{icon:P2,title:"Transform contents (filter, sort, project)",className:"jse-transform",onClick:c,disabled:a||!b},{icon:B2,title:"Search (Ctrl+F)",className:"jse-search",onClick:f},{separator:!0},{icon:oF,title:"Undo (Ctrl+Z)",className:"jse-undo",onClick:d,disabled:!v},{icon:iF,title:"Redo (Ctrl+Shift+Z)",className:"jse-redo",onClick:h,disabled:!p},{space:!0}]),98304&n.$$.dirty&&t(0,i=k("text",r)||r)},[i,a,s,l,u,c,f,d,h,v,p,m,g,y,b,k,r]}var FVe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,qVe,zVe,mn,{readOnly:1,onFormat:2,onCompact:3,onSort:4,onTransform:5,onToggleSearch:6,onUndo:7,onRedo:8,canUndo:9,canRedo:10,canFormat:11,canCompact:12,canSort:13,canTransform:14,onRenderMenu:15}),i}return ie(t)}(),Vn=function(){function n(){re(this,n)}return ie(n,[{key:"lineAt",value:function(e){if(e<0||e>this.length)throw new RangeError("Invalid position ".concat(e," in document of length ").concat(this.length));return this.lineInner(e,!1,1,0)}},{key:"line",value:function(e){if(e<1||e>this.lines)throw new RangeError("Invalid line number ".concat(e," in ").concat(this.lines,"-line document"));return this.lineInner(e,!0,1,0)}},{key:"replace",value:function(e,t,r){var i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(t,this.length,i,1),kv.from(i,this.length-(t-e)+r.length)}},{key:"append",value:function(e){return this.replace(this.length,this.length,e)}},{key:"slice",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.length,r=[];return this.decompose(e,t,r,0),kv.from(r,t-e)}},{key:"eq",value:function(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;for(var t=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new Ld(this),o=new Ld(e),a=t,s=t;;){if(i.next(a),o.next(a),a=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(s+=i.value.length,i.done||s>=r)return!0}}},{key:"iter",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return new Ld(this,e)}},{key:"iterRange",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.length;return new fF(this,e,t)}},{key:"iterLines",value:function(e,t){var r;if(e==null)r=this.iter();else{t==null&&(t=this.lines+1);var i=this.line(e).from;r=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new dF(r)}},{key:"toString",value:function(){return this.sliceString(0)}},{key:"toJSON",value:function(){var e=[];return this.flatten(e),e}}],[{key:"of",value:function(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length!=1||e[0]?e.length<=32?new Ho(e):kv.from(Ho.split(e,[])):n.empty}}]),n}(),Ho=function(n){De(t,Vn);var e=Re(t);function t(r){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:HVe(r);return re(this,t),(i=e.call(this)).text=r,i.length=o,i}return ie(t,[{key:"lines",get:function(){return this.text.length}},{key:"children",get:function(){return null}},{key:"lineInner",value:function(r,i,o,a){for(var s=0;;s++){var l=this.text[s],u=a+l.length;if((i?o:u)>=r)return new VVe(a,u,o,l);a=u+1,o++}}},{key:"decompose",value:function(r,i,o,a){var s=r<=0&&i>=this.length?this:new t(c5(this.text,r,i),Math.min(i,this.length)-Math.max(0,r));if(1&a){var l=o.pop(),u=xv(s.text,l.text.slice(),0,s.length);if(u.length<=32)o.push(new t(u,l.length+s.length));else{var c=u.length>>1;o.push(new t(u.slice(0,c)),new t(u.slice(c)))}}else o.push(s)}},{key:"replace",value:function(r,i,o){if(!(o instanceof t))return vn(sn(t.prototype),"replace",this).call(this,r,i,o);var a=xv(this.text,xv(o.text,c5(this.text,0,r)),i),s=this.length+o.length-(i-r);return a.length<=32?new t(a,s):kv.from(t.split(a,[]),s)}},{key:"sliceString",value:function(r){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.length,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:`
`,a="",s=0,l=0;s<=i&&l<this.text.length;l++){var u=this.text[l],c=s+u.length;s>r&&l&&(a+=o),r<c&&i>s&&(a+=u.slice(Math.max(0,r-s),i-s)),s=c+1}return a}},{key:"flatten",value:function(r){var i,o=fe(this.text);try{for(o.s();!(i=o.n()).done;){var a=i.value;r.push(a)}}catch(s){o.e(s)}finally{o.f()}}},{key:"scanIdentical",value:function(){return 0}}],[{key:"split",value:function(r,i){var o,a=[],s=-1,l=fe(r);try{for(l.s();!(o=l.n()).done;){var u=o.value;a.push(u),s+=u.length+1,a.length==32&&(i.push(new t(a,s)),a=[],s=-1)}}catch(c){l.e(c)}finally{l.f()}return s>-1&&i.push(new t(a,s)),i}}]),t}(),kv=function(n){De(t,Vn);var e=Re(t);function t(r,i){var o;re(this,t),(o=e.call(this)).children=r,o.length=i,o.lines=0;var a,s=fe(r);try{for(s.s();!(a=s.n()).done;){var l=a.value;o.lines+=l.lines}}catch(u){s.e(u)}finally{s.f()}return o}return ie(t,[{key:"lineInner",value:function(r,i,o,a){for(var s=0;;s++){var l=this.children[s],u=a+l.length,c=o+l.lines-1;if((i?c:u)>=r)return l.lineInner(r,i,o,a);a=u+1,o=c+1}}},{key:"decompose",value:function(r,i,o,a){for(var s=0,l=0;l<=i&&s<this.children.length;s++){var u=this.children[s],c=l+u.length;if(r<=c&&i>=l){var f=a&((l<=r?1:0)|(c>=i?2:0));l>=r&&c<=i&&!f?o.push(u):u.decompose(r-l,i-l,o,f)}l=c+1}}},{key:"replace",value:function(r,i,o){if(o.lines<this.lines)for(var a=0,s=0;a<this.children.length;a++){var l=this.children[a],u=s+l.length;if(r>=s&&i<=u){var c=l.replace(r-s,i-s,o),f=this.lines-l.lines+c.lines;if(c.lines<f>>4&&c.lines>f>>6){var d=this.children.slice();return d[a]=c,new t(d,this.length-(i-r)+o.length)}return vn(sn(t.prototype),"replace",this).call(this,s,u,c)}s=u+1}return vn(sn(t.prototype),"replace",this).call(this,r,i,o)}},{key:"sliceString",value:function(r){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.length,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:`
`,a="",s=0,l=0;s<this.children.length&&l<=i;s++){var u=this.children[s],c=l+u.length;l>r&&s&&(a+=o),r<c&&i>l&&(a+=u.sliceString(r-l,i-l,o)),l=c+1}return a}},{key:"flatten",value:function(r){var i,o=fe(this.children);try{for(o.s();!(i=o.n()).done;)i.value.flatten(r)}catch(a){o.e(a)}finally{o.f()}}},{key:"scanIdentical",value:function(r,i){if(!(r instanceof t))return 0;for(var o=0,a=Dt(i>0?[0,0,this.children.length,r.children.length]:[this.children.length-1,r.children.length-1,-1,-1],4),s=a[0],l=a[1],u=a[2],c=a[3];;s+=i,l+=i){if(s==u||l==c)return o;var f=this.children[s],d=r.children[l];if(f!=d)return o+f.scanIdentical(d,i);o+=f.length+1}}}],[{key:"from",value:function(r){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.reduce(function(M,B){return M+B.length+1},-1),a=0,s=fe(r);try{for(s.s();!(i=s.n()).done;){var l=i.value;a+=l.lines}}catch(M){s.e(M)}finally{s.f()}if(a<32){var u,c=[],f=fe(r);try{for(f.s();!(u=f.n()).done;){var d=u.value;d.flatten(c)}}catch(M){f.e(M)}finally{f.f()}return new Ho(c,o)}var h=Math.max(32,a>>5),v=h<<1,p=h>>1,m=[],g=0,y=-1,b=[];function w(M){var B;if(M.lines>v&&M instanceof t){var _,N=fe(M.children);try{for(N.s();!(_=N.n()).done;)w(_.value)}catch($){N.e($)}finally{N.f()}}else M.lines>p&&(g>p||!g)?(k(),m.push(M)):M instanceof Ho&&g&&(B=b[b.length-1])instanceof Ho&&M.lines+B.lines<=32?(g+=M.lines,y+=M.length+1,b[b.length-1]=new Ho(B.text.concat(M.text),B.length+1+M.length)):(g+M.lines>h&&k(),g+=M.lines,y+=M.length+1,b.push(M))}function k(){g!=0&&(m.push(b.length==1?b[0]:t.from(b,y)),y=-1,g=b.length=0)}var x,C=fe(r);try{for(C.s();!(x=C.n()).done;){var T=x.value;w(T)}}catch(M){C.e(M)}finally{C.f()}return k(),m.length==1?m[0]:new t(m,o)}}]),t}();function HVe(n){var e,t=-1,r=fe(n);try{for(r.s();!(e=r.n()).done;)t+=e.value.length+1}catch(i){r.e(i)}finally{r.f()}return t}function xv(n,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1e9,i=0,o=0,a=!0;o<n.length&&i<=r;o++){var s=n[o],l=i+s.length;l>=t&&(l>r&&(s=s.slice(0,r-i)),i<t&&(s=s.slice(t-i)),a?(e[e.length-1]+=s,a=!1):e.push(s)),i=l+1}return e}function c5(n,e,t){return xv(n,[""],e,t)}Vn.empty=new Ho([""],0);var Ld=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;re(this,n),this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Ho?e.text.length:e.children.length)<<1]}return ie(n,[{key:"nextInner",value:function(e,t){for(this.done=this.lineBreak=!1;;){var r=this.nodes.length-1,i=this.nodes[r],o=this.offsets[r],a=o>>1,s=i instanceof Ho?i.text.length:i.children.length;if(a==(t>0?s:0)){if(r==0)return this.done=!0,this.value="",this;t>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&o)==(t>0?0:1)){if(this.offsets[r]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof Ho){var l=i.text[a+(t<0?-1:0)];if(this.offsets[r]+=t,l.length>Math.max(0,e))return this.value=e==0?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{var u=i.children[a+(t<0?-1:0)];e>u.length?(e-=u.length,this.offsets[r]+=t):(t<0&&this.offsets[r]--,this.nodes.push(u),this.offsets.push(t>0?1:(u instanceof Ho?u.text.length:u.children.length)<<1))}}}},{key:"next",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}]),n}(),fF=function(){function n(e,t,r){re(this,n),this.value="",this.done=!1,this.cursor=new Ld(e,t>r?-1:1),this.pos=t>r?e.length:0,this.from=Math.min(t,r),this.to=Math.max(t,r)}return ie(n,[{key:"nextInner",value:function(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);var r=t<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;var i=this.cursor.next(e).value;return this.pos+=(i.length+e)*t,this.value=i.length<=r?i:t<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}},{key:"next",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}},{key:"lineBreak",get:function(){return this.cursor.lineBreak&&this.value!=""}}]),n}(),dF=function(){function n(e){re(this,n),this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}return ie(n,[{key:"next",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=this.inner.next(e),r=t.done,i=t.lineBreak,o=t.value;return r?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=o,this.afterBreak=!1),this}},{key:"lineBreak",get:function(){return!1}}]),n}();typeof Symbol!="undefined"&&(Vn.prototype[Symbol.iterator]=function(){return this.iter()},Ld.prototype[Symbol.iterator]=fF.prototype[Symbol.iterator]=dF.prototype[Symbol.iterator]=function(){return this});for(var VVe=function(){function n(e,t,r,i){re(this,n),this.from=e,this.to=t,this.number=r,this.text=i}return ie(n,[{key:"length",get:function(){return this.to-this.from}}]),n}(),$c="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(function(n){return n?parseInt(n,36):1}),Ap=1;Ap<$c.length;Ap++)$c[Ap]+=$c[Ap-1];function WVe(n){for(var e=1;e<$c.length;e+=2)if($c[e]>n)return $c[e-1]<=n;return!1}function f5(n){return n>=127462&&n<=127487}function Oi(n,e){var t=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return(t?hF:UVe)(n,e,r)}function hF(n,e,t){if(e==n.length)return e;e&&pF(n.charCodeAt(e))&&vF(n.charCodeAt(e-1))&&e--;var r=oi(n,e);for(e+=Yi(r);e<n.length;){var i=oi(n,e);if(r==8205||i==8205||t&&WVe(i))e+=Yi(i),r=i;else{if(!f5(i))break;for(var o=0,a=e-2;a>=0&&f5(oi(n,a));)o++,a-=2;if(o%2==0)break;e+=2}}return e}function UVe(n,e,t){for(;e>0;){var r=hF(n,e-2,t);if(r<e)return r;e--}return 0}function pF(n){return n>=56320&&n<57344}function vF(n){return n>=55296&&n<56320}function oi(n,e){var t=n.charCodeAt(e);if(!vF(t)||e+1==n.length)return t;var r=n.charCodeAt(e+1);return pF(r)?r-56320+(t-55296<<10)+65536:t}function q2(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode(55296+(n>>10),56320+(1023&n)))}function Yi(n){return n<65536?1:2}var Gb=/\r\n?|\n/,Ti=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(Ti||(Ti={})),Ac=function(){function n(e){re(this,n),this.sections=e}return ie(n,[{key:"length",get:function(){for(var e=0,t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}},{key:"newLength",get:function(){for(var e=0,t=0;t<this.sections.length;t+=2){var r=this.sections[t+1];e+=r<0?this.sections[t]:r}return e}},{key:"empty",get:function(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}},{key:"iterGaps",value:function(e){for(var t=0,r=0,i=0;t<this.sections.length;){var o=this.sections[t++],a=this.sections[t++];a<0?(e(r,i,o),i+=o):i+=a,r+=o}}},{key:"iterChangedRanges",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];Kb(this,e,t)}},{key:"invertedDesc",get:function(){for(var e=[],t=0;t<this.sections.length;){var r=this.sections[t++],i=this.sections[t++];i<0?e.push(r,i):e.push(i,r)}return new n(e)}},{key:"composeDesc",value:function(e){return this.empty?e:e.empty?this:mF(this,e)}},{key:"mapDesc",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return e.empty?this:Qb(this,e,t)}},{key:"mapPos",value:function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ti.Simple,i=0,o=0,a=0;a<this.sections.length;){var s=this.sections[a++],l=this.sections[a++],u=i+s;if(l<0){if(u>e)return o+(e-i);o+=s}else{if(r!=Ti.Simple&&u>=e&&(r==Ti.TrackDel&&i<e&&u>e||r==Ti.TrackBefore&&i<e||r==Ti.TrackAfter&&u>e))return null;if(u>e||u==e&&t<0&&!s)return e==i||t<0?o:o+l;o+=l}i=u}if(e>i)throw new RangeError("Position ".concat(e," is out of range for changeset of length ").concat(i));return o}},{key:"touchesRange",value:function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=0,i=0;r<this.sections.length&&i<=t;){var o=this.sections[r++],a=this.sections[r++],s=i+o;if(a>=0&&i<=t&&s>=e)return!(i<e&&s>t)||"cover";i=s}return!1}},{key:"toString",value:function(){for(var e="",t=0;t<this.sections.length;){var r=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}},{key:"toJSON",value:function(){return this.sections}}],[{key:"fromJSON",value:function(e){if(!Array.isArray(e)||e.length%2||e.some(function(t){return typeof t!="number"}))throw new RangeError("Invalid JSON representation of ChangeDesc");return new n(e)}},{key:"create",value:function(e){return new n(e)}}]),n}(),ua=function(n){De(t,Ac);var e=Re(t);function t(r,i){var o;return re(this,t),(o=e.call(this,r)).inserted=i,o}return ie(t,[{key:"apply",value:function(r){if(this.length!=r.length)throw new RangeError("Applying change set to a document with the wrong length");return Kb(this,function(i,o,a,s,l){return r=r.replace(a,a+(o-i),l)},!1),r}},{key:"mapDesc",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return Qb(this,r,i,!0)}},{key:"invert",value:function(r){for(var i=this.sections.slice(),o=[],a=0,s=0;a<i.length;a+=2){var l=i[a],u=i[a+1];if(u>=0){i[a]=u,i[a+1]=l;for(var c=a>>1;o.length<c;)o.push(Vn.empty);o.push(l?r.slice(s,s+l):Vn.empty)}s+=l}return new t(i,o)}},{key:"compose",value:function(r){return this.empty?r:r.empty?this:mF(this,r,!0)}},{key:"map",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return r.empty?this:Qb(this,r,i,!0)}},{key:"iterChanges",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];Kb(this,r,i)}},{key:"desc",get:function(){return Ac.create(this.sections)}},{key:"filter",value:function(r){var i=[],o=[],a=[],s=new oh(this);e:for(var l=0,u=0;;){for(var c=l==r.length?1e9:r[l++];u<c||u==c&&s.len==0;){if(s.done)break e;var f=Math.min(s.len,c-u);gi(a,f,-1);var d=s.ins==-1?-1:s.off==0?s.ins:0;gi(i,f,d),d>0&&Ks(o,i,s.text),s.forward(f),u+=f}for(var h=r[l++];u<h;){if(s.done)break e;var v=Math.min(s.len,h-u);gi(i,v,-1),gi(a,v,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(v),u+=v}}return{changes:new t(i,o),filtered:Ac.create(a)}}},{key:"toJSON",value:function(){for(var r=[],i=0;i<this.sections.length;i+=2){var o=this.sections[i],a=this.sections[i+1];a<0?r.push(o):a==0?r.push([o]):r.push([o].concat(this.inserted[i>>1].toJSON()))}return r}}],[{key:"of",value:function(r,i,o){var a=[],s=[],l=0,u=null;function c(){var f=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(f||a.length){l<i&&gi(a,i-l,-1);var d=new t(a,s);u=u?u.compose(d.map(u)):d,a=[],s=[],l=0}}return function f(d){if(Array.isArray(d)){var h,v=fe(d);try{for(v.s();!(h=v.n()).done;)f(h.value)}catch(k){v.e(k)}finally{v.f()}}else if(d instanceof t){if(d.length!=i)throw new RangeError("Mismatched change set length (got ".concat(d.length,", expected ").concat(i,")"));c(),u=u?u.compose(d.map(u)):d}else{var p=d.from,m=d.to,g=m===void 0?p:m,y=d.insert;if(p>g||p<0||g>i)throw new RangeError("Invalid change range ".concat(p," to ").concat(g," (in doc of length ").concat(i,")"));var b=y?typeof y=="string"?Vn.of(y.split(o||Gb)):y:Vn.empty,w=b.length;if(p==g&&w==0)return;p<l&&c(),p>l&&gi(a,p-l,-1),gi(a,g-p,w),Ks(s,a,b),l=g}}(r),c(!u),u}},{key:"empty",value:function(r){return new t(r?[r,-1]:[],[])}},{key:"fromJSON",value:function(r){if(!Array.isArray(r))throw new RangeError("Invalid JSON representation of ChangeSet");for(var i=[],o=[],a=0;a<r.length;a++){var s=r[a];if(typeof s=="number")i.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some(function(l,u){return u&&typeof l!="string"}))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)i.push(s[0],0);else{for(;o.length<a;)o.push(Vn.empty);o[a]=Vn.of(s.slice(1)),i.push(s[0],o[a].length)}}}return new t(i,o)}},{key:"createSet",value:function(r,i){return new t(r,i)}}]),t}();function gi(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(!(e==0&&t<=0)){var i=n.length-2;i>=0&&t<=0&&t==n[i+1]?n[i]+=e:e==0&&n[i]==0?n[i+1]+=t:r?(n[i]+=e,n[i+1]+=t):n.push(e,t)}}function Ks(n,e,t){if(t.length!=0){var r=e.length-2>>1;if(r<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<r;)n.push(Vn.empty);n.push(t)}}}function Kb(n,e,t){for(var r=n.inserted,i=0,o=0,a=0;a<n.sections.length;){var s=n.sections[a++],l=n.sections[a++];if(l<0)i+=s,o+=s;else{for(var u=i,c=o,f=Vn.empty;u+=s,c+=l,l&&r&&(f=f.append(r[a-2>>1])),!(t||a==n.sections.length||n.sections[a+1]<0);)s=n.sections[a++],l=n.sections[a++];e(i,u,o,c,f),i=u,o=c}}}function Qb(n,e,t){for(var r=arguments.length>3&&arguments[3]!==void 0&&arguments[3],i=[],o=r?[]:null,a=new oh(n),s=new oh(e),l=-1;;)if(a.ins==-1&&s.ins==-1){var u=Math.min(a.len,s.len);gi(i,u,-1),a.forward(u),s.forward(u)}else if(s.ins>=0&&(a.ins<0||l==a.i||a.off==0&&(s.len<a.len||s.len==a.len&&!t))){var c=s.len;for(gi(i,s.ins,-1);c;){var f=Math.min(a.len,c);a.ins>=0&&l<a.i&&a.len<=f&&(gi(i,0,a.ins),o&&Ks(o,i,a.text),l=a.i),a.forward(f),c-=f}s.next()}else{if(!(a.ins>=0)){if(a.done&&s.done)return o?ua.createSet(i,o):Ac.create(i);throw new Error("Mismatched change set lengths")}for(var d=0,h=a.len;h;)if(s.ins==-1){var v=Math.min(h,s.len);d+=v,h-=v,s.forward(v)}else{if(!(s.ins==0&&s.len<h))break;h-=s.len,s.next()}gi(i,d,l<a.i?a.ins:0),o&&l<a.i&&Ks(o,i,a.text),l=a.i,a.forward(a.len-h)}}function mF(n,e){for(var t=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=[],i=t?[]:null,o=new oh(n),a=new oh(e),s=!1;;){if(o.done&&a.done)return i?ua.createSet(r,i):Ac.create(r);if(o.ins==0)gi(r,o.len,0,s),o.next();else if(a.len!=0||a.done){if(o.done||a.done)throw new Error("Mismatched change set lengths");var l=Math.min(o.len2,a.len),u=r.length;if(o.ins==-1){var c=a.ins==-1?-1:a.off?0:a.ins;gi(r,l,c,s),i&&c&&Ks(i,r,a.text)}else a.ins==-1?(gi(r,o.off?0:o.len,l,s),i&&Ks(i,r,o.textBit(l))):(gi(r,o.off?0:o.len,a.off?0:a.ins,s),i&&!a.off&&Ks(i,r,a.text));s=(o.ins>l||a.ins>=0&&a.len>l)&&(s||r.length>u),o.forward2(l),a.forward(l)}else gi(r,0,a.ins,s),i&&Ks(i,r,a.text),a.next()}}var oh=function(){function n(e){re(this,n),this.set=e,this.i=0,this.next()}return ie(n,[{key:"next",value:function(){var e=this.set.sections;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}},{key:"done",get:function(){return this.ins==-2}},{key:"len2",get:function(){return this.ins<0?this.len:this.ins}},{key:"text",get:function(){var e=this.set.inserted,t=this.i-2>>1;return t>=e.length?Vn.empty:e[t]}},{key:"textBit",value:function(e){var t=this.set.inserted,r=this.i-2>>1;return r>=t.length&&!e?Vn.empty:t[r].slice(this.off,e==null?void 0:this.off+e)}},{key:"forward",value:function(e){e==this.len?this.next():(this.len-=e,this.off+=e)}},{key:"forward2",value:function(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}]),n}(),_p=function(){function n(e,t,r){re(this,n),this.from=e,this.to=t,this.flags=r}return ie(n,[{key:"anchor",get:function(){return 16&this.flags?this.to:this.from}},{key:"head",get:function(){return 16&this.flags?this.from:this.to}},{key:"empty",get:function(){return this.from==this.to}},{key:"assoc",get:function(){return 4&this.flags?-1:8&this.flags?1:0}},{key:"bidiLevel",get:function(){var e=3&this.flags;return e==3?null:e}},{key:"goalColumn",get:function(){var e=this.flags>>5;return e==33554431?void 0:e}},{key:"map",value:function(e){var t,r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;return this.empty?t=r=e.mapPos(this.from,i):(t=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),t==this.from&&r==this.to?this:new n(t,r,this.flags)}},{key:"extend",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;if(e<=this.anchor&&t>=this.anchor)return Ye.range(e,t);var r=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return Ye.range(this.anchor,r)}},{key:"eq",value:function(e){return this.anchor==e.anchor&&this.head==e.head}},{key:"toJSON",value:function(){return{anchor:this.anchor,head:this.head}}}],[{key:"fromJSON",value:function(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Ye.range(e.anchor,e.head)}},{key:"create",value:function(e,t,r){return new n(e,t,r)}}]),n}(),Ye=function(){function n(e,t){re(this,n),this.ranges=e,this.mainIndex=t}return ie(n,[{key:"map",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;return e.empty?this:n.create(this.ranges.map(function(r){return r.map(e,t)}),this.mainIndex)}},{key:"eq",value:function(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}},{key:"main",get:function(){return this.ranges[this.mainIndex]}},{key:"asSingle",value:function(){return this.ranges.length==1?this:new n([this.main],0)}},{key:"addRange",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return n.create([e].concat(this.ranges),t?0:this.mainIndex+1)}},{key:"replaceRange",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.mainIndex,r=this.ranges.slice();return r[t]=e,n.create(r,this.mainIndex)}},{key:"toJSON",value:function(){return{ranges:this.ranges.map(function(e){return e.toJSON()}),main:this.mainIndex}}}],[{key:"fromJSON",value:function(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new n(e.ranges.map(function(t){return _p.fromJSON(t)}),e.main)}},{key:"single",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;return new n([n.range(e,t)],0)}},{key:"create",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(e.length==0)throw new RangeError("A selection needs at least one range");for(var r=0,i=0;i<e.length;i++){var o=e[i];if(o.empty?o.from<=r:o.from<r)return n.normalized(e.slice(),t);r=o.to}return new n(e,t)}},{key:"cursor",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;return _p.create(e,e,(t==0?0:t<0?4:8)|(r==null?3:Math.min(2,r))|(i!=null?i:33554431)<<5)}},{key:"range",value:function(e,t,r){var i=(r!=null?r:33554431)<<5;return t<e?_p.create(t,e,24|i):_p.create(e,t,i|(t>e?4:0))}},{key:"normalized",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=e[t];e.sort(function(u,c){return u.from-c.from}),t=e.indexOf(r);for(var i=1;i<e.length;i++){var o=e[i],a=e[i-1];if(o.empty?o.from<=a.to:o.from<a.to){var s=a.from,l=Math.max(o.to,a.to);i<=t&&t--,e.splice(--i,2,o.anchor>o.head?n.range(l,s):n.range(s,l))}}return new n(e,t)}}]),n}();function gF(n,e){var t,r=fe(n.ranges);try{for(r.s();!(t=r.n()).done;)if(t.value.to>e)throw new RangeError("Selection points outside of document")}catch(i){r.e(i)}finally{r.f()}}var F2=0,Pt=function(){function n(e,t,r,i,o){re(this,n),this.combine=e,this.compareInput=t,this.compare=r,this.isStatic=i,this.id=F2++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}return ie(n,[{key:"of",value:function(e){return new jv([],this,0,e)}},{key:"compute",value:function(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new jv(e,this,1,t)}},{key:"computeN",value:function(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new jv(e,this,2,t)}},{key:"from",value:function(e,t){return t||(t=function(r){return r}),this.compute([e],function(r){return t(r.field(e))})}}],[{key:"define",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new n(e.combine||function(t){return t},e.compareInput||function(t,r){return t===r},e.compare||(e.combine?function(t,r){return t===r}:Yb),!!e.static,e.enables)}}]),n}();function Yb(n,e){return n==e||n.length==e.length&&n.every(function(t,r){return t===e[r]})}var jv=function(){function n(e,t,r,i){re(this,n),this.dependencies=e,this.facet=t,this.type=r,this.value=i,this.id=F2++}return ie(n,[{key:"dynamicSlot",value:function(e){var t,r,i=this,o=this.value,a=this.facet.compareInput,s=this.id,l=e[s]>>1,u=this.type==2,c=!1,f=!1,d=[],h=fe(this.dependencies);try{for(h.s();!(r=h.n()).done;){var v=r.value;v=="doc"?c=!0:v=="selection"?f=!0:(1&((t=e[v.id])!==null&&t!==void 0?t:1))==0&&d.push(e[v.id])}}catch(p){h.e(p)}finally{h.f()}return{create:function(p){return p.values[l]=o(p),1},update:function(p,m){if(c&&m.docChanged||f&&(m.docChanged||m.selection)||Zb(p,d)){var g=o(p);if(u?!d5(g,p.values[l],a):!a(g,p.values[l]))return p.values[l]=g,1}return 0},reconfigure:function(p,m){var g,y=m.config.address[s];if(y!=null){var b=Nm(m,y);if(i.dependencies.every(function(w){return w instanceof Pt?m.facet(w)===p.facet(w):!(w instanceof fi)||m.field(w,!1)==p.field(w,!1)})||(u?d5(g=o(p),b,a):a(g=o(p),b)))return p.values[l]=b,0}else g=o(p);return p.values[l]=g,1}}}}]),n}();function d5(n,e,t){if(n.length!=e.length)return!1;for(var r=0;r<n.length;r++)if(!t(n[r],e[r]))return!1;return!0}function Zb(n,e){var t,r=!1,i=fe(e);try{for(i.s();!(t=i.n()).done;)1&Dd(n,t.value)&&(r=!0)}catch(o){i.e(o)}finally{i.f()}return r}var h5=Pt.define({static:!0}),fi=function(){function n(e,t,r,i,o){re(this,n),this.id=e,this.createF=t,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}return ie(n,[{key:"create",value:function(e){var t=this,r=e.facet(h5).find(function(i){return i.field==t});return((r==null?void 0:r.create)||this.createF)(e)}},{key:"slot",value:function(e){var t=this,r=e[this.id]>>1;return{create:function(i){return i.values[r]=t.create(i),1},update:function(i,o){var a=i.values[r],s=t.updateF(a,o);return t.compareF(a,s)?0:(i.values[r]=s,1)},reconfigure:function(i,o){return o.config.address[t.id]!=null?(i.values[r]=o.field(t),0):(i.values[r]=t.create(i),1)}}}},{key:"init",value:function(e){return[this,h5.of({field:this,create:e})]}},{key:"extension",get:function(){return this}}],[{key:"define",value:function(e){var t=new n(F2++,e.create,e.update,e.compare||function(r,i){return r===i},e);return e.provide&&(t.provides=e.provide(t)),t}}]),n}(),JVe=4,GVe=3,Xb=2,KVe=1;function Zf(n){return function(e){return new yF(e,n)}}var Pf={highest:Zf(0),high:Zf(KVe),default:Zf(Xb),low:Zf(GVe),lowest:Zf(JVe)},yF=ie(function n(e,t){re(this,n),this.inner=e,this.prec=t}),Ul=function(){function n(){re(this,n)}return ie(n,[{key:"of",value:function(e){return new ew(this,e)}},{key:"reconfigure",value:function(e){return n.reconfigure.of({compartment:this,extension:e})}},{key:"get",value:function(e){return e.config.compartments.get(this)}}]),n}(),ew=ie(function n(e,t){re(this,n),this.compartment=e,this.inner=t}),p5=function(){function n(e,t,r,i,o,a){for(re(this,n),this.base=e,this.compartments=t,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}return ie(n,[{key:"staticFacet",value:function(e){var t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}}],[{key:"resolve",value:function(e,t,r){var i,o=[],a=Object.create(null),s=new Map,l=fe(function(b,w,k){var x=[[],[],[],[],[]],C=new Map;function T(M,B){var _=C.get(M);if(_!=null){if(_<=B)return;var N=x[_].indexOf(M);N>-1&&x[_].splice(N,1),M instanceof ew&&k.delete(M.compartment)}if(C.set(M,B),Array.isArray(M)){var $,j=fe(M);try{for(j.s();!($=j.n()).done;)T($.value,B)}catch(R){j.e(R)}finally{j.f()}}else if(M instanceof ew){if(k.has(M.compartment))throw new RangeError("Duplicate use of compartment in extensions");var D=w.get(M.compartment)||M.inner;k.set(M.compartment,D),T(D,B)}else if(M instanceof yF)T(M.inner,M.prec);else if(M instanceof fi)x[B].push(M),M.provides&&T(M.provides,B);else if(M instanceof jv)x[B].push(M),M.facet.extensions&&T(M.facet.extensions,Xb);else{var q=M.extension;if(!q)throw new Error("Unrecognized extension value in extension set (".concat(M,"). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks."));T(q,B)}}return T(b,Xb),x.reduce(function(M,B){return M.concat(B)})}(e,t,s));try{for(l.s();!(i=l.n()).done;){var u=i.value;u instanceof fi?o.push(u):(a[u.facet.id]||(a[u.facet.id]=[])).push(u)}}catch(b){l.e(b)}finally{l.f()}for(var c=Object.create(null),f=[],d=[],h=function(){var b=p[v];c[b.id]=d.length<<1,d.push(function(w){return b.slot(w)})},v=0,p=o;v<p.length;v++)h();var m=r==null?void 0:r.config.facets,g=function(b){var w=a[b],k=w[0].facet,x=m&&m[b]||[];if(w.every(function(_){return _.type==0}))if(c[k.id]=f.length<<1|1,Yb(x,w))f.push(r.facet(k));else{var C=k.combine(w.map(function(_){return _.value}));f.push(r&&k.compare(C,r.facet(k))?r.facet(k):C)}else{var T,M=fe(w);try{var B=function(){var _=T.value;_.type==0?(c[_.id]=f.length<<1|1,f.push(_.value)):(c[_.id]=d.length<<1,d.push(function(N){return _.dynamicSlot(N)}))};for(M.s();!(T=M.n()).done;)B()}catch(_){M.e(_)}finally{M.f()}c[k.id]=d.length<<1,d.push(function(_){return function(N,$,j){var D=j.map(function(I){return N[I.id]}),q=j.map(function(I){return I.type}),R=D.filter(function(I){return!(1&I)}),G=N[$.id]>>1;function A(I){for(var z=[],F=0;F<D.length;F++){var L=Nm(I,D[F]);if(q[F]==2){var O,V=fe(L);try{for(V.s();!(O=V.n()).done;){var Z=O.value;z.push(Z)}}catch(te){V.e(te)}finally{V.f()}}else z.push(L)}return $.combine(z)}return{create:function(I){var z,F=fe(D);try{for(F.s();!(z=F.n()).done;)Dd(I,z.value)}catch(L){F.e(L)}finally{F.f()}return I.values[G]=A(I),1},update:function(I,z){if(!Zb(I,R))return 0;var F=A(I);return $.compare(F,I.values[G])?0:(I.values[G]=F,1)},reconfigure:function(I,z){var F=Zb(I,D),L=z.config.facets[$.id],O=z.facet($);if(L&&!F&&Yb(j,L))return I.values[G]=O,0;var V=A(I);return $.compare(V,O)?(I.values[G]=O,0):(I.values[G]=V,1)}}}(_,k,w)})}};for(var y in a)g(y);return new n(e,s,d.map(function(b){return b(c)}),c,f,a)}}]),n}();function Dd(n,e){if(1&e)return 2;var t=e>>1,r=n.status[t];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;n.status[t]=4;var i=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|i}function Nm(n,e){return 1&e?n.config.staticValues[e>>1]:n.values[e>>1]}var bF=Pt.define(),wF=Pt.define({combine:function(n){return n.some(function(e){return e})},static:!0}),kF=Pt.define({combine:function(n){return n.length?n[0]:void 0},static:!0}),xF=Pt.define(),jF=Pt.define(),CF=Pt.define(),SF=Pt.define({combine:function(n){return!!n.length&&n[0]}}),Zl=function(){function n(e,t){re(this,n),this.type=e,this.value=t}return ie(n,null,[{key:"define",value:function(){return new QVe}}]),n}(),QVe=function(){function n(){re(this,n)}return ie(n,[{key:"of",value:function(e){return new Zl(this,e)}}]),n}(),YVe=function(){function n(e){re(this,n),this.map=e}return ie(n,[{key:"of",value:function(e){return new dn(this,e)}}]),n}(),dn=function(){function n(e,t){re(this,n),this.type=e,this.value=t}return ie(n,[{key:"map",value:function(e){var t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new n(this.type,t)}},{key:"is",value:function(e){return this.type==e}}],[{key:"define",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new YVe(e.map||function(t){return t})}},{key:"mapEffects",value:function(e,t){if(!e.length)return e;var r,i=[],o=fe(e);try{for(o.s();!(r=o.n()).done;){var a=r.value.map(t);a&&i.push(a)}}catch(s){o.e(s)}finally{o.f()}return i}}]),n}();dn.reconfigure=dn.define(),dn.appendConfig=dn.define();var zi=function(){function n(e,t,r,i,o,a){re(this,n),this.startState=e,this.changes=t,this.selection=r,this.effects=i,this.annotations=o,this.scrollIntoView=a,this._doc=null,this._state=null,r&&gF(r,t.newLength),o.some(function(s){return s.type==n.time})||(this.annotations=o.concat(n.time.of(Date.now())))}return ie(n,[{key:"newDoc",get:function(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}},{key:"newSelection",get:function(){return this.selection||this.startState.selection.map(this.changes)}},{key:"state",get:function(){return this._state||this.startState.applyTransaction(this),this._state}},{key:"annotation",value:function(e){var t,r=fe(this.annotations);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i.type==e)return i.value}}catch(o){r.e(o)}finally{r.f()}}},{key:"docChanged",get:function(){return!this.changes.empty}},{key:"reconfigured",get:function(){return this.startState.config!=this.state.config}},{key:"isUserEvent",value:function(e){var t=this.annotation(n.userEvent);return!(!t||!(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}],[{key:"create",value:function(e,t,r,i,o,a){return new n(e,t,r,i,o,a)}}]),n}();function ZVe(n,e){for(var t=[],r=0,i=0;;){var o=void 0,a=void 0;if(r<n.length&&(i==e.length||e[i]>=n[r]))o=n[r++],a=n[r++];else{if(!(i<e.length))return t;o=e[i++],a=e[i++]}!t.length||t[t.length-1]<o?t.push(o,a):t[t.length-1]<a&&(t[t.length-1]=a)}}function v5(n,e,t){var r,i,o,a;return t?(i=e.changes,o=ua.empty(e.changes.length),a=n.changes.compose(e.changes)):(i=e.changes.map(n.changes),o=n.changes.mapDesc(e.changes,!0),a=n.changes.compose(i)),{changes:a,selection:e.selection?e.selection.map(o):(r=n.selection)===null||r===void 0?void 0:r.map(i),effects:dn.mapEffects(n.effects,i).concat(dn.mapEffects(e.effects,o)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function Hy(n,e,t){var r=e.selection,i=_c(e.annotations);return e.userEvent&&(i=i.concat(zi.userEvent.of(e.userEvent))),{changes:e.changes instanceof ua?e.changes:ua.of(e.changes||[],t,n.facet(kF)),selection:r&&(r instanceof Ye?r:Ye.single(r.anchor,r.head)),effects:_c(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function TF(n,e,t){var r=Hy(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(var i=1;i<e.length;i++){e[i].filter===!1&&(t=!1);var o=!!e[i].sequential;r=v5(r,Hy(n,e[i],o?r.changes.newLength:n.doc.length),o)}var a=zi.create(n,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(s){for(var l=s.startState,u=l.facet(CF),c=s,f=u.length-1;f>=0;f--){var d=u[f](s);d&&Object.keys(d).length&&(c=v5(c,Hy(l,d,s.changes.newLength),!0))}return c==s?s:zi.create(l,s.changes,s.selection,c.effects,c.annotations,c.scrollIntoView)}(t?function(s){var l,u=s.startState,c=!0,f=fe(u.facet(xF));try{for(f.s();!(l=f.n()).done;){var d=(0,l.value)(s);if(d===!1){c=!1;break}Array.isArray(d)&&(c=c===!0?d:ZVe(c,d))}}catch(b){f.e(b)}finally{f.f()}if(c!==!0){var h,v;if(c===!1)v=s.changes.invertedDesc,h=ua.empty(u.doc.length);else{var p=s.changes.filter(c);h=p.changes,v=p.filtered.mapDesc(p.changes).invertedDesc}s=zi.create(u,h,s.selection&&s.selection.map(v),dn.mapEffects(s.effects,v),s.annotations,s.scrollIntoView)}for(var m=u.facet(jF),g=m.length-1;g>=0;g--){var y=m[g](s);s=y instanceof zi?y:Array.isArray(y)&&y.length==1&&y[0]instanceof zi?y[0]:TF(u,_c(y),!1)}return s}(a):a)}zi.time=Zl.define(),zi.userEvent=Zl.define(),zi.addToHistory=Zl.define(),zi.remote=Zl.define();var XVe=[];function _c(n){return n==null?XVe:Array.isArray(n)?n:[n]}var tw,hr=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(hr||(hr={})),eWe=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;try{tw=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function tWe(n){return function(e){if(!/\S/.test(e))return hr.Space;if(function(r){if(tw)return tw.test(r);for(var i=0;i<r.length;i++){var o=r[i];if(/\w/.test(o)||o>"\x80"&&(o.toUpperCase()!=o.toLowerCase()||eWe.test(o)))return!0}return!1}(e))return hr.Word;for(var t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return hr.Word;return hr.Other}}var Yn=function(){function n(e,t,r,i,o,a){re(this,n),this.config=e,this.doc=t,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=o,a&&(a._state=this);for(var s=0;s<this.config.dynamicSlots.length;s++)Dd(this,s<<1);this.computeSlot=null}return ie(n,[{key:"field",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.config.address[e.id];if(r!=null)return Dd(this,r),Nm(this,r);if(t)throw new RangeError("Field is not present in this state")}},{key:"update",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return TF(this,t,!0)}},{key:"applyTransaction",value:function(e){var t,r,i=this,o=this.config,a=o,s=a.base,l=a.compartments,u=fe(e.effects);try{for(u.s();!(t=u.n()).done;){var c=t.value;c.is(Ul.reconfigure)?(o&&(l=new Map,o.compartments.forEach(function(f,d){return l.set(d,f)}),o=null),l.set(c.value.compartment,c.value.extension)):c.is(dn.reconfigure)?(o=null,s=c.value):c.is(dn.appendConfig)&&(o=null,s=_c(s).concat(c.value))}}catch(f){u.e(f)}finally{u.f()}o?r=e.startState.values.slice():r=new n(o=p5.resolve(s,l,this),this.doc,this.selection,o.dynamicSlots.map(function(){return null}),function(f,d){return d.reconfigure(f,i)},null).values,new n(o,e.newDoc,e.newSelection,r,function(f,d){return d.update(f,e)},e)}},{key:"replaceSelection",value:function(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(function(t){return{changes:{from:t.from,to:t.to,insert:e},range:Ye.cursor(t.from+e.length)}})}},{key:"changeByRange",value:function(e){for(var t=this.selection,r=e(t.ranges[0]),i=this.changes(r.changes),o=[r.range],a=_c(r.effects),s=1;s<t.ranges.length;s++){for(var l=e(t.ranges[s]),u=this.changes(l.changes),c=u.map(i),f=0;f<s;f++)o[f]=o[f].map(c);var d=i.mapDesc(u,!0);o.push(l.range.map(d)),i=i.compose(c),a=dn.mapEffects(a,c).concat(dn.mapEffects(_c(l.effects),d))}return{changes:i,selection:Ye.create(o,t.mainIndex),effects:a}}},{key:"changes",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e instanceof ua?e:ua.of(e,this.doc.length,this.facet(n.lineSeparator))}},{key:"toText",value:function(e){return Vn.of(e.split(this.facet(n.lineSeparator)||Gb))}},{key:"sliceDoc",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.doc.length;return this.doc.sliceString(e,t,this.lineBreak)}},{key:"facet",value:function(e){var t=this.config.address[e.id];return t==null?e.default:(Dd(this,t),Nm(this,t))}},{key:"toJSON",value:function(e){var t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(var r in e){var i=e[r];i instanceof fi&&this.config.address[i.id]!=null&&(t[r]=i.spec.toJSON(this.field(e[r]),this))}return t}},{key:"tabSize",get:function(){return this.facet(n.tabSize)}},{key:"lineBreak",get:function(){return this.facet(n.lineSeparator)||`
`}},{key:"readOnly",get:function(){return this.facet(SF)}},{key:"phrase",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o,a=fe(this.facet(n.phrases));try{for(a.s();!(o=a.n()).done;){var s=o.value;if(Object.prototype.hasOwnProperty.call(s,e)){e=s[e];break}}}catch(l){a.e(l)}finally{a.f()}return r.length&&(e=e.replace(/\$(\$|\d*)/g,function(l,u){if(u=="$")return"$";var c=+(u||1);return!c||c>r.length?l:r[c-1]})),e}},{key:"languageDataAt",value:function(e,t){var r,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,o=[],a=fe(this.facet(bF));try{for(a.s();!(r=a.n()).done;){var s,l=r.value,u=fe(l(this,t,i));try{for(u.s();!(s=u.n()).done;){var c=s.value;Object.prototype.hasOwnProperty.call(c,e)&&o.push(c[e])}}catch(f){u.e(f)}finally{u.f()}}}catch(f){a.e(f)}finally{a.f()}return o}},{key:"charCategorizer",value:function(e){return tWe(this.languageDataAt("wordChars",e).join(""))}},{key:"wordAt",value:function(e){for(var t=this.doc.lineAt(e),r=t.text,i=t.from,o=t.length,a=this.charCategorizer(e),s=e-i,l=e-i;s>0;){var u=Oi(r,s,!1);if(a(r.slice(u,s))!=hr.Word)break;s=u}for(;l<o;){var c=Oi(r,l);if(a(r.slice(l,c))!=hr.Word)break;l=c}return s==l?null:Ye.range(s+i,l+i)}}],[{key:"fromJSON",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");var i=[];if(r)for(var o in r)Object.prototype.hasOwnProperty.call(e,o)&&function(){var a=r[o],s=e[o];i.push(a.init(function(l){return a.spec.fromJSON(s,l)}))}();return n.create({doc:e.doc,selection:Ye.fromJSON(e.selection),extensions:t.extensions?i.concat([t.extensions]):i})}},{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=p5.resolve(e.extensions||[],new Map),r=e.doc instanceof Vn?e.doc:Vn.of((e.doc||"").split(t.staticFacet(n.lineSeparator)||Gb)),i=e.selection?e.selection instanceof Ye?e.selection:Ye.single(e.selection.anchor,e.selection.head):Ye.single(0);return gF(i,r.length),t.staticFacet(wF)||(i=i.asSingle()),new n(t,r,i,t.dynamicSlots.map(function(){return null}),function(o,a){return a.create(o)},null)}}]),n}();function ca(n,e){var t,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i={},o=fe(n);try{for(o.s();!(t=o.n()).done;)for(var a=t.value,s=0,l=Object.keys(a);s<l.length;s++){var u=l[s],c=a[u],f=i[u];if(f===void 0)i[u]=c;else if(!(f===c||c===void 0)){if(!Object.hasOwnProperty.call(r,u))throw new Error("Config merge conflict for field "+u);i[u]=r[u](f,c)}}}catch(h){o.e(h)}finally{o.f()}for(var d in e)i[d]===void 0&&(i[d]=e[d]);return i}Yn.allowMultipleSelections=wF,Yn.tabSize=Pt.define({combine:function(n){return n.length?n[0]:4}}),Yn.lineSeparator=kF,Yn.readOnly=SF,Yn.phrases=Pt.define({compare:function(n,e){var t=Object.keys(n),r=Object.keys(e);return t.length==r.length&&t.every(function(i){return n[i]==e[i]})}}),Yn.languageData=bF,Yn.changeFilter=xF,Yn.transactionFilter=jF,Yn.transactionExtender=CF,Ul.reconfigure=dn.define();var Xl=function(){function n(){re(this,n)}return ie(n,[{key:"eq",value:function(e){return this==e}},{key:"range",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;return Im.create(e,t,this)}}]),n}();Xl.prototype.startSide=Xl.prototype.endSide=0,Xl.prototype.point=!1,Xl.prototype.mapMode=Ti.TrackDel;var Im=function(){function n(e,t,r){re(this,n),this.from=e,this.to=t,this.value=r}return ie(n,null,[{key:"create",value:function(e,t,r){return new Im(e,t,r)}}]),n}();function nw(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}var nWe=function(){function n(e,t,r,i){re(this,n),this.from=e,this.to=t,this.value=r,this.maxPoint=i}return ie(n,[{key:"length",get:function(){return this.to[this.to.length-1]}},{key:"findIndex",value:function(e,t,r){for(var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=r?this.to:this.from,a=i,s=o.length;;){if(a==s)return a;var l=a+s>>1,u=o[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-t;if(l==a)return u>=0?a:s;u>=0?s=l:a=l+1}}},{key:"between",value:function(e,t,r,i){for(var o=this.findIndex(t,-1e9,!0),a=this.findIndex(r,1e9,!1,o);o<a;o++)if(i(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}},{key:"map",value:function(e,t){for(var r=[],i=[],o=[],a=-1,s=-1,l=0;l<this.value.length;l++){var u=this.value[l],c=this.from[l]+e,f=this.to[l]+e,d=void 0,h=void 0;if(c==f){var v=t.mapPos(c,u.startSide,u.mapMode);if(v==null||(d=h=v,u.startSide!=u.endSide&&(h=t.mapPos(c,u.endSide))<d))continue}else if((d=t.mapPos(c,u.startSide))>(h=t.mapPos(f,u.endSide))||d==h&&u.startSide>0&&u.endSide<=0)continue;(h-d||u.endSide-u.startSide)<0||(a<0&&(a=d),u.point&&(s=Math.max(s,h-d)),r.push(u),i.push(d-a),o.push(h-a))}return{mapped:r.length?new n(i,o,r,s):null,pos:a}}}]),n}(),or=function(){function n(e,t,r,i){re(this,n),this.chunkPos=e,this.chunk=t,this.nextLayer=r,this.maxPoint=i}return ie(n,[{key:"length",get:function(){var e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}},{key:"size",get:function(){if(this.isEmpty)return 0;var e,t=this.nextLayer.size,r=fe(this.chunk);try{for(r.s();!(e=r.n()).done;)t+=e.value.value.length}catch(i){r.e(i)}finally{r.f()}return t}},{key:"chunkEnd",value:function(e){return this.chunkPos[e]+this.chunk[e].length}},{key:"update",value:function(e){var t=e.add,r=t===void 0?[]:t,i=e.sort,o=i!==void 0&&i,a=e.filterFrom,s=a===void 0?0:a,l=e.filterTo,u=l===void 0?this.length:l,c=e.filter;if(r.length==0&&!c)return this;if(o&&(r=r.slice().sort(nw)),this.isEmpty)return r.length?n.of(r):this;for(var f=new OF(this,null,-1).goto(0),d=0,h=[],v=new lf;f.value||d<r.length;)if(d<r.length&&(f.from-r[d].from||f.startSide-r[d].value.startSide)>=0){var p=r[d++];v.addInner(p.from,p.to,p.value)||h.push(p)}else f.rangeIndex==1&&f.chunkIndex<this.chunk.length&&(d==r.length||this.chunkEnd(f.chunkIndex)<r[d].from)&&(!c||s>this.chunkEnd(f.chunkIndex)||u<this.chunkPos[f.chunkIndex])&&v.addChunk(this.chunkPos[f.chunkIndex],this.chunk[f.chunkIndex])?f.nextChunk():((!c||s>f.to||u<f.from||c(f.from,f.to,f.value))&&(v.addInner(f.from,f.to,f.value)||h.push(Im.create(f.from,f.to,f.value))),f.next());return v.finishInner(this.nextLayer.isEmpty&&!h.length?n.empty:this.nextLayer.update({add:h,filter:c,filterFrom:s,filterTo:u}))}},{key:"map",value:function(e){if(e.empty||this.isEmpty)return this;for(var t=[],r=[],i=-1,o=0;o<this.chunk.length;o++){var a=this.chunkPos[o],s=this.chunk[o],l=e.touchesRange(a,a+s.length);if(l===!1)i=Math.max(i,s.maxPoint),t.push(s),r.push(e.mapPos(a));else if(l===!0){var u=s.map(a,e),c=u.mapped,f=u.pos;c&&(i=Math.max(i,c.maxPoint),t.push(c),r.push(f))}}var d=this.nextLayer.map(e);return t.length==0?d:new n(r,t,d||n.empty,i)}},{key:"between",value:function(e,t,r){if(!this.isEmpty){for(var i=0;i<this.chunk.length;i++){var o=this.chunkPos[i],a=this.chunk[i];if(t>=o&&e<=o+a.length&&a.between(o,e-o,t-o,r)===!1)return}this.nextLayer.between(e,t,r)}}},{key:"iter",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return rw.from([this]).goto(e)}},{key:"isEmpty",get:function(){return this.nextLayer==this}}],[{key:"create",value:function(e,t,r,i){return new n(e,t,r,i)}},{key:"iter",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return rw.from(e).goto(t)}},{key:"compare",value:function(e,t,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1,a=e.filter(function(f){return f.maxPoint>0||!f.isEmpty&&f.maxPoint>=o}),s=t.filter(function(f){return f.maxPoint>0||!f.isEmpty&&f.maxPoint>=o}),l=m5(a,s,r),u=new Xf(a,l,o),c=new Xf(s,l,o);r.iterGaps(function(f,d,h){return g5(u,f,c,d,h,i)}),r.empty&&r.length==0&&g5(u,0,c,0,0,i)}},{key:"eq",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0;i==null&&(i=999999999);var o=e.filter(function(c){return!c.isEmpty&&t.indexOf(c)<0}),a=t.filter(function(c){return!c.isEmpty&&e.indexOf(c)<0});if(o.length!=a.length)return!1;if(!o.length)return!0;for(var s=m5(o,a),l=new Xf(o,s,0).goto(r),u=new Xf(a,s,0).goto(r);;){if(l.to!=u.to||!iw(l.active,u.active)||l.point&&(!u.point||!l.point.eq(u.point)))return!1;if(l.to>i)return!0;l.next(),u.next()}}},{key:"spans",value:function(e,t,r,i){for(var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1,a=new Xf(e,null,o).goto(t),s=t,l=a.openStart;;){var u=Math.min(a.to,r);if(a.point){var c=a.activeForPoint(a.to),f=a.pointFrom<t?c.length+1:Math.min(c.length,l);i.point(s,u,a.point,c,f,a.pointRank),l=Math.min(a.openEnd(u),c.length)}else u>s&&(i.span(s,u,a.active,l),l=a.openEnd(u));if(a.to>r)return l+(a.point&&a.to>r?1:0);s=a.to,a.next()}}},{key:"of",value:function(e){var t,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=new lf,o=fe(e instanceof Im?[e]:r?rWe(e):e);try{for(o.s();!(t=o.n()).done;){var a=t.value;i.add(a.from,a.to,a.value)}}catch(s){o.e(s)}finally{o.f()}return i.finish()}}]),n}();function rWe(n){if(n.length>1)for(var e=n[0],t=1;t<n.length;t++){var r=n[t];if(nw(e,r)>0)return n.slice().sort(nw);e=r}return n}or.empty=new or([],[],null,-1),or.empty.nextLayer=or.empty;var lf=function(){function n(){re(this,n),this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}return ie(n,[{key:"finishChunk",value:function(e){this.chunks.push(new nWe(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}},{key:"add",value:function(e,t,r){this.addInner(e,t,r)||(this.nextLayer||(this.nextLayer=new n)).add(e,t,r)}},{key:"addInner",value:function(e,t,r){var i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(i<0)&&(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=t,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}},{key:"addChunk",value:function(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);var r=t.value.length-1;return this.last=t.value[r],this.lastFrom=t.from[r]+e,this.lastTo=t.to[r]+e,!0}},{key:"finish",value:function(){return this.finishInner(or.empty)}},{key:"finishInner",value:function(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;var t=or.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}]),n}();function m5(n,e,t){var r,i=new Map,o=fe(n);try{for(o.s();!(r=o.n()).done;)for(var a=r.value,s=0;s<a.chunk.length;s++)a.chunk[s].maxPoint<=0&&i.set(a.chunk[s],a.chunkPos[s])}catch(v){o.e(v)}finally{o.f()}var l,u=new Set,c=fe(e);try{for(c.s();!(l=c.n()).done;)for(var f=l.value,d=0;d<f.chunk.length;d++){var h=i.get(f.chunk[d]);h==null||(t?t.mapPos(h):h)!=f.chunkPos[d]||(t==null?void 0:t.touchesRange(h,h+f.chunk[d].length))||u.add(f.chunk[d])}}catch(v){c.e(v)}finally{c.f()}return u}var OF=function(){function n(e,t,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;re(this,n),this.layer=e,this.skip=t,this.minPoint=r,this.rank=i}return ie(n,[{key:"startSide",get:function(){return this.value?this.value.startSide:0}},{key:"endSide",get:function(){return this.value?this.value.endSide:0}},{key:"goto",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1e9;return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}},{key:"gotoInner",value:function(e,t,r){for(;this.chunkIndex<this.layer.chunk.length;){var i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){var o=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!r||this.rangeIndex<o)&&this.setRangeIndex(o)}this.next()}},{key:"forward",value:function(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}},{key:"next",value:function(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}var e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],r=e+t.from[this.rangeIndex];if(this.from=r,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}},{key:"setRangeIndex",value:function(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}},{key:"nextChunk",value:function(){this.chunkIndex++,this.rangeIndex=0,this.next()}},{key:"compare",value:function(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}]),n}(),rw=function(){function n(e){re(this,n),this.heap=e}return ie(n,[{key:"startSide",get:function(){return this.value?this.value.startSide:0}},{key:"goto",value:function(e){var t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1e9,i=fe(this.heap);try{for(i.s();!(t=i.n()).done;){var o=t.value;o.goto(e,r)}}catch(s){i.e(s)}finally{i.f()}for(var a=this.heap.length>>1;a>=0;a--)Vy(this.heap,a);return this.next(),this}},{key:"forward",value:function(e,t){var r,i=fe(this.heap);try{for(i.s();!(r=i.n()).done;)r.value.forward(e,t)}catch(a){i.e(a)}finally{i.f()}for(var o=this.heap.length>>1;o>=0;o--)Vy(this.heap,o);(this.to-e||this.value.endSide-t)<0&&this.next()}},{key:"next",value:function(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{var e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Vy(this.heap,0)}}}],[{key:"from",value:function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,i=[],o=0;o<e.length;o++)for(var a=e[o];!a.isEmpty;a=a.nextLayer)a.maxPoint>=r&&i.push(new OF(a,t,r,o));return i.length==1?i[0]:new n(i)}}]),n}();function Vy(n,e){for(var t=n[e];;){var r=1+(e<<1);if(r>=n.length)break;var i=n[r];if(r+1<n.length&&i.compare(n[r+1])>=0&&(i=n[r+1],r++),t.compare(i)<0)break;n[r]=t,n[e]=i,e=r}}var Xf=function(){function n(e,t,r){re(this,n),this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=rw.from(e,t,r)}return ie(n,[{key:"goto",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1e9;return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}},{key:"forward",value:function(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}},{key:"removeActive",value:function(e){Np(this.active,e),Np(this.activeTo,e),Np(this.activeRank,e),this.minActive=y5(this.active,this.activeTo)}},{key:"addActive",value:function(e){for(var t=0,r=this.cursor,i=r.value,o=r.to,a=r.rank;t<this.activeRank.length&&this.activeRank[t]<=a;)t++;Ip(this.active,t,i),Ip(this.activeTo,t,o),Ip(this.activeRank,t,a),e&&Ip(e,t,this.cursor.from),this.minActive=y5(this.active,this.activeTo)}},{key:"next",value:function(){var e=this.to,t=this.point;this.point=null;for(var r=this.openStart<0?[]:null;;){var i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&Np(r,i)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}var o=this.cursor.value;if(o.point){if(!(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(r),this.cursor.next()}}if(r){this.openStart=0;for(var a=r.length-1;a>=0&&r[a]<e;a--)this.openStart++}}},{key:"activeForPoint",value:function(e){if(!this.active.length)return this.active;for(var t=[],r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&t.push(this.active[r]);return t.reverse()}},{key:"openEnd",value:function(e){for(var t=0,r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)t++;return t}}]),n}();function g5(n,e,t,r,i,o){n.goto(e),t.goto(r);for(var a=r+i,s=r,l=r-e;;){var u=n.to+l-t.to||n.endSide-t.endSide,c=u<0?n.to+l:t.to,f=Math.min(c,a);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&iw(n.activeForPoint(n.to+l),t.activeForPoint(t.to))||o.comparePoint(s,f,n.point,t.point):f>s&&!iw(n.active,t.active)&&o.compareRange(s,f,n.active,t.active),c>a)break;s=c,u<=0&&n.next(),u>=0&&t.next()}}function iw(n,e){if(n.length!=e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function Np(n,e){for(var t=e,r=n.length-1;t<r;t++)n[t]=n[t+1];n.pop()}function Ip(n,e,t){for(var r=n.length-1;r>=e;r--)n[r+1]=n[r];n[e]=t}function y5(n,e){for(var t=-1,r=1e9,i=0;i<e.length;i++)(e[i]-r||n[i].endSide-n[t].endSide)<0&&(t=i,r=e[i]);return t}function Jh(n,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n.length,r=0,i=0;i<t;)n.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=Oi(n,i));return r}function ow(n,e,t,r){for(var i=0,o=0;;){if(o>=e)return i;if(i==n.length)break;o+=n.charCodeAt(i)==9?t-o%t:1,i=Oi(n,i)}return r===!0?-1:n.length}var b5=typeof Symbol=="undefined"?"__\u037C":Symbol.for("\u037C"),aw=typeof Symbol=="undefined"?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),w5=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:{},vl=function(){function n(e,t){re(this,n),this.rules=[];var r=(t||{}).finish;function i(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function o(s,l,u,c){var f=[],d=/^@(\w+)\b/.exec(s[0]),h=d&&d[1]=="keyframes";if(d&&l==null)return u.push(s[0]+";");for(var v in l){var p=l[v];if(/&/.test(v))o(v.split(/,\s*/).map(function(m){return s.map(function(g){return m.replace(/&/,g)})}).reduce(function(m,g){return m.concat(g)}),p,u);else if(p&&mt(p)=="object"){if(!d)throw new RangeError("The value of a property ("+v+") should be a primitive value.");o(i(v),p,f,h)}else p!=null&&f.push(v.replace(/_.*/,"").replace(/[A-Z]/g,function(m){return"-"+m.toLowerCase()})+": "+p+";")}(f.length||h)&&u.push((!r||d||c?s:s.map(r)).join(", ")+" {"+f.join(" ")+"}")}for(var a in e)o(i(a),e[a],this.rules)}return ie(n,[{key:"getRules",value:function(){return this.rules.join(`
`)}}],[{key:"newName",value:function(){var e=w5[b5]||1;return w5[b5]=e+1,"\u037C"+e.toString(36)}},{key:"mount",value:function(e,t){(e[aw]||new iWe(e)).mount(Array.isArray(t)?t:[t])}}]),n}(),Pp=null,iWe=function(){function n(e){if(re(this,n),!e.head&&e.adoptedStyleSheets&&typeof CSSStyleSheet!="undefined"){if(Pp)return e.adoptedStyleSheets=[Pp.sheet].concat(e.adoptedStyleSheets),e[aw]=Pp;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet].concat(e.adoptedStyleSheets),Pp=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");var t=e.head||e;t.insertBefore(this.styleTag,t.firstChild)}this.modules=[],e[aw]=this}return ie(n,[{key:"mount",value:function(e){for(var t=this.sheet,r=0,i=0,o=0;o<e.length;o++){var a=e[o],s=this.modules.indexOf(a);if(s<i&&s>-1&&(this.modules.splice(s,1),i--,s=-1),s==-1){if(this.modules.splice(i++,0,a),t)for(var l=0;l<a.rules.length;l++)t.insertRule(a.rules[l],r++)}else{for(;i<s;)r+=this.modules[i++].rules.length;r+=a.rules.length,i++}}if(!t){for(var u="",c=0;c<this.modules.length;c++)u+=this.modules[c].getRules()+`
`;this.styleTag.textContent=u}}}]),n}(),ml={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ah={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},k5=typeof navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent);typeof navigator!="undefined"&&/Gecko\/\d+/.test(navigator.userAgent);for(var oWe=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),aWe=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),sWe=oWe||k5&&+k5[1]<57,ri=0;ri<10;ri++)ml[48+ri]=ml[96+ri]=String(ri);for(ri=1;ri<=24;ri++)ml[ri+111]="F"+ri;for(ri=65;ri<=90;ri++)ml[ri]=String.fromCharCode(ri+32),ah[ri]=String.fromCharCode(ri);for(var Wy in ml)ah.hasOwnProperty(Wy)||(ah[Wy]=ml[Wy]);function Pm(n){return(n.nodeType==11?n.getSelection?n:n.ownerDocument:n).getSelection()}function uf(n,e){return!!e&&(n==e||n.contains(e.nodeType!=1?e.parentNode:e))}function Cv(n,e){if(!e.anchorNode)return!1;try{return uf(n,e.anchorNode)}catch{return!1}}function sh(n){return n.nodeType==3?cf(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function Lm(n,e,t,r){return!!t&&(x5(n,e,t,r,-1)||x5(n,e,t,r,1))}function Dm(n){for(var e=0;;e++)if(!(n=n.previousSibling))return e}function x5(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:lh(n))){if(n.nodeName=="DIV")return!1;var o=n.parentNode;if(!o||o.nodeType!=1)return!1;e=Dm(n)+(i<0?0:1),n=o}else{if(n.nodeType!=1||(n=n.childNodes[e+(i<0?-1:0)]).nodeType==1&&n.contentEditable=="false")return!1;e=i<0?lh(n):0}}}function lh(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}var EF={left:0,right:0,top:0,bottom:0};function H2(n,e){var t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function lWe(n){return{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}var j5,uWe=function(){function n(){re(this,n),this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}return ie(n,[{key:"eq",value:function(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}},{key:"setRange",value:function(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}},{key:"set",value:function(e,t,r,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=r,this.focusOffset=i}}]),n}(),tc=null;function MF(n){if(n.setActive)return n.setActive();if(tc)return n.focus(tc);for(var e=[],t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(tc==null?{get preventScroll(){return tc={preventScroll:!0},!0}}:void 0),!tc){tc=!1;for(var r=0;r<e.length;){var i=e[r++],o=e[r++],a=e[r++];i.scrollTop!=o&&(i.scrollTop=o),i.scrollLeft!=a&&(i.scrollLeft=a)}}}function cf(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,r=j5||(j5=document.createRange());return r.setEnd(n,t),r.setStart(n,e),r}function Nc(n,e,t){var r={key:e,code:e,keyCode:t,which:t,cancelable:!0},i=new KeyboardEvent("keydown",r);i.synthetic=!0,n.dispatchEvent(i);var o=new KeyboardEvent("keyup",r);return o.synthetic=!0,n.dispatchEvent(o),i.defaultPrevented||o.defaultPrevented}function cWe(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function $F(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}var ao=function(){function n(e,t){var r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];re(this,n),this.node=e,this.offset=t,this.precise=r}return ie(n,null,[{key:"before",value:function(e,t){return new n(e.parentNode,Dm(e),t)}},{key:"after",value:function(e,t){return new n(e.parentNode,Dm(e)+1,t)}}]),n}(),V2=[],kr=function(){function n(){re(this,n),this.parent=null,this.dom=null,this.dirty=2}return ie(n,[{key:"editorView",get:function(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}},{key:"overrideDOMText",get:function(){return null}},{key:"posAtStart",get:function(){return this.parent?this.parent.posBefore(this):0}},{key:"posAtEnd",get:function(){return this.posAtStart+this.length}},{key:"posBefore",value:function(e){var t,r=this.posAtStart,i=fe(this.children);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(o==e)return r;r+=o.length+o.breakAfter}}catch(a){i.e(a)}finally{i.f()}throw new RangeError("Invalid child in posBefore")}},{key:"posAfter",value:function(e){return this.posBefore(e)+e.length}},{key:"coordsAt",value:function(e,t){return null}},{key:"sync",value:function(e){if(2&this.dirty){var t,r,i=this.dom,o=null,a=fe(this.children);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(s.dirty){if(!s.dom&&(t=o?o.nextSibling:i.firstChild)){var l=n.get(t);(!l||!l.parent&&l.canReuseDOM(s))&&s.reuseDOM(t)}s.sync(e),s.dirty=0}if(t=o?o.nextSibling:i.firstChild,e&&!e.written&&e.node==i&&t!=s.dom&&(e.written=!0),s.dom.parentNode==i)for(;t&&t!=s.dom;)t=C5(t);else i.insertBefore(s.dom,t);o=s.dom}}catch(d){a.e(d)}finally{a.f()}for((t=o?o.nextSibling:i.firstChild)&&e&&e.node==i&&(e.written=!0);t;)t=C5(t)}else if(1&this.dirty){var u,c=fe(this.children);try{for(c.s();!(u=c.n()).done;){var f=u.value;f.dirty&&(f.sync(e),f.dirty=0)}}catch(d){c.e(d)}finally{c.f()}}}},{key:"reuseDOM",value:function(e){}},{key:"localPosFromDOM",value:function(e,t){var r;if(e==this.dom)r=this.dom.childNodes[t];else{for(var i=lh(e)==0?0:t==0?-1:1;;){var o=e.parentNode;if(o==this.dom)break;i==0&&o.firstChild!=o.lastChild&&(i=e==o.firstChild?-1:1),e=o}r=i<0?e:e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!n.get(r);)r=r.nextSibling;if(!r)return this.length;for(var a=0,s=0;;a++){var l=this.children[a];if(l.dom==r)return s;s+=l.length+l.breakAfter}}},{key:"domBoundsAround",value:function(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=-1,o=-1,a=-1,s=-1,l=0,u=r,c=r;l<this.children.length;l++){var f=this.children[l],d=u+f.length;if(u<e&&d>t)return f.domBoundsAround(e,t,u);if(d>=e&&i==-1&&(i=l,o=u),u>t&&f.dom.parentNode==this.dom){a=l,s=c;break}c=d,u=d+f.breakAfter}return{from:o,to:s<0?r+this.length:s,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:a<this.children.length&&a>=0?this.children[a].dom:null}}},{key:"markDirty",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.dirty|=2,this.markParentsDirty(e)}},{key:"markParentsDirty",value:function(e){for(var t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),1&t.dirty)return;t.dirty|=1,e=!1}}},{key:"setParent",value:function(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}},{key:"setDOM",value:function(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}},{key:"rootView",get:function(){for(var e=this;;){var t=e.parent;if(!t)return e;e=t}}},{key:"replaceChildren",value:function(e,t){var r,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:V2;this.markDirty();for(var o=e;o<t;o++){var a=this.children[o];a.parent==this&&a.destroy()}(r=this.children).splice.apply(r,[e,t-e].concat(Ut(i)));for(var s=0;s<i.length;s++)i[s].setParent(this)}},{key:"ignoreMutation",value:function(e){return!1}},{key:"ignoreEvent",value:function(e){return!1}},{key:"childCursor",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.length;return new AF(this.children,e,this.children.length)}},{key:"childPos",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this.childCursor().findPos(e,t)}},{key:"toString",value:function(){var e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}},{key:"isEditable",get:function(){return!0}},{key:"merge",value:function(e,t,r,i,o,a){return!1}},{key:"become",value:function(e){return!1}},{key:"canReuseDOM",value:function(e){return e.constructor==this.constructor}},{key:"getSide",value:function(){return 0}},{key:"destroy",value:function(){this.parent=null}}],[{key:"get",value:function(e){return e.cmView}}]),n}();function C5(n){var e=n.nextSibling;return n.parentNode.removeChild(n),e}kr.prototype.breakAfter=0;var AF=function(){function n(e,t,r){re(this,n),this.children=e,this.pos=t,this.i=r,this.off=0}return ie(n,[{key:"findPos",value:function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;var r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}]),n}();function _F(n,e,t,r,i,o,a,s,l){var u=n.children,c=u.length?u[e]:null,f=o.length?o[o.length-1]:null,d=f?f.breakAfter:a;if(!(e==r&&c&&!a&&!d&&o.length<2&&c.merge(t,i,o.length?f:null,t==0,s,l))){if(r<u.length){var h=u[r];h&&i<h.length?(e==r&&(h=h.split(i),i=0),!d&&f&&h.merge(0,i,f,!0,0,l)?o[o.length-1]=h:(i&&h.merge(0,i,null,!1,0,l),o.push(h))):h!=null&&h.breakAfter&&(f?f.breakAfter=1:a=1),r++}for(c&&(c.breakAfter=a,t>0&&(!a&&o.length&&c.merge(t,c.length,o[0],!1,s,0)?c.breakAfter=o.shift().breakAfter:(t<c.length||c.children.length&&c.children[c.children.length-1].length==0)&&c.merge(t,c.length,null,!1,s,0),e++));e<r&&o.length;)if(u[r-1].become(o[o.length-1]))r--,o.pop(),l=o.length?0:s;else{if(!u[e].become(o[0]))break;e++,o.shift(),s=o.length?0:l}!o.length&&e&&r<u.length&&!u[e-1].breakAfter&&u[r].merge(0,0,u[e-1],!1,s,l)&&e--,(e<r||o.length)&&n.replaceChildren(e,r,o)}}function NF(n,e,t,r,i,o){var a,s=n.childCursor(),l=s.findPos(t,1),u=l.i,c=l.off,f=s.findPos(e,-1),d=f.i,h=f.off,v=e-t,p=fe(r);try{for(p.s();!(a=p.n()).done;)v+=a.value.length}catch(m){p.e(m)}finally{p.f()}n.length+=v,_F(n,d,h,u,c,r,0,i,o)}var no=typeof navigator!="undefined"?navigator:{userAgent:"",vendor:"",platform:""},sw=typeof document!="undefined"?document:{documentElement:{style:{}}},lw=/Edge\/(\d+)/.exec(no.userAgent),IF=/MSIE \d/.test(no.userAgent),uw=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(no.userAgent),m0=!!(IF||uw||lw),S5=!m0&&/gecko\/(\d+)/i.test(no.userAgent),Uy=!m0&&/Chrome\/(\d+)/.exec(no.userAgent),T5="webkitFontSmoothing"in sw.documentElement.style,PF=!m0&&/Apple Computer/.test(no.vendor),O5=PF&&(/Mobile\/\w+/.test(no.userAgent)||no.maxTouchPoints>2),Mt={mac:O5||/Mac/.test(no.platform),windows:/Win/.test(no.platform),linux:/Linux|X11/.test(no.platform),ie:m0,ie_version:IF?sw.documentMode||6:uw?+uw[1]:lw?+lw[1]:0,gecko:S5,gecko_version:S5?+(/Firefox\/(\d+)/.exec(no.userAgent)||[0,0])[1]:0,chrome:!!Uy,chrome_version:Uy?+Uy[1]:0,ios:O5,android:/Android\b/.test(no.userAgent),webkit:T5,safari:PF,webkit_version:T5?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:sw.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"},uh=function(n){De(t,kr);var e=Re(t);function t(r){var i;return re(this,t),(i=e.call(this)).text=r,i}return ie(t,[{key:"length",get:function(){return this.text.length}},{key:"createDOM",value:function(r){this.setDOM(r||document.createTextNode(this.text))}},{key:"sync",value:function(r){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(r&&r.node==this.dom&&(r.written=!0),this.dom.nodeValue=this.text)}},{key:"reuseDOM",value:function(r){r.nodeType==3&&this.createDOM(r)}},{key:"merge",value:function(r,i,o){return(!o||o instanceof t&&!(this.length-(i-r)+o.length>256))&&(this.text=this.text.slice(0,r)+(o?o.text:"")+this.text.slice(i),this.markDirty(),!0)}},{key:"split",value:function(r){var i=new t(this.text.slice(r));return this.text=this.text.slice(0,r),this.markDirty(),i}},{key:"localPosFromDOM",value:function(r,i){return r==this.dom?i:i?this.text.length:0}},{key:"domAtPos",value:function(r){return new ao(this.dom,r)}},{key:"domBoundsAround",value:function(r,i,o){return{from:o,to:o+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}},{key:"coordsAt",value:function(r,i){return cw(this.dom,r,i)}}]),t}(),Tu=function(n){De(t,kr);var e=Re(t);function t(r){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;re(this,t),(i=e.call(this)).mark=r,i.children=o,i.length=a;var s,l=fe(o);try{for(l.s();!(s=l.n()).done;){var u=s.value;u.setParent(Et(i))}}catch(c){l.e(c)}finally{l.f()}return i}return ie(t,[{key:"setAttrs",value:function(r){if($F(r),this.mark.class&&(r.className=this.mark.class),this.mark.attrs)for(var i in this.mark.attrs)r.setAttribute(i,this.mark.attrs[i]);return r}},{key:"reuseDOM",value:function(r){r.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(r),this.dirty|=6)}},{key:"sync",value:function(r){this.dom?4&this.dirty&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),vn(sn(t.prototype),"sync",this).call(this,r)}},{key:"merge",value:function(r,i,o,a,s,l){return(!o||!(!(o instanceof t&&o.mark.eq(this.mark))||r&&s<=0||i<this.length&&l<=0))&&(NF(this,r,i,o?o.children:[],s-1,l-1),this.markDirty(),!0)}},{key:"split",value:function(r){var i,o=[],a=0,s=-1,l=0,u=fe(this.children);try{for(u.s();!(i=u.n()).done;){var c=i.value,f=a+c.length;f>r&&o.push(a<r?c.split(r-a):c),s<0&&a>=r&&(s=l),a=f,l++}}catch(h){u.e(h)}finally{u.f()}var d=this.length-r;return this.length=r,s>-1&&(this.children.length=s,this.markDirty()),new t(this.mark,o,d)}},{key:"domAtPos",value:function(r){return RF(this,r)}},{key:"coordsAt",value:function(r,i){return zF(this,r,i)}}]),t}();function cw(n,e,t){var r=n.nodeValue.length;e>r&&(e=r);var i=e,o=e,a=0;e==0&&t<0||e==r&&t>=0?Mt.chrome||Mt.gecko||(e?(i--,a=1):o<r&&(o++,a=-1)):t<0?i--:o<r&&o++;var s=cf(n,i,o).getClientRects();if(!s.length)return EF;var l=s[(a?a<0:t>=0)?0:s.length-1];return Mt.safari&&!a&&l.width==0&&(l=Array.prototype.find.call(s,function(u){return u.width})||l),a?H2(l,a<0):l||null}var W2=function(n){De(t,kr);var e=Re(t);function t(r,i,o){var a;return re(this,t),(a=e.call(this)).widget=r,a.length=i,a.side=o,a.prevWidget=null,a}return ie(t,[{key:"split",value:function(r){var i=t.create(this.widget,this.length-r,this.side);return this.length-=r,i}},{key:"sync",value:function(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}},{key:"getSide",value:function(){return this.side}},{key:"merge",value:function(r,i,o,a,s,l){return!(o&&(!(o instanceof t&&this.widget.compare(o.widget))||r>0&&s<=0||i<this.length&&l<=0))&&(this.length=r+(o?o.length:0)+(this.length-i),!0)}},{key:"become",value:function(r){return r.length==this.length&&r instanceof t&&r.side==this.side&&this.widget.constructor==r.widget.constructor&&(this.widget.eq(r.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=r.widget,!0)}},{key:"ignoreMutation",value:function(){return!0}},{key:"ignoreEvent",value:function(r){return this.widget.ignoreEvent(r)}},{key:"overrideDOMText",get:function(){if(this.length==0)return Vn.empty;for(var r=this;r.parent;)r=r.parent;var i=r.editorView,o=i&&i.state.doc,a=this.posAtStart;return o?o.slice(a,a+this.length):Vn.empty}},{key:"domAtPos",value:function(r){return r==0?ao.before(this.dom):ao.after(this.dom,r==this.length)}},{key:"domBoundsAround",value:function(){return null}},{key:"coordsAt",value:function(r,i){var o=this.dom.getClientRects(),a=null;if(!o.length)return EF;for(var s=r>0?o.length-1:0;a=o[s],!(r>0?s==0:s==o.length-1||a.top<a.bottom);s+=r>0?-1:1);return this.length?a:H2(a,this.side>0)}},{key:"isEditable",get:function(){return!1}},{key:"destroy",value:function(){vn(sn(t.prototype),"destroy",this).call(this),this.dom&&this.widget.destroy(this.dom)}}],[{key:"create",value:function(r,i,o){return new(r.customView||t)(r,i,o)}}]),t}(),LF=function(n){De(t,W2);var e=Re(t);function t(){return re(this,t),e.apply(this,arguments)}return ie(t,[{key:"domAtPos",value:function(r){var i=this.widget,o=i.topView,a=i.text;return o?fw(r,0,o,a,function(s,l){return s.domAtPos(l)},function(s){return new ao(a,Math.min(s,a.nodeValue.length))}):new ao(a,Math.min(r,a.nodeValue.length))}},{key:"sync",value:function(){this.setDOM(this.widget.toDOM())}},{key:"localPosFromDOM",value:function(r,i){var o=this.widget,a=o.topView,s=o.text;return a?DF(r,i,a,s):Math.min(i,this.length)}},{key:"ignoreMutation",value:function(){return!1}},{key:"overrideDOMText",get:function(){return null}},{key:"coordsAt",value:function(r,i){var o=this.widget,a=o.topView,s=o.text;return a?fw(r,i,a,s,function(l,u,c){return l.coordsAt(u,c)},function(l,u){return cw(s,l,u)}):cw(s,r,i)}},{key:"destroy",value:function(){var r;vn(sn(t.prototype),"destroy",this).call(this),(r=this.widget.topView)===null||r===void 0||r.destroy()}},{key:"isEditable",get:function(){return!0}},{key:"canReuseDOM",value:function(){return!0}}]),t}();function fw(n,e,t,r,i,o){if(t instanceof Tu){for(var a=t.dom.firstChild;a;a=a.nextSibling){var s=kr.get(a);if(!s)return o(n,e);var l=uf(a,r),u=s.length+(l?r.nodeValue.length:0);if(n<u||n==u&&s.getSide()<=0)return l?fw(n,e,s,r,i,o):i(s,n,e);n-=u}return i(t,t.length,-1)}return t.dom==r?o(n,e):i(t,n,e)}function DF(n,e,t,r){if(t instanceof Tu){var i,o=fe(t.children);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=0,l=uf(a.dom,r);if(uf(a.dom,n))return s+(l?DF(n,e,a,r):a.localPosFromDOM(n,e));s+=l?r.nodeValue.length:a.length}}catch(u){o.e(u)}finally{o.f()}}else if(t.dom==r)return Math.min(e,r.nodeValue.length);return t.localPosFromDOM(n,e)}var dw=function(n){De(t,kr);var e=Re(t);function t(r){var i;return re(this,t),(i=e.call(this)).side=r,i}return ie(t,[{key:"length",get:function(){return 0}},{key:"merge",value:function(){return!1}},{key:"become",value:function(r){return r instanceof t&&r.side==this.side}},{key:"split",value:function(){return new t(this.side)}},{key:"sync",value:function(){if(!this.dom){var r=document.createElement("img");r.className="cm-widgetBuffer",r.setAttribute("aria-hidden","true"),this.setDOM(r)}}},{key:"getSide",value:function(){return this.side}},{key:"domAtPos",value:function(r){return ao.before(this.dom)}},{key:"localPosFromDOM",value:function(){return 0}},{key:"domBoundsAround",value:function(){return null}},{key:"coordsAt",value:function(r){var i=this.dom.getBoundingClientRect(),o=function(a,s){for(var l=a.parent,u=l?l.children.indexOf(a):-1;l&&u>=0;)if(s<0?u>0:u<l.children.length){var c=l.children[u+s];if(c instanceof uh){var f=c.coordsAt(s<0?c.length:0,s);if(f)return f}u+=s}else{if(!(l instanceof Tu&&l.parent)){var d=l.dom.lastChild;if(d&&d.nodeName=="BR")return d.getClientRects()[0];break}u=l.parent.children.indexOf(l)+(s<0?0:1),l=l.parent}}(this,this.side>0?-1:1);return o&&o.top<i.bottom&&o.bottom>i.top?{left:i.left,right:i.right,top:o.top,bottom:o.bottom}:i}},{key:"overrideDOMText",get:function(){return Vn.empty}}]),t}();function RF(n,e){for(var t=n.dom,r=n.children,i=0,o=0;i<r.length;i++){var a=r[i],s=o+a.length;if(!(s==o&&a.getSide()<=0)){if(e>o&&e<s&&a.dom.parentNode==t)return a.domAtPos(e-o);if(e<=o)break;o=s}}for(var l=i;l>0;l--){var u=r[l-1];if(u.dom.parentNode==t)return u.domAtPos(u.length)}for(var c=i;c<r.length;c++){var f=r[c];if(f.dom.parentNode==t)return f.domAtPos(0)}return new ao(t,0)}function BF(n,e,t){var r,i=n.children;t>0&&e instanceof Tu&&i.length&&(r=i[i.length-1])instanceof Tu&&r.mark.eq(e.mark)?BF(r,e.children[0],t-1):(i.push(e),e.setParent(n)),n.length+=e.length}function zF(n,e,t){var r=null,i=-1,o=null,a=-1;(function l(u,c){for(var f=0,d=0;f<u.children.length&&d<=c;f++){var h=u.children[f],v=d+h.length;v>=c&&(h.children.length?l(h,c-d):!o&&(v>c||d==v&&h.getSide()>0)?(o=h,a=c-d):(d<c||d==v&&h.getSide()<0)&&(r=h,i=c-d)),d=v}})(n,e);var s=(t<0?r:o)||r||o;return s?s.coordsAt(Math.max(0,s==r?i:a),t):function(l){var u=l.dom.lastChild;if(!u)return l.dom.getBoundingClientRect();var c=sh(u);return c[c.length-1]||null}(n)}function hw(n,e){for(var t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}function U2(n,e){if(n==e)return!0;if(!n||!e)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(var i=0,o=t;i<o.length;i++){var a=o[i];if(r.indexOf(a)==-1||n[a]!==e[a])return!1}return!0}function pw(n,e,t){var r=null;if(e)for(var i in e)t&&i in t||n.removeAttribute(r=i);if(t)for(var o in t)e&&e[o]==t[o]||n.setAttribute(r=o,t[o]);return!!r}uh.prototype.children=W2.prototype.children=dw.prototype.children=V2;var Tl=function(){function n(){re(this,n)}return ie(n,[{key:"eq",value:function(e){return!1}},{key:"updateDOM",value:function(e){return!1}},{key:"compare",value:function(e){return this==e||this.constructor==e.constructor&&this.eq(e)}},{key:"estimatedHeight",get:function(){return-1}},{key:"ignoreEvent",value:function(e){return!0}},{key:"customView",get:function(){return null}},{key:"destroy",value:function(e){}}]),n}(),Zn=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(Zn||(Zn={})),qt=function(n){De(t,Xl);var e=Re(t);function t(r,i,o,a){var s;return re(this,t),(s=e.call(this)).startSide=r,s.endSide=i,s.widget=o,s.spec=a,s}return ie(t,[{key:"heightRelevant",get:function(){return!1}},{key:"hasHeight",value:function(){return!!this.widget&&this.widget.estimatedHeight>-1}}],[{key:"mark",value:function(r){return new qF(r)}},{key:"widget",value:function(r){var i=r.side||0,o=!!r.block;return new ch(r,i+=o?i>0?3e8:-4e8:i>0?1e8:-1e8,i,o,r.widget||null,!1)}},{key:"replace",value:function(r){var i,o,a=!!r.block;if(r.isBlockGap)i=-5e8,o=4e8;else{var s=FF(r,a);i=(s.start?a?-3e8:-1:5e8)-1,o=1+(s.end?a?2e8:1:-6e8)}return new ch(r,i,o,a,r.widget||null,!0)}},{key:"line",value:function(r){return new vw(r)}},{key:"set",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return or.of(r,i)}}]),t}();qt.none=or.empty;var qF=function(n){De(t,qt);var e=Re(t);function t(r){var i;re(this,t);var o=FF(r),a=o.start,s=o.end;return(i=e.call(this,a?-1:5e8,s?1:-6e8,null,r)).tagName=r.tagName||"span",i.class=r.class||"",i.attrs=r.attributes||null,i}return ie(t,[{key:"eq",value:function(r){return this==r||r instanceof t&&this.tagName==r.tagName&&this.class==r.class&&U2(this.attrs,r.attrs)}},{key:"range",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r;if(r>=i)throw new RangeError("Mark decorations may not be empty");return vn(sn(t.prototype),"range",this).call(this,r,i)}}]),t}();qF.prototype.point=!1;var vw=function(n){De(t,qt);var e=Re(t);function t(r){return re(this,t),e.call(this,-2e8,-2e8,null,r)}return ie(t,[{key:"eq",value:function(r){return r instanceof t&&U2(this.spec.attributes,r.spec.attributes)}},{key:"range",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r;if(i!=r)throw new RangeError("Line decoration ranges must be zero-length");return vn(sn(t.prototype),"range",this).call(this,r,i)}}]),t}();vw.prototype.mapMode=Ti.TrackBefore,vw.prototype.point=!0;var ch=function(n){De(t,qt);var e=Re(t);function t(r,i,o,a,s,l){var u;return re(this,t),(u=e.call(this,i,o,s,r)).block=a,u.isReplace=l,u.mapMode=a?i<=0?Ti.TrackBefore:Ti.TrackAfter:Ti.TrackDel,u}return ie(t,[{key:"type",get:function(){return this.startSide<this.endSide?Zn.WidgetRange:this.startSide<=0?Zn.WidgetBefore:Zn.WidgetAfter}},{key:"heightRelevant",get:function(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}},{key:"eq",value:function(r){return r instanceof t&&(i=this.widget,o=r.widget,i==o||!!(i&&o&&i.compare(o)))&&this.block==r.block&&this.startSide==r.startSide&&this.endSide==r.endSide;var i,o}},{key:"range",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r;if(this.isReplace&&(r>i||r==i&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&i!=r)throw new RangeError("Widget decorations can only have zero-length ranges");return vn(sn(t.prototype),"range",this).call(this,r,i)}}]),t}();function FF(n){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],t=n.inclusiveStart,r=n.inclusiveEnd;return t==null&&(t=n.inclusive),r==null&&(r=n.inclusive),{start:t!=null?t:e,end:r!=null?r:e}}function mw(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=t.length-1;i>=0&&t[i]+r>=n?t[i]=Math.max(t[i],e):t.push(n,e)}ch.prototype.point=!0;var Vo=function(n){De(t,kr);var e=Re(t);function t(){var r;return re(this,t),(r=e.apply(this,arguments)).children=[],r.length=0,r.prevAttrs=void 0,r.attrs=null,r.breakAfter=0,r}return ie(t,[{key:"merge",value:function(r,i,o,a,s,l){if(o){if(!(o instanceof t))return!1;this.dom||o.transferDOM(this)}return a&&this.setDeco(o?o.attrs:null),NF(this,r,i,o?o.children:[],s,l),!0}},{key:"split",value:function(r){var i=new t;if(i.breakAfter=this.breakAfter,this.length==0)return i;var o=this.childPos(r),a=o.i,s=o.off;s&&(i.append(this.children[a].split(s),0),this.children[a].merge(s,this.children[a].length,null,!1,0,0),a++);for(var l=a;l<this.children.length;l++)i.append(this.children[l],0);for(;a>0&&this.children[a-1].length==0;)this.children[--a].destroy();return this.children.length=a,this.markDirty(),this.length=r,i}},{key:"transferDOM",value:function(r){this.dom&&(this.markDirty(),r.setDOM(this.dom),r.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}},{key:"setDeco",value:function(r){U2(this.attrs,r)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=r)}},{key:"append",value:function(r,i){BF(this,r,i)}},{key:"addLineDeco",value:function(r){var i=r.spec.attributes,o=r.spec.class;i&&(this.attrs=hw(i,this.attrs||{})),o&&(this.attrs=hw({class:o},this.attrs||{}))}},{key:"domAtPos",value:function(r){return RF(this,r)}},{key:"reuseDOM",value:function(r){r.nodeName=="DIV"&&(this.setDOM(r),this.dirty|=6)}},{key:"sync",value:function(r){var i;this.dom?4&this.dirty&&($F(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(pw(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),vn(sn(t.prototype),"sync",this).call(this,r);for(var o=this.dom.lastChild;o&&kr.get(o)instanceof Tu;)o=o.lastChild;if(!(o&&this.length&&(o.nodeName=="BR"||((i=kr.get(o))===null||i===void 0?void 0:i.isEditable)!=0||Mt.ios&&this.children.some(function(s){return s instanceof uh})))){var a=document.createElement("BR");a.cmIgnore=!0,this.dom.appendChild(a)}}},{key:"measureTextSize",value:function(){if(this.children.length==0||this.length>20)return null;var r,i=0,o=fe(this.children);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(!(a instanceof uh)||/[^ -~]/.test(a.text))return null;var s=sh(a.dom);if(s.length!=1)return null;i+=s[0].width}}catch(l){o.e(l)}finally{o.f()}return i?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:i/this.length}:null}},{key:"coordsAt",value:function(r,i){return zF(this,r,i)}},{key:"become",value:function(r){return!1}},{key:"type",get:function(){return Zn.Text}}],[{key:"find",value:function(r,i){for(var o=0,a=0;o<r.children.length;o++){var s=r.children[o],l=a+s.length;if(l>=i){if(s instanceof t)return s;if(l>i)break}a=l+s.breakAfter}return null}}]),t}(),gw=function(n){De(t,kr);var e=Re(t);function t(r,i,o){var a;return re(this,t),(a=e.call(this)).widget=r,a.length=i,a.type=o,a.breakAfter=0,a.prevWidget=null,a}return ie(t,[{key:"merge",value:function(r,i,o,a,s,l){return!(o&&(!(o instanceof t&&this.widget.compare(o.widget))||r>0&&s<=0||i<this.length&&l<=0))&&(this.length=r+(o?o.length:0)+(this.length-i),!0)}},{key:"domAtPos",value:function(r){return r==0?ao.before(this.dom):ao.after(this.dom,r==this.length)}},{key:"split",value:function(r){var i=this.length-r;this.length=r;var o=new t(this.widget,i,this.type);return o.breakAfter=this.breakAfter,o}},{key:"children",get:function(){return V2}},{key:"sync",value:function(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}},{key:"overrideDOMText",get:function(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Vn.empty}},{key:"domBoundsAround",value:function(){return null}},{key:"become",value:function(r){return r instanceof t&&r.type==this.type&&r.widget.constructor==this.widget.constructor&&(r.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=r.widget,this.length=r.length,this.breakAfter=r.breakAfter,!0)}},{key:"ignoreMutation",value:function(){return!0}},{key:"ignoreEvent",value:function(r){return this.widget.ignoreEvent(r)}},{key:"destroy",value:function(){vn(sn(t.prototype),"destroy",this).call(this),this.dom&&this.widget.destroy(this.dom)}}]),t}(),fWe=function(){function n(e,t,r,i){re(this,n),this.doc=e,this.pos=t,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}return ie(n,[{key:"posCovered",value:function(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;var e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof gw&&e.type==Zn.WidgetBefore)}},{key:"getLine",value:function(){return this.curLine||(this.content.push(this.curLine=new Vo),this.atCursorPos=!0),this.curLine}},{key:"flushBuffer",value:function(e){this.pendingBuffer&&(this.curLine.append(Lp(new dw(-1),e),e.length),this.pendingBuffer=0)}},{key:"addBlockWidget",value:function(e){this.flushBuffer([]),this.curLine=null,this.content.push(e)}},{key:"finish",value:function(e){e?this.pendingBuffer=0:this.flushBuffer([]),this.posCovered()||this.getLine()}},{key:"buildText",value:function(e,t,r){for(;e>0;){if(this.textOff==this.text.length){var i=this.cursor.next(this.skip),o=i.value,a=i.lineBreak,s=i.done;if(this.skip=0,s)throw new Error("Ran out of text content when drawing inline views");if(a){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer([]),this.curLine=null,e--;continue}this.text=o,this.textOff=0}var l=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-r)),this.getLine().append(Lp(new uh(this.text.slice(this.textOff,this.textOff+l)),t),r),this.atCursorPos=!0,this.textOff+=l,e-=l,r=0}}},{key:"span",value:function(e,t,r,i){this.buildText(t-e,r,i),this.pos=t,this.openStart<0&&(this.openStart=i)}},{key:"point",value:function(e,t,r,i,o,a){if(this.disallowBlockEffectsFor[a]&&r instanceof ch){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}var s=t-e;if(r instanceof ch)if(r.block){var l=r.type;l!=Zn.WidgetAfter||this.posCovered()||this.getLine(),this.addBlockWidget(new gw(r.widget||new E5("div"),s,l))}else{var u=W2.create(r.widget||new E5("span"),s,s?0:r.startSide),c=this.atCursorPos&&!u.isEditable&&o<=i.length&&(e<t||r.startSide>0),f=!u.isEditable&&(e<t||r.startSide<=0),d=this.getLine();this.pendingBuffer!=2||c||(this.pendingBuffer=0),this.flushBuffer(i),c&&(d.append(Lp(new dw(1),i),o),o=i.length+Math.max(0,o-i.length)),d.append(Lp(u,i),o),this.atCursorPos=f,this.pendingBuffer=f?e<t?1:2:0}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);s&&(this.textOff+s<=this.text.length?this.textOff+=s:(this.skip+=s-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=o)}}],[{key:"build",value:function(e,t,r,i,o){var a=new n(e,t,r,o);return a.openEnd=or.spans(i,t,r,a),a.openStart<0&&(a.openStart=a.openEnd),a.finish(a.openEnd),a}}]),n}();function Lp(n,e){var t,r=fe(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n=new Tu(i,[n],n.length)}}catch(o){r.e(o)}finally{r.f()}return n}var E5=function(n){De(t,Tl);var e=Re(t);function t(r){var i;return re(this,t),(i=e.call(this)).tag=r,i}return ie(t,[{key:"eq",value:function(r){return r.tag==this.tag}},{key:"toDOM",value:function(){return document.createElement(this.tag)}},{key:"updateDOM",value:function(r){return r.nodeName.toLowerCase()==this.tag}}]),t}(),HF=Pt.define(),VF=Pt.define(),WF=Pt.define(),UF=Pt.define(),yw=Pt.define(),JF=Pt.define(),GF=Pt.define({combine:function(n){return n.some(function(e){return e})}}),KF=Pt.define({combine:function(n){return n.some(function(e){return e})}}),M5=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"nearest",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"nearest",i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:5;re(this,n),this.range=e,this.y=t,this.x=r,this.yMargin=i,this.xMargin=o}return ie(n,[{key:"map",value:function(e){return e.empty?this:new n(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}]),n}(),$5=dn.define({map:function(n,e){return n.map(e)}});function co(n,e,t){var r=n.facet(UF);r.length?r[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}var g0=Pt.define({combine:function(n){return!n.length||n[0]}}),dWe=0,dd=Pt.define(),hi=function(){function n(e,t,r,i){re(this,n),this.id=e,this.create=t,this.domEventHandlers=r,this.extension=i(this)}return ie(n,null,[{key:"define",value:function(e,t){var r=t||{},i=r.eventHandlers,o=r.provide,a=r.decorations;return new n(dWe++,e,i,function(s){var l=[dd.of(s)];return a&&l.push(fh.of(function(u){var c=u.plugin(s);return c?a(c):qt.none})),o&&l.push(o(s)),l})}},{key:"fromClass",value:function(e,t){return n.define(function(r){return new e(r)},t)}}]),n}(),Jy=function(){function n(e){re(this,n),this.spec=e,this.mustUpdate=null,this.value=null}return ie(n,[{key:"update",value:function(e){if(this.value){if(this.mustUpdate){var t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(r){if(co(t.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(r){co(e.state,r,"CodeMirror plugin crashed"),this.deactivate()}return this}},{key:"destroy",value:function(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(r){co(e.state,r,"CodeMirror plugin crashed")}}},{key:"deactivate",value:function(){this.spec=this.value=null}}]),n}(),QF=Pt.define(),J2=Pt.define(),fh=Pt.define(),YF=Pt.define(),ZF=Pt.define(),hd=Pt.define(),Ic=function(){function n(e,t,r,i){re(this,n),this.fromA=e,this.toA=t,this.fromB=r,this.toB=i}return ie(n,[{key:"join",value:function(e){return new n(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}},{key:"addToSet",value:function(e){for(var t=e.length,r=this;t>0;t--){var i=e[t-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(t-1,1)}}return e.splice(t,0,r),e}}],[{key:"extendWithRanges",value:function(e,t){if(t.length==0)return e;for(var r=[],i=0,o=0,a=0,s=0;;i++){for(var l=i==e.length?null:e[i],u=a-s,c=l?l.fromB:1e9;o<t.length&&t[o]<c;){var f=t[o],d=t[o+1],h=Math.max(s,f),v=Math.min(c,d);if(h<=v&&new n(h+u,v+u,h,v).addToSet(r),d>c)break;o+=2}if(!l)return r;new n(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),a=l.toA,s=l.toB}}}]),n}(),A5=function(){function n(e,t,r){re(this,n),this.view=e,this.state=t,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=ua.empty(this.startState.doc.length);var i,o=fe(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;this.changes=this.changes.compose(a.changes)}}catch(u){o.e(u)}finally{o.f()}var s=[];this.changes.iterChangedRanges(function(u,c,f,d){return s.push(new Ic(u,c,f,d))}),this.changedRanges=s;var l=e.hasFocus;l!=e.inputState.notifiedFocused&&(e.inputState.notifiedFocused=l,this.flags|=1)}return ie(n,[{key:"viewportChanged",get:function(){return(4&this.flags)>0}},{key:"heightChanged",get:function(){return(2&this.flags)>0}},{key:"geometryChanged",get:function(){return this.docChanged||(10&this.flags)>0}},{key:"focusChanged",get:function(){return(1&this.flags)>0}},{key:"docChanged",get:function(){return!this.changes.empty}},{key:"selectionSet",get:function(){return this.transactions.some(function(e){return e.selection})}},{key:"empty",get:function(){return this.flags==0&&this.transactions.length==0}}],[{key:"create",value:function(e,t,r){return new n(e,t,r)}}]),n}(),pr=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(pr||(pr={})),bw=pr.LTR,hWe=pr.RTL;function _5(n){for(var e=[],t=0;t<n.length;t++)e.push(1<<+n[t]);return e}for(var pWe=_5("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),vWe=_5("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),ww=Object.create(null),pa=[],Gy=0,N5=["()","[]","{}"];Gy<N5.length;Gy++){var I5=N5[Gy],P5=I5.charCodeAt(0),L5=I5.charCodeAt(1);ww[P5]=L5,ww[L5]=-P5}function mWe(n){return n<=247?pWe[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?vWe[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8203?256:64336<=n&&n<=65023?4:n==8204?256:1}var gWe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/,bc=function(){function n(e,t,r){re(this,n),this.from=e,this.to=t,this.level=r}return ie(n,[{key:"dir",get:function(){return this.level%2?hWe:bw}},{key:"side",value:function(e,t){return this.dir==t==e?this.to:this.from}}],[{key:"find",value:function(e,t,r,i){for(var o=-1,a=0;a<e.length;a++){var s=e[a];if(s.from<=t&&s.to>=t){if(s.level==r)return a;(o<0||(i!=0?i<0?s.from<t:s.to>t:e[o].level>s.level))&&(o=a)}}if(o<0)throw new RangeError("Index out of range");return o}}]),n}(),dr=[];function D5(n){return[new bc(0,n,0)]}var XF="";function yWe(n,e,t,r,i){var o,a=r.head-n.from,s=-1;if(a==0){if(!i||!n.length)return null;e[0].level!=t&&(a=e[0].side(!1,t),s=0)}else if(a==n.length){if(i)return null;var l=e[e.length-1];l.level!=t&&(a=l.side(!0,t),s=e.length-1)}s<0&&(s=bc.find(e,a,(o=r.bidiLevel)!==null&&o!==void 0?o:-1,r.assoc));var u=e[s];a==u.side(i,t)&&(a=(u=e[s+=i?1:-1]).side(!i,t));var c=i==(u.dir==t),f=Oi(n.text,a,c);if(XF=n.text.slice(Math.min(a,f),Math.max(a,f)),f!=u.side(i,t))return Ye.cursor(f+n.from,c?-1:1,u.level);var d=s==(i?e.length-1:0)?null:e[s+(i?1:-1)];return d||u.level==t?d&&d.level<u.level?Ye.cursor(d.side(!i,t)+n.from,i?1:-1,d.level):Ye.cursor(f+n.from,i?-1:1,u.level):Ye.cursor(i?n.to:n.from,i?-1:1,t)}var eH=function(){function n(e,t){re(this,n),this.points=e,this.text="",this.lineSeparator=t.facet(Yn.lineSeparator)}return ie(n,[{key:"append",value:function(e){this.text+=e}},{key:"lineBreak",value:function(){this.text+="\uFFFF"}},{key:"readRange",value:function(e,t){if(!e)return this;for(var r=e.parentNode,i=e;;){this.findPointBefore(r,i),this.readNode(i);var o=i.nextSibling;if(o==t)break;var a=kr.get(i),s=kr.get(o);(a&&s?a.breakAfter:(a?a.breakAfter:R5(i))||R5(o)&&(i.nodeName!="BR"||i.cmIgnore))&&this.lineBreak(),i=o}return this.findPointBefore(r,t),this}},{key:"readTextNode",value:function(e){var t,r=e.nodeValue,i=fe(this.points);try{for(i.s();!(t=i.n()).done;){var o=t.value;o.node==e&&(o.pos=this.text.length+Math.min(o.offset,r.length))}}catch(v){i.e(v)}finally{i.f()}for(var a=0,s=this.lineSeparator?null:/\r\n?|\n/g;;){var l=-1,u=1,c=void 0;if(this.lineSeparator?(l=r.indexOf(this.lineSeparator,a),u=this.lineSeparator.length):(c=s.exec(r))&&(l=c.index,u=c[0].length),this.append(r.slice(a,l<0?r.length:l)),l<0)break;if(this.lineBreak(),u>1){var f,d=fe(this.points);try{for(d.s();!(f=d.n()).done;){var h=f.value;h.node==e&&h.pos>this.text.length&&(h.pos-=u-1)}}catch(v){d.e(v)}finally{d.f()}}a=l+u}}},{key:"readNode",value:function(e){if(!e.cmIgnore){var t=kr.get(e),r=t&&t.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(var i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}}},{key:"findPointBefore",value:function(e,t){var r,i=fe(this.points);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.node==e&&e.childNodes[o.offset]==t&&(o.pos=this.text.length)}}catch(a){i.e(a)}finally{i.f()}}},{key:"findPointInside",value:function(e,t){var r,i=fe(this.points);try{for(i.s();!(r=i.n()).done;){var o=r.value;(e.nodeType==3?o.node==e:e.contains(o.node))&&(o.pos=this.text.length+Math.min(t,o.offset))}}catch(a){i.e(a)}finally{i.f()}}}]),n}();function R5(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}var B5=ie(function n(e,t){re(this,n),this.node=e,this.offset=t,this.pos=-1}),z5=function(n){De(t,kr);var e=Re(t);function t(r){var i;return re(this,t),(i=e.call(this)).view=r,i.compositionDeco=qt.none,i.decorations=[],i.dynamicDecorationMap=[],i.minWidth=0,i.minWidthFrom=0,i.minWidthTo=0,i.impreciseAnchor=null,i.impreciseHead=null,i.forceSelection=!1,i.lastUpdate=Date.now(),i.setDOM(r.contentDOM),i.children=[new Vo],i.children[0].setParent(Et(i)),i.updateDeco(),i.updateInner([new Ic(0,0,0,r.state.doc.length)],0),i}return ie(t,[{key:"editorView",get:function(){return this.view}},{key:"length",get:function(){return this.view.state.doc.length}},{key:"update",value:function(r){var i=this,o=r.changedRanges;this.minWidth>0&&o.length&&(o.every(function(h){var v=h.fromA;return h.toA<i.minWidthFrom||v>i.minWidthTo})?(this.minWidthFrom=r.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=r.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=qt.none:(r.transactions.length||this.dirty)&&(this.compositionDeco=function(h,v){var p=tH(h);if(!p)return qt.none;var m=p.from,g=p.to,y=p.node,b=p.text,w=v.mapPos(m,1),k=Math.max(w,v.mapPos(g,-1)),x=h.state,C=y.nodeType==3?y.nodeValue:new eH([],x).readRange(y.firstChild,null).text;if(k-w<C.length)if(x.doc.sliceString(w,Math.min(x.doc.length,w+C.length),"\uFFFF")==C)k=w+C.length;else{if(x.doc.sliceString(Math.max(0,k-C.length),k,"\uFFFF")!=C)return qt.none;w=k-C.length}else if(x.doc.sliceString(w,k,"\uFFFF")!=C)return qt.none;var T=kr.get(y);return T instanceof LF?T=T.widget.topView:T&&(T.parent=null),qt.set(qt.replace({widget:new wWe(y,b,T),inclusive:!0}).range(w,k))}(this.view,r.changes)),(Mt.ie||Mt.chrome)&&!this.compositionDeco.size&&r&&r.state.doc.lines!=r.startState.doc.lines&&(this.forceSelection=!0);var a,s,l,u,c=this.decorations,f=this.updateDeco(),d=(a=c,s=f,l=r.changes,u=new xWe,or.compare(a,s,l,u),u.changes);return o=Ic.extendWithRanges(o,d),(this.dirty!=0||o.length!=0)&&(this.updateInner(o,r.startState.doc.length),r.transactions.length&&(this.lastUpdate=Date.now()),!0)}},{key:"updateInner",value:function(r,i){var o=this;this.view.viewState.mustMeasureContent=!0,this.updateChildren(r,i);var a=this.view.observer;a.ignore(function(){o.dom.style.height=o.view.viewState.contentHeight+"px",o.dom.style.flexBasis=o.minWidth?o.minWidth+"px":"";var f=Mt.chrome||Mt.ios?{node:a.selectionRange.focusNode,written:!1}:void 0;o.sync(f),o.dirty=0,f&&(f.written||a.selectionRange.focusNode!=f.node)&&(o.forceSelection=!0),o.dom.style.height=""});var s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length){var l,u=fe(this.children);try{for(u.s();!(l=u.n()).done;){var c=l.value;c instanceof gw&&c.widget instanceof q5&&s.push(c.dom)}}catch(f){u.e(f)}finally{u.f()}}a.updateGaps(s)}},{key:"updateChildren",value:function(r,i){for(var o=this.childCursor(i),a=r.length-1;;a--){var s=a>=0?r[a]:null;if(!s)break;var l=s.fromA,u=s.toA,c=s.fromB,f=s.toB,d=fWe.build(this.view.state.doc,c,f,this.decorations,this.dynamicDecorationMap),h=d.content,v=d.breakAtStart,p=d.openStart,m=d.openEnd,g=o.findPos(u,1),y=g.i,b=g.off,w=o.findPos(l,-1);_F(this,w.i,w.off,y,b,h,v,p,m)}}},{key:"updateSelection",value:function(){var r=this,i=arguments.length>0&&arguments[0]!==void 0&&arguments[0],o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!i&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange(),o||this.mayControlSelection()){var a=this.forceSelection;this.forceSelection=!1;var s=this.view.state.selection.main,l=this.domAtPos(s.anchor),u=s.empty?l:this.domAtPos(s.head);if(Mt.gecko&&s.empty&&bWe(l)){var c=document.createTextNode("");this.view.observer.ignore(function(){return l.node.insertBefore(c,l.node.childNodes[l.offset]||null)}),l=u=new ao(c,0),a=!0}var f=this.view.observer.selectionRange;!a&&f.focusNode&&Lm(l.node,l.offset,f.anchorNode,f.anchorOffset)&&Lm(u.node,u.offset,f.focusNode,f.focusOffset)||(this.view.observer.ignore(function(){Mt.android&&Mt.chrome&&r.dom.contains(f.focusNode)&&jWe(f.focusNode,r.dom)&&(r.dom.blur(),r.dom.focus({preventScroll:!0}));var d=Pm(r.view.root);if(d)if(s.empty){if(Mt.gecko){var h=kWe(l.node,l.offset);if(h&&h!=3){var v=nH(l.node,l.offset,h==1?1:-1);v&&(l=new ao(v,h==1?0:v.nodeValue.length))}}d.collapse(l.node,l.offset),s.bidiLevel!=null&&f.cursorBidiLevel!=null&&(f.cursorBidiLevel=s.bidiLevel)}else if(d.extend){d.collapse(l.node,l.offset);try{d.extend(u.node,u.offset)}catch{}}else{var p=document.createRange();if(s.anchor>s.head){var m=[u,l];l=m[0],u=m[1]}p.setEnd(u.node,u.offset),p.setStart(l.node,l.offset),d.removeAllRanges(),d.addRange(p)}}),this.view.observer.setSelectionRange(l,u)),this.impreciseAnchor=l.precise?null:new ao(f.anchorNode,f.anchorOffset),this.impreciseHead=u.precise?null:new ao(f.focusNode,f.focusOffset)}}},{key:"enforceCursorAssoc",value:function(){if(!this.compositionDeco.size){var r=this.view,i=r.state.selection.main,o=Pm(r.root),a=r.observer.selectionRange,s=a.anchorNode,l=a.anchorOffset;if(o&&i.empty&&i.assoc&&o.modify){var u=Vo.find(this,i.head);if(u){var c=u.posAtStart;if(i.head!=c&&i.head!=c+u.length){var f=this.coordsAt(i.head,-1),d=this.coordsAt(i.head,1);if(f&&d&&!(f.bottom>d.top)){var h=this.domAtPos(i.head+i.assoc);o.collapse(h.node,h.offset),o.modify("move",i.assoc<0?"forward":"backward","lineboundary"),r.observer.readSelectionRange();var v=r.observer.selectionRange;r.docView.posFromDOM(v.anchorNode,v.anchorOffset)!=i.from&&o.collapse(s,l)}}}}}}},{key:"mayControlSelection",value:function(){var r=this.view.root.activeElement;return r==this.dom||Cv(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r))}},{key:"nearest",value:function(r){for(var i=r;i;){var o=kr.get(i);if(o&&o.rootView==this)return o;i=i.parentNode}return null}},{key:"posFromDOM",value:function(r,i){var o=this.nearest(r);if(!o)throw new RangeError("Trying to find position for a DOM position outside of the document");return o.localPosFromDOM(r,i)+o.posAtStart}},{key:"domAtPos",value:function(r){for(var i=this.childCursor().findPos(r,-1),o=i.i,a=i.off;o<this.children.length-1;){var s=this.children[o];if(a<s.length||s instanceof Vo)break;o++,a=0}return this.children[o].domAtPos(a)}},{key:"coordsAt",value:function(r,i){for(var o=this.length,a=this.children.length-1;;a--){var s=this.children[a],l=o-s.breakAfter-s.length;if(r>l||r==l&&s.type!=Zn.WidgetBefore&&s.type!=Zn.WidgetAfter&&(!a||i==2||this.children[a-1].breakAfter||this.children[a-1].type==Zn.WidgetBefore&&i>-2))return s.coordsAt(r-l,i);o=l}}},{key:"measureVisibleLineHeights",value:function(r){for(var i=[],o=r.from,a=r.to,s=this.view.contentDOM.clientWidth,l=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,u=-1,c=this.view.textDirection==pr.LTR,f=0,d=0;d<this.children.length;d++){var h=this.children[d],v=f+h.length;if(v>a)break;if(f>=o){var p=h.dom.getBoundingClientRect();if(i.push(p.height),l){var m=h.dom.lastChild,g=m?sh(m):[];if(g.length){var y=g[g.length-1],b=c?y.right-p.left:p.right-y.left;b>u&&(u=b,this.minWidth=s,this.minWidthFrom=f,this.minWidthTo=v)}}}f=v+h.breakAfter}return i}},{key:"textDirectionAt",value:function(r){var i=this.childPos(r,1).i;return getComputedStyle(this.children[i].dom).direction=="rtl"?pr.RTL:pr.LTR}},{key:"measureTextSize",value:function(){var r,i=this,o=fe(this.children);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a instanceof Vo){var s=a.measureTextSize();if(s)return s}}}catch(f){o.e(f)}finally{o.f()}var l,u,c=document.createElement("div");return c.className="cm-line",c.style.width="99999px",c.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(function(){i.dom.appendChild(c);var f=sh(c.firstChild)[0];l=c.getBoundingClientRect().height,u=f?f.width/27:7,c.remove()}),{lineHeight:l,charWidth:u}}},{key:"childCursor",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.length,i=this.children.length;return i&&(r-=this.children[--i].length),new AF(this.children,r,i)}},{key:"computeBlockGapDeco",value:function(){for(var r=[],i=this.view.viewState,o=0,a=0;;a++){var s=a==i.viewports.length?null:i.viewports[a],l=s?s.from-1:this.length;if(l>o){var u=i.lineBlockAt(l).bottom-i.lineBlockAt(o).top;r.push(qt.replace({widget:new q5(u),block:!0,inclusive:!0,isBlockGap:!0}).range(o,l))}if(!s)break;o=s.to+1}return qt.set(r)}},{key:"updateDeco",value:function(){for(var r=this,i=this.view.state.facet(fh).map(function(a,s){return(r.dynamicDecorationMap[s]=typeof a=="function")?a(r.view):a}),o=i.length;o<i.length+3;o++)this.dynamicDecorationMap[o]=!1;return this.decorations=[].concat(Ut(i),[this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco])}},{key:"scrollIntoView",value:function(r){var i,o=this,a=r.range,s=this.coordsAt(a.head,a.empty?a.assoc:a.head>a.anchor?-1:1);if(s){!a.empty&&(i=this.coordsAt(a.anchor,a.anchor>a.head?-1:1))&&(s={left:Math.min(s.left,i.left),top:Math.min(s.top,i.top),right:Math.max(s.right,i.right),bottom:Math.max(s.bottom,i.bottom)});var l,u=0,c=0,f=0,d=0,h=fe(this.view.state.facet(ZF).map(function(w){return w(o.view)}));try{for(h.s();!(l=h.n()).done;){var v=l.value;if(v){var p=v.left,m=v.right,g=v.top,y=v.bottom;p!=null&&(u=Math.max(u,p)),m!=null&&(c=Math.max(c,m)),g!=null&&(f=Math.max(f,g)),y!=null&&(d=Math.max(d,y))}}}catch(w){h.e(w)}finally{h.f()}var b={left:s.left-u,top:s.top-f,right:s.right+c,bottom:s.bottom+d};(function(w,k,x,C,T,M,B,_){for(var N=w.ownerDocument,$=N.defaultView||window,j=w;j;)if(j.nodeType==1){var D=void 0,q=j==N.body;if(q)D=lWe($);else{if(j.scrollHeight<=j.clientHeight&&j.scrollWidth<=j.clientWidth){j=j.assignedSlot||j.parentNode;continue}var R=j.getBoundingClientRect();D={left:R.left,right:R.left+j.clientWidth,top:R.top,bottom:R.top+j.clientHeight}}var G=0,A=0;if(T=="nearest")k.top<D.top?(A=-(D.top-k.top+B),x>0&&k.bottom>D.bottom+A&&(A=k.bottom-D.bottom+A+B)):k.bottom>D.bottom&&(A=k.bottom-D.bottom+B,x<0&&k.top-A<D.top&&(A=-(D.top+A-k.top+B)));else{var I=k.bottom-k.top,z=D.bottom-D.top;A=(T=="center"&&I<=z?k.top+I/2-z/2:T=="start"||T=="center"&&x<0?k.top-B:k.bottom-z+B)-D.top}if(C=="nearest"?k.left<D.left?(G=-(D.left-k.left+M),x>0&&k.right>D.right+G&&(G=k.right-D.right+G+M)):k.right>D.right&&(G=k.right-D.right+M,x<0&&k.left<D.left+G&&(G=-(D.left+G-k.left+M))):G=(C=="center"?k.left+(k.right-k.left)/2-(D.right-D.left)/2:C=="start"==_?k.left-M:k.right-(D.right-D.left)+M)-D.left,G||A)if(q)$.scrollBy(G,A);else{var F=0,L=0;if(A){var O=j.scrollTop;j.scrollTop+=A,L=j.scrollTop-O}if(G){var V=j.scrollLeft;j.scrollLeft+=G,F=j.scrollLeft-V}k={left:k.left-F,top:k.top-L,right:k.right-F,bottom:k.bottom-L},F&&Math.abs(F-G)<1&&(C="nearest"),L&&Math.abs(L-A)<1&&(T="nearest")}if(q)break;j=j.assignedSlot||j.parentNode}else{if(j.nodeType!=11)break;j=j.host}})(this.view.scrollDOM,b,a.head<a.anchor?-1:1,r.x,r.y,r.xMargin,r.yMargin,this.view.textDirection==pr.LTR)}}}]),t}();function bWe(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}var q5=function(n){De(t,Tl);var e=Re(t);function t(r){var i;return re(this,t),(i=e.call(this)).height=r,i}return ie(t,[{key:"toDOM",value:function(){var r=document.createElement("div");return this.updateDOM(r),r}},{key:"eq",value:function(r){return r.height==this.height}},{key:"updateDOM",value:function(r){return r.style.height=this.height+"px",!0}},{key:"estimatedHeight",get:function(){return this.height}}]),t}();function tH(n){var e=n.observer.selectionRange,t=e.focusNode&&nH(e.focusNode,e.focusOffset,0);if(!t)return null;var r=n.docView.nearest(t);if(!r)return null;if(r instanceof Vo){for(var i=t;i.parentNode!=r.dom;)i=i.parentNode;for(var o=i.previousSibling;o&&!kr.get(o);)o=o.previousSibling;var a=o?kr.get(o).posAtEnd:r.posAtStart;return{from:a,to:a,node:i,text:t}}for(;;){var s=r.parent;if(!s)return null;if(s instanceof Vo)break;r=s}var l=r.posAtStart;return{from:l,to:l+r.length,node:r.dom,text:t}}var wWe=function(n){De(t,Tl);var e=Re(t);function t(r,i,o){var a;return re(this,t),(a=e.call(this)).top=r,a.text=i,a.topView=o,a}return ie(t,[{key:"eq",value:function(r){return this.top==r.top&&this.text==r.text}},{key:"toDOM",value:function(){return this.top}},{key:"ignoreEvent",value:function(){return!1}},{key:"customView",get:function(){return LF}}]),t}();function nH(n,e,t){for(;;){if(n.nodeType==3)return n;if(n.nodeType==1&&e>0&&t<=0)e=lh(n=n.childNodes[e-1]);else{if(!(n.nodeType==1&&e<n.childNodes.length&&t>=0))return null;n=n.childNodes[e],e=0}}}function kWe(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}var xWe=function(){function n(){re(this,n),this.changes=[]}return ie(n,[{key:"compareRange",value:function(e,t){mw(e,t,this.changes)}},{key:"comparePoint",value:function(e,t){mw(e,t,this.changes)}}]),n}();function jWe(n,e){for(var t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function CWe(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function SWe(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function Ky(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function F5(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function H5(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function kw(n,e,t){for(var r,i,o,a,s,l,u,c,f=!1,d=n.firstChild;d;d=d.nextSibling)for(var h=sh(d),v=0;v<h.length;v++){var p=h[v];i&&Ky(i,p)&&(p=F5(H5(p,i.bottom),i.top));var m=CWe(e,p),g=SWe(t,p);if(m==0&&g==0)return d.nodeType==3?V5(d,e,t):kw(d,e,t);(!r||a>g||a==g&&o>m)&&(r=d,i=p,o=m,a=g,f=!m||(m>0?v<h.length-1:v>0)),m==0?t>p.bottom&&(!u||u.bottom<p.bottom)?(s=d,u=p):t<p.top&&(!c||c.top>p.top)&&(l=d,c=p):u&&Ky(u,p)?u=H5(u,p.bottom):c&&Ky(c,p)&&(c=F5(c,p.top))}if(u&&u.bottom>=t?(r=s,i=u):c&&c.top<=t&&(r=l,i=c),!r)return{node:n,offset:0};var y=Math.max(i.left,Math.min(i.right,e));return r.nodeType==3?V5(r,y,t):f&&r.contentEditable!="false"?kw(r,y,t):{node:n,offset:Array.prototype.indexOf.call(n.childNodes,r)+(e>=(i.left+i.right)/2?1:0)}}function V5(n,e,t){for(var r=n.nodeValue.length,i=-1,o=1e9,a=0,s=0;s<r;s++)for(var l=cf(n,s,s+1).getClientRects(),u=0;u<l.length;u++){var c=l[u];if(c.top!=c.bottom){a||(a=e-c.left);var f=(c.top>t?c.top-t:t-c.bottom)-1;if(c.left-1<=e&&c.right+1>=e&&f<o){var d=e>=(c.left+c.right)/2,h=d;if((Mt.chrome||Mt.gecko)&&cf(n,s).getBoundingClientRect().left==c.right&&(h=!d),f<=0)return{node:n,offset:s+(h?1:0)};i=s+(h?1:0),o=f}}}return{node:n,offset:i>-1?i:a>0?n.nodeValue.length:0}}function W5(n,e,t){var r,i,o=e.x,a=e.y,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,l=n.contentDOM.getBoundingClientRect(),u=l.top+n.viewState.paddingTop,c=n.viewState.docHeight,f=a-u;if(f<0)return 0;if(f>c)return n.state.doc.length;for(var d=n.defaultLineHeight/2,h=!1;(i=n.elementAtHeight(f)).type!=Zn.Text;)for(;!((f=s>0?i.bottom+d:i.top-d)>=0&&f<=c);){if(h)return t?null:0;h=!0,s=-s}a=u+f;var v=i.from;if(v<n.viewport.from)return n.viewport.from==0?0:t?null:U5(n,l,i,o,a);if(v>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:U5(n,l,i,o,a);var p=n.dom.ownerDocument,m=n.root.elementFromPoint?n.root:p,g=m.elementFromPoint(o,a);g&&!n.contentDOM.contains(g)&&(g=null),g||(o=Math.max(l.left+1,Math.min(l.right-1,o)),(g=m.elementFromPoint(o,a))&&!n.contentDOM.contains(g)&&(g=null));var y,b=-1;if(g&&((r=n.docView.nearest(g))===null||r===void 0?void 0:r.isEditable)!=0){if(p.caretPositionFromPoint){var w=p.caretPositionFromPoint(o,a);w&&(y=w.offsetNode,b=w.offset)}else if(p.caretRangeFromPoint){var k=p.caretRangeFromPoint(o,a);k&&(y=k.startContainer,b=k.startOffset,(!n.contentDOM.contains(y)||Mt.safari&&TWe(y,b,o)||Mt.chrome&&OWe(y,b,o))&&(y=void 0))}}if(!y||!n.docView.dom.contains(y)){var x=Vo.find(n.docView,v);if(!x)return f>i.top+i.height/2?i.to:i.from;var C=kw(x.dom,o,a);y=C.node,b=C.offset}return n.docView.posFromDOM(y,b)}function U5(n,e,t,r,i){var o=Math.round((r-e.left)*n.defaultCharacterWidth);n.lineWrapping&&t.height>1.5*n.defaultLineHeight&&(o+=Math.floor((i-t.top)/n.defaultLineHeight)*n.viewState.heightOracle.lineLength);var a=n.state.sliceDoc(t.from,t.to);return t.from+ow(a,o,n.state.tabSize)}function TWe(n,e,t){var r;if(n.nodeType!=3||e!=(r=n.nodeValue.length))return!1;for(var i=n.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return cf(n,r-1,r).getBoundingClientRect().left>t}function OWe(n,e,t){if(e!=0)return!1;for(var r=n;;){var i=r.parentNode;if(!i||i.nodeType!=1||i.firstChild!=r)return!1;if(i.classList.contains("cm-line"))break;r=i}return t-(n.nodeType==1?n.getBoundingClientRect():cf(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect()).left>5}function EWe(n,e,t,r){var i=n.state.doc.lineAt(e.head),o=r&&n.lineWrapping?n.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head):null;if(o){var a=n.dom.getBoundingClientRect(),s=n.textDirectionAt(i.from),l=n.posAtCoords({x:t==(s==pr.LTR)?a.right-1:a.left+1,y:(o.top+o.bottom)/2});if(l!=null)return Ye.cursor(l,t?-1:1)}var u=Vo.find(n.docView,e.head),c=u?t?u.posAtEnd:u.posAtStart:t?i.to:i.from;return Ye.cursor(c,t?-1:1)}function J5(n,e,t,r){for(var i=n.state.doc.lineAt(e.head),o=n.bidiSpans(i),a=n.textDirectionAt(i.from),s=e,l=null;;){var u=yWe(i,o,a,s,t),c=XF;if(!u){if(i.number==(t?n.state.doc.lines:1))return s;c=`
`,i=n.state.doc.line(i.number+(t?1:-1)),o=n.bidiSpans(i),u=Ye.cursor(t?i.from:i.to)}if(l){if(!l(c))return s}else{if(!r)return u;l=r(c)}s=u}}function Qy(n,e,t){for(var r=n.state.facet(YF).map(function(s){return s(n)});;){var i,o=!1,a=fe(r);try{for(a.s();!(i=a.n()).done;)i.value.between(t.from-1,t.from+1,function(s,l,u){t.from>s&&t.from<l&&(t=e.head>t.from?Ye.cursor(s,1):Ye.cursor(l,-1),o=!0)})}catch(s){a.e(s)}finally{a.f()}if(!o)return t}}var MWe=function(){function n(e){var t=this;re(this,n),this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.mouseSelection=null;var r=function(o){var a=Wr[o];e.contentDOM.addEventListener(o,function(s){G5(e,s)&&!t.ignoreDuringComposition(s)&&(o=="keydown"&&t.keydown(e,s)||(t.mustFlushObserver(s)&&e.observer.forceFlush(),t.runCustomHandlers(o,e,s)?s.preventDefault():a(e,s)))},xw[o]),t.registeredEvents.push(o)};for(var i in Wr)r(i);Mt.chrome&&Mt.chrome_version==102&&e.scrollDOM.addEventListener("wheel",function(){t.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(t.chromeScrollHack),t.chromeScrollHack=setTimeout(function(){t.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,Mt.safari&&e.contentDOM.addEventListener("input",function(){return null})}return ie(n,[{key:"setSelectionOrigin",value:function(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}},{key:"ensureHandlers",value:function(e,t){var r,i,o=this;this.customHandlers=[];var a,s=fe(t);try{for(s.s();!(a=s.n()).done;){var l=a.value;if(i=(r=l.update(e).spec)===null||r===void 0?void 0:r.domEventHandlers){this.customHandlers.push({plugin:l.value,handlers:i});var u=function(f){o.registeredEvents.indexOf(f)<0&&f!="scroll"&&(o.registeredEvents.push(f),e.contentDOM.addEventListener(f,function(d){G5(e,d)&&o.runCustomHandlers(f,e,d)&&d.preventDefault()}))};for(var c in i)u(c)}}}catch(f){s.e(f)}finally{s.f()}}},{key:"runCustomHandlers",value:function(e,t,r){var i,o=fe(this.customHandlers);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=a.handlers[e];if(s)try{if(s.call(a.plugin,r,t)||r.defaultPrevented)return!0}catch(l){co(t.state,l)}}}catch(l){o.e(l)}finally{o.f()}return!1}},{key:"runScrollHandlers",value:function(e,t){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;var r,i=fe(this.customHandlers);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.handlers.scroll;if(a)try{a.call(o.plugin,t,e)}catch(s){co(e.state,s)}}}catch(s){i.e(s)}finally{i.f()}}},{key:"keydown",value:function(e,t){var r,i=this;return this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&Date.now()<this.lastEscPress+2e3||(!Mt.android||!Mt.chrome||t.synthetic||t.keyCode!=13&&t.keyCode!=8?!(!Mt.ios||t.synthetic||t.altKey||t.metaKey||!((r=rH.find(function(o){return o.keyCode==t.keyCode}))&&!t.ctrlKey||$We.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey))&&(this.pendingIOSKey=r||t,setTimeout(function(){return i.flushIOSKey(e)},250),!0):(e.observer.delayAndroidKey(t.key,t.keyCode),!0))}},{key:"flushIOSKey",value:function(e){var t=this.pendingIOSKey;return!!t&&(this.pendingIOSKey=void 0,Nc(e.contentDOM,t.key,t.keyCode))}},{key:"ignoreDuringComposition",value:function(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(Mt.safari&&!Mt.ios&&Date.now()-this.compositionEndedAt<100)&&(this.compositionEndedAt=0,!0))}},{key:"mustFlushObserver",value:function(e){return e.type=="keydown"&&e.keyCode!=229}},{key:"startMouseSelection",value:function(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}},{key:"update",value:function(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}},{key:"destroy",value:function(){this.mouseSelection&&this.mouseSelection.destroy()}}]),n}(),rH=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],$We="dthko",iH=[16,17,18,20,91,92,224,225],AWe=function(){function n(e,t,r,i){re(this,n),this.view=e,this.style=r,this.mustSelect=i,this.lastEvent=t;var o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Yn.allowMultipleSelections)&&function(a,s){var l=a.state.facet(HF);return l.length?l[0](s):Mt.mac?s.metaKey:s.ctrlKey}(e,t),this.dragMove=function(a,s){var l=a.state.facet(VF);return l.length?l[0](s):Mt.mac?!s.altKey:!s.ctrlKey}(e,t),this.dragging=!(!function(a,s){if(a.state.selection.main.empty)return!1;var l=Pm(a.root);if(!l||l.rangeCount==0)return!0;for(var u=l.getRangeAt(0).getClientRects(),c=0;c<u.length;c++){var f=u[c];if(f.left<=s.clientX&&f.right>=s.clientX&&f.top<=s.clientY&&f.bottom>=s.clientY)return!0}return!1}(e,t)||sH(t)!=1)&&null,this.dragging===!1&&(t.preventDefault(),this.select(t))}return ie(n,[{key:"move",value:function(e){if(e.buttons==0)return this.destroy();this.dragging===!1&&this.select(this.lastEvent=e)}},{key:"up",value:function(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}},{key:"destroy",value:function(){var e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}},{key:"select",value:function(e){var t=this.style.get(e,this.extend,this.multiple);!this.mustSelect&&t.eq(this.view.state.selection)&&t.main.assoc==this.view.state.selection.main.assoc||this.view.dispatch({selection:t,userEvent:"select.pointer",scrollIntoView:!0}),this.mustSelect=!1}},{key:"update",value:function(e){var t=this;e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(function(){return t.select(t.lastEvent)},20)}}]),n}();function G5(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var t,r=e.target;r!=n.contentDOM;r=r.parentNode)if(!r||r.nodeType==11||(t=kr.get(r))&&t.ignoreEvent(e))return!1;return!0}var Wr=Object.create(null),xw=Object.create(null),oH=Mt.ie&&Mt.ie_version<15||Mt.ios&&Mt.webkit_version<604;function K5(n,e){var t,r=n.state,i=1,o=r.toText(e),a=o.lines==r.selection.ranges.length,s=jw!=null&&r.selection.ranges.every(function(u){return u.empty})&&jw==o.toString();if(s){var l=-1;t=r.changeByRange(function(u){var c=r.doc.lineAt(u.from);if(c.from==l)return{range:u};l=c.from;var f=r.toText((a?o.line(i++).text:e)+r.lineBreak);return{changes:{from:c.from,insert:f},range:Ye.cursor(u.from+f.length)}})}else t=a?r.changeByRange(function(u){var c=o.line(i++);return{changes:{from:u.from,to:u.to,insert:c.text},range:Ye.cursor(u.from+c.length)}}):r.replaceSelection(o);n.dispatch(t,{userEvent:"input.paste",scrollIntoView:!0})}function Q5(n,e,t,r){if(r==1)return Ye.cursor(e,t);if(r==2)return function(l,u){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,f=l.charCategorizer(u),d=l.doc.lineAt(u),h=u-d.from;if(d.length==0)return Ye.cursor(u);h==0?c=1:h==d.length&&(c=-1);var v=h,p=h;c<0?v=Oi(d.text,h,!1):p=Oi(d.text,h);for(var m=f(d.text.slice(v,p));v>0;){var g=Oi(d.text,v,!1);if(f(d.text.slice(g,v))!=m)break;v=g}for(;p<d.length;){var y=Oi(d.text,p);if(f(d.text.slice(p,y))!=m)break;p=y}return Ye.range(v+d.from,p+d.from)}(n.state,e,t);var i=Vo.find(n.docView,e),o=n.state.doc.lineAt(i?i.posAtEnd:e),a=i?i.posAtStart:o.from,s=i?i.posAtEnd:o.to;return s<n.state.doc.length&&s==o.to&&s++,Ye.range(a,s)}Wr.keydown=function(n,e){n.inputState.setSelectionOrigin("select"),e.keyCode==27?n.inputState.lastEscPress=Date.now():iH.indexOf(e.keyCode)<0&&(n.inputState.lastEscPress=0)},Wr.touchstart=function(n,e){n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")},Wr.touchmove=function(n){n.inputState.setSelectionOrigin("select.pointer")},xw.touchstart=xw.touchmove={passive:!0},Wr.mousedown=function(n,e){if(n.observer.flush(),!(n.inputState.lastTouchTime>Date.now()-2e3)){var t,r=null,i=fe(n.state.facet(WF));try{for(i.s();!(t=i.n()).done&&!(r=(0,t.value)(n,e)););}catch(a){i.e(a)}finally{i.f()}if(r||e.button!=0||(r=function(a,s){var l=Z5(a,s),u=sH(s),c=a.state.selection,f=l,d=s;return{update:function(h){h.docChanged&&(l.pos=h.changes.mapPos(l.pos),c=c.map(h.changes),d=null)},get:function(h,v,p){var m;d&&h.clientX==d.clientX&&h.clientY==d.clientY?m=f:(m=f=Z5(a,h),d=h);var g=Q5(a,m.pos,m.bias,u);if(l.pos!=m.pos&&!v){var y=Q5(a,l.pos,l.bias,u),b=Math.min(y.from,g.from),w=Math.max(y.to,g.to);g=b<g.from?Ye.range(b,w):Ye.range(w,b)}return v?c.replaceRange(c.main.extend(g.from,g.to)):p&&c.ranges.length>1&&c.ranges.some(function(k){return k.eq(g)})?function(k,x){for(var C=0;;C++)if(k.ranges[C].eq(x))return Ye.create(k.ranges.slice(0,C).concat(k.ranges.slice(C+1)),k.mainIndex==C?0:k.mainIndex-(k.mainIndex>C?1:0))}(c,g):p?c.addRange(g):Ye.create([g])}}}(n,e)),r){var o=n.root.activeElement!=n.contentDOM;o&&n.observer.ignore(function(){return MF(n.contentDOM)}),n.inputState.startMouseSelection(new AWe(n,e,r,o))}}};var aH=function(n,e){return n>=e.top&&n<=e.bottom},Y5=function(n,e,t){return aH(e,t)&&n>=t.left&&n<=t.right};function _We(n,e,t,r){var i=Vo.find(n.docView,e);if(!i)return 1;var o=e-i.posAtStart;if(o==0)return 1;if(o==i.length)return-1;var a=i.coordsAt(o,-1);if(a&&Y5(t,r,a))return-1;var s=i.coordsAt(o,1);return s&&Y5(t,r,s)?1:a&&aH(r,a)?-1:1}function Z5(n,e){var t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:_We(n,t,e.clientX,e.clientY)}}var NWe=Mt.ie&&Mt.ie_version<=11,X5=null,eN=0,tN=0;function sH(n){if(!NWe)return n.detail;var e=X5,t=tN;return X5=n,tN=Date.now(),eN=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(eN+1)%3:1}function nN(n,e,t,r){if(t){var i=n.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();var o=n.inputState.mouseSelection,a=r&&o&&o.dragging&&o.dragMove?{from:o.dragging.from,to:o.dragging.to}:null,s={from:i,insert:t},l=n.state.changes(a?[a,s]:s);n.focus(),n.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:a?"move.drop":"input.drop"})}}Wr.dragstart=function(n,e){var t=n.state.selection.main,r=n.inputState.mouseSelection;r&&(r.dragging=t),e.dataTransfer&&(e.dataTransfer.setData("Text",n.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove")},Wr.drop=function(n,e){if(e.dataTransfer){if(n.state.readOnly)return e.preventDefault();var t=e.dataTransfer.files;t&&t.length?function(){e.preventDefault();for(var r=Array(t.length),i=0,o=function(){++i==t.length&&nN(n,e,r.filter(function(l){return l!=null}).join(n.state.lineBreak),!1)},a=function(l){var u=new FileReader;u.onerror=o,u.onload=function(){/[\x00-\x08\x0e-\x1f]{2}/.test(u.result)||(r[l]=u.result),o()},u.readAsText(t[l])},s=0;s<t.length;s++)a(s)}():nN(n,e,e.dataTransfer.getData("Text"),!0)}},Wr.paste=function(n,e){if(n.state.readOnly)return e.preventDefault();n.observer.flush();var t=oH?null:e.clipboardData;t?(K5(n,t.getData("text/plain")),e.preventDefault()):function(r){var i=r.dom.parentNode;if(i){var o=i.appendChild(document.createElement("textarea"));o.style.cssText="position: fixed; left: -10000px; top: 10px",o.focus(),setTimeout(function(){r.focus(),o.remove(),K5(r,o.value)},50)}}(n)};var jw=null;function rN(n){setTimeout(function(){n.hasFocus!=n.inputState.notifiedFocused&&n.update([])},10)}Wr.copy=Wr.cut=function(n,e){var t=function(s){var l,u=[],c=[],f=!1,d=fe(s.selection.ranges);try{for(d.s();!(l=d.n()).done;){var h=l.value;h.empty||(u.push(s.sliceDoc(h.from,h.to)),c.push(h))}}catch(b){d.e(b)}finally{d.f()}if(!u.length){var v,p=-1,m=fe(s.selection.ranges);try{for(m.s();!(v=m.n()).done;){var g=v.value.from,y=s.doc.lineAt(g);y.number>p&&(u.push(y.text),c.push({from:y.from,to:Math.min(s.doc.length,y.to+1)})),p=y.number}}catch(b){m.e(b)}finally{m.f()}f=!0}return{text:u.join(s.lineBreak),ranges:c,linewise:f}}(n.state),r=t.text,i=t.ranges,o=t.linewise;if(r||o){jw=o?r:null;var a=oH?null:e.clipboardData;a?(e.preventDefault(),a.clearData(),a.setData("text/plain",r)):function(s,l){var u=s.dom.parentNode;if(u){var c=u.appendChild(document.createElement("textarea"));c.style.cssText="position: fixed; left: -10000px; top: 10px",c.value=l,c.focus(),c.selectionEnd=l.length,c.selectionStart=0,setTimeout(function(){c.remove(),s.focus()},50)}}(n,r),e.type!="cut"||n.state.readOnly||n.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})}},Wr.focus=function(n){n.inputState.lastFocusTime=Date.now(),n.scrollDOM.scrollTop||!n.inputState.lastScrollTop&&!n.inputState.lastScrollLeft||(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),rN(n)},Wr.blur=function(n){n.observer.clearSelectionRange(),rN(n)},Wr.compositionstart=Wr.compositionupdate=function(n){n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0)},Wr.compositionend=function(n){n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionFirstChange=null,Mt.chrome&&Mt.android&&n.observer.flushSoon(),setTimeout(function(){n.inputState.composing<0&&n.docView.compositionDeco.size&&n.update([])},50)},Wr.contextmenu=function(n){n.inputState.lastContextMenu=Date.now()},Wr.beforeinput=function(n,e){var t,r;if(Mt.chrome&&Mt.android&&(r=rH.find(function(o){return o.inputType==e.inputType}))&&(n.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){var i=((t=window.visualViewport)===null||t===void 0?void 0:t.height)||0;setTimeout(function(){var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>i+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}};var iN=["pre-wrap","normal","pre-line","break-spaces"],IWe=function(){function n(e){re(this,n),this.lineWrapping=e,this.doc=Vn.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}return ie(n,[{key:"heightForGap",value:function(e,t){var r=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.ceil((t-e-r*this.lineLength*.5)/this.lineLength)),this.lineHeight*r}},{key:"heightForLine",value:function(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}},{key:"setDoc",value:function(e){return this.doc=e,this}},{key:"mustRefreshForWrapping",value:function(e){return iN.indexOf(e)>-1!=this.lineWrapping}},{key:"mustRefreshForHeights",value:function(e){for(var t=!1,r=0;r<e.length;r++){var i=e[r];i<0?r++:this.heightSamples[Math.floor(10*i)]||(t=!0,this.heightSamples[Math.floor(10*i)]=!0)}return t}},{key:"refresh",value:function(e,t,r,i,o){var a=iN.indexOf(e)>-1,s=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=t,this.charWidth=r,this.lineLength=i,s){this.heightSamples={};for(var l=0;l<o.length;l++){var u=o[l];u<0?l++:this.heightSamples[Math.floor(10*u)]=!0}}return s}}]),n}(),PWe=function(){function n(e,t){re(this,n),this.from=e,this.heights=t,this.index=0}return ie(n,[{key:"more",get:function(){return this.index<this.heights.length}}]),n}(),wc=function(){function n(e,t,r,i,o){re(this,n),this.from=e,this.length=t,this.top=r,this.height=i,this.type=o}return ie(n,[{key:"to",get:function(){return this.from+this.length}},{key:"bottom",get:function(){return this.top+this.height}},{key:"join",value:function(e){var t=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new n(this.from,this.length+e.length,this.top,this.height+e.height,t)}}]),n}(),rr=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(rr||(rr={})),Xo=function(){function n(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2;re(this,n),this.length=e,this.height=t,this.flags=r}return ie(n,[{key:"outdated",get:function(){return(2&this.flags)>0},set:function(e){this.flags=(e?2:0)|-3&this.flags}},{key:"setHeight",value:function(e,t){this.height!=t&&(Math.abs(this.height-t)>.001&&(e.heightChanged=!0),this.height=t)}},{key:"replace",value:function(e,t,r){return n.of(r)}},{key:"decomposeLeft",value:function(e,t){t.push(this)}},{key:"decomposeRight",value:function(e,t){t.push(this)}},{key:"applyChanges",value:function(e,t,r,i){for(var o=this,a=i.length-1;a>=0;a--){var s=i[a],l=s.fromA,u=s.toA,c=s.fromB,f=s.toB,d=o.lineAt(l,rr.ByPosNoHeight,t,0,0),h=d.to>=u?d:o.lineAt(u,rr.ByPosNoHeight,t,0,0);for(f+=h.to-u,u=h.to;a>0&&d.from<=i[a-1].toA;)l=i[a-1].fromA,c=i[a-1].fromB,a--,l<d.from&&(d=o.lineAt(l,rr.ByPosNoHeight,t,0,0));c+=d.from-l,l=d.from;var v=DWe.build(r,e,c,f);o=o.replace(l,u,v)}return o.updateHeight(r,0)}}],[{key:"empty",value:function(){return new xa(0,0)}},{key:"of",value:function(e){if(e.length==1)return e[0];for(var t=0,r=e.length,i=0,o=0;;)if(t==r)if(i>2*o){var a=e[t-1];a.break?e.splice(--t,1,a.left,null,a.right):e.splice(--t,1,a.left,a.right),r+=1+a.break,i-=a.size}else{if(!(o>2*i))break;var s=e[r];s.break?e.splice(r,1,s.left,null,s.right):e.splice(r,1,s.left,s.right),r+=2+s.break,o-=s.size}else if(i<o){var l=e[t++];l&&(i+=l.size)}else{var u=e[--r];u&&(o+=u.size)}var c=0;return e[t-1]==null?(c=1,t--):e[t]==null&&(c=1,r++),new LWe(n.of(e.slice(0,t)),c,n.of(e.slice(r)))}}]),n}();Xo.prototype.size=1;var lH=function(n){De(t,Xo);var e=Re(t);function t(r,i,o){var a;return re(this,t),(a=e.call(this,r,i)).type=o,a}return ie(t,[{key:"blockAt",value:function(r,i,o,a){return new wc(a,this.length,o,this.height,this.type)}},{key:"lineAt",value:function(r,i,o,a,s){return this.blockAt(0,o,a,s)}},{key:"forEachLine",value:function(r,i,o,a,s,l){r<=s+this.length&&i>=s&&l(this.blockAt(0,o,a,s))}},{key:"updateHeight",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>3?arguments[3]:void 0;return o&&o.from<=i&&o.more&&this.setHeight(r,o.heights[o.index++]),this.outdated=!1,this}},{key:"toString",value:function(){return"block(".concat(this.length,")")}}]),t}(),xa=function(n){De(t,lH);var e=Re(t);function t(r,i){var o;return re(this,t),(o=e.call(this,r,i,Zn.Text)).collapsed=0,o.widgetHeight=0,o}return ie(t,[{key:"replace",value:function(r,i,o){var a=o[0];return o.length==1&&(a instanceof t||a instanceof Pc&&4&a.flags)&&Math.abs(this.length-a.length)<10?(a instanceof Pc?a=new t(a.length,this.height):a.height=this.height,this.outdated||(a.outdated=!1),a):Xo.of(o)}},{key:"updateHeight",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],a=arguments.length>3?arguments[3]:void 0;return a&&a.from<=i&&a.more?this.setHeight(r,a.heights[a.index++]):(o||this.outdated)&&this.setHeight(r,Math.max(this.widgetHeight,r.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}},{key:"toString",value:function(){return"line(".concat(this.length).concat(this.collapsed?-this.collapsed:"").concat(this.widgetHeight?":"+this.widgetHeight:"",")")}}]),t}(),Pc=function(n){De(t,Xo);var e=Re(t);function t(r){return re(this,t),e.call(this,r,0)}return ie(t,[{key:"lines",value:function(r,i){var o=r.lineAt(i).number,a=r.lineAt(i+this.length).number;return{firstLine:o,lastLine:a,lineHeight:this.height/(a-o+1)}}},{key:"blockAt",value:function(r,i,o,a){var s=this.lines(i,a),l=s.firstLine,u=s.lastLine,c=s.lineHeight,f=Math.max(0,Math.min(u-l,Math.floor((r-o)/c))),d=i.line(l+f),h=d.from,v=d.length;return new wc(h,v,o+c*f,c,Zn.Text)}},{key:"lineAt",value:function(r,i,o,a,s){if(i==rr.ByHeight)return this.blockAt(r,o,a,s);if(i==rr.ByPosNoHeight){var l=o.lineAt(r),u=l.from,c=l.to;return new wc(u,c-u,0,0,Zn.Text)}var f=this.lines(o,s),d=f.firstLine,h=f.lineHeight,v=o.lineAt(r),p=v.from,m=v.length,g=v.number;return new wc(p,m,a+h*(g-d),h,Zn.Text)}},{key:"forEachLine",value:function(r,i,o,a,s,l){for(var u=this.lines(o,s),c=u.firstLine,f=u.lineHeight,d=Math.max(r,s),h=Math.min(s+this.length,i);d<=h;){var v=o.lineAt(d);d==r&&(a+=f*(v.number-c)),l(new wc(v.from,v.length,a,f,Zn.Text)),a+=f,d=v.to+1}}},{key:"replace",value:function(r,i,o){var a=this.length-i;if(a>0){var s=o[o.length-1];s instanceof t?o[o.length-1]=new t(s.length+a):o.push(null,new t(a-1))}if(r>0){var l=o[0];l instanceof t?o[0]=new t(r+l.length):o.unshift(new t(r-1),null)}return Xo.of(o)}},{key:"decomposeLeft",value:function(r,i){i.push(new t(r-1),null)}},{key:"decomposeRight",value:function(r,i){i.push(null,new t(this.length-r-1))}},{key:"updateHeight",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],a=arguments.length>3?arguments[3]:void 0,s=i+this.length;if(a&&a.from<=i+this.length&&a.more){var l=[],u=Math.max(i,a.from),c=-1,f=r.heightChanged;for(a.from>i&&l.push(new t(a.from-i-1).updateHeight(r,i));u<=s&&a.more;){var d=r.doc.lineAt(u).length;l.length&&l.push(null);var h=a.heights[a.index++];c==-1?c=h:Math.abs(h-c)>=.001&&(c=-2);var v=new xa(d,h);v.outdated=!1,l.push(v),u+=d+1}u<=s&&l.push(null,new t(s-u).updateHeight(r,u));var p=Xo.of(l);return r.heightChanged=f||c<0||Math.abs(p.height-this.height)>=.001||Math.abs(c-this.lines(r.doc,i).lineHeight)>=.001,p}return(o||this.outdated)&&(this.setHeight(r,r.heightForGap(i,i+this.length)),this.outdated=!1),this}},{key:"toString",value:function(){return"gap(".concat(this.length,")")}}]),t}(),LWe=function(n){De(t,Xo);var e=Re(t);function t(r,i,o){var a;return re(this,t),(a=e.call(this,r.length+i+o.length,r.height+o.height,i|(r.outdated||o.outdated?2:0))).left=r,a.right=o,a.size=r.size+o.size,a}return ie(t,[{key:"break",get:function(){return 1&this.flags}},{key:"blockAt",value:function(r,i,o,a){var s=o+this.left.height;return r<s?this.left.blockAt(r,i,o,a):this.right.blockAt(r,i,s,a+this.left.length+this.break)}},{key:"lineAt",value:function(r,i,o,a,s){var l=a+this.left.height,u=s+this.left.length+this.break,c=i==rr.ByHeight?r<l:r<u,f=c?this.left.lineAt(r,i,o,a,s):this.right.lineAt(r,i,o,l,u);if(this.break||(c?f.to<u:f.from>u))return f;var d=i==rr.ByPosNoHeight?rr.ByPosNoHeight:rr.ByPos;return c?f.join(this.right.lineAt(u,d,o,l,u)):this.left.lineAt(u,d,o,a,s).join(f)}},{key:"forEachLine",value:function(r,i,o,a,s,l){var u=a+this.left.height,c=s+this.left.length+this.break;if(this.break)r<c&&this.left.forEachLine(r,i,o,a,s,l),i>=c&&this.right.forEachLine(r,i,o,u,c,l);else{var f=this.lineAt(c,rr.ByPos,o,a,s);r<f.from&&this.left.forEachLine(r,f.from-1,o,a,s,l),f.to>=r&&f.from<=i&&l(f),i>f.to&&this.right.forEachLine(f.to+1,i,o,u,c,l)}}},{key:"replace",value:function(r,i,o){var a=this.left.length+this.break;if(i<a)return this.balanced(this.left.replace(r,i,o),this.right);if(r>this.left.length)return this.balanced(this.left,this.right.replace(r-a,i-a,o));var s=[];r>0&&this.decomposeLeft(r,s);var l,u=s.length,c=fe(o);try{for(c.s();!(l=c.n()).done;){var f=l.value;s.push(f)}}catch(h){c.e(h)}finally{c.f()}if(r>0&&oN(s,u-1),i<this.length){var d=s.length;this.decomposeRight(i,s),oN(s,d)}return Xo.of(s)}},{key:"decomposeLeft",value:function(r,i){var o=this.left.length;if(r<=o)return this.left.decomposeLeft(r,i);i.push(this.left),this.break&&r>=++o&&i.push(null),r>o&&this.right.decomposeLeft(r-o,i)}},{key:"decomposeRight",value:function(r,i){var o=this.left.length,a=o+this.break;if(r>=a)return this.right.decomposeRight(r-a,i);r<o&&this.left.decomposeRight(r,i),this.break&&r<a&&i.push(null),i.push(this.right)}},{key:"balanced",value:function(r,i){return r.size>2*i.size||i.size>2*r.size?Xo.of(this.break?[r,null,i]:[r,i]):(this.left=r,this.right=i,this.height=r.height+i.height,this.outdated=r.outdated||i.outdated,this.size=r.size+i.size,this.length=r.length+this.break+i.length,this)}},{key:"updateHeight",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],a=arguments.length>3?arguments[3]:void 0,s=this.left,l=this.right,u=i+s.length+this.break,c=null;return a&&a.from<=i+s.length&&a.more?c=s=s.updateHeight(r,i,o,a):s.updateHeight(r,i,o),a&&a.from<=u+l.length&&a.more?c=l=l.updateHeight(r,u,o,a):l.updateHeight(r,u,o),c?this.balanced(s,l):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}},{key:"toString",value:function(){return this.left+(this.break?" ":"-")+this.right}}]),t}();function oN(n,e){var t,r;n[e]==null&&(t=n[e-1])instanceof Pc&&(r=n[e+1])instanceof Pc&&n.splice(e-1,3,new Pc(t.length+1+r.length))}var DWe=function(){function n(e,t){re(this,n),this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}return ie(n,[{key:"isCovered",get:function(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}},{key:"span",value:function(e,t){if(this.lineStart>-1){var r=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof xa?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new xa(r-this.pos,-1)),this.writtenTo=r,t>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}},{key:"point",value:function(e,t,r){if(e<t||r.heightRelevant){var i=r.widget?r.widget.estimatedHeight:0;i<0&&(i=this.oracle.lineHeight);var o=t-e;r.block?this.addBlock(new lH(o,i,r.type)):(o||i>=5)&&this.addLineDeco(i,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}},{key:"enterLine",value:function(){if(!(this.lineStart>-1)){var e=this.oracle.doc.lineAt(this.pos),t=e.from,r=e.to;this.lineStart=t,this.lineEnd=r,this.writtenTo<t&&((this.writtenTo<t-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new xa(this.pos-t,-1)),this.writtenTo=this.pos}}},{key:"blankContent",value:function(e,t){var r=new Pc(t-e);return this.oracle.doc.lineAt(e).to==t&&(r.flags|=4),r}},{key:"ensureLine",value:function(){this.enterLine();var e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof xa)return e;var t=new xa(0,-1);return this.nodes.push(t),t}},{key:"addBlock",value:function(e){this.enterLine(),e.type!=Zn.WidgetAfter||this.isCovered||this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=Zn.WidgetBefore&&(this.covering=e)}},{key:"addLineDeco",value:function(e,t){var r=this.ensureLine();r.length+=t,r.collapsed+=t,r.widgetHeight=Math.max(r.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}},{key:"finish",value:function(e){var t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof xa||this.isCovered?(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new xa(0,-1));var r,i=e,o=fe(this.nodes);try{for(o.s();!(r=o.n()).done;){var a=r.value;a instanceof xa&&a.updateHeight(this.oracle,i),i+=a?a.length:1}}catch(s){o.e(s)}finally{o.f()}return this.nodes}}],[{key:"build",value:function(e,t,r,i){var o=new n(r,e);return or.spans(t,r,i,o,0),o.finish(r)}}]),n}();function RWe(n,e,t){var r=new BWe;return or.compare(n,e,t,r,0),r.changes}var BWe=function(){function n(){re(this,n),this.changes=[]}return ie(n,[{key:"compareRange",value:function(){}},{key:"comparePoint",value:function(e,t,r,i){(e<t||r&&r.heightRelevant||i&&i.heightRelevant)&&mw(e,t,this.changes,5)}}]),n}();function zWe(n,e){for(var t=n.getBoundingClientRect(),r=n.ownerDocument,i=r.defaultView||window,o=Math.max(0,t.left),a=Math.min(i.innerWidth,t.right),s=Math.max(0,t.top),l=Math.min(i.innerHeight,t.bottom),u=n.parentNode;u&&u!=r.body;)if(u.nodeType==1){var c=u,f=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&f.overflow!="visible"){var d=c.getBoundingClientRect();o=Math.max(o,d.left),a=Math.min(a,d.right),s=Math.max(s,d.top),l=u==n.parentNode?d.bottom:Math.min(l,d.bottom)}u=f.position=="absolute"||f.position=="fixed"?c.offsetParent:c.parentNode}else{if(u.nodeType!=11)break;u=u.host}return{left:o-t.left,right:Math.max(o,a)-t.left,top:s-(t.top+e),bottom:Math.max(s,l)-(t.top+e)}}function qWe(n,e){var t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}var Yy=function(){function n(e,t,r){re(this,n),this.from=e,this.to=t,this.size=r}return ie(n,[{key:"draw",value:function(e){return qt.replace({widget:new FWe(this.size,e)}).range(this.from,this.to)}}],[{key:"same",value:function(e,t){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++){var i=e[r],o=t[r];if(i.from!=o.from||i.to!=o.to||i.size!=o.size)return!1}return!0}}]),n}(),FWe=function(n){De(t,Tl);var e=Re(t);function t(r,i){var o;return re(this,t),(o=e.call(this)).size=r,o.vertical=i,o}return ie(t,[{key:"eq",value:function(r){return r.size==this.size&&r.vertical==this.vertical}},{key:"toDOM",value:function(){var r=document.createElement("div");return this.vertical?r.style.height=this.size+"px":(r.style.width=this.size+"px",r.style.height="2px",r.style.display="inline-block"),r}},{key:"estimatedHeight",get:function(){return this.vertical?this.size:-1}}]),t}(),aN=function(){function n(e){re(this,n),this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scaler=sN,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=pr.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;var t=e.facet(J2).some(function(r){return typeof r!="function"&&r.class=="cm-lineWrapping"});this.heightOracle=new IWe(t),this.stateDeco=e.facet(fh).filter(function(r){return typeof r!="function"}),this.heightMap=Xo.empty().applyChanges(this.stateDeco,Vn.empty,this.heightOracle.setDoc(e.doc),[new Ic(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=qt.set(this.lineGaps.map(function(r){return r.draw(!1)})),this.computeVisibleRanges()}return ie(n,[{key:"updateForViewport",value:function(){for(var e=this,t=[this.viewport],r=this.state.selection.main,i=function(a){var s=a?r.head:r.anchor;if(!t.some(function(f){var d=f.from,h=f.to;return s>=d&&s<=h})){var l=e.lineBlockAt(s),u=l.from,c=l.to;t.push(new Dp(u,c))}},o=0;o<=1;o++)i(o);this.viewports=t.sort(function(a,s){return a.from-s.from}),this.scaler=this.heightMap.height<=7e6?sN:new VWe(this.heightOracle.doc,this.heightMap,this.viewports)}},{key:"updateViewportLines",value:function(){var e=this;this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,function(t){e.viewportLines.push(e.scaler.scale==1?t:pd(t,e.scaler))})}},{key:"update",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.state=e.state;var r=this.stateDeco;this.stateDeco=this.state.facet(fh).filter(function(u){return typeof u!="function"});var i=e.changedRanges,o=Ic.extendWithRanges(i,RWe(r,this.stateDeco,e?e.changes:ua.empty(this.state.doc.length))),a=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),this.heightMap.height!=a&&(e.flags|=2);var s=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<s.from||t.range.head>s.to)||!this.viewportIsAppropriate(s))&&(s=this.getViewport(0,t));var l=!e.changes.empty||2&e.flags||s.from!=this.viewport.from||s.to!=this.viewport.to;this.viewport=s,this.updateForViewport(),l&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(KF)&&(this.mustEnforceCursorAssoc=!0)}},{key:"measure",value:function(e){var t=e.contentDOM,r=window.getComputedStyle(t),i=this.heightOracle,o=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?pr.RTL:pr.LTR;var a=this.heightOracle.mustRefreshForWrapping(o),s=a||this.mustMeasureContent||this.contentDOMHeight!=t.clientHeight;this.contentDOMHeight=t.clientHeight,this.mustMeasureContent=!1;var l=0,u=0,c=parseInt(r.paddingTop)||0,f=parseInt(r.paddingBottom)||0;this.paddingTop==c&&this.paddingBottom==f||(this.paddingTop=c,this.paddingBottom=f,l|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(s=!0),this.editorWidth=e.scrollDOM.clientWidth,l|=8);var d=(this.printing?qWe:zWe)(t,this.paddingTop),h=d.top-this.pixelViewport.top,v=d.bottom-this.pixelViewport.bottom;this.pixelViewport=d;var p=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(p!=this.inView&&(this.inView=p,p&&(s=!0)),!this.inView&&!this.scrollTarget)return 0;var m=t.clientWidth;if(this.contentDOMWidth==m&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=m,this.editorHeight=e.scrollDOM.clientHeight,l|=8),s){var g=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(g)&&(a=!0),a||i.lineWrapping&&Math.abs(m-this.contentDOMWidth)>i.charWidth){var y=e.docView.measureTextSize(),b=y.lineHeight,w=y.charWidth;(a=b>0&&i.refresh(o,b,w,m/w,g))&&(e.docView.minWidth=0,l|=8)}h>0&&v>0?u=Math.max(h,v):h<0&&v<0&&(u=Math.min(h,v)),i.heightChanged=!1;var k,x=fe(this.viewports);try{for(x.s();!(k=x.n()).done;){var C=k.value,T=C.from==this.viewport.from?g:e.docView.measureVisibleLineHeights(C);this.heightMap=(a?Xo.empty().applyChanges(this.stateDeco,Vn.empty,this.heightOracle,[new Ic(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,a,new PWe(C.from,T))}}catch(B){x.e(B)}finally{x.f()}i.heightChanged&&(l|=2)}var M=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return M&&(this.viewport=this.getViewport(u,this.scrollTarget)),this.updateForViewport(),(2&l||M)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,e)),l|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),l}},{key:"visibleTop",get:function(){return this.scaler.fromDOM(this.pixelViewport.top)}},{key:"visibleBottom",get:function(){return this.scaler.fromDOM(this.pixelViewport.bottom)}},{key:"getViewport",value:function(e,t){var r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,o=this.state.doc,a=this.visibleTop,s=this.visibleBottom,l=new Dp(i.lineAt(a-1e3*r,rr.ByHeight,o,0,0).from,i.lineAt(s+1e3*(1-r),rr.ByHeight,o,0,0).to);if(t){var u=t.range.head;if(u<l.from||u>l.to){var c,f=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),d=i.lineAt(u,rr.ByPos,o,0,0);c=t.y=="center"?(d.top+d.bottom)/2-f/2:t.y=="start"||t.y=="nearest"&&u<l.from?d.top:d.bottom-f,l=new Dp(i.lineAt(c-500,rr.ByHeight,o,0,0).from,i.lineAt(c+f+500,rr.ByHeight,o,0,0).to)}}return l}},{key:"mapViewport",value:function(e,t){var r=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new Dp(this.heightMap.lineAt(r,rr.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(i,rr.ByPos,this.state.doc,0,0).to)}},{key:"viewportIsAppropriate",value:function(e){var t=e.from,r=e.to,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!this.inView)return!0;var o=this.heightMap.lineAt(t,rr.ByPos,this.state.doc,0,0),a=o.top,s=this.heightMap.lineAt(r,rr.ByPos,this.state.doc,0,0),l=s.bottom,u=this.visibleTop,c=this.visibleBottom;return(t==0||a<=u-Math.max(10,Math.min(-i,250)))&&(r==this.state.doc.length||l>=c+Math.max(10,Math.min(i,250)))&&a>u-2e3&&l<c+2e3}},{key:"mapLineGaps",value:function(e,t){if(!e.length||t.empty)return e;var r,i=[],o=fe(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;t.touchesRange(a.from,a.to)||i.push(new Yy(t.mapPos(a.from),t.mapPos(a.to),a.size))}}catch(s){o.e(s)}finally{o.f()}return i}},{key:"ensureLineGaps",value:function(e,t){var r=this,i=this.heightOracle.lineWrapping,o=i?1e4:2e3,a=o>>1,s=o<<1;if(this.defaultTextDirection!=pr.LTR&&!i)return[];var l,u=[],c=function N($,j,D,q){if(!(j-$<a)){var R=r.state.selection.main,G=[R.from];R.empty||G.push(R.to);for(var A=0,I=G;A<I.length;A++){var z=I[A];if(z>$&&z<j)return N($,z-10,D,q),void N(z+10,j,D,q)}var F=function(O,V){var Z,te=fe(O);try{for(te.s();!(Z=te.n()).done;){var ve=Z.value;if(V(ve))return ve}}catch(ue){te.e(ue)}finally{te.f()}}(e,function(O){return O.from>=D.from&&O.to<=D.to&&Math.abs(O.from-$)<a&&Math.abs(O.to-j)<a&&!G.some(function(V){return O.from<V&&O.to>V})});if(!F){if(j<D.to&&t&&i&&t.visibleRanges.some(function(O){return O.from<=j&&O.to>=j})){var L=t.moveToLineBoundary(Ye.cursor(j),!1,!0).head;L>$&&(j=L)}F=new Yy($,j,r.gapSize(D,$,j,q))}u.push(F)}},f=fe(this.viewportLines);try{for(f.s();!(l=f.n()).done;){var d=l.value;if(!(d.length<s)){var h=HWe(d.from,d.to,this.stateDeco);if(!(h.total<s)){var v=this.scrollTarget?this.scrollTarget.range.head:null,p=void 0,m=void 0;if(i){var g=o/this.heightOracle.lineLength*this.heightOracle.lineHeight,y=void 0,b=void 0;if(v!=null){var w=Bp(h,v),k=((this.visibleBottom-this.visibleTop)/2+g)/d.height;y=w-k,b=w+k}else y=(this.visibleTop-d.top-g)/d.height,b=(this.visibleBottom-d.top+g)/d.height;p=Rp(h,y),m=Rp(h,b)}else{var x=h.total*this.heightOracle.charWidth,C=o*this.heightOracle.charWidth,T=void 0,M=void 0;if(v!=null){var B=Bp(h,v),_=((this.pixelViewport.right-this.pixelViewport.left)/2+C)/x;T=B-_,M=B+_}else T=(this.pixelViewport.left-C)/x,M=(this.pixelViewport.right+C)/x;p=Rp(h,T),m=Rp(h,M)}p>d.from&&c(d.from,p,d,h),m<d.to&&c(m,d.to,d,h)}}}}catch(N){f.e(N)}finally{f.f()}return u}},{key:"gapSize",value:function(e,t,r,i){var o=Bp(i,r)-Bp(i,t);return this.heightOracle.lineWrapping?e.height*o:i.total*this.heightOracle.charWidth*o}},{key:"updateLineGaps",value:function(e){var t=this;Yy.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=qt.set(e.map(function(r){return r.draw(t.heightOracle.lineWrapping)})))}},{key:"computeVisibleRanges",value:function(){var e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));var t=[];or.spans(e,this.viewport.from,this.viewport.to,{span:function(i,o){t.push({from:i,to:o})},point:function(){}},20);var r=t.length!=this.visibleRanges.length||this.visibleRanges.some(function(i,o){return i.from!=t[o].from||i.to!=t[o].to});return this.visibleRanges=t,r?4:0}},{key:"lineBlockAt",value:function(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(function(t){return t.from<=e&&t.to>=e})||pd(this.heightMap.lineAt(e,rr.ByPos,this.state.doc,0,0),this.scaler)}},{key:"lineBlockAtHeight",value:function(e){return pd(this.heightMap.lineAt(this.scaler.fromDOM(e),rr.ByHeight,this.state.doc,0,0),this.scaler)}},{key:"elementAtHeight",value:function(e){return pd(this.heightMap.blockAt(this.scaler.fromDOM(e),this.state.doc,0,0),this.scaler)}},{key:"docHeight",get:function(){return this.scaler.toDOM(this.heightMap.height)}},{key:"contentHeight",get:function(){return this.docHeight+this.paddingTop+this.paddingBottom}}]),n}(),Dp=ie(function n(e,t){re(this,n),this.from=e,this.to=t});function HWe(n,e,t){var r=[],i=n,o=0;return or.spans(t,n,e,{span:function(){},point:function(a,s){a>i&&(r.push({from:i,to:a}),o+=a-i),i=s}},20),i<e&&(r.push({from:i,to:e}),o+=e-i),{total:o,ranges:r}}function Rp(n,e){var t=n.total,r=n.ranges;if(e<=0)return r[0].from;if(e>=1)return r[r.length-1].to;for(var i=Math.floor(t*e),o=0;;o++){var a=r[o],s=a.from,l=a.to-s;if(i<=l)return s+i;i-=l}}function Bp(n,e){var t,r=0,i=fe(n.ranges);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=o.from,s=o.to;if(e<=s){r+=e-a;break}r+=s-a}}catch(l){i.e(l)}finally{i.f()}return r/n.total}var sN={toDOM:function(n){return n},fromDOM:function(n){return n},scale:1},VWe=function(){function n(e,t,r){re(this,n);var i=0,o=0,a=0;this.viewports=r.map(function(c){var f=c.from,d=c.to,h=t.lineAt(f,rr.ByPos,e,0,0).top,v=t.lineAt(d,rr.ByPos,e,0,0).bottom;return i+=v-h,{from:f,to:d,top:h,bottom:v,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(t.height-i);var s,l=fe(this.viewports);try{for(l.s();!(s=l.n()).done;){var u=s.value;u.domTop=a+(u.top-o)*this.scale,a=u.domBottom=u.domTop+(u.bottom-u.top),o=u.bottom}}catch(c){l.e(c)}finally{l.f()}}return ie(n,[{key:"toDOM",value:function(e){for(var t=0,r=0,i=0;;t++){var o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.top)return i+(e-r)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);r=o.bottom,i=o.domBottom}}},{key:"fromDOM",value:function(e){for(var t=0,r=0,i=0;;t++){var o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.domTop)return r+(e-i)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);r=o.bottom,i=o.domBottom}}}]),n}();function pd(n,e){if(e.scale==1)return n;var t=e.toDOM(n.top),r=e.toDOM(n.bottom);return new wc(n.from,n.length,t,r-t,Array.isArray(n.type)?n.type.map(function(i){return pd(i,e)}):n.type)}var zp=Pt.define({combine:function(n){return n.join(" ")}}),Cw=Pt.define({combine:function(n){return n.indexOf(!0)>-1}}),Sw=vl.newName(),uH=vl.newName(),cH=vl.newName(),fH={"&light":"."+uH,"&dark":"."+cH};function Tw(n,e,t){return new vl(e,{finish:function(r){return/&/.test(r)?r.replace(/&\w*/,function(i){if(i=="&")return n;if(!t||!t[i])throw new RangeError("Unsupported selector: ".concat(i));return t[i]}):n+" "+r}})}var WWe=Tw("."+Sw,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},fH),UWe=ie(function n(e,t,r,i){re(this,n),this.typeOver=i,this.bounds=null,this.text="";var o=e.docView,a=o.impreciseHead,s=o.impreciseAnchor;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,r,0))){var l=a||s?[]:function(h){var v=[];if(h.root.activeElement!=h.contentDOM)return v;var p=h.observer.selectionRange,m=p.anchorNode,g=p.anchorOffset,y=p.focusNode,b=p.focusOffset;return m&&(v.push(new B5(m,g)),y==m&&b==g||v.push(new B5(y,b))),v}(e),u=new eH(l,e.state);u.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=u.text,this.newSel=function(h,v){if(h.length==0)return null;var p=h[0].pos,m=h.length==2?h[1].pos:p;return p>-1&&m>-1?Ye.single(p+v,m+v):null}(l,this.bounds.from)}else{var c=e.observer.selectionRange,f=a&&a.node==c.focusNode&&a.offset==c.focusOffset||!uf(e.contentDOM,c.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(c.focusNode,c.focusOffset),d=s&&s.node==c.anchorNode&&s.offset==c.anchorOffset||!uf(e.contentDOM,c.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(c.anchorNode,c.anchorOffset);this.newSel=Ye.single(d,f)}});function dH(n,e){var t,r=e.newSel,i=n.state.selection.main;if(e.bounds){var o=e.bounds,a=o.from,s=o.to,l=i.from,u=null;(n.inputState.lastKeyCode===8&&n.inputState.lastKeyTime>Date.now()-100||Mt.android&&e.text.length<s-a)&&(l=i.to,u="end");var c=function(M,B,_,N){for(var $=Math.min(M.length,B.length),j=0;j<$&&M.charCodeAt(j)==B.charCodeAt(j);)j++;if(j==$&&M.length==B.length)return null;for(var D=M.length,q=B.length;D>0&&q>0&&M.charCodeAt(D-1)==B.charCodeAt(q-1);)D--,q--;return N=="end"&&(_-=D+Math.max(0,j-Math.min(D,q))-j),D<j&&M.length<B.length?(q=(j-=_<=j&&_>=D?j-_:0)+(q-D),D=j):q<j&&(D=(j-=_<=j&&_>=q?j-_:0)+(D-q),q=j),{from:j,toA:D,toB:q}}(n.state.doc.sliceString(a,s,"\uFFFF"),e.text,l-a,u);c&&(Mt.chrome&&n.inputState.lastKeyCode==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)=="\uFFFF\uFFFF"&&c.toB--,t={from:a+c.from,to:a+c.toA,insert:Vn.of(e.text.slice(c.from,c.toB).split("\uFFFF"))})}else!r||n.hasFocus&&n.state.facet(g0)&&!r.main.eq(i)||(r=null);if(!t&&!r)return!1;if(!t&&e.typeOver&&!i.empty&&r&&r.main.empty?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,i.to)}:t&&t.from>=i.from&&t.to<=i.to&&(t.from!=i.from||t.to!=i.to)&&i.to-i.from-(t.to-t.from)<=4?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,i.to))}:(Mt.mac||Mt.android)&&t&&t.from==t.to&&t.from==i.head-1&&/^\. ?$/.test(t.insert.toString())?(r&&t.insert.length==2&&(r=Ye.single(r.main.anchor-1,r.main.head-1)),t={from:i.from,to:i.to,insert:Vn.of([" "])}):Mt.chrome&&t&&t.from==t.to&&t.from==i.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(r&&(r=Ye.single(r.main.anchor-1,r.main.head-1)),t={from:i.from,to:i.to,insert:Vn.of([" "])}),t){var f=n.state;if(Mt.ios&&n.inputState.flushIOSKey(n)||Mt.android&&(t.from==i.from&&t.to==i.to&&t.insert.length==1&&t.insert.lines==2&&Nc(n.contentDOM,"Enter",13)||t.from==i.from-1&&t.to==i.to&&t.insert.length==0&&Nc(n.contentDOM,"Backspace",8)||t.from==i.from&&t.to==i.to+1&&t.insert.length==0&&Nc(n.contentDOM,"Delete",46)))return!0;var d,h=t.insert.toString();if(n.state.facet(JF).some(function(M){return M(n,t.from,t.to,h)}))return!0;if(n.inputState.composing>=0&&n.inputState.composing++,t.from>=i.from&&t.to<=i.to&&t.to-t.from>=(i.to-i.from)/3&&(!r||r.main.empty&&r.main.from==t.from+t.insert.length)&&n.inputState.composing<0){var v=i.from<t.from?f.sliceDoc(i.from,t.from):"",p=i.to>t.to?f.sliceDoc(t.to,i.to):"";d=f.replaceSelection(n.state.toText(v+t.insert.sliceString(0,void 0,n.state.lineBreak)+p))}else{var m=f.changes(t),g=r&&!f.selection.main.eq(r.main)&&r.main.to<=m.newLength?r.main:void 0;if(f.selection.ranges.length>1&&n.inputState.composing>=0&&t.to<=i.to&&t.to>=i.to-10){var y=n.state.sliceDoc(t.from,t.to),b=tH(n)||n.state.doc.lineAt(i.head),w=i.to-t.to,k=i.to-i.from;d=f.changeByRange(function(M){if(M.from==i.from&&M.to==i.to)return{changes:m,range:g||M.map(m)};var B=M.to-w,_=B-y.length;if(M.to-M.from!=k||n.state.sliceDoc(_,B)!=y||b&&M.to>=b.from&&M.from<=b.to)return{range:M};var N=f.changes({from:_,to:B,insert:t.insert}),$=M.to-i.to;return{changes:N,range:g?Ye.range(Math.max(0,g.anchor+$),Math.max(0,g.head+$)):M.map(N)}})}else d={changes:m,selection:g&&f.selection.replaceRange(g)}}var x="input.type";return n.composing&&(x+=".compose",n.inputState.compositionFirstChange&&(x+=".start",n.inputState.compositionFirstChange=!1)),n.dispatch(d,{scrollIntoView:!0,userEvent:x}),!0}if(r&&!r.main.eq(i)){var C=!1,T="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(C=!0),T=n.inputState.lastSelectionOrigin),n.dispatch({selection:r,scrollIntoView:C,userEvent:T}),!0}return!1}var JWe={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Zy=Mt.ie&&Mt.ie_version<=11,GWe=function(){function n(e){var t=this;re(this,n),this.view=e,this.active=!1,this.selectionRange=new uWe,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resize=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(function(r){var i,o=fe(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;t.queue.push(a)}}catch(s){o.e(s)}finally{o.f()}(Mt.ie&&Mt.ie_version<=11||Mt.ios&&e.composing)&&r.some(function(s){return s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length})?t.flushSoon():t.flush()}),Zy&&(this.onCharData=function(r){t.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),t.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resize=new ResizeObserver(function(){var r;((r=t.view.docView)===null||r===void 0?void 0:r.lastUpdate)<Date.now()-75&&t.onResize()}),this.resize.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(function(r){t.parentCheck<0&&(t.parentCheck=setTimeout(t.listenForScroll.bind(t),1e3)),r.length>0&&r[r.length-1].intersectionRatio>0!=t.intersecting&&(t.intersecting=!t.intersecting,t.intersecting!=t.view.inView&&t.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(function(r){r.length>0&&r[r.length-1].intersectionRatio>0&&t.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}return ie(n,[{key:"onScrollChanged",value:function(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}},{key:"onScroll",value:function(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}},{key:"onResize",value:function(){var e=this;this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(function(){e.resizeTimeout=-1,e.view.requestMeasure()},50))}},{key:"onPrint",value:function(){var e=this;this.view.viewState.printing=!0,this.view.measure(),setTimeout(function(){e.view.viewState.printing=!1,e.view.requestMeasure()},500)}},{key:"updateGaps",value:function(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some(function(o,a){return o!=e[a]}))){this.gapIntersection.disconnect();var t,r=fe(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;this.gapIntersection.observe(i)}}catch(o){r.e(o)}finally{r.f()}this.gaps=e}}},{key:"onSelectionChange",value:function(e){var t=this.selectionChanged;if(this.readSelectionRange()&&!this.delayedAndroidKey){var r=this.view,i=this.selectionRange;if(r.state.facet(g0)?r.root.activeElement==this.dom:Cv(r.dom,i)){var o=i.anchorNode&&r.docView.nearest(i.anchorNode);o&&o.ignoreEvent(e)?t||(this.selectionChanged=!1):(Mt.ie&&Mt.ie_version<=11||Mt.android&&Mt.chrome)&&!r.state.selection.main.empty&&i.focusNode&&Lm(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}}}},{key:"readSelectionRange",value:function(){var e=this.view,t=Mt.safari&&e.root.nodeType==11&&function(i){for(var o=i.activeElement;o&&o.shadowRoot;)o=o.shadowRoot.activeElement;return o}(this.dom.ownerDocument)==this.dom&&function(i){var o=null;function a(h){h.preventDefault(),h.stopImmediatePropagation(),o=h.getTargetRanges()[0]}if(i.contentDOM.addEventListener("beforeinput",a,!0),i.dom.ownerDocument.execCommand("indent"),i.contentDOM.removeEventListener("beforeinput",a,!0),!o)return null;var s=o.startContainer,l=o.startOffset,u=o.endContainer,c=o.endOffset,f=i.docView.domAtPos(i.state.selection.main.anchor);if(Lm(f.node,f.offset,u,c)){var d=[u,c,s,l];s=d[0],l=d[1],u=d[2],c=d[3]}return{anchorNode:s,anchorOffset:l,focusNode:u,focusOffset:c}}(this.view)||Pm(e.root);if(!t||this.selectionRange.eq(t))return!1;var r=Cv(this.dom,t);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&function(i,o){var a=o.focusNode,s=o.focusOffset;if(!a||o.anchorNode!=a||o.anchorOffset!=s)return!1;for(;;)if(s){if(a.nodeType!=1)return!1;var l=a.childNodes[s-1];l.contentEditable=="false"?s--:s=lh(a=l)}else{if(a==i)return!0;s=Dm(a),a=a.parentNode}}(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),r&&(this.selectionChanged=!0),!0)}},{key:"setSelectionRange",value:function(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}},{key:"clearSelectionRange",value:function(){this.selectionRange.set(null,0,null,0)}},{key:"listenForScroll",value:function(){this.parentCheck=-1;for(var e=0,t=null,r=this.dom;r;)if(r.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(r),r=r.assignedSlot||r.parentNode;else{if(r.nodeType!=11)break;r=r.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){var i,o=fe(this.scrollTargets);try{for(o.s();!(i=o.n()).done;)i.value.removeEventListener("scroll",this.onScroll)}catch(l){o.e(l)}finally{o.f()}var a,s=fe(this.scrollTargets=t);try{for(s.s();!(a=s.n()).done;)a.value.addEventListener("scroll",this.onScroll)}catch(l){s.e(l)}finally{s.f()}}}},{key:"ignore",value:function(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}},{key:"start",value:function(){this.active||(this.observer.observe(this.dom,JWe),Zy&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}},{key:"stop",value:function(){this.active&&(this.active=!1,this.observer.disconnect(),Zy&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}},{key:"clear",value:function(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}},{key:"delayAndroidKey",value:function(e,t){var r,i=this;this.delayedAndroidKey||(this.flushingAndroidKey=this.view.win.requestAnimationFrame(function(){var o=i.delayedAndroidKey;o&&(i.clearDelayedAndroidKey(),!i.flush()&&o.force&&Nc(i.dom,o.key,o.keyCode))})),this.delayedAndroidKey&&e!="Enter"||(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}},{key:"clearDelayedAndroidKey",value:function(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}},{key:"flushSoon",value:function(){var e=this;this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(function(){e.delayedFlush=-1,e.flush()}))}},{key:"forceFlush",value:function(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}},{key:"processRecords",value:function(){var e,t=this.queue,r=fe(this.observer.takeRecords());try{for(r.s();!(e=r.n()).done;){var i=e.value;t.push(i)}}catch(d){r.e(d)}finally{r.f()}t.length&&(this.queue=[]);var o,a=-1,s=-1,l=!1,u=fe(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,f=this.readMutation(c);f&&(f.typeOver&&(l=!0),a==-1?(a=f.from,s=f.to):(a=Math.min(f.from,a),s=Math.max(f.to,s)))}}catch(d){u.e(d)}finally{u.f()}return{from:a,to:s,typeOver:l}}},{key:"readChange",value:function(){var e=this.processRecords(),t=e.from,r=e.to,i=e.typeOver,o=this.selectionChanged&&Cv(this.dom,this.selectionRange);return t<0&&!o?null:(t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new UWe(this.view,t,r,i))}},{key:"flush",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();var t=this.readChange();if(!t)return!1;var r=this.view.state,i=dH(this.view,t);return this.view.state==r&&this.view.update([]),i}},{key:"readMutation",value:function(e){var t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.dirty|=4),e.type=="childList"){var r=lN(t,e.previousSibling||e.target.previousSibling,-1),i=lN(t,e.nextSibling||e.target.nextSibling,1);return{from:r?t.posAfter(r):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}},{key:"setWindow",value:function(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}},{key:"addWindowListeners",value:function(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}},{key:"removeWindowListeners",value:function(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}},{key:"destroy",value:function(){var e,t,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(r=this.resize)===null||r===void 0||r.disconnect();var i,o=fe(this.scrollTargets);try{for(o.s();!(i=o.n()).done;)i.value.removeEventListener("scroll",this.onScroll)}catch(a){o.e(a)}finally{o.f()}this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}]),n}();function lN(n,e,t){for(;e;){var r=kr.get(e);if(r&&r.parent==n)return r;var i=e.parentNode;e=i!=n.dom?i:t>0?e.nextSibling:e.previousSibling}return null}var _t=function(){function n(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};re(this,n),this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=t.dispatch||function(a){return e.update([a])},this.dispatch=this.dispatch.bind(this),this._root=t.root||cWe(t.parent)||document,this.viewState=new aN(t.state||Yn.create(t)),this.plugins=this.state.facet(dd).map(function(a){return new Jy(a)});var r,i=fe(this.plugins);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.update(this)}}catch(a){i.e(a)}finally{i.f()}this.observer=new GWe(this),this.inputState=new MWe(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new z5(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),t.parent&&t.parent.appendChild(this.dom)}return ie(n,[{key:"state",get:function(){return this.viewState.state}},{key:"viewport",get:function(){return this.viewState.viewport}},{key:"visibleRanges",get:function(){return this.viewState.visibleRanges}},{key:"inView",get:function(){return this.viewState.inView}},{key:"composing",get:function(){return this.inputState.composing>0}},{key:"compositionStarted",get:function(){return this.inputState.composing>=0}},{key:"root",get:function(){return this._root}},{key:"win",get:function(){return this.dom.ownerDocument.defaultView||window}},{key:"dispatch",value:function(){var e;this._dispatch(arguments.length==1&&(arguments.length<=0?void 0:arguments[0])instanceof zi?arguments.length<=0?void 0:arguments[0]:(e=this.state).update.apply(e,arguments))}},{key:"update",value:function(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");var t,r,i=!1,o=!1,a=this.state,s=fe(e);try{for(s.s();!(r=s.n()).done;){var l=r.value;if(l.startState!=a)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");a=l.state}}catch(k){s.e(k)}finally{s.f()}if(this.destroyed)this.viewState.state=a;else{var u=this.observer.delayedAndroidKey,c=null;if(u?(this.observer.clearDelayedAndroidKey(),((c=this.observer.readChange())&&!this.state.doc.eq(a.doc)||!this.state.selection.eq(a.selection))&&(c=null)):this.observer.clear(),a.facet(Yn.phrases)!=this.state.facet(Yn.phrases))return this.setState(a);t=A5.create(this,a,e);var f=this.viewState.scrollTarget;try{this.updateState=2;var d,h=fe(e);try{for(h.s();!(d=h.n()).done;){var v=d.value;if(f&&(f=f.map(v.changes)),v.scrollIntoView){var p=v.state.selection.main;f=new M5(p.empty?p:Ye.cursor(p.head,p.head>p.anchor?-1:1))}var m,g=fe(v.effects);try{for(g.s();!(m=g.n()).done;){var y=m.value;y.is($5)&&(f=y.value)}}catch(k){g.e(k)}finally{g.f()}}}catch(k){h.e(k)}finally{h.f()}this.viewState.update(t,f),this.bidiCache=cN.update(this.bidiCache,t.changes),t.empty||(this.updatePlugins(t),this.inputState.update(t)),i=this.docView.update(t),this.state.facet(hd)!=this.styleModules&&this.mountStyles(),o=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(i,e.some(function(k){return k.isUserEvent("select.pointer")}))}finally{this.updateState=0}if(t.startState.facet(zp)!=t.state.facet(zp)&&(this.viewState.mustMeasureContent=!0),(i||o||f||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!t.empty){var b,w=fe(this.state.facet(yw));try{for(w.s();!(b=w.n()).done;)(0,b.value)(t)}catch(k){w.e(k)}finally{w.f()}}c&&!dH(this,c)&&u.force&&Nc(this.contentDOM,u.key,u.keyCode)}}},{key:"setState",value:function(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)this.viewState.state=e;else{this.updateState=2;var t=this.hasFocus;try{var r,i=fe(this.plugins);try{for(i.s();!(r=i.n()).done;)r.value.destroy(this)}catch(s){i.e(s)}finally{i.f()}this.viewState=new aN(e),this.plugins=e.facet(dd).map(function(s){return new Jy(s)}),this.pluginMap.clear();var o,a=fe(this.plugins);try{for(a.s();!(o=a.n()).done;)o.value.update(this)}catch(s){a.e(s)}finally{a.f()}this.docView=new z5(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}}},{key:"updatePlugins",value:function(e){var t=e.startState.facet(dd),r=e.state.facet(dd);if(t!=r){var i,o=[],a=fe(r);try{for(a.s();!(i=a.n()).done;){var s=i.value,l=t.indexOf(s);if(l<0)o.push(new Jy(s));else{var u=this.plugins[l];u.mustUpdate=e,o.push(u)}}}catch(m){a.e(m)}finally{a.f()}var c,f=fe(this.plugins);try{for(f.s();!(c=f.n()).done;){var d=c.value;d.mustUpdate!=e&&d.destroy(this)}}catch(m){f.e(m)}finally{f.f()}this.plugins=o,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else{var h,v=fe(this.plugins);try{for(v.s();!(h=v.n()).done;)h.value.mustUpdate=e}catch(m){v.e(m)}finally{v.f()}}for(var p=0;p<this.plugins.length;p++)this.plugins[p].update(this)}},{key:"measure",value:function(){var e=this,t=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];if(!this.destroyed){this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,t&&this.observer.forceFlush();var r=null,i=this.scrollDOM,o=i.scrollHeight,a=i.scrollTop,s=i.clientHeight,l=a>o-s-4?o:a;try{for(var u=0;;u++){this.updateState=1;var c=this.viewport,f=this.viewState.lineBlockAtHeight(l),d=this.viewState.measure(this);if(!d&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(u>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}var h=[];if(!(4&d)){var v=[h,this.measureRequests];this.measureRequests=v[0],h=v[1]}var p=h.map(function(M){try{return M.read(e)}catch(B){return co(e.state,B),uN}}),m=A5.create(this,this.state,[]),g=!1,y=!1;m.flags|=d,r?r.flags|=d:r=m,this.updateState=2,m.empty||(this.updatePlugins(m),this.inputState.update(m),this.updateAttrs(),g=this.docView.update(m));for(var b=0;b<h.length;b++)if(p[b]!=uN)try{var w=h[b];w.write&&w.write(p[b],this)}catch(M){co(this.state,M)}if(this.viewState.editorHeight)if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,y=!0;else{var k=this.viewState.lineBlockAt(f.from).top-f.top;(k>1||k<-1)&&(this.scrollDOM.scrollTop+=k,y=!0)}if(g&&this.docView.updateSelection(!0),this.viewport.from==c.from&&this.viewport.to==c.to&&!y&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(r&&!r.empty){var x,C=fe(this.state.facet(yw));try{for(C.s();!(x=C.n()).done;){var T=x.value;T(r)}}catch(M){C.e(M)}finally{C.f()}}}}},{key:"themeClasses",get:function(){return Sw+" "+(this.state.facet(Cw)?cH:uH)+" "+this.state.facet(zp)}},{key:"updateAttrs",value:function(){var e=this,t=fN(this,QF,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),r={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(g0)?"true":"false",class:"cm-content",style:"".concat(Mt.tabSize,": ").concat(this.state.tabSize),role:"textbox","aria-multiline":"true"};this.state.readOnly&&(r["aria-readonly"]="true"),fN(this,J2,r);var i=this.observer.ignore(function(){var o=pw(e.contentDOM,e.contentAttrs,r),a=pw(e.dom,e.editorAttrs,t);return o||a});return this.editorAttrs=t,this.contentAttrs=r,i}},{key:"showAnnouncements",value:function(e){var t,r=!0,i=fe(e);try{for(i.s();!(t=i.n()).done;){var o,a=fe(t.value.effects);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.is(n.announce)&&(r&&(this.announceDOM.textContent=""),r=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=s.value)}}catch(l){a.e(l)}finally{a.f()}}}catch(l){i.e(l)}finally{i.f()}}},{key:"mountStyles",value:function(){this.styleModules=this.state.facet(hd),vl.mount(this.root,this.styleModules.concat(WWe).reverse())}},{key:"readMeasured",value:function(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}},{key:"requestMeasure",value:function(e){var t=this;if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(function(){return t.measure()})),e){if(e.key!=null){for(var r=0;r<this.measureRequests.length;r++)if(this.measureRequests[r].key===e.key)return void(this.measureRequests[r]=e)}this.measureRequests.push(e)}}},{key:"plugin",value:function(e){var t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(function(r){return r.spec==e})||null),t&&t.update(this).value}},{key:"documentTop",get:function(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}},{key:"documentPadding",get:function(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}},{key:"elementAtHeight",value:function(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}},{key:"lineBlockAtHeight",value:function(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}},{key:"viewportLineBlocks",get:function(){return this.viewState.viewportLines}},{key:"lineBlockAt",value:function(e){return this.viewState.lineBlockAt(e)}},{key:"contentHeight",get:function(){return this.viewState.contentHeight}},{key:"moveByChar",value:function(e,t,r){return Qy(this,e,J5(this,e,t,r))}},{key:"moveByGroup",value:function(e,t){var r=this;return Qy(this,e,J5(this,e,t,function(i){return function(o,a,s){var l=o.state.charCategorizer(a),u=l(s);return function(c){var f=l(c);return u==hr.Space&&(u=f),u==f}}(r,e.head,i)}))}},{key:"moveToLineBoundary",value:function(e,t){var r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return EWe(this,e,t,r)}},{key:"moveVertically",value:function(e,t,r){return Qy(this,e,function(i,o,a,s){var l=o.head,u=a?1:-1;if(l==(a?i.state.doc.length:0))return Ye.cursor(l,o.assoc);var c,f=o.goalColumn,d=i.contentDOM.getBoundingClientRect(),h=i.coordsAtPos(l),v=i.documentTop;if(h)f==null&&(f=h.left-d.left),c=u<0?h.top:h.bottom;else{var p=i.viewState.lineBlockAt(l);f==null&&(f=Math.min(d.right-d.left,i.defaultCharacterWidth*(l-p.from))),c=(u<0?p.top:p.bottom)+v}for(var m=d.left+f,g=s!=null?s:i.defaultLineHeight>>1,y=0;;y+=10){var b=c+(g+y)*u,w=W5(i,{x:m,y:b},!1,u);if(b<d.top||b>d.bottom||(u<0?w<l:w>l))return Ye.cursor(w,o.assoc,void 0,f)}}(this,e,t,r))}},{key:"domAtPos",value:function(e){return this.docView.domAtPos(e)}},{key:"posAtDOM",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.docView.posFromDOM(e,t)}},{key:"posAtCoords",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return this.readMeasured(),W5(this,e,t)}},{key:"coordsAtPos",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.readMeasured();var r=this.docView.coordsAt(e,t);if(!r||r.left==r.right)return r;var i=this.state.doc.lineAt(e),o=this.bidiSpans(i),a=o[bc.find(o,e-i.from,-1,t)];return H2(r,a.dir==pr.LTR==t>0)}},{key:"defaultCharacterWidth",get:function(){return this.viewState.heightOracle.charWidth}},{key:"defaultLineHeight",get:function(){return this.viewState.heightOracle.lineHeight}},{key:"textDirection",get:function(){return this.viewState.defaultTextDirection}},{key:"textDirectionAt",value:function(e){return!this.state.facet(GF)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}},{key:"lineWrapping",get:function(){return this.viewState.heightOracle.lineWrapping}},{key:"bidiSpans",value:function(e){if(e.length>KWe)return D5(e.length);var t,r=this.textDirectionAt(e.from),i=fe(this.bidiCache);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(o.from==e.from&&o.dir==r)return o.order}}catch(s){i.e(s)}finally{i.f()}var a=function(s,l){var u=s.length,c=l==bw?1:2,f=l==bw?2:1;if(!s||c==1&&!gWe.test(s))return D5(u);for(var d=0,h=c,v=c;d<u;d++){var p=mWe(s.charCodeAt(d));p==512?p=h:p==8&&v==4&&(p=16),dr[d]=p==4?2:p,7&p&&(v=p),h=p}for(var m=0,g=c,y=c;m<u;m++){var b=dr[m];if(b==128)m<u-1&&g==dr[m+1]&&24&g?b=dr[m]=g:dr[m]=256;else if(b==64){for(var w=m+1;w<u&&dr[w]==64;)w++;for(var k=m&&g==8||w<u&&dr[w]==8?y==1?1:8:256,x=m;x<w;x++)dr[x]=k;m=w-1}else b==8&&y==1&&(dr[m]=1);g=b,7&b&&(y=b)}for(var C,T,M,B=0,_=0,N=0;B<u;B++)if(T=ww[C=s.charCodeAt(B)])if(T<0){for(var $=_-3;$>=0;$-=3)if(pa[$+1]==-T){var j=pa[$+2],D=2&j?c:4&j?1&j?f:c:0;D&&(dr[B]=dr[pa[$]]=D),_=$;break}}else{if(pa.length==189)break;pa[_++]=B,pa[_++]=C,pa[_++]=N}else if((M=dr[B])==2||M==1){var q=M==c;N=q?0:1;for(var R=_-3;R>=0;R-=3){var G=pa[R+2];if(2&G)break;if(q)pa[R+2]|=2;else{if(4&G)break;pa[R+2]|=4}}}for(var A=0;A<u;A++)if(dr[A]==256){for(var I=A+1;I<u&&dr[I]==256;)I++;for(var z=(A?dr[A-1]:c)==1,F=z==((I<u?dr[I]:c)==1)?z?1:2:c,L=A;L<I;L++)dr[L]=F;A=I-1}var O=[];if(c==1)for(var V=0;V<u;){for(var Z=V,te=dr[V++]!=1;V<u&&te==(dr[V]!=1);)V++;if(te)for(var ve=V;ve>Z;){for(var ue=ve,ge=dr[--ve]!=2;ve>Z&&ge==(dr[ve-1]!=2);)ve--;O.push(new bc(ve,ue,ge?2:1))}else O.push(new bc(Z,V,0))}else for(var P=0;P<u;){for(var S=P,ae=dr[P++]==2;P<u&&ae==(dr[P]==2);)P++;O.push(new bc(S,P,ae?1:2))}return O}(e.text,r);return this.bidiCache.push(new cN(e.from,e.to,r,a)),a}},{key:"hasFocus",get:function(){var e;return(this.dom.ownerDocument.hasFocus()||Mt.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}},{key:"focus",value:function(){var e=this;this.observer.ignore(function(){MF(e.contentDOM),e.docView.updateSelection()})}},{key:"setRoot",value:function(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}},{key:"destroy",value:function(){var e,t=fe(this.plugins);try{for(t.s();!(e=t.n()).done;)e.value.destroy(this)}catch(r){t.e(r)}finally{t.f()}this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}}],[{key:"scrollIntoView",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return $5.of(new M5(typeof e=="number"?Ye.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}},{key:"domEventHandlers",value:function(e){return hi.define(function(){return{}},{eventHandlers:e})}},{key:"theme",value:function(e,t){var r=vl.newName(),i=[zp.of(r),hd.of(Tw(".".concat(r),e))];return t&&t.dark&&i.push(Cw.of(!0)),i}},{key:"baseTheme",value:function(e){return Pf.lowest(hd.of(Tw("."+Sw,e,fH)))}},{key:"findFromDOM",value:function(e){var t,r=e.querySelector(".cm-content"),i=r&&kr.get(r)||kr.get(e);return((t=i==null?void 0:i.rootView)===null||t===void 0?void 0:t.view)||null}}]),n}();_t.styleModule=hd,_t.inputHandler=JF,_t.perLineTextDirection=GF,_t.exceptionSink=UF,_t.updateListener=yw,_t.editable=g0,_t.mouseSelectionStyle=WF,_t.dragMovesSelection=VF,_t.clickAddsSelectionRange=HF,_t.decorations=fh,_t.atomicRanges=YF,_t.scrollMargins=ZF,_t.darkTheme=Cw,_t.contentAttributes=J2,_t.editorAttributes=QF,_t.lineWrapping=_t.contentAttributes.of({class:"cm-lineWrapping"}),_t.announce=dn.define();var KWe=4096,uN={},cN=function(){function n(e,t,r,i){re(this,n),this.from=e,this.to=t,this.dir=r,this.order=i}return ie(n,null,[{key:"update",value:function(e,t){if(t.empty)return e;for(var r=[],i=e.length?e[e.length-1].dir:pr.LTR,o=Math.max(0,e.length-10);o<e.length;o++){var a=e[o];a.dir!=i||t.touchesRange(a.from,a.to)||r.push(new n(t.mapPos(a.from,1),t.mapPos(a.to,-1),a.dir,a.order))}return r}}]),n}();function fN(n,e,t){for(var r=n.state.facet(e),i=r.length-1;i>=0;i--){var o=r[i],a=typeof o=="function"?o(n):o;a&&hw(a,t)}return t}var QWe=Mt.mac?"mac":Mt.windows?"win":Mt.linux?"linux":"key";function YWe(n,e){var t,r,i,o,a=n.split(/-(?!$)/),s=a[a.length-1];s=="Space"&&(s=" ");for(var l=0;l<a.length-1;++l){var u=a[l];if(/^(cmd|meta|m)$/i.test(u))o=!0;else if(/^a(lt)?$/i.test(u))t=!0;else if(/^(c|ctrl|control)$/i.test(u))r=!0;else if(/^s(hift)?$/i.test(u))i=!0;else{if(!/^mod$/i.test(u))throw new Error("Unrecognized modifier name: "+u);e=="mac"?o=!0:r=!0}}return t&&(s="Alt-"+s),r&&(s="Ctrl-"+s),o&&(s="Meta-"+s),i&&(s="Shift-"+s),s}function qp(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}var ZWe=Pf.default(_t.domEventHandlers({keydown:function(n,e){return pH(hH(e.state),n,e,"editor")}})),y0=Pt.define({enables:ZWe}),dN=new WeakMap;function hH(n){var e=n.facet(y0),t=dN.get(e);return t||dN.set(e,t=function(r){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:QWe,a=Object.create(null),s=Object.create(null),l=function(x,C){var T=s[x];if(T==null)s[x]=C;else if(T!=C)throw new Error("Key binding "+x+" is used both as a regular binding and as a multi-stroke prefix")},u=function(x,C,T,M){for(var B,_,N=a[x]||(a[x]=Object.create(null)),$=C.split(/ (?!$)/).map(function(G){return YWe(G,o)}),j=function(G){var A=$.slice(0,G).join(" ");l(A,!0),N[A]||(N[A]={preventDefault:!0,run:[function(I){var z=Hs={view:I,prefix:A,scope:x};return setTimeout(function(){Hs==z&&(Hs=null)},4e3),!0}]})},D=1;D<$.length;D++)j(D);var q=$.join(" ");l(q,!1);var R=N[q]||(N[q]={preventDefault:!1,run:((_=(B=N._any)===null||B===void 0?void 0:B.run)===null||_===void 0?void 0:_.slice())||[]});T&&R.run.push(T),M&&(R.preventDefault=!0)},c=fe(r);try{for(c.s();!(i=c.n()).done;){var f=i.value,d=f.scope?f.scope.split(" "):["editor"];if(f.any){var h,v=fe(d);try{for(v.s();!(h=v.n()).done;){var p=h.value,m=a[p]||(a[p]=Object.create(null));for(var g in m._any||(m._any={preventDefault:!1,run:[]}),m)m[g].run.push(f.any)}}catch(x){v.e(x)}finally{v.f()}}var y=f[o]||f.key;if(y){var b,w=fe(d);try{for(w.s();!(b=w.n()).done;){var k=b.value;u(k,y,f.run,f.preventDefault),f.shift&&u(k,"Shift-"+y,f.shift,f.preventDefault)}}catch(x){w.e(x)}finally{w.f()}}}}catch(x){c.e(x)}finally{c.f()}return a}(e.reduce(function(r,i){return r.concat(i)},[]))),t}var Hs=null;function pH(n,e,t,r){var i=function(h){var v=!(sWe&&(h.ctrlKey||h.altKey||h.metaKey)||aWe&&h.shiftKey&&h.key&&h.key.length==1||h.key=="Unidentified")&&h.key||(h.shiftKey?ah:ml)[h.keyCode]||h.key||"Unidentified";return v=="Esc"&&(v="Escape"),v=="Del"&&(v="Delete"),v=="Left"&&(v="ArrowLeft"),v=="Up"&&(v="ArrowUp"),v=="Right"&&(v="ArrowRight"),v=="Down"&&(v="ArrowDown"),v}(e),o=Yi(oi(i,0))==i.length&&i!=" ",a="",s=!1;Hs&&Hs.view==t&&Hs.scope==r&&(a=Hs.prefix+" ",(s=iH.indexOf(e.keyCode)<0)&&(Hs=null));var l,u,c=new Set,f=function(h){if(h){var v,p=fe(h.run);try{for(p.s();!(v=p.n()).done;){var m=v.value;if(!c.has(m)&&(c.add(m),m(t,e)))return!0}}catch(g){p.e(g)}finally{p.f()}h.preventDefault&&(s=!0)}return!1},d=n[r];if(d){if(f(d[a+qp(i,e,!o)]))return!0;if(o&&(e.altKey||e.metaKey||e.ctrlKey)&&(l=ml[e.keyCode])&&l!=i){if(f(d[a+qp(l,e,!0)])||e.shiftKey&&(u=ah[e.keyCode])!=i&&u!=l&&f(d[a+qp(u,e,!1)]))return!0}else if(o&&e.shiftKey&&f(d[a+qp(i,e,!0)]))return!0;if(f(d._any))return!0}return s}var vH=!Mt.ios,vd=Pt.define({combine:function(n){return ca(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:function(e,t){return Math.min(e,t)},drawRangeCursor:function(e,t){return e||t}})}});function XWe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return[vd.of(n),eUe,tUe,KF.of(!0)]}var mH=function(){function n(e,t,r,i,o){re(this,n),this.left=e,this.top=t,this.width=r,this.height=i,this.className=o}return ie(n,[{key:"draw",value:function(){var e=document.createElement("div");return e.className=this.className,this.adjust(e),e}},{key:"adjust",value:function(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width>=0&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}},{key:"eq",value:function(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}}]),n}(),eUe=hi.fromClass(function(){function n(e){re(this,n),this.view=e,this.rangePieces=[],this.cursors=[],this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.selectionLayer=e.scrollDOM.appendChild(document.createElement("div")),this.selectionLayer.className="cm-selectionLayer",this.selectionLayer.setAttribute("aria-hidden","true"),this.cursorLayer=e.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),e.requestMeasure(this.measureReq),this.setBlinkRate()}return ie(n,[{key:"setBlinkRate",value:function(){this.cursorLayer.style.animationDuration=this.view.state.facet(vd).cursorBlinkRate+"ms"}},{key:"update",value:function(e){var t=e.startState.facet(vd)!=e.state.facet(vd);(t||e.selectionSet||e.geometryChanged||e.viewportChanged)&&this.view.requestMeasure(this.measureReq),e.transactions.some(function(r){return r.scrollIntoView})&&(this.cursorLayer.style.animationName=this.cursorLayer.style.animationName=="cm-blink"?"cm-blink2":"cm-blink"),t&&this.setBlinkRate()}},{key:"readPos",value:function(){var e,t=this,r=this.view.state,i=r.facet(vd),o=r.selection.ranges.map(function(f){return f.empty?[]:function(d,h){if(h.to<=d.viewport.from||h.from>=d.viewport.to)return[];var v=Math.max(h.from,d.viewport.from),p=Math.min(h.to,d.viewport.to),m=d.textDirection==pr.LTR,g=d.contentDOM,y=g.getBoundingClientRect(),b=yH(d),w=window.getComputedStyle(g.firstChild),k=y.left+parseInt(w.paddingLeft)+Math.min(0,parseInt(w.textIndent)),x=y.right-parseInt(w.paddingRight),C=pN(d,v),T=pN(d,p),M=C.type==Zn.Text?C:null,B=T.type==Zn.Text?T:null;if(d.lineWrapping&&(M&&(M=hN(d,v,M)),B&&(B=hN(d,p,B))),M&&B&&M.from==B.from)return D(q(h.from,h.to,M));var _=M?q(h.from,null,M):R(C,!1),N=B?q(null,h.to,B):R(T,!0),$=[];return(M||C).to<(B||T).from-1?$.push(j(k,_.bottom,x,N.top)):_.bottom<N.top&&d.elementAtHeight((_.bottom+N.top)/2).type==Zn.Text&&(_.bottom=N.top=(_.bottom+N.top)/2),D(_).concat($).concat(D(N));function j(G,A,I,z){return new mH(G-b.left,A-b.top-.01,I-G,z-A+.01,"cm-selectionBackground")}function D(G){for(var A=G.top,I=G.bottom,z=G.horizontal,F=[],L=0;L<z.length;L+=2)F.push(j(z[L],A,z[L+1],I));return F}function q(G,A,I){var z=1e9,F=-1e9,L=[];function O(Se,Ue,pt,Ke,Me){var et=d.coordsAtPos(Se,Se==I.to?-2:2),le=d.coordsAtPos(pt,pt==I.from?2:-2);z=Math.min(et.top,le.top,z),F=Math.max(et.bottom,le.bottom,F),Me==pr.LTR?L.push(m&&Ue?k:et.left,m&&Ke?x:le.right):L.push(!m&&Ke?k:le.left,!m&&Ue?x:et.right)}var V,Z=G!=null?G:I.from,te=A!=null?A:I.to,ve=fe(d.visibleRanges);try{for(ve.s();!(V=ve.n()).done;){var ue=V.value;if(ue.to>Z&&ue.from<te)for(var ge=Math.max(ue.from,Z),P=Math.min(ue.to,te);;){var S,ae=d.state.doc.lineAt(ge),ce=fe(d.bidiSpans(ae));try{for(ce.s();!(S=ce.n()).done;){var ne=S.value,ye=ne.from+ae.from,Ce=ne.to+ae.from;if(ye>=P)break;Ce>ge&&O(Math.max(ye,ge),G==null&&ye<=Z,Math.min(Ce,P),A==null&&Ce>=te,ne.dir)}}catch(Se){ce.e(Se)}finally{ce.f()}if((ge=ae.to+1)>=P)break}}}catch(Se){ve.e(Se)}finally{ve.f()}return L.length==0&&O(Z,G==null,te,A==null,d.textDirection),{top:z,bottom:F,horizontal:L}}function R(G,A){var I=y.top+(A?G.top:G.bottom);return{top:I,bottom:I,horizontal:[]}}}(t.view,f)}).reduce(function(f,d){return f.concat(d)}),a=[],s=fe(r.selection.ranges);try{for(s.s();!(e=s.n()).done;){var l=e.value,u=l==r.selection.main;if(l.empty?!u||vH:i.drawRangeCursor){var c=nUe(this.view,l,u);c&&a.push(c)}}}catch(f){s.e(f)}finally{s.f()}return{rangePieces:o,cursors:a}}},{key:"drawSel",value:function(e){var t=this,r=e.rangePieces,i=e.cursors;if(r.length!=this.rangePieces.length||r.some(function(d,h){return!d.eq(t.rangePieces[h])})){this.selectionLayer.textContent="";var o,a=fe(r);try{for(a.s();!(o=a.n()).done;){var s=o.value;this.selectionLayer.appendChild(s.draw())}}catch(d){a.e(d)}finally{a.f()}this.rangePieces=r}if(i.length!=this.cursors.length||i.some(function(d,h){return!d.eq(t.cursors[h])})){var l=this.cursorLayer.children;if(l.length!==i.length){this.cursorLayer.textContent="";var u,c=fe(i);try{for(c.s();!(u=c.n()).done;){var f=u.value;this.cursorLayer.appendChild(f.draw())}}catch(d){c.e(d)}finally{c.f()}}else i.forEach(function(d,h){return d.adjust(l[h])});this.cursors=i}}},{key:"destroy",value:function(){this.selectionLayer.remove(),this.cursorLayer.remove()}}]),n}()),gH={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};vH&&(gH[".cm-line"].caretColor="transparent !important");var tUe=Pf.highest(_t.theme(gH));function yH(n){var e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==pr.LTR?e.left:e.right-n.scrollDOM.clientWidth)-n.scrollDOM.scrollLeft,top:e.top-n.scrollDOM.scrollTop}}function hN(n,e,t){var r=Ye.cursor(e);return{from:Math.max(t.from,n.moveToLineBoundary(r,!1,!0).from),to:Math.min(t.to,n.moveToLineBoundary(r,!0,!0).from),type:Zn.Text}}function pN(n,e){var t=n.lineBlockAt(e);if(Array.isArray(t.type)){var r,i=fe(t.type);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.to>e||o.to==e&&(o.to==t.to||o.type==Zn.Text))return o}}catch(a){i.e(a)}finally{i.f()}}return t}function nUe(n,e,t){var r=n.coordsAtPos(e.head,e.assoc||1);if(!r)return null;var i=yH(n);return new mH(r.left-i.left,r.top-i.top,-1,r.bottom-r.top,t?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary")}var bH=dn.define({map:function(n,e){return n==null?null:e.mapPos(n)}}),md=fi.define({create:function(){return null},update:function(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce(function(t,r){return r.is(bH)?r.value:t},n)}}),rUe=hi.fromClass(function(){function n(e){re(this,n),this.view=e,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}return ie(n,[{key:"update",value:function(e){var t,r=e.state.field(md);r==null?this.cursor!=null&&((t=this.cursor)===null||t===void 0||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(e.startState.field(md)!=r||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}},{key:"readPos",value:function(){var e=this.view.state.field(md),t=e!=null&&this.view.coordsAtPos(e);if(!t)return null;var r=this.view.scrollDOM.getBoundingClientRect();return{left:t.left-r.left+this.view.scrollDOM.scrollLeft,top:t.top-r.top+this.view.scrollDOM.scrollTop,height:t.bottom-t.top}}},{key:"drawCursor",value:function(e){this.cursor&&(e?(this.cursor.style.left=e.left+"px",this.cursor.style.top=e.top+"px",this.cursor.style.height=e.height+"px"):this.cursor.style.left="-100000px")}},{key:"destroy",value:function(){this.cursor&&this.cursor.remove()}},{key:"setDropPos",value:function(e){this.view.state.field(md)!=e&&this.view.dispatch({effects:bH.of(e)})}}]),n}(),{eventHandlers:{dragover:function(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave:function(n){n.target!=this.view.contentDOM&&this.view.contentDOM.contains(n.relatedTarget)||this.setDropPos(null)},dragend:function(){this.setDropPos(null)},drop:function(){this.setDropPos(null)}}});function vN(n,e,t,r,i){e.lastIndex=0;for(var o,a=n.iterRange(t,r),s=t;!a.next().done;s+=a.value.length)if(!a.lineBreak)for(;o=e.exec(a.value);)i(s+o.index,o)}var iUe=function(){function n(e){re(this,n);var t=e.regexp,r=e.decoration,i=e.decorate,o=e.boundary,a=e.maxLength,s=a===void 0?1e3:a;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,i)this.addMatch=function(l,u,c,f){return i(f,c,c+l[0].length,l,u)};else if(typeof r=="function")this.addMatch=function(l,u,c,f){var d=r(l,u,c);d&&f(c,c+l[0].length,d)};else{if(!r)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=function(l,u,c,f){return f(c,c+l[0].length,r)}}this.boundary=o,this.maxLength=s}return ie(n,[{key:"createDeco",value:function(e){var t,r=this,i=new lf,o=i.add.bind(i),a=fe(function(c,f){var d=c.visibleRanges;if(d.length==1&&d[0].from==c.viewport.from&&d[0].to==c.viewport.to)return d;var h,v=[],p=fe(d);try{for(p.s();!(h=p.n()).done;){var m=h.value,g=m.from,y=m.to;g=Math.max(c.state.doc.lineAt(g).from,g-f),y=Math.min(c.state.doc.lineAt(y).to,y+f),v.length&&v[v.length-1].to>=g?v[v.length-1].to=y:v.push({from:g,to:y})}}catch(b){p.e(b)}finally{p.f()}return v}(e,this.maxLength));try{for(a.s();!(t=a.n()).done;){var s=t.value,l=s.from,u=s.to;vN(e.state.doc,this.regexp,l,u,function(c,f){return r.addMatch(f,e,c,o)})}}catch(c){a.e(c)}finally{a.f()}return i.finish()}},{key:"updateDeco",value:function(e,t){var r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges(function(o,a,s,l){l>e.view.viewport.from&&s<e.view.viewport.to&&(r=Math.min(s,r),i=Math.max(l,i))}),e.viewportChanged||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,t.map(e.changes),r,i):t}},{key:"updateRange",value:function(e,t,r,i){var o,a=this,s=fe(e.visibleRanges);try{for(s.s();!(o=s.n()).done;){var l=o.value,u=Math.max(l.from,r),c=Math.min(l.to,i);c>u&&function(){var f=e.state.doc.lineAt(u),d=f.to<c?e.state.doc.lineAt(c):f,h=Math.max(l.from,f.from),v=Math.min(l.to,d.to);if(a.boundary){for(;u>f.from;u--)if(a.boundary.test(f.text[u-1-f.from])){h=u;break}for(;c<d.to;c++)if(a.boundary.test(d.text[c-d.from])){v=c;break}}var p=[],m=void 0,g=function(y,b,w){return p.push(w.range(y,b))};if(f==d)for(a.regexp.lastIndex=h-f.from;(m=a.regexp.exec(f.text))&&m.index<v-f.from;)a.addMatch(m,e,m.index+f.from,g);else vN(e.state.doc,a.regexp,h,v,function(y,b){return a.addMatch(b,e,y,g)});t=t.update({filterFrom:h,filterTo:v,filter:function(y,b){return y<h||b>v},add:p})}()}}catch(f){s.e(f)}finally{s.f()}return t}}]),n}(),Ow=/x/.unicode!=null?"gu":"g",oUe=new RegExp(`[\0-\b
-\x7F-\x9F\xAD\u061C\u200B\u200E\u200F\u2028\u2029\u202D\u202E\u2066\u2067\u2069\uFEFF\uFFF9-\uFFFC]`,Ow),aUe={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"},Xy=null,Sv=Pt.define({combine:function(n){var e=ca(n,{render:null,specialChars:oUe,addSpecialChars:null});return(e.replaceTabs=!function(){var t;if(Xy==null&&typeof document!="undefined"&&document.body){var r=document.body.style;Xy=((t=r.tabSize)!==null&&t!==void 0?t:r.MozTabSize)!=null}return Xy||!1}())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,Ow)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Ow)),e}});function sUe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return[Sv.of(n),lUe()]}var mN=null;function lUe(){return mN||(mN=hi.fromClass(function(){function n(e){re(this,n),this.view=e,this.decorations=qt.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(e.state.facet(Sv)),this.decorations=this.decorator.createDeco(e)}return ie(n,[{key:"makeDecorator",value:function(e){var t=this;return new iUe({regexp:e.specialChars,decoration:function(r,i,o){var a=i.state.doc,s=oi(r[0],0);if(s==9){var l=a.lineAt(o),u=i.state.tabSize,c=Jh(l.text,u,o-l.from);return qt.replace({widget:new cUe((u-c%u)*t.view.defaultCharacterWidth)})}return t.decorationCache[s]||(t.decorationCache[s]=qt.replace({widget:new uUe(e,s)}))},boundary:e.replaceTabs?void 0:/[^]/})}},{key:"update",value:function(e){var t=e.state.facet(Sv);e.startState.facet(Sv)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}}]),n}(),{decorations:function(n){return n.decorations}}))}var uUe=function(n){De(t,Tl);var e=Re(t);function t(r,i){var o;return re(this,t),(o=e.call(this)).options=r,o.code=i,o}return ie(t,[{key:"eq",value:function(r){return r.code==this.code}},{key:"toDOM",value:function(r){var i=function(l){return l>=32?"\u2022":l==10?"\u2424":String.fromCharCode(9216+l)}(this.code),o=r.state.phrase("Control character")+" "+(aUe[this.code]||"0x"+this.code.toString(16)),a=this.options.render&&this.options.render(this.code,o,i);if(a)return a;var s=document.createElement("span");return s.textContent=i,s.title=o,s.setAttribute("aria-label",o),s.className="cm-specialChar",s}},{key:"ignoreEvent",value:function(){return!1}}]),t}(),cUe=function(n){De(t,Tl);var e=Re(t);function t(r){var i;return re(this,t),(i=e.call(this)).width=r,i}return ie(t,[{key:"eq",value:function(r){return r.width==this.width}},{key:"toDOM",value:function(){var r=document.createElement("span");return r.textContent="	",r.className="cm-tab",r.style.width=this.width+"px",r}},{key:"ignoreEvent",value:function(){return!1}}]),t}(),fUe=qt.line({class:"cm-activeLine"}),dUe=hi.fromClass(function(){function n(e){re(this,n),this.decorations=this.getDeco(e)}return ie(n,[{key:"update",value:function(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}},{key:"getDeco",value:function(e){var t,r=-1,i=[],o=fe(e.state.selection.ranges);try{for(o.s();!(t=o.n()).done;){var a=t.value,s=e.lineBlockAt(a.head);s.from>r&&(i.push(fUe.range(s.from)),r=s.from)}}catch(l){o.e(l)}finally{o.f()}return qt.set(i)}}]),n}(),{decorations:function(n){return n.decorations}});function gN(n,e){var t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),r=n.state.doc.lineAt(t),i=t-r.from,o=i>2e3?-1:i==r.length?function(a,s){var l=a.coordsAtPos(a.viewport.from);return l?Math.round(Math.abs((l.left-s)/a.defaultCharacterWidth)):-1}(n,e.clientX):Jh(r.text,n.state.tabSize,t-r.from);return{line:r.number,col:o,off:i}}function hUe(n,e){var t=gN(n,e),r=n.state.selection;return t?{update:function(i){if(i.docChanged){var o=i.changes.mapPos(i.startState.doc.line(t.line).from),a=i.state.doc.lineAt(o);t={line:a.number,col:t.col,off:Math.min(t.off,a.length)},r=r.map(i.changes)}},get:function(i,o,a){var s=gN(n,i);if(!s)return r;var l=function(u,c,f){var d=Math.min(c.line,f.line),h=Math.max(c.line,f.line),v=[];if(c.off>2e3||f.off>2e3||c.col<0||f.col<0)for(var p=Math.min(c.off,f.off),m=Math.max(c.off,f.off),g=d;g<=h;g++){var y=u.doc.line(g);y.length<=m&&v.push(Ye.range(y.from+p,y.to+m))}else for(var b=Math.min(c.col,f.col),w=Math.max(c.col,f.col),k=d;k<=h;k++){var x=u.doc.line(k),C=ow(x.text,b,u.tabSize,!0);if(C<0)v.push(Ye.cursor(x.to));else{var T=ow(x.text,w,u.tabSize);v.push(Ye.range(x.from+C,x.from+T))}}return v}(n.state,t,s);return l.length?a?Ye.create(l.concat(r.ranges)):Ye.create(l):r}}:null}function pUe(n){var e=(n==null?void 0:n.eventFilter)||function(t){return t.altKey&&t.button==0};return _t.mouseSelectionStyle.of(function(t,r){return e(r)?hUe(t,r):null})}var vUe={Alt:[18,function(n){return n.altKey}],Control:[17,function(n){return n.ctrlKey}],Shift:[16,function(n){return n.shiftKey}],Meta:[91,function(n){return n.metaKey}]},mUe={style:"cursor: crosshair"};function gUe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Dt(vUe[n.key||"Alt"],2),t=e[0],r=e[1],i=hi.fromClass(function(){function o(a){re(this,o),this.view=a,this.isDown=!1}return ie(o,[{key:"set",value:function(a){this.isDown!=a&&(this.isDown=a,this.view.update([]))}}]),o}(),{eventHandlers:{keydown:function(o){this.set(o.keyCode==t||r(o))},keyup:function(o){o.keyCode!=t&&r(o)||this.set(!1)},mousemove:function(o){this.set(r(o))}}});return[i,_t.contentAttributes.of(function(o){var a;return!((a=o.plugin(i))===null||a===void 0)&&a.isDown?mUe:null})]}var wH=function(){function n(e,t,r){re(this,n),this.facet=t,this.createTooltipView=r,this.input=e.state.facet(t),this.tooltips=this.input.filter(function(i){return i}),this.tooltipViews=this.tooltips.map(r)}return ie(n,[{key:"update",value:function(e){var t,r=e.state.facet(this.facet),i=r.filter(function(y){return y});if(r===this.input){var o,a=fe(this.tooltipViews);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.update&&s.update(e)}}catch(y){a.e(y)}finally{a.f()}return!1}for(var l=[],u=0;u<i.length;u++){var c=i[u],f=-1;if(c){for(var d=0;d<this.tooltips.length;d++){var h=this.tooltips[d];h&&h.create==c.create&&(f=d)}if(f<0)l[u]=this.createTooltipView(c);else{var v=l[u]=this.tooltipViews[f];v.update&&v.update(e)}}}var p,m=fe(this.tooltipViews);try{for(m.s();!(p=m.n()).done;){var g=p.value;l.indexOf(g)<0&&(g.dom.remove(),(t=g.destroy)===null||t===void 0||t.call(g))}}catch(y){m.e(y)}finally{m.f()}return this.input=r,this.tooltips=i,this.tooltipViews=l,!0}}]),n}();function yUe(n){var e=n.win;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}var e1=Pt.define({combine:function(n){var e,t,r;return{position:Mt.ios?"absolute":((e=n.find(function(i){return i.position}))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(function(i){return i.parent}))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((r=n.find(function(i){return i.tooltipSpace}))===null||r===void 0?void 0:r.tooltipSpace)||yUe}}}),kH=hi.fromClass(function(){function n(e){var t=this;re(this,n),this.view=e,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;var r=e.state.facet(e1);this.position=r.position,this.parent=r.parent,this.classes=e.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new wH(e,b0,function(i){return t.createTooltip(i)}),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(function(i){Date.now()>t.lastTransaction-50&&i.length>0&&i[i.length-1].intersectionRatio<1&&t.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),e.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}return ie(n,[{key:"createContainer",value:function(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}},{key:"observeIntersection",value:function(){if(this.intersectionObserver){this.intersectionObserver.disconnect();var e,t=fe(this.manager.tooltipViews);try{for(t.s();!(e=t.n()).done;){var r=e.value;this.intersectionObserver.observe(r.dom)}}catch(i){t.e(i)}finally{t.f()}}}},{key:"measureSoon",value:function(){var e=this;this.measureTimeout<0&&(this.measureTimeout=setTimeout(function(){e.measureTimeout=-1,e.maybeMeasure()},50))}},{key:"update",value:function(e){e.transactions.length&&(this.lastTransaction=Date.now());var t=this.manager.update(e);t&&this.observeIntersection();var r=t||e.geometryChanged,i=e.state.facet(e1);if(i.position!=this.position){this.position=i.position;var o,a=fe(this.manager.tooltipViews);try{for(a.s();!(o=a.n()).done;)o.value.dom.style.position=this.position}catch(c){a.e(c)}finally{a.f()}r=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();var s,l=fe(this.manager.tooltipViews);try{for(l.s();!(s=l.n()).done;){var u=s.value;this.container.appendChild(u.dom)}}catch(c){l.e(c)}finally{l.f()}r=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);r&&this.maybeMeasure()}},{key:"createTooltip",value:function(e){var t=e.create(this.view);if(t.dom.classList.add("cm-tooltip"),e.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){var r=document.createElement("div");r.className="cm-tooltip-arrow",t.dom.appendChild(r)}return t.dom.style.position=this.position,t.dom.style.top="-10000px",this.container.appendChild(t.dom),t.mount&&t.mount(this.view),t}},{key:"destroy",value:function(){var e,t;this.view.win.removeEventListener("resize",this.measureSoon);var r,i=fe(this.manager.tooltipViews);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.dom.remove(),(e=o.destroy)===null||e===void 0||e.call(o)}}catch(a){i.e(a)}finally{i.f()}(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}},{key:"readMeasure",value:function(){var e=this,t=this.view.dom.getBoundingClientRect();return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map(function(r,i){var o=e.manager.tooltipViews[i];return o.getCoords?o.getCoords(r.pos):e.view.coordsAtPos(r.pos)}),size:this.manager.tooltipViews.map(function(r){return r.dom.getBoundingClientRect()}),space:this.view.state.facet(e1).tooltipSpace(this.view)}}},{key:"writeMeasure",value:function(e){for(var t=e.editor,r=e.space,i=[],o=0;o<this.manager.tooltips.length;o++){var a=this.manager.tooltips[o],s=this.manager.tooltipViews[o],l=s.dom,u=e.pos[o],c=e.size[o];if(!u||u.bottom<=Math.max(t.top,r.top)||u.top>=Math.min(t.bottom,r.bottom)||u.right<Math.max(t.left,r.left)-.1||u.left>Math.min(t.right,r.right)+.1)l.style.top="-10000px";else{var f=a.arrow?s.dom.querySelector(".cm-tooltip-arrow"):null,d=f?7:0,h=c.right-c.left,v=c.bottom-c.top,p=s.offset||wUe,m=this.view.textDirection==pr.LTR,g=c.width>r.right-r.left?m?r.left:r.right-c.width:m?Math.min(u.left-(f?14:0)+p.x,r.right-h):Math.max(r.left,u.left-h+(f?14:0)-p.x),y=!!a.above;!a.strictSide&&(y?u.top-(c.bottom-c.top)-p.y<r.top:u.bottom+(c.bottom-c.top)+p.y>r.bottom)&&y==r.bottom-u.bottom>u.top-r.top&&(y=!y);var b=y?u.top-v-d-p.y:u.bottom+d+p.y,w=g+h;if(s.overlap!==!0){var k,x=fe(i);try{for(x.s();!(k=x.n()).done;){var C=k.value;C.left<w&&C.right>g&&C.top<b+v&&C.bottom>b&&(b=y?C.top-v-2-d:C.bottom+d+2)}}catch(T){x.e(T)}finally{x.f()}}this.position=="absolute"?(l.style.top=b-e.parent.top+"px",l.style.left=g-e.parent.left+"px"):(l.style.top=b+"px",l.style.left=g+"px"),f&&(f.style.left="".concat(u.left+(m?p.x:-p.x)-(g+14-7),"px")),s.overlap!==!0&&i.push({left:g,top:b,right:w,bottom:b+v}),l.classList.toggle("cm-tooltip-above",y),l.classList.toggle("cm-tooltip-below",!y),s.positioned&&s.positioned(e.space)}}}},{key:"maybeMeasure",value:function(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView))){var e,t=fe(this.manager.tooltipViews);try{for(t.s();!(e=t.n()).done;)e.value.dom.style.top="-10000px"}catch(r){t.e(r)}finally{t.f()}}}}]),n}(),{eventHandlers:{scroll:function(){this.maybeMeasure()}}}),bUe=_t.baseTheme({".cm-tooltip":{zIndex:100},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"".concat(7,"px"),width:"".concat(14,"px"),position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"".concat(7,"px solid transparent"),borderRight:"".concat(7,"px solid transparent")},".cm-tooltip-above &":{bottom:"-".concat(7,"px"),"&:before":{borderTop:"".concat(7,"px solid #bbb")},"&:after":{borderTop:"".concat(7,"px solid #f5f5f5"),bottom:"1px"}},".cm-tooltip-below &":{top:"-".concat(7,"px"),"&:before":{borderBottom:"".concat(7,"px solid #bbb")},"&:after":{borderBottom:"".concat(7,"px solid #f5f5f5"),top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),wUe={x:0,y:0},b0=Pt.define({enables:[kH,bUe]}),Rm=Pt.define(),kUe=function(){function n(e){var t=this;re(this,n),this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new wH(e,Rm,function(r){return t.createHostedView(r)})}return ie(n,[{key:"createHostedView",value:function(e){var t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}},{key:"mount",value:function(e){var t,r=fe(this.manager.tooltipViews);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.mount&&i.mount(e)}}catch(o){r.e(o)}finally{r.f()}this.mounted=!0}},{key:"positioned",value:function(e){var t,r=fe(this.manager.tooltipViews);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.positioned&&i.positioned(e)}}catch(o){r.e(o)}finally{r.f()}}},{key:"update",value:function(e){this.manager.update(e)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(),xUe=b0.compute([Rm],function(n){var e=n.facet(Rm).filter(function(t){return t});return e.length===0?null:{pos:Math.min.apply(Math,Ut(e.map(function(t){return t.pos}))),end:Math.max.apply(Math,Ut(e.filter(function(t){return t.end!=null}).map(function(t){return t.end}))),create:kUe.create,above:e[0].above,arrow:e.some(function(t){return t.arrow})}}),jUe=function(){function n(e,t,r,i,o){re(this,n),this.view=e,this.source=t,this.field=r,this.setHover=i,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}return ie(n,[{key:"update",value:function(){var e=this;this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(function(){return e.startHover()},20))}},{key:"active",get:function(){return this.view.state.field(this.field)}},{key:"checkHover",value:function(){if(this.hoverTimeout=-1,!this.active){var e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}}},{key:"startHover",value:function(){var e=this;clearTimeout(this.restartTimeout);var t=this.lastMove,r=this.view.contentDOM.contains(t.target)?this.view.posAtCoords(t):null;if(r!=null){var i=this.view.coordsAtPos(r);if(!(i==null||t.y<i.top||t.y>i.bottom||t.x<i.left-this.view.defaultCharacterWidth||t.x>i.right+this.view.defaultCharacterWidth)){var o=this.view.bidiSpans(this.view.state.doc.lineAt(r)).find(function(u){return u.from<=r&&u.to>=r}),a=o&&o.dir==pr.RTL?-1:1,s=this.source(this.view,r,t.x<i.left?-a:a);if(s!=null&&s.then){var l=this.pending={pos:r};s.then(function(u){e.pending==l&&(e.pending=null,u&&e.view.dispatch({effects:e.setHover.of(u)}))},function(u){return co(e.view.state,u,"hover tooltip")})}else s&&this.view.dispatch({effects:this.setHover.of(s)})}}}},{key:"mousemove",value:function(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));var r=this.active;if(r&&!yN(this.lastMove.target)||this.pending){var i=(r||this.pending).pos,o=(t=r==null?void 0:r.end)!==null&&t!==void 0?t:i;(i==o?this.view.posAtCoords(this.lastMove)==i:function(a,s,l,u,c,f){var d=document.createRange(),h=a.domAtPos(s),v=a.domAtPos(l);d.setEnd(v.node,v.offset),d.setStart(h.node,h.offset);var p=d.getClientRects();d.detach();for(var m=0;m<p.length;m++){var g=p[m];if(Math.max(g.top-c,c-g.bottom,g.left-u,u-g.right)<=f)return!0}return!1}(this.view,i,o,e.clientX,e.clientY,6))||(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}},{key:"mouseleave",value:function(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!yN(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}},{key:"destroy",value:function(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}]),n}();function yN(n){for(var e=n;e;e=e.parentNode)if(e.nodeType==1&&e.classList.contains("cm-tooltip"))return!0;return!1}function CUe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=dn.define(),r=fi.define({create:function(){return null},update:function(i,o){if(i&&(e.hideOnChange&&(o.docChanged||o.selection)||e.hideOn&&e.hideOn(o,i)))return null;if(i&&o.docChanged){var a=o.changes.mapPos(i.pos,-1,Ti.TrackDel);if(a==null)return null;var s=Object.assign(Object.create(null),i);s.pos=a,i.end!=null&&(s.end=o.changes.mapPos(i.end)),i=s}var l,u=fe(o.effects);try{for(u.s();!(l=u.n()).done;){var c=l.value;c.is(t)&&(i=c.value),c.is(TUe)&&(i=null)}}catch(f){u.e(f)}finally{u.f()}return i},provide:function(i){return Rm.from(i)}});return[r,hi.define(function(i){return new jUe(i,n,r,t,e.hoverTime||300)}),xUe]}function SUe(n,e){var t=n.plugin(kH);if(!t)return null;var r=t.manager.tooltips.indexOf(e);return r<0?null:t.manager.tooltipViews[r]}var TUe=dn.define(),bN=Pt.define({combine:function(n){var e,t,r,i=fe(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;e=e||o.topContainer,t=t||o.bottomContainer}}catch(a){i.e(a)}finally{i.f()}return{topContainer:e,bottomContainer:t}}});function dh(n,e){var t=n.plugin(xH),r=t?t.specs.indexOf(e):-1;return r>-1?t.panels[r]:null}var xH=hi.fromClass(function(){function n(e){re(this,n),this.input=e.state.facet(hh),this.specs=this.input.filter(function(a){return a}),this.panels=this.specs.map(function(a){return a(e)});var t=e.state.facet(bN);this.top=new Fp(e,!0,t.topContainer),this.bottom=new Fp(e,!1,t.bottomContainer),this.top.sync(this.panels.filter(function(a){return a.top})),this.bottom.sync(this.panels.filter(function(a){return!a.top}));var r,i=fe(this.panels);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.dom.classList.add("cm-panel"),o.mount&&o.mount()}}catch(a){i.e(a)}finally{i.f()}}return ie(n,[{key:"update",value:function(e){var t=e.state.facet(bN);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new Fp(e.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new Fp(e.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();var r=e.state.facet(hh);if(r!=this.input){var i,o=r.filter(function(w){return w}),a=[],s=[],l=[],u=[],c=fe(o);try{for(c.s();!(i=c.n()).done;){var f=i.value,d=this.specs.indexOf(f),h=void 0;d<0?(h=f(e.view),u.push(h)):(h=this.panels[d]).update&&h.update(e),a.push(h),(h.top?s:l).push(h)}}catch(w){c.e(w)}finally{c.f()}this.specs=o,this.panels=a,this.top.sync(s),this.bottom.sync(l);for(var v=0,p=u;v<p.length;v++){var m=p[v];m.dom.classList.add("cm-panel"),m.mount&&m.mount()}}else{var g,y=fe(this.panels);try{for(y.s();!(g=y.n()).done;){var b=g.value;b.update&&b.update(e)}}catch(w){y.e(w)}finally{y.f()}}}},{key:"destroy",value:function(){this.top.sync([]),this.bottom.sync([])}}]),n}(),{provide:function(n){return _t.scrollMargins.of(function(e){var t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})}}),Fp=function(){function n(e,t,r){re(this,n),this.view=e,this.top=t,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}return ie(n,[{key:"sync",value:function(e){var t,r=fe(this.panels);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.destroy&&e.indexOf(i)<0&&i.destroy()}}catch(o){r.e(o)}finally{r.f()}this.panels=e,this.syncDOM()}},{key:"syncDOM",value:function(){if(this.panels.length!=0){if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";var e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}var t,r=this.dom.firstChild,i=fe(this.panels);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(o.dom.parentNode==this.dom){for(;r!=o.dom;)r=wN(r);r=r.nextSibling}else this.dom.insertBefore(o.dom,r)}}catch(a){i.e(a)}finally{i.f()}for(;r;)r=wN(r)}else this.dom&&(this.dom.remove(),this.dom=void 0)}},{key:"scrollMargin",value:function(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}},{key:"syncClasses",value:function(){if(this.container&&this.classes!=this.view.themeClasses){var e,t=fe(this.classes.split(" "));try{for(t.s();!(e=t.n()).done;){var r=e.value;r&&this.container.classList.remove(r)}}catch(s){t.e(s)}finally{t.f()}var i,o=fe((this.classes=this.view.themeClasses).split(" "));try{for(o.s();!(i=o.n()).done;){var a=i.value;a&&this.container.classList.add(a)}}catch(s){o.e(s)}finally{o.f()}}}}]),n}();function wN(n){var e=n.nextSibling;return n.remove(),e}var hh=Pt.define({enables:xH}),Ca=function(n){De(t,Xl);var e=Re(t);function t(){return re(this,t),e.apply(this,arguments)}return ie(t,[{key:"compare",value:function(r){return this==r||this.constructor==r.constructor&&this.eq(r)}},{key:"eq",value:function(r){return!1}},{key:"destroy",value:function(r){}}]),t}();Ca.prototype.elementClass="",Ca.prototype.toDOM=void 0,Ca.prototype.mapMode=Ti.TrackBefore,Ca.prototype.startSide=Ca.prototype.endSide=-1,Ca.prototype.point=!0;var Tv=Pt.define(),OUe={class:"",renderEmptyElements:!1,elementStyle:"",markers:function(){return or.empty},lineMarker:function(){return null},lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Rd=Pt.define();function jH(n){return[CH(),Rd.of(Object.assign(Object.assign({},OUe),n))]}var Ew=Pt.define({combine:function(n){return n.some(function(e){return e})}});function CH(n){var e=[EUe];return n&&n.fixed===!1&&e.push(Ew.of(!0)),e}var EUe=hi.fromClass(function(){function n(e){re(this,n),this.view=e,this.prevViewport=e.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=e.state.facet(Rd).map(function(o){return new xN(e,o)});var t,r=fe(this.gutters);try{for(r.s();!(t=r.n()).done;){var i=t.value;this.dom.appendChild(i.dom)}}catch(o){r.e(o)}finally{r.f()}this.fixed=!e.state.facet(Ew),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),e.scrollDOM.insertBefore(this.dom,e.contentDOM)}return ie(n,[{key:"update",value:function(e){if(this.updateGutters(e)){var t=this.prevViewport,r=e.view.viewport,i=Math.min(t.to,r.to)-Math.max(t.from,r.from);this.syncGutters(i<.8*(r.to-r.from))}e.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(Ew)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=e.view.viewport}},{key:"syncGutters",value:function(e){var t=this,r=this.dom.nextSibling;e&&this.dom.remove();var i,o=or.iter(this.view.state.facet(Tv),this.view.viewport.from),a=[],s=this.gutters.map(function(y){return new MUe(y,t.view.viewport,-t.view.documentPadding.top)}),l=fe(this.view.viewportLineBlocks);try{for(l.s();!(i=l.n()).done;){var u=i.value,c=void 0;if(Array.isArray(u.type)){var f,d=fe(u.type);try{for(d.s();!(f=d.n()).done;){var h=f.value;if(h.type==Zn.Text){c=h;break}}}catch(y){d.e(y)}finally{d.f()}}else c=u.type==Zn.Text?u:void 0;if(c){a.length&&(a=[]),SH(o,a,u.from);var v,p=fe(s);try{for(p.s();!(v=p.n()).done;)v.value.line(this.view,c,a)}catch(y){p.e(y)}finally{p.f()}}}}catch(y){l.e(y)}finally{l.f()}var m,g=fe(s);try{for(g.s();!(m=g.n()).done;)m.value.finish()}catch(y){g.e(y)}finally{g.f()}e&&this.view.scrollDOM.insertBefore(this.dom,r)}},{key:"updateGutters",value:function(e){var t=e.startState.facet(Rd),r=e.state.facet(Rd),i=e.docChanged||e.heightChanged||e.viewportChanged||!or.eq(e.startState.facet(Tv),e.state.facet(Tv),e.view.viewport.from,e.view.viewport.to);if(t==r){var o,a=fe(this.gutters);try{for(a.s();!(o=a.n()).done;)o.value.update(e)&&(i=!0)}catch(y){a.e(y)}finally{a.f()}}else{i=!0;var s,l=[],u=fe(r);try{for(u.s();!(s=u.n()).done;){var c=s.value,f=t.indexOf(c);f<0?l.push(new xN(this.view,c)):(this.gutters[f].update(e),l.push(this.gutters[f]))}}catch(y){u.e(y)}finally{u.f()}var d,h=fe(this.gutters);try{for(h.s();!(d=h.n()).done;){var v=d.value;v.dom.remove(),l.indexOf(v)<0&&v.destroy()}}catch(y){h.e(y)}finally{h.f()}for(var p=0,m=l;p<m.length;p++){var g=m[p];this.dom.appendChild(g.dom)}this.gutters=l}return i}},{key:"destroy",value:function(){var e,t=fe(this.gutters);try{for(t.s();!(e=t.n()).done;)e.value.destroy()}catch(r){t.e(r)}finally{t.f()}this.dom.remove()}}]),n}(),{provide:function(n){return _t.scrollMargins.of(function(e){var t=e.plugin(n);return t&&t.gutters.length!=0&&t.fixed?e.textDirection==pr.LTR?{left:t.dom.offsetWidth}:{right:t.dom.offsetWidth}:null})}});function kN(n){return Array.isArray(n)?n:[n]}function SH(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}var MUe=function(){function n(e,t,r){re(this,n),this.gutter=e,this.height=r,this.localMarkers=[],this.i=0,this.cursor=or.iter(e.markers,t.from)}return ie(n,[{key:"line",value:function(e,t,r){this.localMarkers.length&&(this.localMarkers=[]),SH(this.cursor,this.localMarkers,t.from);var i=r.length?this.localMarkers.concat(r):this.localMarkers,o=this.gutter.config.lineMarker(e,t,i);o&&i.unshift(o);var a=this.gutter;if(i.length!=0||a.config.renderEmptyElements){var s=t.top-this.height;if(this.i==a.elements.length){var l=new TH(e,t.height,s,i);a.elements.push(l),a.dom.appendChild(l.dom)}else a.elements[this.i].update(e,t.height,s,i);this.height=t.bottom,this.i++}}},{key:"finish",value:function(){for(var e=this.gutter;e.elements.length>this.i;){var t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}]),n}(),xN=function(){function n(e,t){var r=this;re(this,n),this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");var i=function(a){r.dom.addEventListener(a,function(s){var l=e.lineBlockAtHeight(s.clientY-e.documentTop);t.domEventHandlers[a](e,l,s)&&s.preventDefault()})};for(var o in t.domEventHandlers)i(o);this.markers=kN(t.markers(e)),t.initialSpacer&&(this.spacer=new TH(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}return ie(n,[{key:"update",value:function(e){var t=this.markers;if(this.markers=kN(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){var r=this.config.updateSpacer(this.spacer.markers[0],e);r!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[r])}var i=e.view.viewport;return!or.eq(this.markers,t,i.from,i.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}},{key:"destroy",value:function(){var e,t=fe(this.elements);try{for(t.s();!(e=t.n()).done;)e.value.destroy()}catch(r){t.e(r)}finally{t.f()}}}]),n}(),TH=function(){function n(e,t,r,i){re(this,n),this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,r,i)}return ie(n,[{key:"update",value:function(e,t,r,i){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),function(o,a){if(o.length!=a.length)return!1;for(var s=0;s<o.length;s++)if(!o[s].compare(a[s]))return!1;return!0}(this.markers,i)||this.setMarkers(e,i)}},{key:"setMarkers",value:function(e,t){for(var r="cm-gutterElement",i=this.dom.firstChild,o=0,a=0;;){var s=a,l=o<t.length?t[o++]:null,u=!1;if(l){var c=l.elementClass;c&&(r+=" "+c);for(var f=a;f<this.markers.length;f++)if(this.markers[f].compare(l)){s=f,u=!0;break}}else s=this.markers.length;for(;a<s;){var d=this.markers[a++];if(d.toDOM){d.destroy(i);var h=i.nextSibling;i.remove(),i=h}}if(!l)break;l.toDOM&&(u?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),u&&a++}this.dom.className=r,this.markers=t}},{key:"destroy",value:function(){this.setMarkers(null,[])}}]),n}(),$Ue=Pt.define(),kc=Pt.define({combine:function(n){return ca(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers:function(e,t){var r=Object.assign({},e),i=function(a){var s=r[a],l=t[a];r[a]=s?function(u,c,f){return s(u,c,f)||l(u,c,f)}:l};for(var o in t)i(o);return r}})}}),t1=function(n){De(t,Ca);var e=Re(t);function t(r){var i;return re(this,t),(i=e.call(this)).number=r,i}return ie(t,[{key:"eq",value:function(r){return this.number==r.number}},{key:"toDOM",value:function(){return document.createTextNode(this.number)}}]),t}();function n1(n,e){return n.state.facet(kc).formatNumber(e,n.state)}var AUe=Rd.compute([kc],function(n){return{class:"cm-lineNumbers",renderEmptyElements:!1,markers:function(e){return e.state.facet($Ue)},lineMarker:function(e,t,r){return r.some(function(i){return i.toDOM})?null:new t1(n1(e,e.state.doc.lineAt(t.from).number))},lineMarkerChange:function(e){return e.startState.facet(kc)!=e.state.facet(kc)},initialSpacer:function(e){return new t1(n1(e,jN(e.state.doc.lines)))},updateSpacer:function(e,t){var r=n1(t.view,jN(t.view.state.doc.lines));return r==e.number?e:new t1(r)},domEventHandlers:n.facet(kc).domEventHandlers}});function _Ue(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return[kc.of(n),CH(),AUe]}function jN(n){for(var e=9;e<n;)e=10*e+9;return e}var NUe=new(function(n){De(t,Ca);var e=Re(t);function t(){var r;return re(this,t),(r=e.apply(this,arguments)).elementClass="cm-activeLineGutter",r}return ie(t)}()),IUe=Tv.compute(["selection"],function(n){var e,t=[],r=-1,i=fe(n.selection.ranges);try{for(i.s();!(e=i.n()).done;){var o=e.value,a=n.doc.lineAt(o.head).from;a>r&&(r=a,t.push(NUe.range(a)))}}catch(s){i.e(s)}finally{i.f()}return or.of(t)}),PUe=0,r1=ie(function n(e,t){re(this,n),this.from=e,this.to=t}),yn=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};re(this,n),this.id=PUe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||function(){throw new Error("This node type doesn't define a deserialize function")}}return ie(n,[{key:"add",value:function(e){var t=this;if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Eo.match(e)),function(r){var i=e(r);return i===void 0?null:[t,i]}}}]),n}();yn.closedBy=new yn({deserialize:function(n){return n.split(" ")}}),yn.openedBy=new yn({deserialize:function(n){return n.split(" ")}}),yn.group=new yn({deserialize:function(n){return n.split(" ")}}),yn.contextHash=new yn({perNode:!0}),yn.lookAhead=new yn({perNode:!0}),yn.mounted=new yn({perNode:!0});var LUe=Object.create(null),Eo=function(){function n(e,t,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;re(this,n),this.name=e,this.props=t,this.id=r,this.flags=i}return ie(n,[{key:"prop",value:function(e){return this.props[e.id]}},{key:"isTop",get:function(){return(1&this.flags)>0}},{key:"isSkipped",get:function(){return(2&this.flags)>0}},{key:"isError",get:function(){return(4&this.flags)>0}},{key:"isAnonymous",get:function(){return(8&this.flags)>0}},{key:"is",value:function(e){if(typeof e=="string"){if(this.name==e)return!0;var t=this.prop(yn.group);return!!t&&t.indexOf(e)>-1}return this.id==e}}],[{key:"define",value:function(e){var t=e.props&&e.props.length?Object.create(null):LUe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new n(e.name||"",t,e.id,r);if(e.props){var o,a=fe(e.props);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}}catch(l){a.e(l)}finally{a.f()}}return i}},{key:"match",value:function(e){var t=Object.create(null);for(var r in e){var i,o=fe(r.split(" "));try{for(o.s();!(i=o.n()).done;){var a=i.value;t[a]=e[r]}}catch(s){o.e(s)}finally{o.f()}}return function(s){for(var l=s.prop(yn.group),u=-1;u<(l?l.length:0);u++){var c=t[u<0?s.name:l[u]];if(c)return c}}}}]),n}();Eo.none=new Eo("",Object.create(null),0,8);var ai,DUe=function(){function n(e){re(this,n),this.types=e;for(var t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}return ie(n,[{key:"extend",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var o,a=fe(this.types);try{for(a.s();!(o=a.n()).done;){var s,l=o.value,u=null,c=fe(r);try{for(c.s();!(s=c.n()).done;){var f=s.value,d=f(l);d&&(u||(u=Object.assign({},l.props)),u[d[0].id]=d[1])}}catch(h){c.e(h)}finally{c.f()}e.push(u?new Eo(l.name,u,l.id,l.flags):l)}}catch(h){a.e(h)}finally{a.f()}return new n(e)}}]),n}(),Hp=new WeakMap,CN=new WeakMap;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(ai||(ai={}));var si=function(){function n(e,t,r,i,o){if(re(this,n),this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);var a,s=fe(o);try{for(s.s();!(a=s.n()).done;){var l=Dt(a.value,2),u=l[0],c=l[1];this.props[typeof u=="number"?u:u.id]=c}}catch(f){s.e(f)}finally{s.f()}}}return ie(n,[{key:"toString",value:function(){var e=this.prop(yn.mounted);if(e&&!e.overlay)return e.tree.toString();var t,r="",i=fe(this.children);try{for(i.s();!(t=i.n()).done;){var o=t.value.toString();o&&(r&&(r+=","),r+=o)}}catch(a){i.e(a)}finally{i.f()}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(r.length?"("+r+")":""):r}},{key:"cursor",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new qm(this.topNode,e)}},{key:"cursorAt",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=Hp.get(this)||this.topNode,i=new qm(r);return i.moveTo(e,t),Hp.set(this,i._tree),i}},{key:"topNode",get:function(){return new ph(this,0,0,null)}},{key:"resolve",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=ff(Hp.get(this)||this.topNode,e,t,!1);return Hp.set(this,r),r}},{key:"resolveInner",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=ff(CN.get(this)||this.topNode,e,t,!0);return CN.set(this,r),r}},{key:"iterate",value:function(e){for(var t=e.enter,r=e.leave,i=e.from,o=i===void 0?0:i,a=e.to,s=a===void 0?this.length:a,l=this.cursor((e.mode||0)|ai.IncludeAnonymous);;){var u=!1;if(l.from<=s&&l.to>=o&&(l.type.isAnonymous||t(l)!==!1)){if(l.firstChild())continue;u=!0}for(;u&&r&&!l.type.isAnonymous&&r(l),!l.nextSibling();){if(!l.parent())return;u=!0}}}},{key:"prop",value:function(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}},{key:"propValues",get:function(){var e=[];if(this.props)for(var t in this.props)e.push([+t,this.props[t]]);return e}},{key:"balance",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.children.length<=8?this:K2(Eo.none,this.children,this.positions,0,this.children.length,0,this.length,function(r,i,o){return new n(e.type,r,i,o,e.propValues)},t.makeTree||function(r,i,o){return new n(Eo.none,r,i,o)})}}],[{key:"build",value:function(e){return zUe(e)}}]),n}();si.empty=new si(Eo.none,[],[],0);var RUe=function(){function n(e,t){re(this,n),this.buffer=e,this.index=t}return ie(n,[{key:"id",get:function(){return this.buffer[this.index-4]}},{key:"start",get:function(){return this.buffer[this.index-3]}},{key:"end",get:function(){return this.buffer[this.index-2]}},{key:"size",get:function(){return this.buffer[this.index-1]}},{key:"pos",get:function(){return this.index}},{key:"next",value:function(){this.index-=4}},{key:"fork",value:function(){return new n(this.buffer,this.index)}}]),n}(),Gh=function(){function n(e,t,r){re(this,n),this.buffer=e,this.length=t,this.set=r}return ie(n,[{key:"type",get:function(){return Eo.none}},{key:"toString",value:function(){for(var e=[],t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}},{key:"childString",value:function(e){var t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),r==(e+=4))return o;for(var a=[];e<r;)a.push(this.childString(e)),e=this.buffer[e+3];return o+"("+a.join(",")+")"}},{key:"findChild",value:function(e,t,r,i,o){for(var a=this.buffer,s=-1,l=e;l!=t&&!(OH(o,i,a[l+1],a[l+2])&&(s=l,r>0));l=a[l+3]);return s}},{key:"slice",value:function(e,t,r,i){for(var o=this.buffer,a=new Uint16Array(t-e),s=e,l=0;s<t;)a[l++]=o[s++],a[l++]=o[s++]-r,a[l++]=o[s++]-r,a[l++]=o[s++]-e;return new n(a,i-r,this.set)}}]),n}();function OH(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function EH(n,e){for(var t=n.childBefore(e);t;){var r=t.lastChild;if(!r||r.to!=t.to)break;r.type.isError&&r.from==r.to?(n=t,t=r.prevSibling):t=r}return n}function ff(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){var o=!r&&n instanceof ph&&n.index<0?null:n.parent;if(!o)return n;n=o}var a=r?0:ai.IgnoreOverlays;if(r)for(var s=n,l=s.parent;l;l=(s=l).parent)s instanceof ph&&s.index<0&&((i=l.enter(e,t,a))===null||i===void 0?void 0:i.from)!=s.from&&(n=l);for(;;){var u=n.enter(e,t,a);if(!u)return n;n=u}}var ph=function(){function n(e,t,r,i){re(this,n),this._tree=e,this.from=t,this.index=r,this._parent=i}return ie(n,[{key:"type",get:function(){return this._tree.type}},{key:"name",get:function(){return this._tree.type.name}},{key:"to",get:function(){return this.from+this._tree.length}},{key:"nextChild",value:function(e,t,r,i){for(var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a=this;;){for(var s=a._tree,l=s.children,u=s.positions,c=t>0?l.length:-1;e!=c;e+=t){var f=l[e],d=u[e]+a.from;if(OH(i,r,d,d+f.length)){if(f instanceof Gh){if(o&ai.ExcludeBuffers)continue;var h=f.findChild(0,f.buffer.length,t,r-d,i);if(h>-1)return new Mw(new BUe(a,f,e,d),null,h)}else if(o&ai.IncludeAnonymous||!f.type.isAnonymous||G2(f)){var v=void 0;if(!(o&ai.IgnoreMounts)&&f.props&&(v=f.prop(yn.mounted))&&!v.overlay)return new n(v.tree,d,e,a);var p=new n(f,d,e,a);return o&ai.IncludeAnonymous||!p.type.isAnonymous?p:p.nextChild(t<0?f.children.length-1:0,t,r,i)}}}if(o&ai.IncludeAnonymous||!a.type.isAnonymous||(e=a.index>=0?a.index+t:t<0?-1:a._parent._tree.children.length,!(a=a._parent)))return null}}},{key:"firstChild",get:function(){return this.nextChild(0,1,0,4)}},{key:"lastChild",get:function(){return this.nextChild(this._tree.children.length-1,-1,0,4)}},{key:"childAfter",value:function(e){return this.nextChild(0,1,e,2)}},{key:"childBefore",value:function(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}},{key:"enter",value:function(e,t){var r,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(!(i&ai.IgnoreOverlays)&&(r=this._tree.prop(yn.mounted))&&r.overlay){var o,a=e-this.from,s=fe(r.overlay);try{for(s.s();!(o=s.n()).done;){var l=o.value,u=l.from,c=l.to;if((t>0?u<=a:u<a)&&(t<0?c>=a:c>a))return new n(r.tree,r.overlay[0].from+this.from,-1,this)}}catch(f){s.e(f)}finally{s.f()}}return this.nextChild(0,1,e,t,i)}},{key:"nextSignificantParent",value:function(){for(var e=this;e.type.isAnonymous&&e._parent;)e=e._parent;return e}},{key:"parent",get:function(){return this._parent?this._parent.nextSignificantParent():null}},{key:"nextSibling",get:function(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}},{key:"prevSibling",get:function(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}},{key:"cursor",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new qm(this,e)}},{key:"tree",get:function(){return this._tree}},{key:"toTree",value:function(){return this._tree}},{key:"resolve",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ff(this,e,t,!1)}},{key:"resolveInner",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ff(this,e,t,!0)}},{key:"enterUnfinishedNodesBefore",value:function(e){return EH(this,e)}},{key:"getChild",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=Bm(this,e,t,r);return i.length?i[0]:null}},{key:"getChildren",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return Bm(this,e,t,r)}},{key:"toString",value:function(){return this._tree.toString()}},{key:"node",get:function(){return this}},{key:"matchContext",value:function(e){return zm(this,e)}}]),n}();function Bm(n,e,t,r){var i=n.cursor(),o=[];if(!i.firstChild())return o;if(t!=null){for(;!i.type.is(t);)if(!i.nextSibling())return o}for(;;){if(r!=null&&i.type.is(r))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return r==null?o:[]}}function zm(n,e){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length-1,r=n.parent;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}var BUe=ie(function n(e,t,r,i){re(this,n),this.parent=e,this.buffer=t,this.index=r,this.start=i}),Mw=function(){function n(e,t,r){re(this,n),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}return ie(n,[{key:"name",get:function(){return this.type.name}},{key:"from",get:function(){return this.context.start+this.context.buffer.buffer[this.index+1]}},{key:"to",get:function(){return this.context.start+this.context.buffer.buffer[this.index+2]}},{key:"child",value:function(e,t,r){var i=this.context.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return o<0?null:new n(this.context,this,o)}},{key:"firstChild",get:function(){return this.child(1,0,4)}},{key:"lastChild",get:function(){return this.child(-1,0,4)}},{key:"childAfter",value:function(e){return this.child(1,e,2)}},{key:"childBefore",value:function(e){return this.child(-1,e,-2)}},{key:"enter",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(r&ai.ExcludeBuffers)return null;var i=this.context.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return o<0?null:new n(this.context,this,o)}},{key:"parent",get:function(){return this._parent||this.context.parent.nextSignificantParent()}},{key:"externalSibling",value:function(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}},{key:"nextSibling",get:function(){var e=this.context.buffer,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new n(this.context,this._parent,t):this.externalSibling(1)}},{key:"prevSibling",get:function(){var e=this.context.buffer,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new n(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}},{key:"cursor",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new qm(this,e)}},{key:"tree",get:function(){return null}},{key:"toTree",value:function(){var e=[],t=[],r=this.context.buffer,i=this.index+4,o=r.buffer[this.index+3];if(o>i){var a=r.buffer[this.index+1],s=r.buffer[this.index+2];e.push(r.slice(i,o,a,s)),t.push(0)}return new si(this.type,e,t,this.to-this.from)}},{key:"resolve",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ff(this,e,t,!1)}},{key:"resolveInner",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ff(this,e,t,!0)}},{key:"enterUnfinishedNodesBefore",value:function(e){return EH(this,e)}},{key:"toString",value:function(){return this.context.buffer.childString(this.index)}},{key:"getChild",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=Bm(this,e,t,r);return i.length?i[0]:null}},{key:"getChildren",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return Bm(this,e,t,r)}},{key:"node",get:function(){return this}},{key:"matchContext",value:function(e){return zm(this,e)}}]),n}(),qm=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(re(this,n),this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof ph)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(var r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}return ie(n,[{key:"name",get:function(){return this.type.name}},{key:"yieldNode",value:function(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}},{key:"yieldBuf",value:function(e,t){this.index=e;var r=this.buffer,i=r.start,o=r.buffer;return this.type=t||o.set.types[o.buffer[e]],this.from=i+o.buffer[e+1],this.to=i+o.buffer[e+2],!0}},{key:"yield",value:function(e){return!!e&&(e instanceof ph?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}},{key:"toString",value:function(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}},{key:"enterChild",value:function(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));var i=this.buffer.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return!(o<0)&&(this.stack.push(this.index),this.yieldBuf(o))}},{key:"firstChild",value:function(){return this.enterChild(1,0,4)}},{key:"lastChild",value:function(){return this.enterChild(-1,0,4)}},{key:"childAfter",value:function(e){return this.enterChild(1,e,2)}},{key:"childBefore",value:function(e){return this.enterChild(-1,e,-2)}},{key:"enter",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.mode;return this.buffer?!(r&ai.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}},{key:"parent",value:function(){if(!this.buffer)return this.yieldNode(this.mode&ai.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());var e=this.mode&ai.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}},{key:"sibling",value:function(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));var t=this.buffer.buffer,r=this.stack.length-1;if(e<0){var i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{var o=t.buffer[this.index+3];if(o<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(o)}return r<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}},{key:"nextSibling",value:function(){return this.sibling(1)}},{key:"prevSibling",value:function(){return this.sibling(-1)}},{key:"atLastNode",value:function(e){var t,r,i=this.buffer;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(var o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;t=i.index,r=i.parent}else{var a=this._tree;t=a.index,r=a._parent}for(;r;t=(s=r).index,r=s._parent,s){var s;if(t>-1)for(var l=t+e,u=e<0?-1:r._tree.children.length;l!=u;l+=e){var c=r._tree.children[l];if(this.mode&ai.IncludeAnonymous||c instanceof Gh||!c.type.isAnonymous||G2(c))return!1}}return!0}},{key:"move",value:function(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}},{key:"next",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.move(1,e)}},{key:"prev",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.move(-1,e)}},{key:"moveTo",value:function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}},{key:"node",get:function(){if(!this.buffer)return this._tree;var e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(var i=this.index,o=this.stack.length;o>=0;){for(var a=e;a;a=a._parent)if(a.index==i){if(i==this.index)return a;t=a,r=o+1;break e}i=this.stack[--o]}for(var s=r;s<this.stack.length;s++)t=new Mw(this.buffer,t,this.stack[s]);return this.bufferNode=new Mw(this.buffer,t,this.index)}},{key:"tree",get:function(){return this.buffer?null:this._tree._tree}},{key:"iterate",value:function(e,t){for(var r=0;;){var i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;i&&t&&t(this),i=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,i=!0}}}},{key:"matchContext",value:function(e){if(!this.buffer)return zm(this.node,e);for(var t=this.buffer.buffer,r=t.set.types,i=e.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return zm(this.node,e,i);var a=r[t.buffer[this.stack[o]]];if(!a.isAnonymous){if(e[i]&&e[i]!=a.name)return!1;i--}}return!0}}]),n}();function G2(n){return n.children.some(function(e){return e instanceof Gh||!e.type.isAnonymous||G2(e)})}function zUe(n){var e,t=n.buffer,r=n.nodeSet,i=n.maxBufferLength,o=i===void 0?1024:i,a=n.reused,s=a===void 0?[]:a,l=n.minRepeatType,u=l===void 0?r.types.length:l,c=Array.isArray(t)?new RUe(t,t.length):t,f=r.types,d=0,h=0;function v(k,x,C,T,M){for(var B=c.id,_=c.start,N=c.end,$=c.size,j=h;$<0;){if(c.next(),$==-1){var D=s[B];return C.push(D),void T.push(_-k)}if($==-3)return void(d=B);if($==-4)return void(h=B);throw new RangeError("Unrecognized record size: ".concat($))}var q,R,G=f[B],A=_-k;if(N-_<=o&&(R=function(ge,P){var S=c.fork(),ae=0,ce=0,ne=0,ye=S.end-o,Ce={size:0,start:0,skip:0};e:for(var Se=S.pos-ge;S.pos>Se;){var Ue=S.size;if(S.id==P&&Ue>=0)Ce.size=ae,Ce.start=ce,Ce.skip=ne,ne+=4,ae+=4,S.next();else{var pt=S.pos-Ue;if(Ue<0||pt<Se||S.start<ye)break;var Ke=S.id>=u?4:0,Me=S.start;for(S.next();S.pos>pt;){if(S.size<0){if(S.size!=-3)break e;Ke+=4}else S.id>=u&&(Ke+=4);S.next()}ce=Me,ae+=Ue,ne+=Ke}}return(P<0||ae==ge)&&(Ce.size=ae,Ce.start=ce,Ce.skip=ne),Ce.size>4?Ce:void 0}(c.pos-x,M))){for(var I=new Uint16Array(R.size-R.skip),z=c.pos-R.size,F=I.length;c.pos>z;)F=g(R.start,I,F);q=new Gh(I,N-R.start,r),A=R.start-k}else{var L=c.pos-$;c.next();for(var O=[],V=[],Z=B>=u?B:-1,te=0,ve=N;c.pos>L;)Z>=0&&c.id==Z&&c.size>=0?(c.end<=ve-o&&(p(O,V,_,te,c.end,ve,Z,j),te=O.length,ve=c.end),c.next()):v(_,L,O,V,Z);if(Z>=0&&te>0&&te<O.length&&p(O,V,_,te,_,ve,Z,j),O.reverse(),V.reverse(),Z>-1&&te>0){var ue=function(ge){return function(P,S,ae){var ce,ne,ye=0,Ce=P.length-1;if(Ce>=0&&(ce=P[Ce])instanceof si){if(!Ce&&ce.type==ge&&ce.length==ae)return ce;(ne=ce.prop(yn.lookAhead))&&(ye=S[Ce]+ce.length+ne)}return m(ge,P,S,ae,ye)}}(G);q=K2(G,O,V,0,O.length,0,N-_,ue,ue)}else q=m(G,O,V,N-_,j-N)}C.push(q),T.push(A)}function p(k,x,C,T,M,B,_,N){for(var $=[],j=[];k.length>T;)$.push(k.pop()),j.push(x.pop()+C-M);k.push(m(r.types[_],$,j,B-M,N-B)),x.push(M-C)}function m(k,x,C,T){var M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,B=arguments.length>5?arguments[5]:void 0;if(d){var _=[yn.contextHash,d];B=B?[_].concat(B):[_]}if(M>25){var N=[yn.lookAhead,M];B=B?[N].concat(B):[N]}return new si(k,x,C,T,B)}function g(k,x,C){var T=c.id,M=c.start,B=c.end,_=c.size;if(c.next(),_>=0&&T<u){var N=C;if(_>4)for(var $=c.pos-(_-4);c.pos>$;)C=g(k,x,C);x[--C]=N,x[--C]=B-k,x[--C]=M-k,x[--C]=T}else _==-3?d=T:_==-4&&(h=T);return C}for(var y=[],b=[];c.pos>0;)v(n.start||0,n.bufferStart||0,y,b,-1);var w=(e=n.length)!==null&&e!==void 0?e:y.length?b[0]+y[0].length:0;return new si(f[n.topID],y.reverse(),b.reverse(),w)}var SN=new WeakMap;function Ov(n,e){if(!n.isAnonymous||e instanceof Gh||e.type!=n)return 1;var t=SN.get(e);if(t==null){t=1;var r,i=fe(e.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.type!=n||!(o instanceof si)){t=1;break}t+=Ov(n,o)}}catch(a){i.e(a)}finally{i.f()}SN.set(e,t)}return t}function K2(n,e,t,r,i,o,a,s,l){for(var u=0,c=r;c<i;c++)u+=Ov(n,e[c]);var f=Math.ceil(1.5*u/8),d=[],h=[];return function v(p,m,g,y,b){for(var w=g;w<y;){var k=w,x=m[w],C=Ov(n,p[w]);for(w++;w<y;w++){var T=Ov(n,p[w]);if(C+T>=f)break;C+=T}if(w==k+1){if(C>f){var M=p[k];v(M.children,M.positions,0,M.children.length,m[k]+b);continue}d.push(p[k])}else{var B=m[w-1]+p[w-1].length-x;d.push(K2(n,p,m,k,w,x,B,null,l))}h.push(x+b-o)}}(e,t,r,i,0),(s||l)(d,h,a)}var Ev=function(){function n(e,t,r,i){var o=arguments.length>4&&arguments[4]!==void 0&&arguments[4],a=arguments.length>5&&arguments[5]!==void 0&&arguments[5];re(this,n),this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(o?1:0)|(a?2:0)}return ie(n,[{key:"openStart",get:function(){return(1&this.open)>0}},{key:"openEnd",get:function(){return(2&this.open)>0}}],[{key:"addTree",value:function(e){var t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],o=[new n(0,e.length,e,0,!1,i)],a=fe(r);try{for(a.s();!(t=a.n()).done;){var s=t.value;s.to>e.length&&o.push(s)}}catch(l){a.e(l)}finally{a.f()}return o}},{key:"applyChanges",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:128;if(!t.length)return e;for(var i=[],o=1,a=e.length?e[0]:null,s=0,l=0,u=0;;s++){var c=s<t.length?t[s]:null,f=c?c.fromA:1e9;if(f-l>=r)for(;a&&a.from<f;){var d=a;if(l>=d.from||f<=d.to||u){var h=Math.max(d.from,l)-u,v=Math.min(d.to,f)-u;d=h>=v?null:new n(h,v,d.tree,d.offset+u,s>0,!!c)}if(d&&i.push(d),a.to>f)break;a=o<e.length?e[o++]:null}if(!c)break;l=c.toA,u=c.toA-c.toB}return i}}]),n}(),MH=function(){function n(){re(this,n)}return ie(n,[{key:"startParse",value:function(e,t,r){return typeof e=="string"&&(e=new qUe(e)),r=r?r.length?r.map(function(i){return new r1(i.from,i.to)}):[new r1(0,0)]:[new r1(0,e.length)],this.createParse(e,t||[],r)}},{key:"parse",value:function(e,t,r){for(var i=this.startParse(e,t,r);;){var o=i.advance();if(o)return o}}}]),n}(),qUe=function(){function n(e){re(this,n),this.string=e}return ie(n,[{key:"length",get:function(){return this.string.length}},{key:"chunk",value:function(e){return this.string.slice(e)}},{key:"lineChunks",get:function(){return!1}},{key:"read",value:function(e,t){return this.string.slice(e,t)}}]),n}();new yn({perNode:!0});var FUe=0,Rs=function(){function n(e,t,r){re(this,n),this.set=e,this.base=t,this.modified=r,this.id=FUe++}return ie(n,null,[{key:"define",value:function(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");var t=new n([],null,[]);if(t.set.push(t),e){var r,i=fe(e.set);try{for(i.s();!(r=i.n()).done;){var o=r.value;t.set.push(o)}}catch(a){i.e(a)}finally{i.f()}}return t}},{key:"defineModifier",value:function(){var e=new TN;return function(t){return t.modified.indexOf(e)>-1?t:TN.get(t.base||t,t.modified.concat(e).sort(function(r,i){return r.id-i.id}))}}}]),n}(),HUe=0,TN=function(){function n(){re(this,n),this.instances=[],this.id=HUe++}return ie(n,null,[{key:"get",value:function(e,t){if(!t.length)return e;var r=t[0].instances.find(function(p){return p.base==e&&(m=t,g=p.modified,m.length==g.length&&m.every(function(y,b){return y==g[b]}));var m,g});if(r)return r;var i,o=[],a=new Rs(o,e,t),s=fe(t);try{for(s.s();!(i=s.n()).done;)i.value.instances.push(a)}catch(p){s.e(p)}finally{s.f()}var l,u=$H(t),c=fe(e.set);try{for(c.s();!(l=c.n()).done;){var f,d=l.value,h=fe(u);try{for(h.s();!(f=h.n()).done;){var v=f.value;o.push(n.get(d,v))}}catch(p){h.e(p)}finally{h.f()}}}catch(p){c.e(p)}finally{c.f()}return a}}]),n}();function $H(n){for(var e=[n],t=0;t<n.length;t++){var r,i=fe($H(n.slice(0,t).concat(n.slice(t+1))));try{for(i.s();!(r=i.n()).done;){var o=r.value;e.push(o)}}catch(a){i.e(a)}finally{i.f()}}return e}function AH(n){var e=Object.create(null);for(var t in n){var r=n[t];Array.isArray(r)||(r=[r]);var i,o=fe(t.split(" "));try{for(o.s();!(i=o.n()).done;){var a=i.value;if(a){for(var s=[],l=2,u=a,c=0;;){if(u=="..."&&c>0&&c+3==a.length){l=1;break}var f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(u);if(!f)throw new RangeError("Invalid path: "+a);if(s.push(f[0]=="*"?"":f[0][0]=='"'?JSON.parse(f[0]):f[0]),(c+=f[0].length)==a.length)break;var d=a[c++];if(c==a.length&&d=="!"){l=0;break}if(d!="/")throw new RangeError("Invalid path: "+a);u=a.slice(c)}var h=s.length-1,v=s[h];if(!v)throw new RangeError("Invalid path: "+a);var p=new VUe(r,l,h>0?s.slice(0,h):null);e[v]=p.sort(e[v])}}}catch(m){o.e(m)}finally{o.f()}}return _H.add(e)}var _H=new yn,VUe=function(){function n(e,t,r,i){re(this,n),this.tags=e,this.mode=t,this.context=r,this.next=i}return ie(n,[{key:"sort",value:function(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}},{key:"depth",get:function(){return this.context?this.context.length:0}}]),n}();function NH(n,e){var t,r=Object.create(null),i=fe(n);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(Array.isArray(o.tag)){var a,s=fe(o.tag);try{for(s.s();!(a=s.n()).done;){var l=a.value;r[l.id]=o.class}}catch(h){s.e(h)}finally{s.f()}}else r[o.tag.id]=o.class}}catch(h){i.e(h)}finally{i.f()}var u=e||{},c=u.scope,f=u.all,d=f===void 0?null:f;return{style:function(h){var v,p=d,m=fe(h);try{for(m.s();!(v=m.n()).done;){var g,y=fe(v.value.set);try{for(y.s();!(g=y.n()).done;){var b=g.value,w=r[b.id];if(w){p=p?p+" "+w:w;break}}}catch(k){y.e(k)}finally{y.f()}}}catch(k){m.e(k)}finally{m.f()}return p},scope:c}}function WUe(n,e){var t,r=null,i=fe(n);try{for(i.s();!(t=i.n()).done;){var o=t.value.style(e);o&&(r=r?r+" "+o:o)}}catch(a){i.e(a)}finally{i.f()}return r}function UUe(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:n.length,o=new JUe(r,Array.isArray(e)?e:[e],t);o.highlightRange(n.cursor(),r,i,"",o.highlighters),o.flush(i)}var i1,JUe=function(){function n(e,t,r){re(this,n),this.at=e,this.highlighters=t,this.span=r,this.class=""}return ie(n,[{key:"startSpan",value:function(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}},{key:"flush",value:function(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}},{key:"highlightRange",value:function(e,t,r,i,o){var a=e.type,s=e.from,l=e.to;if(!(s>=r||l<=t)){a.isTop&&(o=this.highlighters.filter(function(C){return!C.scope||C.scope(a)}));for(var u=i,c=a.prop(_H),f=!1;c;){if(!c.context||e.matchContext(c.context)){var d=WUe(o,c.tags);d&&(u&&(u+=" "),u+=d,c.mode==1?i+=(i?" ":"")+d:c.mode==0&&(f=!0));break}c=c.next}if(this.startSpan(e.from,u),!f){var h=e.tree&&e.tree.prop(yn.mounted);if(h&&h.overlay){for(var v=e.node.enter(h.overlay[0].from+s,1),p=this.highlighters.filter(function(C){return!C.scope||C.scope(h.tree.type)}),m=e.firstChild(),g=0,y=s;;g++){var b=g<h.overlay.length?h.overlay[g]:null,w=b?b.from+s:l,k=Math.max(t,y),x=Math.min(r,w);if(k<x&&m)for(;e.from<x&&(this.highlightRange(e,k,x,i,o),this.startSpan(Math.min(r,e.to),u),!(e.to>=w)&&e.nextSibling()););if(!b||w>r)break;(y=b.to+s)>t&&(this.highlightRange(v.cursor(),Math.max(t,b.from+s),Math.min(r,y),i,p),this.startSpan(y,u))}m&&e.parent()}else if(e.firstChild()){do if(!(e.to<=t)){if(e.from>=r)break;this.highlightRange(e,t,r,i,o),this.startSpan(Math.min(r,e.to),u)}while(e.nextSibling());e.parent()}}}}}]),n}(),dt=Rs.define,Vp=dt(),Bs=dt(),ON=dt(Bs),EN=dt(Bs),zs=dt(),Wp=dt(zs),o1=dt(zs),wa=dt(),Bl=dt(wa),va=dt(),ma=dt(),$w=dt(),ed=dt($w),Up=dt(),rt={comment:Vp,lineComment:dt(Vp),blockComment:dt(Vp),docComment:dt(Vp),name:Bs,variableName:dt(Bs),typeName:ON,tagName:dt(ON),propertyName:EN,attributeName:dt(EN),className:dt(Bs),labelName:dt(Bs),namespace:dt(Bs),macroName:dt(Bs),literal:zs,string:Wp,docString:dt(Wp),character:dt(Wp),attributeValue:dt(Wp),number:o1,integer:dt(o1),float:dt(o1),bool:dt(zs),regexp:dt(zs),escape:dt(zs),color:dt(zs),url:dt(zs),keyword:va,self:dt(va),null:dt(va),atom:dt(va),unit:dt(va),modifier:dt(va),operatorKeyword:dt(va),controlKeyword:dt(va),definitionKeyword:dt(va),moduleKeyword:dt(va),operator:ma,derefOperator:dt(ma),arithmeticOperator:dt(ma),logicOperator:dt(ma),bitwiseOperator:dt(ma),compareOperator:dt(ma),updateOperator:dt(ma),definitionOperator:dt(ma),typeOperator:dt(ma),controlOperator:dt(ma),punctuation:$w,separator:dt($w),bracket:ed,angleBracket:dt(ed),squareBracket:dt(ed),paren:dt(ed),brace:dt(ed),content:wa,heading:Bl,heading1:dt(Bl),heading2:dt(Bl),heading3:dt(Bl),heading4:dt(Bl),heading5:dt(Bl),heading6:dt(Bl),contentSeparator:dt(wa),list:dt(wa),quote:dt(wa),emphasis:dt(wa),strong:dt(wa),link:dt(wa),monospace:dt(wa),strikethrough:dt(wa),inserted:dt(),deleted:dt(),changed:dt(),invalid:dt(),meta:Up,documentMeta:dt(Up),annotation:dt(Up),processingInstruction:dt(Up),definition:Rs.defineModifier(),constant:Rs.defineModifier(),function:Rs.defineModifier(),standard:Rs.defineModifier(),local:Rs.defineModifier(),special:Rs.defineModifier()};NH([{tag:rt.link,class:"tok-link"},{tag:rt.heading,class:"tok-heading"},{tag:rt.emphasis,class:"tok-emphasis"},{tag:rt.strong,class:"tok-strong"},{tag:rt.keyword,class:"tok-keyword"},{tag:rt.atom,class:"tok-atom"},{tag:rt.bool,class:"tok-bool"},{tag:rt.url,class:"tok-url"},{tag:rt.labelName,class:"tok-labelName"},{tag:rt.inserted,class:"tok-inserted"},{tag:rt.deleted,class:"tok-deleted"},{tag:rt.literal,class:"tok-literal"},{tag:rt.string,class:"tok-string"},{tag:rt.number,class:"tok-number"},{tag:[rt.regexp,rt.escape,rt.special(rt.string)],class:"tok-string2"},{tag:rt.variableName,class:"tok-variableName"},{tag:rt.local(rt.variableName),class:"tok-variableName tok-local"},{tag:rt.definition(rt.variableName),class:"tok-variableName tok-definition"},{tag:rt.special(rt.variableName),class:"tok-variableName2"},{tag:rt.definition(rt.propertyName),class:"tok-propertyName tok-definition"},{tag:rt.typeName,class:"tok-typeName"},{tag:rt.namespace,class:"tok-namespace"},{tag:rt.className,class:"tok-className"},{tag:rt.macroName,class:"tok-macroName"},{tag:rt.propertyName,class:"tok-propertyName"},{tag:rt.operator,class:"tok-operator"},{tag:rt.comment,class:"tok-comment"},{tag:rt.meta,class:"tok-meta"},{tag:rt.invalid,class:"tok-invalid"},{tag:rt.punctuation,class:"tok-punctuation"}]);var vh=new yn,Wo=function(){function n(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"";re(this,n),this.data=e,this.name=i,Yn.prototype.hasOwnProperty("tree")||Object.defineProperty(Yn.prototype,"tree",{get:function(){return ki(this)}}),this.parser=t,this.extension=[gl.of(this),Yn.languageData.of(function(o,a,s){return o.facet(MN(o,a,s))})].concat(r)}return ie(n,[{key:"isActiveAt",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;return MN(e,t,r)==this.data}},{key:"findRegions",value:function(e){var t=this,r=e.facet(gl);if((r==null?void 0:r.data)==this.data)return[{from:0,to:e.doc.length}];if(!r||!r.allowsNesting)return[];var i=[];return function o(a,s){if(a.prop(vh)!=t.data){var l=a.prop(yn.mounted);if(l){if(l.tree.prop(vh)==t.data){if(l.overlay){var u,c=fe(l.overlay);try{for(c.s();!(u=c.n()).done;){var f=u.value;i.push({from:f.from+s,to:f.to+s})}}catch(p){c.e(p)}finally{c.f()}}else i.push({from:s,to:s+a.length});return}if(l.overlay){var d=i.length;if(o(l.tree,l.overlay[0].from+s),i.length>d)return}}for(var h=0;h<a.children.length;h++){var v=a.children[h];v instanceof si&&o(v,a.positions[h]+s)}}else i.push({from:s,to:s+a.length})}(ki(e),0),i}},{key:"allowsNesting",get:function(){return!0}}]),n}();function MN(n,e,t){var r=n.facet(gl);if(!r)return null;var i=r.data;if(r.allowsNesting)for(var o=ki(n).topNode;o;o=o.enter(e,t,ai.ExcludeBuffers))i=o.type.prop(vh)||i;return i}Wo.setState=dn.define();var GUe=function(n){De(t,Wo);var e=Re(t);function t(r,i,o){var a;return re(this,t),(a=e.call(this,r,i,[],o)).parser=i,a}return ie(t,[{key:"configure",value:function(r,i){return new t(this.data,this.parser.configure(r),i||this.name)}},{key:"allowsNesting",get:function(){return this.parser.hasWrappers()}}],[{key:"define",value:function(r){var i,o=(i=r.languageData,Pt.define({combine:i?function(a){return a.concat(i)}:void 0}));return new t(o,r.parser.configure({props:[vh.add(function(a){return a.isTop?o:void 0})]}),r.name)}}]),t}();function ki(n){var e=n.field(Wo.state,!1);return e?e.tree:si.empty}var KUe=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.length;re(this,n),this.doc=e,this.length=t,this.cursorPos=0,this.string="",this.cursor=e.iter()}return ie(n,[{key:"syncTo",value:function(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}},{key:"chunk",value:function(e){return this.syncTo(e),this.string}},{key:"lineChunks",get:function(){return!0}},{key:"read",value:function(e,t){var r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}}]),n}(),td=null,QUe=function(){function n(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0;re(this,n),this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=o,this.viewport=a,this.skipped=s,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}return ie(n,[{key:"startParse",value:function(){return this.parser.startParse(new KUe(this.state.doc),this.fragments)}},{key:"work",value:function(e,t){var r=this;return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=si.empty&&this.isDone(t!=null?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext(function(){var i;if(typeof e=="number"){var o=Date.now()+e;e=function(){return Date.now()>o}}for(r.parse||(r.parse=r.startParse()),t!=null&&(r.parse.stoppedAt==null||r.parse.stoppedAt>t)&&t<r.state.doc.length&&r.parse.stopAt(t);;){var a=r.parse.advance();if(a){if(r.fragments=r.withoutTempSkipped(Ev.addTree(a,r.fragments,r.parse.stoppedAt!=null)),r.treeLen=(i=r.parse.stoppedAt)!==null&&i!==void 0?i:r.state.doc.length,r.tree=a,r.parse=null,!(r.treeLen<(t!=null?t:r.state.doc.length)))return!0;r.parse=r.startParse()}if(e())return!1}})}},{key:"takeTree",value:function(){var e,t,r=this;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(function(){for(;!(t=r.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Ev.addTree(this.tree,this.fragments,!0)),this.parse=null)}},{key:"withContext",value:function(e){var t=td;td=this;try{return e()}finally{td=t}}},{key:"withoutTempSkipped",value:function(e){for(var t;t=this.tempSkipped.pop();)e=$N(e,t.from,t.to);return e}},{key:"changes",value:function(e,t){var r=this.fragments,i=this.tree,o=this.treeLen,a=this.viewport,s=this.skipped;if(this.takeTree(),!e.empty){var l=[];if(e.iterChangedRanges(function(v,p,m,g){return l.push({fromA:v,toA:p,fromB:m,toB:g})}),r=Ev.applyChanges(r,l),i=si.empty,o=0,a={from:e.mapPos(a.from,-1),to:e.mapPos(a.to,1)},this.skipped.length){s=[];var u,c=fe(this.skipped);try{for(c.s();!(u=c.n()).done;){var f=u.value,d=e.mapPos(f.from,1),h=e.mapPos(f.to,-1);d<h&&s.push({from:d,to:h})}}catch(v){c.e(v)}finally{c.f()}}}return new n(this.parser,t,r,i,o,a,s,this.scheduleOn)}},{key:"updateViewport",value:function(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;for(var t=this.skipped.length,r=0;r<this.skipped.length;r++){var i=this.skipped[r],o=i.from,a=i.to;o<e.to&&a>e.from&&(this.fragments=$N(this.fragments,o,a),this.skipped.splice(r--,1))}return!(this.skipped.length>=t)&&(this.reset(),!0)}},{key:"reset",value:function(){this.parse&&(this.takeTree(),this.parse=null)}},{key:"skipUntilInView",value:function(e,t){this.skipped.push({from:e,to:t})}},{key:"isDone",value:function(e){e=Math.min(e,this.state.doc.length);var t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}}],[{key:"create",value:function(e,t,r){return new n(e,t,[],si.empty,0,r,[],null)}},{key:"getSkippingParser",value:function(e){return new(function(t){De(i,MH);var r=Re(i);function i(){return re(this,i),r.apply(this,arguments)}return ie(i,[{key:"createParse",value:function(o,a,s){var l=s[0].from,u=s[s.length-1].to;return{parsedPos:l,advance:function(){var c=td;if(c){var f,d=fe(s);try{for(d.s();!(f=d.n()).done;){var h=f.value;c.tempSkipped.push(h)}}catch(v){d.e(v)}finally{d.f()}e&&(c.scheduleOn=c.scheduleOn?Promise.all([c.scheduleOn,e]):e)}return this.parsedPos=u,new si(Eo.none,[],[],u-l)},stoppedAt:null,stopAt:function(){}}}}]),i}())}},{key:"get",value:function(){return td}}]),n}();function $N(n,e,t){return Ev.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}var Aw=function(){function n(e){re(this,n),this.context=e,this.tree=e.tree}return ie(n,[{key:"apply",value:function(e){if(!e.docChanged&&this.tree==this.context.tree)return this;var t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new n(t)}}],[{key:"init",value:function(e){var t=Math.min(3e3,e.doc.length),r=QUe.create(e.facet(gl).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new n(r)}}]),n}();Wo.state=fi.define({create:Aw.init,update:function(n,e){var t,r=fe(e.effects);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i.is(Wo.setState))return i.value}}catch(o){r.e(o)}finally{r.f()}return e.startState.facet(gl)!=e.state.facet(gl)?Aw.init(e.state):n.apply(e)}});var IH=function(n){var e=setTimeout(function(){return n()},500);return function(){return clearTimeout(e)}};typeof requestIdleCallback!="undefined"&&(IH=function(n){var e=-1,t=setTimeout(function(){e=requestIdleCallback(n,{timeout:400})},100);return function(){return e<0?clearTimeout(t):cancelIdleCallback(e)}});var a1=typeof navigator!="undefined"&&((i1=navigator.scheduling)===null||i1===void 0?void 0:i1.isInputPending)?function(){return navigator.scheduling.isInputPending()}:null,YUe=hi.fromClass(function(){function n(e){re(this,n),this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}return ie(n,[{key:"update",value:function(e){var t=this.view.state.field(Wo.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}},{key:"scheduleWork",value:function(){if(!this.working){var e=this.view.state,t=e.field(Wo.state);t.tree==t.context.tree&&t.context.isDone(e.doc.length)||(this.working=IH(this.work))}}},{key:"work",value:function(e){this.working=null;var t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),!(this.chunkBudget<=0)){var r=this.view,i=r.state,o=r.viewport.to,a=i.field(Wo.state);if(a.tree!=a.context.tree||!a.context.isDone(o+1e5)){var s=Date.now()+Math.min(this.chunkBudget,100,e&&!a1?Math.max(25,e.timeRemaining()-5):1e9),l=a.context.treeLen<o&&i.doc.length>o+1e3,u=a.context.work(function(){return a1&&a1()||Date.now()>s},o+(l?0:1e5));this.chunkBudget-=Date.now()-t,(u||this.chunkBudget<=0)&&(a.context.takeTree(),this.view.dispatch({effects:Wo.setState.of(new Aw(a.context))})),this.chunkBudget>0&&(!u||l)&&this.scheduleWork(),this.checkAsyncSchedule(a.context)}}}},{key:"checkAsyncSchedule",value:function(e){var t=this;e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(function(){return t.scheduleWork()}).catch(function(r){return co(t.view.state,r)}).then(function(){return t.workScheduled--}),e.scheduleOn=null)}},{key:"destroy",value:function(){this.working&&this.working()}},{key:"isWorking",value:function(){return!!(this.working||this.workScheduled>0)}}]),n}(),{eventHandlers:{focus:function(){this.scheduleWork()}}}),gl=Pt.define({combine:function(n){return n.length?n[0]:null},enables:function(n){return[Wo.state,YUe,_t.contentAttributes.compute([n],function(e){var t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]}}),ZUe=ie(function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];re(this,n),this.language=e,this.support=t,this.extension=[e,t]}),XUe=Pt.define(),w0=Pt.define({combine:function(n){if(!n.length)return"  ";if(!/^(?: +|\t+)$/.test(n[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return n[0]}});function Fm(n){var e=n.facet(w0);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function mh(n,e){var t="",r=n.tabSize;if(n.facet(w0).charCodeAt(0)==9)for(;e>=r;)t+="	",e-=r;for(var i=0;i<e;i++)t+=" ";return t}function Q2(n,e){n instanceof Yn&&(n=new k0(n));var t,r=fe(n.state.facet(XUe));try{for(r.s();!(t=r.n()).done;){var i=(0,t.value)(n,e);if(i!==void 0)return i}}catch(a){r.e(a)}finally{r.f()}var o=ki(n.state);return o?function(a,s,l){return LH(s.resolveInner(l).enterUnfinishedNodesBefore(l),l,a)}(n,o,e):null}var k0=function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};re(this,n),this.state=e,this.options=t,this.unit=Fm(e)}return ie(n,[{key:"lineAt",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=this.state.doc.lineAt(e),i=this.options,o=i.simulateBreak,a=i.simulateDoubleBreak;return o!=null&&o>=r.from&&o<=r.to?a&&o==e?{text:"",from:e}:(t<0?o<e:o<=e)?{text:r.text.slice(o-r.from),from:o}:{text:r.text.slice(0,o-r.from),from:r.from}:r}},{key:"textAfterPos",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";var r=this.lineAt(e,t),i=r.text,o=r.from;return i.slice(e-o,Math.min(i.length,e+100-o))}},{key:"column",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=this.lineAt(e,t),i=r.text,o=r.from,a=this.countColumn(i,e-o),s=this.options.overrideIndentation?this.options.overrideIndentation(o):-1;return s>-1&&(a+=s-this.countColumn(i,i.search(/\S|$/))),a}},{key:"countColumn",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.length;return Jh(e,this.state.tabSize,t)}},{key:"lineIndent",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=this.lineAt(e,t),i=r.text,o=r.from,a=this.options.overrideIndentation;if(a){var s=a(o);if(s>-1)return s}return this.countColumn(i,i.search(/\S|$/))}},{key:"simulatedBreak",get:function(){return this.options.simulateBreak||null}}]),n}(),PH=new yn;function eJe(n){var e=n.type.prop(PH);if(e)return e;var t,r=n.firstChild;if(r&&(t=r.type.prop(yn.closedBy))){var i=n.lastChild,o=i&&t.indexOf(i.name)>-1;return function(a){return function(s,l,u,c,f){var d=s.textAfter,h=d.match(/^\s*/)[0].length,v=c&&d.slice(h,h+c.length)==c||f==s.pos+h,p=l?function(m){var g=m.node,y=g.childAfter(g.from),b=g.lastChild;if(!y)return null;for(var w=m.options.simulateBreak,k=m.state.doc.lineAt(y.from),x=w==null||w<=k.from?k.to:Math.min(k.to,w),C=y.to;;){var T=g.childAfter(C);if(!T||T==b)return null;if(!T.type.isSkipped)return T.from<x?y:null;C=T.to}}(s):null;return p?v?s.column(p.from):s.column(p.to):s.baseIndent+(v?0:s.unit*u)}(a,!0,1,void 0,o&&!function(s){return s.pos==s.options.simulateBreak&&s.options.simulateDoubleBreak}(a)?i.from:void 0)}}return n.parent==null?tJe:null}function LH(n,e,t){for(;n;n=n.parent){var r=eJe(n);if(r)return r(nJe.create(t,e,n))}return null}function tJe(){return 0}var nJe=function(n){De(t,k0);var e=Re(t);function t(r,i,o){var a;return re(this,t),(a=e.call(this,r.state,r.options)).base=r,a.pos=i,a.node=o,a}return ie(t,[{key:"textAfter",get:function(){return this.textAfterPos(this.pos)}},{key:"baseIndent",get:function(){for(var r=this.state.doc.lineAt(this.node.from);;){for(var i=this.node.resolve(r.from);i.parent&&i.parent.from==i.from;)i=i.parent;if(rJe(i,this.node))break;r=this.state.doc.lineAt(i.from)}return this.lineIndent(r.from)}},{key:"continue",value:function(){var r=this.node.parent;return r?LH(r,this.pos,this.base):0}}],[{key:"create",value:function(r,i,o){return new t(r,i,o)}}]),t}();function rJe(n,e){for(var t=e;t;t=t.parent)if(n==t)return!0;return!1}function AN(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.except,t=n.units,r=t===void 0?1:t;return function(i){var o=e&&e.test(i.textAfter);return i.baseIndent+(o?0:r*i.unit)}}var iJe=Pt.define(),DH=new yn;function Hm(n,e,t){var r,i=fe(n.facet(iJe));try{for(i.s();!(r=i.n()).done;){var o=(0,r.value)(n,e,t);if(o)return o}}catch(a){i.e(a)}finally{i.f()}return function(a,s,l){var u=ki(a);if(u.length<l)return null;for(var c,f,d=null,h=u.resolveInner(l,1);h;h=h.parent)if(!(h.to<=l||h.from>l)){if(d&&h.from<s)break;var v=h.type.prop(DH);if(v&&(h.to<u.length-50||u.length==a.doc.length||(f=void 0,!(f=(c=h).lastChild)||f.to!=c.to||!f.type.isError))){var p=v(h,a);p&&p.from<=l&&p.from>=s&&p.to>l&&(d=p)}}return d}(n,e,t)}function RH(n,e){var t=e.mapPos(n.from,1),r=e.mapPos(n.to,-1);return t>=r?void 0:{from:t,to:r}}var Vm=dn.define({map:RH}),gh=dn.define({map:RH});function _N(n){var e,t=[],r=fe(n.state.selection.ranges);try{var i=function(){var o=e.value.head;if(t.some(function(a){return a.from<=o&&a.to>=o}))return"continue";t.push(n.lineBlockAt(o))};for(r.s();!(e=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}return t}var Ou=fi.define({create:function(){return qt.none},update:function(n,e){n=n.map(e.changes);var t,r=fe(e.effects);try{var i=function(){var s=t.value;s.is(Vm)&&!function(l,u,c){var f=!1;return l.between(u,u,function(d,h){d==u&&h==c&&(f=!0)}),f}(n,s.value.from,s.value.to)?n=n.update({add:[PN.range(s.value.from,s.value.to)]}):s.is(gh)&&(n=n.update({filter:function(l,u){return s.value.from!=l||s.value.to!=u},filterFrom:s.value.from,filterTo:s.value.to}))};for(r.s();!(t=r.n()).done;)i()}catch(s){r.e(s)}finally{r.f()}if(e.selection){var o=!1,a=e.selection.main.head;n.between(a,a,function(s,l){s<a&&l>a&&(o=!0)}),o&&(n=n.update({filterFrom:a,filterTo:a,filter:function(s,l){return l<=a||s>=a}}))}return n},provide:function(n){return _t.decorations.from(n)},toJSON:function(n,e){var t=[];return n.between(0,e.doc.length,function(r,i){t.push(r,i)}),t},fromJSON:function(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");for(var e=[],t=0;t<n.length;){var r=n[t++],i=n[t++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(PN.range(r,i))}return qt.set(e,!0)}});function Wm(n,e,t){var r,i=null;return(r=n.field(Ou,!1))===null||r===void 0||r.between(e,t,function(o,a){(!i||i.from>o)&&(i={from:o,to:a})}),i}function NN(n,e){return n.field(Ou,!1)?e:e.concat(dn.appendConfig.of(zH()))}function IN(n,e){var t=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=n.state.doc.lineAt(e.from).number,i=n.state.doc.lineAt(e.to).number;return _t.announce.of("".concat(n.state.phrase(t?"Folded lines":"Unfolded lines")," ").concat(r," ").concat(n.state.phrase("to")," ").concat(i,"."))}var oJe=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:function(n){var e,t=fe(_N(n));try{for(t.s();!(e=t.n()).done;){var r=e.value,i=Hm(n.state,r.from,r.to);if(i)return n.dispatch({effects:NN(n.state,[Vm.of(i),IN(n,i)])}),!0}}catch(o){t.e(o)}finally{t.f()}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:function(n){if(!n.state.field(Ou,!1))return!1;var e,t=[],r=fe(_N(n));try{for(r.s();!(e=r.n()).done;){var i=e.value,o=Wm(n.state,i.from,i.to);o&&t.push(gh.of(o),IN(n,o,!1))}}catch(a){r.e(a)}finally{r.f()}return t.length&&n.dispatch({effects:t}),t.length>0}},{key:"Ctrl-Alt-[",run:function(n){for(var e=n.state,t=[],r=0;r<e.doc.length;){var i=n.lineBlockAt(r),o=Hm(e,i.from,i.to);o&&t.push(Vm.of(o)),r=(o?n.lineBlockAt(o.to):i).to+1}return t.length&&n.dispatch({effects:NN(n.state,t)}),!!t.length}},{key:"Ctrl-Alt-]",run:function(n){var e=n.state.field(Ou,!1);if(!e||!e.size)return!1;var t=[];return e.between(0,n.state.doc.length,function(r,i){t.push(gh.of({from:r,to:i}))}),n.dispatch({effects:t}),!0}}],aJe={placeholderDOM:null,placeholderText:"\u2026"},BH=Pt.define({combine:function(n){return ca(n,aJe)}});function zH(n){var e=[Ou,uJe];return n&&e.push(BH.of(n)),e}var PN=qt.replace({widget:new(function(n){De(t,Tl);var e=Re(t);function t(){return re(this,t),e.apply(this,arguments)}return ie(t,[{key:"toDOM",value:function(r){var i=r.state,o=i.facet(BH),a=function(l){var u=r.lineBlockAt(r.posAtDOM(l.target)),c=Wm(r.state,u.from,u.to);c&&r.dispatch({effects:gh.of(c)}),l.preventDefault()};if(o.placeholderDOM)return o.placeholderDOM(r,a);var s=document.createElement("span");return s.textContent=o.placeholderText,s.setAttribute("aria-label",i.phrase("folded code")),s.title=i.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=a,s}}]),t}())}),sJe={openText:"\u2304",closedText:"\u203A",markerDOM:null,domEventHandlers:{},foldingChanged:function(){return!1}},s1=function(n){De(t,Ca);var e=Re(t);function t(r,i){var o;return re(this,t),(o=e.call(this)).config=r,o.open=i,o}return ie(t,[{key:"eq",value:function(r){return this.config==r.config&&this.open==r.open}},{key:"toDOM",value:function(r){if(this.config.markerDOM)return this.config.markerDOM(this.open);var i=document.createElement("span");return i.textContent=this.open?this.config.openText:this.config.closedText,i.title=r.state.phrase(this.open?"Fold line":"Unfold line"),i}}]),t}();function lJe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Object.assign(Object.assign({},sJe),n),t=new s1(e,!0),r=new s1(e,!1),i=hi.fromClass(function(){function a(s){re(this,a),this.from=s.viewport.from,this.markers=this.buildMarkers(s)}return ie(a,[{key:"update",value:function(s){(s.docChanged||s.viewportChanged||s.startState.facet(gl)!=s.state.facet(gl)||s.startState.field(Ou,!1)!=s.state.field(Ou,!1)||ki(s.startState)!=ki(s.state)||e.foldingChanged(s))&&(this.markers=this.buildMarkers(s.view))}},{key:"buildMarkers",value:function(s){var l,u=new lf,c=fe(s.viewportLineBlocks);try{for(c.s();!(l=c.n()).done;){var f=l.value,d=Wm(s.state,f.from,f.to)?r:Hm(s.state,f.from,f.to)?t:null;d&&u.add(f.from,f.from,d)}}catch(h){c.e(h)}finally{c.f()}return u.finish()}}]),a}()),o=e.domEventHandlers;return[i,jH({class:"cm-foldGutter",markers:function(a){var s;return((s=a.plugin(i))===null||s===void 0?void 0:s.markers)||or.empty},initialSpacer:function(){return new s1(e,!1)},domEventHandlers:Object.assign(Object.assign({},o),{click:function(a,s,l){if(o.click&&o.click(a,s,l))return!0;var u=Wm(a.state,s.from,s.to);if(u)return a.dispatch({effects:gh.of(u)}),!0;var c=Hm(a.state,s.from,s.to);return!!c&&(a.dispatch({effects:Vm.of(c)}),!0)}})}),zH()]}var uJe=_t.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}}),Y2=function(){function n(e,t){var r;function i(s){var l=vl.newName();return(r||(r=Object.create(null)))["."+l]=s,l}re(this,n),this.specs=e;var o=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,a=t.scope;this.scope=a instanceof Wo?function(s){return s.prop(vh)==a.data}:a?function(s){return s==a}:void 0,this.style=NH(e.map(function(s){return{tag:s.tag,class:s.class||i(Object.assign({},s,{tag:null}))}}),{all:o}).style,this.module=r?new vl(r):null,this.themeType=t.themeType}return ie(n,null,[{key:"define",value:function(e,t){return new n(e,t||{})}}]),n}(),_w=Pt.define(),qH=Pt.define({combine:function(n){return n.length?[n[0]]:null}});function l1(n){var e=n.facet(_w);return e.length?e:n.facet(qH)}function FH(n,e){var t,r=[fJe];return n instanceof Y2&&(n.module&&r.push(_t.styleModule.of(n.module)),t=n.themeType),e!=null&&e.fallback?r.push(qH.of(n)):t?r.push(_w.computeN([_t.darkTheme],function(i){return i.facet(_t.darkTheme)==(t=="dark")?[n]:[]})):r.push(_w.of(n)),r}var cJe=function(){function n(e){re(this,n),this.markCache=Object.create(null),this.tree=ki(e.state),this.decorations=this.buildDeco(e,l1(e.state))}return ie(n,[{key:"update",value:function(e){var t=ki(e.state),r=l1(e.state),i=r!=l1(e.startState);t.length<e.view.viewport.to&&!i&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,r))}},{key:"buildDeco",value:function(e,t){var r=this;if(!t||!this.tree.length)return qt.none;var i,o=new lf,a=fe(e.visibleRanges);try{for(a.s();!(i=a.n()).done;){var s=i.value,l=s.from,u=s.to;UUe(this.tree,t,function(c,f,d){o.add(c,f,r.markCache[d]||(r.markCache[d]=qt.mark({class:d})))},l,u)}}catch(c){a.e(c)}finally{a.f()}return o.finish()}}]),n}(),fJe=Pf.high(hi.fromClass(cJe,{decorations:function(n){return n.decorations}})),dJe=Y2.define([{tag:rt.meta,color:"#7a757a"},{tag:rt.link,textDecoration:"underline"},{tag:rt.heading,textDecoration:"underline",fontWeight:"bold"},{tag:rt.emphasis,fontStyle:"italic"},{tag:rt.strong,fontWeight:"bold"},{tag:rt.strikethrough,textDecoration:"line-through"},{tag:rt.keyword,color:"#708"},{tag:[rt.atom,rt.bool,rt.url,rt.contentSeparator,rt.labelName],color:"#219"},{tag:[rt.literal,rt.inserted],color:"#164"},{tag:[rt.string,rt.deleted],color:"#a11"},{tag:[rt.regexp,rt.escape,rt.special(rt.string)],color:"#e40"},{tag:rt.definition(rt.variableName),color:"#00f"},{tag:rt.local(rt.variableName),color:"#30a"},{tag:[rt.typeName,rt.namespace],color:"#085"},{tag:rt.className,color:"#167"},{tag:[rt.special(rt.variableName),rt.macroName],color:"#256"},{tag:rt.definition(rt.propertyName),color:"#00c"},{tag:rt.comment,color:"#940"},{tag:rt.invalid,color:"#f00"}]),hJe=_t.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),HH=Pt.define({combine:function(n){return ca(n,{afterCursor:!0,brackets:"()[]{}",maxScanDistance:1e4,renderMatch:mJe})}}),pJe=qt.mark({class:"cm-matchingBracket"}),vJe=qt.mark({class:"cm-nonmatchingBracket"});function mJe(n){var e=[],t=n.matched?pJe:vJe;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}var gJe=fi.define({create:function(){return qt.none},update:function(n,e){if(!e.docChanged&&!e.selection)return n;var t,r=[],i=e.state.facet(HH),o=fe(e.state.selection.ranges);try{for(o.s();!(t=o.n()).done;){var a=t.value;if(a.empty){var s=$a(e.state,a.head,-1,i)||a.head>0&&$a(e.state,a.head-1,1,i)||i.afterCursor&&($a(e.state,a.head,1,i)||a.head<e.state.doc.length&&$a(e.state,a.head+1,-1,i));s&&(r=r.concat(i.renderMatch(s,e.state)))}}}catch(l){o.e(l)}finally{o.f()}return qt.set(r,!0)},provide:function(n){return _t.decorations.from(n)}}),yJe=[gJe,hJe];function bJe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return[HH.of(n),yJe]}function Nw(n,e,t){var r=n.prop(e<0?yn.openedBy:yn.closedBy);if(r)return r;if(n.name.length==1){var i=t.indexOf(n.name);if(i>-1&&i%2==(e<0?1:0))return[t[i+e]]}return null}function $a(n,e,t){for(var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=r.maxScanDistance||1e4,o=r.brackets||"()[]{}",a=ki(n),s=a.resolveInner(e,t),l=s;l;l=l.parent){var u=Nw(l.type,t,o);if(u&&l.from<l.to)return wJe(n,e,t,l,u,o)}return kJe(n,e,t,a,s.type,i,o)}function wJe(n,e,t,r,i,o){var a=r.parent,s={from:r.from,to:r.to},l=0,u=a==null?void 0:a.cursor();if(u&&(t<0?u.childBefore(r.from):u.childAfter(r.to)))do if(t<0?u.to<=r.from:u.from>=r.to){if(l==0&&i.indexOf(u.type.name)>-1&&u.from<u.to)return{start:s,end:{from:u.from,to:u.to},matched:!0};if(Nw(u.type,t,o))l++;else if(Nw(u.type,-t,o)){if(l==0)return{start:s,end:u.from==u.to?void 0:{from:u.from,to:u.to},matched:!1};l--}}while(t<0?u.prevSibling():u.nextSibling());return{start:s,matched:!1}}function kJe(n,e,t,r,i,o,a){var s=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),l=a.indexOf(s);if(l<0||l%2==0!=t>0)return null;for(var u={from:t<0?e-1:e,to:t>0?e+1:e},c=n.doc.iterRange(e,t>0?n.doc.length:0),f=0,d=0;!c.next().done&&d<=o;){var h=c.value;t<0&&(d+=h.length);for(var v=e+d*t,p=t>0?0:h.length-1,m=t>0?h.length:-1;p!=m;p+=t){var g=a.indexOf(h[p]);if(!(g<0||r.resolveInner(v+p,1).type!=i))if(g%2==0==t>0)f++;else{if(f==1)return{start:u,end:{from:v+p,to:v+p+1},matched:g>>1==l>>1};f--}}t>0&&(d+=h.length)}return c.done?{start:u,matched:!1}:null}for(var xJe=Object.create(null),LN=[Eo.none],DN=[],jJe=Object.create(null),u1=0,RN=[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]];u1<RN.length;u1++){var BN=Dt(RN[u1],2),CJe=BN[0],SJe=BN[1];jJe[CJe]=TJe(xJe,SJe)}function c1(n,e){DN.indexOf(n)>-1||(DN.push(n),console.warn(e))}function TJe(n,e){var t,r=null,i=fe(e.split("."));try{for(i.s();!(t=i.n()).done;){var o=t.value,a=n[o]||rt[o];a?typeof a=="function"?r?r=a(r):c1(o,"Modifier ".concat(o," used at start of tag")):r?c1(o,"Tag ".concat(o," used as modifier")):r=a:c1(o,"Unknown highlighting tag ".concat(o))}}catch(u){i.e(u)}finally{i.f()}if(!r)return 0;var s=e.replace(/ /g,"_"),l=Eo.define({id:LN.length,name:s,props:[AH(ul({},s,r))]});return LN.push(l),l.id}function Z2(n,e){return function(t){var r=t.state,i=t.dispatch;if(r.readOnly)return!1;var o=n(e,r);return!!o&&(i(r.update(o)),!0)}}var OJe=Z2(AJe,0),EJe=Z2(VH,0),MJe=Z2(function(n,e){return VH(n,e,function(t){var r,i=[],o=fe(t.selection.ranges);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=t.doc.lineAt(a.from),l=a.to<=s.to?s:t.doc.lineAt(a.to),u=i.length-1;u>=0&&i[u].to>s.from?i[u].to=l.to:i.push({from:s.from,to:l.to})}}catch(c){o.e(c)}finally{o.f()}return i}(e))},0);function X2(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.selection.main.head,t=n.languageDataAt("commentTokens",e);return t.length?t[0]:{}}function $Je(n,e,t,r){var i,o,a=e.open,s=e.close,l=n.sliceDoc(t-50,t),u=n.sliceDoc(r,r+50),c=/\s*$/.exec(l)[0].length,f=/^\s*/.exec(u)[0].length,d=l.length-c;if(l.slice(d-a.length,d)==a&&u.slice(f,f+s.length)==s)return{open:{pos:t-c,margin:c&&1},close:{pos:r+f,margin:f&&1}};r-t<=100?i=o=n.sliceDoc(t,r):(i=n.sliceDoc(t,t+50),o=n.sliceDoc(r-50,r));var h=/^\s*/.exec(i)[0].length,v=/\s*$/.exec(o)[0].length,p=o.length-v-s.length;return i.slice(h,h+a.length)==a&&o.slice(p,p+s.length)==s?{open:{pos:t+h+a.length,margin:/\s/.test(i.charAt(h+a.length))?1:0},close:{pos:r-v-s.length,margin:/\s/.test(o.charAt(p-1))?1:0}}:null}function VH(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.selection.ranges,r=t.map(function(d){return X2(e,d.from).block});if(!r.every(function(d){return d}))return null;var i=t.map(function(d,h){return $Je(e,r[h],d.from,d.to)});if(n!=2&&!i.every(function(d){return d}))return{changes:e.changes(t.map(function(d,h){return i[h]?[]:[{from:d.from,insert:r[h].open+" "},{from:d.to,insert:" "+r[h].close}]}))};if(n!=1&&i.some(function(d){return d})){for(var o,a=[],s=0;s<i.length;s++)if(o=i[s]){var l=r[s],u=o,c=u.open,f=u.close;a.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:f.pos-f.margin,to:f.pos+l.close.length})}return{changes:a}}return null}function AJe(n,e){var t,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.selection.ranges,i=[],o=-1,a=fe(r);try{for(a.s();!(t=a.n()).done;){for(var s=t.value,l=s.from,u=s.to,c=i.length,f=1e9,d=l;d<=u;){var h=e.doc.lineAt(d);if(h.from>o&&(l==u||u>h.from)){o=h.from;var v=X2(e,d).line;if(!v)continue;var p=/^\s*/.exec(h.text)[0].length,m=p==h.length,g=h.text.slice(p,p+v.length)==v?p:-1;p<h.text.length&&p<f&&(f=p),i.push({line:h,comment:g,token:v,indent:p,empty:m,single:!1})}d=h.to+1}if(f<1e9)for(var y=c;y<i.length;y++)i[y].indent<i[y].line.text.length&&(i[y].indent=f);i.length==c+1&&(i[c].single=!0)}}catch(F){a.e(F)}finally{a.f()}if(n!=2&&i.some(function(F){return F.comment<0&&(!F.empty||F.single)})){var b,w=[],k=fe(i);try{for(k.s();!(b=k.n()).done;){var x=b.value,C=x.line,T=x.token,M=x.indent,B=x.empty,_=x.single;!_&&B||w.push({from:C.from+M,insert:T+" "})}}catch(F){k.e(F)}finally{k.f()}var N=e.changes(w);return{changes:N,selection:e.selection.map(N,1)}}if(n!=1&&i.some(function(F){return F.comment>=0})){var $,j=[],D=fe(i);try{for(D.s();!($=D.n()).done;){var q=$.value,R=q.line,G=q.comment,A=q.token;if(G>=0){var I=R.from+G,z=I+A.length;R.text[z-R.from]==" "&&z++,j.push({from:I,to:z})}}}catch(F){D.e(F)}finally{D.f()}return{changes:j}}return null}var Iw=Zl.define(),_Je=Zl.define(),NJe=Pt.define(),WH=Pt.define({combine:function(n){return ca(n,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})}}),ej=fi.define({create:function(){return Bd.empty},update:function(n,e){var t,r,i=e.state.facet(WH),o=e.annotation(Iw);if(o){var a=e.docChanged?Ye.single((t=e.changes,r=0,t.iterChangedRanges(function(v,p){return r=p}),r)):void 0,s=fs.fromTransaction(e,a),l=o.side,u=l==0?n.undone:n.done;return u=s?Jm(u,u.length,i.minDepth,s):GH(u,e.startState.selection),new Bd(l==0?o.rest:u,l==0?u:o.rest)}var c=e.annotation(_Je);if(c!="full"&&c!="before"||(n=n.isolate()),e.annotation(zi.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);var f=fs.fromTransaction(e),d=e.annotation(zi.time),h=e.annotation(zi.userEvent);return f?n=n.addChanges(f,d,h,i.newGroupDelay,i.minDepth):e.selection&&(n=n.addSelection(e.startState.selection,d,h,i.newGroupDelay)),c!="full"&&c!="after"||(n=n.isolate()),n},toJSON:function(n){return{done:n.done.map(function(e){return e.toJSON()}),undone:n.undone.map(function(e){return e.toJSON()})}},fromJSON:function(n){return new Bd(n.done.map(fs.fromJSON),n.undone.map(fs.fromJSON))}});function IJe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return[ej,WH.of(n),_t.domEventHandlers({beforeinput:function(e,t){var r=e.inputType=="historyUndo"?tj:e.inputType=="historyRedo"?Um:null;return!!r&&(e.preventDefault(),r(t))}})]}function x0(n,e){return function(t){var r=t.state,i=t.dispatch;if(!e&&r.readOnly)return!1;var o=r.field(ej,!1);if(!o)return!1;var a=o.pop(n,r,e);return!!a&&(i(a),!0)}}var tj=x0(0,!1),Um=x0(1,!1),PJe=x0(0,!0),LJe=x0(1,!0);function UH(n){return function(e){var t=e.field(ej,!1);if(!t)return 0;var r=n==0?t.done:t.undone;return r.length-(r.length&&!r[0].changes?1:0)}}var DJe=UH(0),RJe=UH(1),fs=function(){function n(e,t,r,i,o){re(this,n),this.changes=e,this.effects=t,this.mapped=r,this.startSelection=i,this.selectionsAfter=o}return ie(n,[{key:"setSelAfter",value:function(e){return new n(this.changes,this.effects,this.mapped,this.startSelection,e)}},{key:"toJSON",value:function(){var e,t,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(function(i){return i.toJSON()})}}}],[{key:"fromJSON",value:function(e){return new n(e.changes&&ua.fromJSON(e.changes),[],e.mapped&&Ac.fromJSON(e.mapped),e.startSelection&&Ye.fromJSON(e.startSelection),e.selectionsAfter.map(Ye.fromJSON))}},{key:"fromTransaction",value:function(e,t){var r,i=ko,o=fe(e.startState.facet(NJe));try{for(o.s();!(r=o.n()).done;){var a=(0,r.value)(e);a.length&&(i=i.concat(a))}}catch(s){o.e(s)}finally{o.f()}return!i.length&&e.changes.empty?null:new n(e.changes.invert(e.startState.doc),i,void 0,t||e.startState.selection,ko)}},{key:"selection",value:function(e){return new n(void 0,ko,void 0,void 0,e)}}]),n}();function Jm(n,e,t,r){var i=e+1>t+20?e-t-1:0,o=n.slice(i,e);return o.push(r),o}function JH(n,e){return n.length?e.length?n.concat(e):n:e}var ko=[];function GH(n,e){if(n.length){var t=n[n.length-1],r=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-200));return r.length&&r[r.length-1].eq(e)?n:(r.push(e),Jm(n,n.length-1,1e9,t.setSelAfter(r)))}return[fs.selection([e])]}function BJe(n){var e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function f1(n,e){if(!n.length)return n;for(var t=n.length,r=ko;t;){var i=zJe(n[t-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){var o=n.slice(0,t);return o[t-1]=i,o}e=i.mapped,t--,r=i.selectionsAfter}return r.length?[fs.selection(r)]:ko}function zJe(n,e,t){var r=JH(n.selectionsAfter.length?n.selectionsAfter.map(function(s){return s.map(e)}):ko,t);if(!n.changes)return fs.selection(r);var i=n.changes.map(e),o=e.mapDesc(n.changes,!0),a=n.mapped?n.mapped.composeDesc(o):o;return new fs(i,dn.mapEffects(n.effects,e),a,n.startSelection.map(o),r)}var qJe=/^(input\.type|delete)($|\.)/,Bd=function(){function n(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:void 0;re(this,n),this.done=e,this.undone=t,this.prevTime=r,this.prevUserEvent=i}return ie(n,[{key:"isolate",value:function(){return this.prevTime?new n(this.done,this.undone):this}},{key:"addChanges",value:function(e,t,r,i,o){var a=this.done,s=a[a.length-1];return a=s&&s.changes&&!s.changes.empty&&e.changes&&(!r||qJe.test(r))&&(!s.selectionsAfter.length&&t-this.prevTime<i&&function(l,u){var c=[],f=!1;return l.iterChangedRanges(function(d,h){return c.push(d,h)}),u.iterChangedRanges(function(d,h,v,p){for(var m=0;m<c.length;){var g=c[m++],y=c[m++];p>=g&&v<=y&&(f=!0)}}),f}(s.changes,e.changes)||r=="input.type.compose")?Jm(a,a.length-1,o,new fs(e.changes.compose(s.changes),JH(e.effects,s.effects),s.mapped,s.startSelection,ko)):Jm(a,a.length,o,e),new n(a,ko,t,r)}},{key:"addSelection",value:function(e,t,r,i){var o,a,s=this.done.length?this.done[this.done.length-1].selectionsAfter:ko;return s.length>0&&t-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&(o=s[s.length-1],a=e,o.ranges.length==a.ranges.length&&o.ranges.filter(function(l,u){return l.empty!=a.ranges[u].empty}).length===0)?this:new n(GH(this.done,e),this.undone,t,r)}},{key:"addMapping",value:function(e){return new n(f1(this.done,e),f1(this.undone,e),this.prevTime,this.prevUserEvent)}},{key:"pop",value:function(e,t,r){var i=e==0?this.done:this.undone;if(i.length==0)return null;var o=i[i.length-1];if(r&&o.selectionsAfter.length)return t.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:Iw.of({side:e,rest:BJe(i)}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){var a=i.length==1?ko:i.slice(0,i.length-1);return o.mapped&&(a=f1(a,o.mapped)),t.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:Iw.of({side:e,rest:a}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}return null}}]),n}();Bd.empty=new Bd(ko,ko);var FJe=[{key:"Mod-z",run:tj,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Um,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Um,preventDefault:!0},{key:"Mod-u",run:PJe,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:LJe,preventDefault:!0}];function Lc(n,e){return Ye.create(n.ranges.map(e),n.mainIndex)}function Da(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Uo(n,e){var t=n.state,r=n.dispatch,i=Lc(t.selection,e);return!i.eq(t.selection)&&(r(Da(t,i)),!0)}function j0(n,e){return Ye.cursor(e?n.to:n.from)}function KH(n,e){return Uo(n,function(t){return t.empty?n.moveByChar(t,e):j0(t,e)})}function mi(n){return n.textDirectionAt(n.state.selection.main.head)==pr.LTR}var QH=function(n){return KH(n,!mi(n))},YH=function(n){return KH(n,mi(n))};function zN(n,e){return Uo(n,function(t){return t.empty?n.moveByGroup(t,e):j0(t,e)})}function HJe(n,e,t){if(e.type.prop(t))return!0;var r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function Jp(n,e,t){for(var r=ki(n).resolveInner(e.head),i=t?yn.closedBy:yn.openedBy,o=e.head;;){var a=t?r.childAfter(o):r.childBefore(o);if(!a)break;HJe(n,a,i)?r=a:o=t?a.to:a.from}var s,l;return l=r.type.prop(i)&&(s=t?$a(n,r.from,1):$a(n,r.to,-1))&&s.matched?t?s.end.to:s.end.from:t?r.to:r.from,Ye.cursor(l,t?-1:1)}function ZH(n,e){return Uo(n,function(t){if(!t.empty)return j0(t,e);var r=n.moveVertically(t,e);return r.head!=t.head?r:n.moveToLineBoundary(t,e)})}var XH=function(n){return ZH(n,!1)},eV=function(n){return ZH(n,!0)};function tV(n){return Math.max(n.defaultLineHeight,Math.min(n.dom.clientHeight,innerHeight)-5)}function nV(n,e){var t=n.state,r=Lc(t.selection,function(s){return s.empty?n.moveVertically(s,e,tV(n)):j0(s,e)});if(r.eq(t.selection))return!1;var i,o=n.coordsAtPos(t.selection.main.head),a=n.scrollDOM.getBoundingClientRect();return o&&o.top>a.top&&o.bottom<a.bottom&&o.top-a.top<=n.scrollDOM.scrollHeight-n.scrollDOM.scrollTop-n.scrollDOM.clientHeight&&(i=_t.scrollIntoView(r.main.head,{y:"start",yMargin:o.top-a.top})),n.dispatch(Da(t,r),{effects:i}),!0}var qN=function(n){return nV(n,!1)},Pw=function(n){return nV(n,!0)};function _s(n,e,t){var r=n.lineBlockAt(e.head),i=n.moveToLineBoundary(e,t);if(i.head==e.head&&i.head!=(t?r.to:r.from)&&(i=n.moveToLineBoundary(e,t,!1)),!t&&i.head==r.from&&r.length){var o=/^\s*/.exec(n.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;o&&e.head!=r.from+o&&(i=Ye.cursor(r.from+o))}return i}function xo(n,e){var t=Lc(n.state.selection,function(r){var i=e(r);return Ye.range(r.anchor,i.head,i.goalColumn)});return!t.eq(n.state.selection)&&(n.dispatch(Da(n.state,t)),!0)}function rV(n,e){return xo(n,function(t){return n.moveByChar(t,e)})}var iV=function(n){return rV(n,!mi(n))},oV=function(n){return rV(n,mi(n))};function FN(n,e){return xo(n,function(t){return n.moveByGroup(t,e)})}function aV(n,e){return xo(n,function(t){return n.moveVertically(t,e)})}var sV=function(n){return aV(n,!1)},lV=function(n){return aV(n,!0)};function uV(n,e){return xo(n,function(t){return n.moveVertically(t,e,tV(n))})}var HN=function(n){return uV(n,!1)},VN=function(n){return uV(n,!0)},WN=function(n){var e=n.state;return(0,n.dispatch)(Da(e,{anchor:0})),!0},UN=function(n){var e=n.state;return(0,n.dispatch)(Da(e,{anchor:e.doc.length})),!0},JN=function(n){var e=n.state;return(0,n.dispatch)(Da(e,{anchor:e.selection.main.anchor,head:0})),!0},GN=function(n){var e=n.state;return(0,n.dispatch)(Da(e,{anchor:e.selection.main.anchor,head:e.doc.length})),!0};function C0(n,e){if(n.state.readOnly)return!1;var t="delete.selection",r=n.state,i=r.changeByRange(function(o){var a=o.from,s=o.to;if(a==s){var l=e(a);l<a?(t="delete.backward",l=Gp(n,l,!1)):l>a&&(t="delete.forward",l=Gp(n,l,!0)),a=Math.min(a,l),s=Math.max(s,l)}else a=Gp(n,a,!1),s=Gp(n,s,!0);return a==s?{range:o}:{changes:{from:a,to:s},range:Ye.cursor(a)}});return!i.changes.empty&&(n.dispatch(r.update(i,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?_t.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function Gp(n,e,t){if(n instanceof _t){var r,i=fe(n.state.facet(_t.atomicRanges).map(function(o){return o(n)}));try{for(i.s();!(r=i.n()).done;)r.value.between(e,e,function(o,a){o<e&&a>e&&(e=t?a:o)})}catch(o){i.e(o)}finally{i.f()}}return e}var cV=function(n,e){return C0(n,function(t){var r,i,o=n.state,a=o.doc.lineAt(t);if(!e&&t>a.from&&t<a.from+200&&!/[^ \t]/.test(r=a.text.slice(0,t-a.from))){if(r[r.length-1]=="	")return t-1;for(var s=Jh(r,o.tabSize)%Fm(o)||Fm(o),l=0;l<s&&r[r.length-1-l]==" ";l++)t--;i=t}else(i=Oi(a.text,t-a.from,e,e)+a.from)==t&&a.number!=(e?o.doc.lines:1)&&(i+=e?1:-1);return i})},Lw=function(n){return cV(n,!1)},fV=function(n){return cV(n,!0)},dV=function(n,e){return C0(n,function(t){for(var r=t,i=n.state,o=i.doc.lineAt(r),a=i.charCategorizer(r),s=null;;){if(r==(e?o.to:o.from)){r==t&&o.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}var l=Oi(o.text,r-o.from,e)+o.from,u=o.text.slice(Math.min(r,l)-o.from,Math.max(r,l)-o.from),c=a(u);if(s!=null&&c!=s)break;u==" "&&r==t||(s=c),r=l}return r})},hV=function(n){return dV(n,!1)},pV=function(n){return C0(n,function(e){var t=n.lineBlockAt(e).to;return e<t?t:Math.min(n.state.doc.length,e+1)})};function Gm(n){var e,t=[],r=-1,i=fe(n.selection.ranges);try{for(i.s();!(e=i.n()).done;){var o=e.value,a=n.doc.lineAt(o.from),s=n.doc.lineAt(o.to);if(o.empty||o.to!=s.from||(s=n.doc.lineAt(o.to-1)),r>=a.number){var l=t[t.length-1];l.to=s.to,l.ranges.push(o)}else t.push({from:a.from,to:s.to,ranges:[o]});r=s.number+1}}catch(u){i.e(u)}finally{i.f()}return t}function KN(n,e,t){if(n.readOnly)return!1;var r,i=[],o=[],a=fe(Gm(n));try{for(a.s();!(r=a.n()).done;){var s=r.value;if(t?s.to!=n.doc.length:s.from!=0){var l=n.doc.lineAt(t?s.to+1:s.from-1),u=l.length+1;if(t){i.push({from:s.to,to:l.to},{from:s.from,insert:l.text+n.lineBreak});var c,f=fe(s.ranges);try{for(f.s();!(c=f.n()).done;){var d=c.value;o.push(Ye.range(Math.min(n.doc.length,d.anchor+u),Math.min(n.doc.length,d.head+u)))}}catch(m){f.e(m)}finally{f.f()}}else{i.push({from:l.from,to:s.from},{from:s.to,insert:n.lineBreak+l.text});var h,v=fe(s.ranges);try{for(v.s();!(h=v.n()).done;){var p=h.value;o.push(Ye.range(p.anchor-u,p.head-u))}}catch(m){v.e(m)}finally{v.f()}}}}}catch(m){a.e(m)}finally{a.f()}return!!i.length&&(e(n.update({changes:i,scrollIntoView:!0,selection:Ye.create(o,n.selection.mainIndex),userEvent:"move.line"})),!0)}function QN(n,e,t){if(n.readOnly)return!1;var r,i=[],o=fe(Gm(n));try{for(o.s();!(r=o.n()).done;){var a=r.value;t?i.push({from:a.from,insert:n.doc.slice(a.from,a.to)+n.lineBreak}):i.push({from:a.to,insert:n.lineBreak+n.doc.slice(a.from,a.to)})}}catch(s){o.e(s)}finally{o.f()}return e(n.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}var VJe=vV(!1),WJe=vV(!0);function vV(n){return function(e){var t=e.state,r=e.dispatch;if(t.readOnly)return!1;var i=t.changeByRange(function(o){var a=o.from,s=o.to,l=t.doc.lineAt(a),u=!n&&a==s&&function(h,v){if(/\(\)|\[\]|\{\}/.test(h.sliceDoc(v-1,v+1)))return{from:v,to:v};var p,m=ki(h).resolveInner(v),g=m.childBefore(v),y=m.childAfter(v);return g&&y&&g.to<=v&&y.from>=v&&(p=g.type.prop(yn.closedBy))&&p.indexOf(y.name)>-1&&h.doc.lineAt(g.to).from==h.doc.lineAt(y.from).from?{from:g.to,to:y.from}:null}(t,a);n&&(a=s=(s<=l.to?l:t.doc.lineAt(s)).to);var c=new k0(t,{simulateBreak:a,simulateDoubleBreak:!!u}),f=Q2(c,a);for(f==null&&(f=/^\s*/.exec(t.doc.lineAt(a).text)[0].length);s<l.to&&/\s/.test(l.text[s-l.from]);)s++;u?(a=u.from,s=u.to):a>l.from&&a<l.from+100&&!/\S/.test(l.text.slice(0,a))&&(a=l.from);var d=["",mh(t,f)];return u&&d.push(mh(t,c.lineIndent(l.from,-1))),{changes:{from:a,to:s,insert:Vn.of(d)},range:Ye.cursor(a+1+d[1].length)}});return r(t.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function nj(n,e){var t=-1;return n.changeByRange(function(r){for(var i=[],o=r.from;o<=r.to;){var a=n.doc.lineAt(o);a.number>t&&(r.empty||r.to>a.from)&&(e(a,i,r),t=a.number),o=a.to+1}var s=n.changes(i);return{changes:i,range:Ye.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}var mV=function(n){var e=n.state,t=n.dispatch;return!e.readOnly&&(t(e.update(nj(e,function(r,i){i.push({from:r.from,insert:e.facet(w0)})}),{userEvent:"input.indent"})),!0)},gV=function(n){var e=n.state,t=n.dispatch;return!e.readOnly&&(t(e.update(nj(e,function(r,i){var o=/^\s*/.exec(r.text)[0];if(o){for(var a=Jh(o,e.tabSize),s=0,l=mh(e,Math.max(0,a-Fm(e)));s<o.length&&s<l.length&&o.charCodeAt(s)==l.charCodeAt(s);)s++;i.push({from:r.from+s,to:r.from+o.length,insert:l.slice(s)})}}),{userEvent:"delete.dedent"})),!0)},UJe=[{key:"Ctrl-b",run:QH,shift:iV,preventDefault:!0},{key:"Ctrl-f",run:YH,shift:oV},{key:"Ctrl-p",run:XH,shift:sV},{key:"Ctrl-n",run:eV,shift:lV},{key:"Ctrl-a",run:function(n){return Uo(n,function(e){return Ye.cursor(n.lineBlockAt(e.head).from,1)})},shift:function(n){return xo(n,function(e){return Ye.cursor(n.lineBlockAt(e.head).from)})}},{key:"Ctrl-e",run:function(n){return Uo(n,function(e){return Ye.cursor(n.lineBlockAt(e.head).to,-1)})},shift:function(n){return xo(n,function(e){return Ye.cursor(n.lineBlockAt(e.head).to)})}},{key:"Ctrl-d",run:fV},{key:"Ctrl-h",run:Lw},{key:"Ctrl-k",run:pV},{key:"Ctrl-Alt-h",run:hV},{key:"Ctrl-o",run:function(n){var e=n.state,t=n.dispatch;if(e.readOnly)return!1;var r=e.changeByRange(function(i){return{changes:{from:i.from,to:i.to,insert:Vn.of(["",""])},range:Ye.cursor(i.from)}});return t(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:function(n){var e=n.state,t=n.dispatch;if(e.readOnly)return!1;var r=e.changeByRange(function(i){if(!i.empty||i.from==0||i.from==e.doc.length)return{range:i};var o=i.from,a=e.doc.lineAt(o),s=o==a.from?o-1:Oi(a.text,o-a.from,!1)+a.from,l=o==a.to?o+1:Oi(a.text,o-a.from,!0)+a.from;return{changes:{from:s,to:l,insert:e.doc.slice(o,l).append(e.doc.slice(s,o))},range:Ye.cursor(l)}});return!r.changes.empty&&(t(e.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:Pw}],JJe=[{key:"ArrowLeft",run:QH,shift:iV,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:function(n){return zN(n,!mi(n))},shift:function(n){return FN(n,!mi(n))},preventDefault:!0},{mac:"Cmd-ArrowLeft",run:function(n){return Uo(n,function(e){return _s(n,e,!mi(n))})},shift:function(n){return xo(n,function(e){return _s(n,e,!mi(n))})},preventDefault:!0},{key:"ArrowRight",run:YH,shift:oV,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:function(n){return zN(n,mi(n))},shift:function(n){return FN(n,mi(n))},preventDefault:!0},{mac:"Cmd-ArrowRight",run:function(n){return Uo(n,function(e){return _s(n,e,mi(n))})},shift:function(n){return xo(n,function(e){return _s(n,e,mi(n))})},preventDefault:!0},{key:"ArrowUp",run:XH,shift:sV,preventDefault:!0},{mac:"Cmd-ArrowUp",run:WN,shift:JN},{mac:"Ctrl-ArrowUp",run:qN,shift:HN},{key:"ArrowDown",run:eV,shift:lV,preventDefault:!0},{mac:"Cmd-ArrowDown",run:UN,shift:GN},{mac:"Ctrl-ArrowDown",run:Pw,shift:VN},{key:"PageUp",run:qN,shift:HN},{key:"PageDown",run:Pw,shift:VN},{key:"Home",run:function(n){return Uo(n,function(e){return _s(n,e,!1)})},shift:function(n){return xo(n,function(e){return _s(n,e,!1)})},preventDefault:!0},{key:"Mod-Home",run:WN,shift:JN},{key:"End",run:function(n){return Uo(n,function(e){return _s(n,e,!0)})},shift:function(n){return xo(n,function(e){return _s(n,e,!0)})},preventDefault:!0},{key:"Mod-End",run:UN,shift:GN},{key:"Enter",run:VJe},{key:"Mod-a",run:function(n){var e=n.state;return(0,n.dispatch)(e.update({selection:{anchor:0,head:e.doc.length},userEvent:"select"})),!0}},{key:"Backspace",run:Lw,shift:Lw},{key:"Delete",run:fV},{key:"Mod-Backspace",mac:"Alt-Backspace",run:hV},{key:"Mod-Delete",mac:"Alt-Delete",run:function(n){return dV(n,!0)}},{mac:"Mod-Backspace",run:function(n){return C0(n,function(e){var t=n.lineBlockAt(e).from;return e>t?t:Math.max(0,e-1)})}},{mac:"Mod-Delete",run:pV}].concat(UJe.map(function(n){return{mac:n.key,run:n.run,shift:n.shift}})),GJe=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:function(n){return Uo(n,function(e){return Jp(n.state,e,!mi(n))})},shift:function(n){return xo(n,function(e){return Jp(n.state,e,!mi(n))})}},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:function(n){return Uo(n,function(e){return Jp(n.state,e,mi(n))})},shift:function(n){return xo(n,function(e){return Jp(n.state,e,mi(n))})}},{key:"Alt-ArrowUp",run:function(n){return KN(n.state,n.dispatch,!1)}},{key:"Shift-Alt-ArrowUp",run:function(n){return QN(n.state,n.dispatch,!1)}},{key:"Alt-ArrowDown",run:function(n){return KN(n.state,n.dispatch,!0)}},{key:"Shift-Alt-ArrowDown",run:function(n){return QN(n.state,n.dispatch,!0)}},{key:"Escape",run:function(n){var e=n.state,t=n.dispatch,r=e.selection,i=null;return r.ranges.length>1?i=Ye.create([r.main]):r.main.empty||(i=Ye.create([Ye.cursor(r.main.head)])),!!i&&(t(Da(e,i)),!0)}},{key:"Mod-Enter",run:WJe},{key:"Alt-l",mac:"Ctrl-l",run:function(n){var e=n.state,t=n.dispatch,r=Gm(e).map(function(i){var o=i.from,a=i.to;return Ye.range(o,Math.min(a+1,e.doc.length))});return t(e.update({selection:Ye.create(r),userEvent:"select"})),!0}},{key:"Mod-i",run:function(n){var e=n.state,t=n.dispatch,r=Lc(e.selection,function(i){for(var o,a=ki(e).resolveInner(i.head,1);!(a.from<i.from&&a.to>=i.to||a.to>i.to&&a.from<=i.from)&&((o=a.parent)===null||o===void 0?void 0:o.parent);)a=a.parent;return Ye.range(a.to,a.from)});return t(Da(e,r)),!0},preventDefault:!0},{key:"Mod-[",run:gV},{key:"Mod-]",run:mV},{key:"Mod-Alt-\\",run:function(n){var e=n.state,t=n.dispatch;if(e.readOnly)return!1;var r=Object.create(null),i=new k0(e,{overrideIndentation:function(a){var s=r[a];return s==null?-1:s}}),o=nj(e,function(a,s,l){var u=Q2(i,a.from);if(u!=null){/\S/.test(a.text)||(u=0);var c=/^\s*/.exec(a.text)[0],f=mh(e,u);(c!=f||l.from<a.from+c.length)&&(r[a.from]=u,s.push({from:a.from,to:a.from+c.length,insert:f}))}});return o.changes.empty||t(e.update(o,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:function(n){if(n.state.readOnly)return!1;var e=n.state,t=e.changes(Gm(e).map(function(i){var o=i.from,a=i.to;return o>0?o--:a<e.doc.length&&a++,{from:o,to:a}})),r=Lc(e.selection,function(i){return n.moveVertically(i,!0)}).map(t);return n.dispatch({changes:t,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:function(n){return function(e,t,r){var i=!1,o=Lc(e.selection,function(a){var s=$a(e,a.head,-1)||$a(e,a.head,1)||a.head>0&&$a(e,a.head-1,1)||a.head<e.doc.length&&$a(e,a.head+1,-1);if(!s||!s.end)return a;i=!0;var l=s.start.from==a.head?s.end.to:s.end.from;return r?Ye.range(a.anchor,l):Ye.cursor(l)});return!!i&&(t(Da(e,o)),!0)}(n.state,n.dispatch,!1)}},{key:"Mod-/",run:function(n){var e=X2(n.state);return e.line?OJe(n):!!e.block&&MJe(n)}},{key:"Alt-A",run:EJe}].concat(JJe),KJe={key:"Tab",run:mV,shift:gV};function Qn(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&mt(t)=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=t[r];typeof i=="string"?n.setAttribute(r,i):i!=null&&(n[r]=i)}e++}for(;e<arguments.length;e++)yV(n,arguments[e]);return n}function yV(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else{if(!Array.isArray(e))throw new RangeError("Unsupported child node: "+e);for(var t=0;t<e.length;t++)yV(n,e[t])}}var YN=typeof String.prototype.normalize=="function"?function(n){return n.normalize("NFKD")}:function(n){return n},Dc=function(){function n(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e.length,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;re(this,n),this.test=a,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=o?function(s){return o(YN(s))}:YN,this.query=this.normalize(t)}return ie(n,[{key:"peek",value:function(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return oi(this.buffer,this.bufferPos)}},{key:"next",value:function(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}},{key:"nextOverlapping",value:function(){for(;;){var e=this.peek();if(e<0)return this.done=!0,this;var t=q2(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=Yi(e);for(var i=this.normalize(t),o=0,a=r;;o++){var s=i.charCodeAt(o),l=this.match(s,a);if(l)return this.value=l,this;if(o==i.length-1)break;a==r&&o<t.length&&t.charCodeAt(o)==s&&a++}}}},{key:"match",value:function(e,t){for(var r=null,i=0;i<this.matches.length;i+=2){var o=this.matches[i],a=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?r={from:this.matches[i+1],to:t+1}:(this.matches[i]++,a=!0)),a||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?r={from:t,to:t+1}:this.matches.push(1,t)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferPos)&&(r=null),r}}]),n}();typeof Symbol!="undefined"&&(Dc.prototype[Symbol.iterator]=function(){return this});var bV={from:-1,to:-1,match:/.*/.exec("")},rj="gm"+(/x/.unicode==null?"":"u"),wV=function(){function n(e,t,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:e.length;if(re(this,n),this.text=e,this.to=o,this.curLine="",this.done=!1,this.value=bV,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new kV(e,t,r,i,o);this.re=new RegExp(t,rj+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=e.iter();var a=e.lineAt(i);this.curLineStart=a.from,this.matchPos=Km(e,i),this.getLine(this.curLineStart)}return ie(n,[{key:"getLine",value:function(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}},{key:"nextLine",value:function(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}},{key:"next",value:function(){for(var e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;var t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){var r=this.curLineStart+t.index,i=r+t[0].length;if(this.matchPos=Km(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}]),n}(),d1=new WeakMap,ZN=function(){function n(e,t){re(this,n),this.from=e,this.text=t}return ie(n,[{key:"to",get:function(){return this.from+this.text.length}}],[{key:"get",value:function(e,t,r){var i=d1.get(e);if(!i||i.from>=r||i.to<=t){var o=new n(t,e.sliceString(t,r));return d1.set(e,o),o}if(i.from==t&&i.to==r)return i;var a=i.text,s=i.from;return s>t&&(a=e.sliceString(t,s)+a,s=t),i.to<r&&(a+=e.sliceString(i.to,r)),d1.set(e,new n(s,a)),new n(t,a.slice(t-s,r-s))}}]),n}(),kV=function(){function n(e,t,r,i,o){re(this,n),this.text=e,this.to=o,this.done=!1,this.value=bV,this.matchPos=Km(e,i),this.re=new RegExp(t,rj+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=ZN.get(e,i,this.chunkEnd(i+5e3))}return ie(n,[{key:"chunkEnd",value:function(e){return e>=this.to?this.to:this.text.lineAt(e).to}},{key:"next",value:function(){for(;;){var e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){var r=this.flat.from+t.index,i=r+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this.matchPos=Km(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=ZN.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}]),n}();function Km(n,e){if(e>=n.length)return e;for(var t,r=n.lineAt(e);e<r.to&&(t=r.text.charCodeAt(e-r.from))>=56320&&t<57344;)e++;return e}function Dw(n){var e=Qn("input",{class:"cm-textfield",name:"line"});function t(){var r=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(r){var i=n.state,o=i.doc.lineAt(i.selection.main.head),a=Dt(r,5),s=a[1],l=a[2],u=a[3],c=a[4],f=u?+u.slice(1):0,d=l?+l:o.number;if(l&&c){var h=d/100;s&&(h=h*(s=="-"?-1:1)+o.number/i.doc.lines),d=Math.round(i.doc.lines*h)}else l&&s&&(d=d*(s=="-"?-1:1)+o.number);var v=i.doc.line(Math.max(1,Math.min(i.doc.lines,d)));n.dispatch({effects:Qm.of(!1),selection:Ye.cursor(v.from+Math.max(0,Math.min(f,v.length))),scrollIntoView:!0}),n.focus()}}return{dom:Qn("form",{class:"cm-gotoLine",onkeydown:function(r){r.keyCode==27?(r.preventDefault(),n.dispatch({effects:Qm.of(!1)}),n.focus()):r.keyCode==13&&(r.preventDefault(),t())},onsubmit:function(r){r.preventDefault(),t()}},Qn("label",n.state.phrase("Go to line"),": ",e)," ",Qn("button",{class:"cm-button",type:"submit"},n.state.phrase("go")))}}typeof Symbol!="undefined"&&(wV.prototype[Symbol.iterator]=kV.prototype[Symbol.iterator]=function(){return this});var Qm=dn.define(),XN=fi.define({create:function(){return!0},update:function(n,e){var t,r=fe(e.effects);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.is(Qm)&&(n=i.value)}}catch(o){r.e(o)}finally{r.f()}return n},provide:function(n){return hh.from(n,function(e){return e?Dw:null})}}),QJe=_t.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),YJe={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},xV=Pt.define({combine:function(n){return ca(n,YJe,{highlightWordAroundCursor:function(e,t){return e||t},minSelectionLength:Math.min,maxMatches:Math.min})}}),ZJe=qt.mark({class:"cm-selectionMatch"}),XJe=qt.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function eI(n,e,t,r){return!(t!=0&&n(e.sliceDoc(t-1,t))==hr.Word||r!=e.doc.length&&n(e.sliceDoc(r,r+1))==hr.Word)}var eGe=hi.fromClass(function(){function n(e){re(this,n),this.decorations=this.getDeco(e)}return ie(n,[{key:"update",value:function(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}},{key:"getDeco",value:function(e){var t=e.state.facet(xV),r=e.state,i=r.selection;if(i.ranges.length>1)return qt.none;var o,a=i.main,s=null;if(a.empty){if(!t.highlightWordAroundCursor)return qt.none;var l=r.wordAt(a.head);if(!l)return qt.none;s=r.charCategorizer(a.head),o=r.sliceDoc(l.from,l.to)}else{var u=a.to-a.from;if(u<t.minSelectionLength||u>200)return qt.none;if(t.wholeWords){if(o=r.sliceDoc(a.from,a.to),!eI(s=r.charCategorizer(a.head),r,a.from,a.to)||!function(y,b,w,k){return y(b.sliceDoc(w,w+1))==hr.Word&&y(b.sliceDoc(k-1,k))==hr.Word}(s,r,a.from,a.to))return qt.none}else if(!(o=r.sliceDoc(a.from,a.to).trim()))return qt.none}var c,f=[],d=fe(e.visibleRanges);try{for(d.s();!(c=d.n()).done;)for(var h=c.value,v=new Dc(r.doc,o,h.from,h.to);!v.next().done;){var p=v.value,m=p.from,g=p.to;if((!s||eI(s,r,m,g))&&(a.empty&&m<=a.from&&g>=a.to?f.push(XJe.range(m,g)):(m>=a.to||g<=a.from)&&f.push(ZJe.range(m,g)),f.length>t.maxMatches))return qt.none}}catch(y){d.e(y)}finally{d.f()}return qt.set(f)}}]),n}(),{decorations:function(n){return n.decorations}}),tGe=_t.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),S0=Pt.define({combine:function(n){return ca(n,{top:!1,caseSensitive:!1,literal:!1,wholeWord:!1,createPanel:function(e){return new fGe(e)}})}});function nGe(n){return n?[S0.of(n),Bw]:Bw}var jV=function(){function n(e){re(this,n),this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||function(t){try{return new RegExp(t,rj),!0}catch{return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}return ie(n,[{key:"unquote",value:function(e){return this.literal?e:e.replace(/\\([nrt\\])/g,function(t,r){return r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\"})}},{key:"eq",value:function(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}},{key:"create",value:function(){return this.regexp?new iGe(this):new rGe(this)}},{key:"getCursor",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,i=e.doc?e:Yn.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?uc(this,i,t,r):lc(this,i,t,r)}}]),n}(),CV=ie(function n(e){re(this,n),this.spec=e});function lc(n,e,t,r){return new Dc(e.doc,n.unquoted,t,r,n.caseSensitive?void 0:function(i){return i.toLowerCase()},n.wholeWord?function(i,o){return function(a,s,l,u){return(u>a||u+l.length<s)&&(u=Math.max(0,a-2),l=i.sliceString(u,Math.min(i.length,s+2))),!(o(Ym(l,a-u))==hr.Word&&o(Zm(l,a-u))==hr.Word||o(Zm(l,s-u))==hr.Word&&o(Ym(l,s-u))==hr.Word)}}(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}var rGe=function(n){De(t,CV);var e=Re(t);function t(r){return re(this,t),e.call(this,r)}return ie(t,[{key:"nextMatch",value:function(r,i,o){var a=lc(this.spec,r,o,r.doc.length).nextOverlapping();return a.done&&(a=lc(this.spec,r,0,i).nextOverlapping()),a.done?null:a.value}},{key:"prevMatchInRange",value:function(r,i,o){for(var a=o;;){for(var s=Math.max(i,a-1e4-this.spec.unquoted.length),l=lc(this.spec,r,s,a),u=null;!l.nextOverlapping().done;)u=l.value;if(u)return u;if(s==i)return null;a-=1e4}}},{key:"prevMatch",value:function(r,i,o){return this.prevMatchInRange(r,0,i)||this.prevMatchInRange(r,o,r.doc.length)}},{key:"getReplacement",value:function(r){return this.spec.unquote(this.spec.replace)}},{key:"matchAll",value:function(r,i){for(var o=lc(this.spec,r,0,r.doc.length),a=[];!o.next().done;){if(a.length>=i)return null;a.push(o.value)}return a}},{key:"highlight",value:function(r,i,o,a){for(var s=lc(this.spec,r,Math.max(0,i-this.spec.unquoted.length),Math.min(o+this.spec.unquoted.length,r.doc.length));!s.next().done;)a(s.value.from,s.value.to)}}]),t}();function uc(n,e,t,r){return new wV(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?(i=e.charCategorizer(e.selection.main.head),function(o,a,s){return!s[0].length||(i(Ym(s.input,s.index))!=hr.Word||i(Zm(s.input,s.index))!=hr.Word)&&(i(Zm(s.input,s.index+s[0].length))!=hr.Word||i(Ym(s.input,s.index+s[0].length))!=hr.Word)}):void 0},t,r);var i}function Ym(n,e){return n.slice(Oi(n,e,!1),e)}function Zm(n,e){return n.slice(e,Oi(n,e))}var iGe=function(n){De(t,CV);var e=Re(t);function t(){return re(this,t),e.apply(this,arguments)}return ie(t,[{key:"nextMatch",value:function(r,i,o){var a=uc(this.spec,r,o,r.doc.length).next();return a.done&&(a=uc(this.spec,r,0,i).next()),a.done?null:a.value}},{key:"prevMatchInRange",value:function(r,i,o){for(var a=1;;a++){for(var s=Math.max(i,o-1e4*a),l=uc(this.spec,r,s,o),u=null;!l.next().done;)u=l.value;if(u&&(s==i||u.from>s+10))return u;if(s==i)return null}}},{key:"prevMatch",value:function(r,i,o){return this.prevMatchInRange(r,0,i)||this.prevMatchInRange(r,o,r.doc.length)}},{key:"getReplacement",value:function(r){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,function(i,o){return o=="$"?"$":o=="&"?r.match[0]:o!="0"&&+o<r.match.length?r.match[o]:i}))}},{key:"matchAll",value:function(r,i){for(var o=uc(this.spec,r,0,r.doc.length),a=[];!o.next().done;){if(a.length>=i)return null;a.push(o.value)}return a}},{key:"highlight",value:function(r,i,o,a){for(var s=uc(this.spec,r,Math.max(0,i-250),Math.min(o+250,r.doc.length));!s.next().done;)a(s.value.from,s.value.to)}}]),t}(),yh=dn.define(),ij=dn.define(),il=fi.define({create:function(n){return new h1(Rw(n).create(),null)},update:function(n,e){var t,r=fe(e.effects);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.is(yh)?n=new h1(i.value.create(),n.panel):i.is(ij)&&(n=new h1(n.query,i.value?oj:null))}}catch(o){r.e(o)}finally{r.f()}return n},provide:function(n){return hh.from(n,function(e){return e.panel})}}),h1=ie(function n(e,t){re(this,n),this.query=e,this.panel=t}),oGe=qt.mark({class:"cm-searchMatch"}),aGe=qt.mark({class:"cm-searchMatch cm-searchMatch-selected"}),sGe=hi.fromClass(function(){function n(e){re(this,n),this.view=e,this.decorations=this.highlight(e.state.field(il))}return ie(n,[{key:"update",value:function(e){var t=e.state.field(il);(t!=e.startState.field(il)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}},{key:"highlight",value:function(e){var t=e.query;if(!e.panel||!t.spec.valid)return qt.none;for(var r=this.view,i=new lf,o=0,a=r.visibleRanges,s=a.length;o<s;o++){for(var l=a[o],u=l.from,c=l.to;o<s-1&&c>a[o+1].from-500;)c=a[++o].to;t.highlight(r.state,u,c,function(f,d){var h=r.state.selection.ranges.some(function(v){return v.from==f&&v.to==d});i.add(f,d,h?aGe:oGe)})}return i.finish()}}]),n}(),{decorations:function(n){return n.decorations}});function Kh(n){return function(e){var t=e.state.field(il,!1);return t&&t.query.spec.valid?n(e,t):aj(e)}}var Xm=Kh(function(n,e){var t=e.query,r=n.state.selection.main.to,i=t.nextMatch(n.state,r,r);return!!i&&(n.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:lj(n,i),userEvent:"select.search"}),!0)}),eg=Kh(function(n,e){var t=e.query,r=n.state,i=r.selection.main.from,o=t.prevMatch(r,i,i);return!!o&&(n.dispatch({selection:{anchor:o.from,head:o.to},scrollIntoView:!0,effects:lj(n,o),userEvent:"select.search"}),!0)}),lGe=Kh(function(n,e){var t=e.query.matchAll(n.state,1e3);return!(!t||!t.length)&&(n.dispatch({selection:Ye.create(t.map(function(r){return Ye.range(r.from,r.to)})),userEvent:"select.search.matches"}),!0)}),tI=Kh(function(n,e){var t=e.query,r=n.state,i=r.selection.main,o=i.from,a=i.to;if(r.readOnly)return!1;var s=t.nextMatch(r,o,o);if(!s)return!1;var l,u,c=[],f=[];if(s.from==o&&s.to==a&&(u=r.toText(t.getReplacement(s)),c.push({from:s.from,to:s.to,insert:u}),s=t.nextMatch(r,s.from,s.to),f.push(_t.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(o).number)+"."))),s){var d=c.length==0||c[0].from>=s.to?0:s.to-s.from-u.length;l={anchor:s.from-d,head:s.to-d},f.push(lj(n,s))}return n.dispatch({changes:c,selection:l,scrollIntoView:!!l,effects:f,userEvent:"input.replace"}),!0}),uGe=Kh(function(n,e){var t=e.query;if(n.state.readOnly)return!1;var r=t.matchAll(n.state,1e9).map(function(o){return{from:o.from,to:o.to,insert:t.getReplacement(o)}});if(!r.length)return!1;var i=n.state.phrase("replaced $ matches",r.length)+".";return n.dispatch({changes:r,effects:_t.announce.of(i),userEvent:"input.replace.all"}),!0});function oj(n){return n.state.facet(S0).createPanel(n)}function Rw(n,e){var t,r,i,o,a=n.selection.main,s=a.empty||a.to>a.from+100?"":n.sliceDoc(a.from,a.to);if(e&&!s)return e;var l=n.facet(S0);return new jV({search:((t=e==null?void 0:e.literal)!==null&&t!==void 0?t:l.literal)?s:s.replace(/\n/g,"\\n"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:l.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:l.literal,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:l.wholeWord})}var aj=function(n){var e=n.state.field(il,!1);if(e&&e.panel){var t=dh(n,oj);if(!t)return!1;var r=t.dom.querySelector("[main-field]");if(r&&r!=n.root.activeElement){var i=Rw(n.state,e.query.spec);i.valid&&n.dispatch({effects:yh.of(i)}),r.focus(),r.select()}}else n.dispatch({effects:[ij.of(!0),e?yh.of(Rw(n.state,e.query.spec)):dn.appendConfig.of(Bw)]});return!0},sj=function(n){var e=n.state.field(il,!1);if(!e||!e.panel)return!1;var t=dh(n,oj);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:ij.of(!1)}),!0},cGe=[{key:"Mod-f",run:aj,scope:"editor search-panel"},{key:"F3",run:Xm,shift:eg,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Xm,shift:eg,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:sj,scope:"editor search-panel"},{key:"Mod-Shift-l",run:function(n){var e=n.state,t=n.dispatch,r=e.selection;if(r.ranges.length>1||r.main.empty)return!1;for(var i=r.main,o=i.from,a=i.to,s=[],l=0,u=new Dc(e.doc,e.sliceDoc(o,a));!u.next().done;){if(s.length>1e3)return!1;u.value.from==o&&(l=s.length),s.push(Ye.range(u.value.from,u.value.to))}return t(e.update({selection:Ye.create(s,l),userEvent:"select.search.matches"})),!0}},{key:"Alt-g",run:function(n){var e=dh(n,Dw);if(!e){var t=[Qm.of(!0)];n.state.field(XN,!1)==null&&t.push(dn.appendConfig.of([XN,QJe])),n.dispatch({effects:t}),e=dh(n,Dw)}return e&&e.dom.querySelector("input").focus(),!0}},{key:"Mod-d",run:function(n){var e=n.state,t=n.dispatch,r=e.selection.ranges;if(r.some(function(a){return a.from===a.to}))return function(a){var s=a.state,l=a.dispatch,u=s.selection,c=Ye.create(u.ranges.map(function(f){return s.wordAt(f.head)||Ye.cursor(f.head)}),u.mainIndex);return!c.eq(u)&&(l(s.update({selection:c})),!0)}({state:e,dispatch:t});var i=e.sliceDoc(r[0].from,r[0].to);if(e.selection.ranges.some(function(a){return e.sliceDoc(a.from,a.to)!=i}))return!1;var o=function(a,s){for(var l=a.selection,u=l.main,c=l.ranges,f=a.wordAt(u.head),d=f&&f.from==u.from&&f.to==u.to,h=function(g,y){if(y.next(),!y.done){if(g&&c.some(function(w){return w.from==y.value.from}))return p=y,v=g,"continue";if(d){var b=a.wordAt(y.value.from);if(!b||b.from!=y.value.from||b.to!=y.value.to)return p=y,v=g,"continue"}return v=g,p=y,{v:y.value}}if(g)return p=y,v=g,{v:null};y=new Dc(a.doc,s,0,Math.max(0,c[c.length-1].from-1)),v=g=!0,p=y},v=!1,p=new Dc(a.doc,s,c[c.length-1].to);;){var m=h(v,p);if(m!=="continue"&&mt(m)==="object")return m.v}}(e,i);return!!o&&(t(e.update({selection:e.selection.addRange(Ye.range(o.from,o.to),!1),effects:_t.scrollIntoView(o.to)})),!0)},preventDefault:!0}],fGe=function(){function n(e){var t=this;re(this,n),this.view=e;var r=this.query=e.state.field(il).query.spec;function i(o,a,s){return Qn("button",{class:"cm-button",name:o,onclick:a,type:"button"},s)}this.commit=this.commit.bind(this),this.searchField=Qn("input",{value:r.search,placeholder:Ki(e,"Find"),"aria-label":Ki(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Qn("input",{value:r.replace,placeholder:Ki(e,"Replace"),"aria-label":Ki(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Qn("input",{type:"checkbox",name:"case",form:"",checked:r.caseSensitive,onchange:this.commit}),this.reField=Qn("input",{type:"checkbox",name:"re",form:"",checked:r.regexp,onchange:this.commit}),this.wordField=Qn("input",{type:"checkbox",name:"word",form:"",checked:r.wholeWord,onchange:this.commit}),this.dom=Qn("div",{onkeydown:function(o){return t.keydown(o)},class:"cm-search"},[this.searchField,i("next",function(){return Xm(e)},[Ki(e,"next")]),i("prev",function(){return eg(e)},[Ki(e,"previous")]),i("select",function(){return lGe(e)},[Ki(e,"all")]),Qn("label",null,[this.caseField,Ki(e,"match case")]),Qn("label",null,[this.reField,Ki(e,"regexp")]),Qn("label",null,[this.wordField,Ki(e,"by word")])].concat(Ut(e.state.readOnly?[]:[Qn("br"),this.replaceField,i("replace",function(){return tI(e)},[Ki(e,"replace")]),i("replaceAll",function(){return uGe(e)},[Ki(e,"replace all")])]),[Qn("button",{name:"close",onclick:function(){return sj(e)},"aria-label":Ki(e,"close"),type:"button"},["\xD7"])]))}return ie(n,[{key:"commit",value:function(){var e=new jV({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:yh.of(e)}))}},{key:"keydown",value:function(e){var t,r,i;t=this.view,r=e,i="search-panel",pH(hH(t.state),r,t,i)?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?eg:Xm)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),tI(this.view))}},{key:"update",value:function(e){var t,r=fe(e.transactions);try{for(r.s();!(t=r.n()).done;){var i,o=fe(t.value.effects);try{for(o.s();!(i=o.n()).done;){var a=i.value;a.is(yh)&&!a.value.eq(this.query)&&this.setQuery(a.value)}}catch(s){o.e(s)}finally{o.f()}}}catch(s){r.e(s)}finally{r.f()}}},{key:"setQuery",value:function(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}},{key:"mount",value:function(){this.searchField.select()}},{key:"pos",get:function(){return 80}},{key:"top",get:function(){return this.view.state.facet(S0).top}}]),n}();function Ki(n,e){return n.state.phrase(e)}var Kp=/[\s\.,:;?!]/;function lj(n,e){var t=e.from,r=e.to,i=n.state.doc.lineAt(t),o=n.state.doc.lineAt(r).to,a=Math.max(i.from,t-30),s=Math.min(o,r+30),l=n.state.sliceDoc(a,s);if(a!=i.from){for(var u=0;u<30;u++)if(!Kp.test(l[u+1])&&Kp.test(l[u])){l=l.slice(u);break}}if(s!=o){for(var c=l.length-1;c>l.length-30;c--)if(!Kp.test(l[c-1])&&Kp.test(l[c])){l=l.slice(0,c);break}}return _t.announce.of("".concat(n.state.phrase("current match"),". ").concat(l," ").concat(n.state.phrase("on line")," ").concat(i.number,"."))}var dGe=_t.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Bw=[il,Pf.lowest(sGe),dGe],SV=function(){function n(e,t,r){re(this,n),this.state=e,this.pos=t,this.explicit=r,this.abortListeners=[]}return ie(n,[{key:"tokenBefore",value:function(e){for(var t=ki(this.state).resolveInner(this.pos,-1);t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}},{key:"matchBefore",value:function(e){var t=this.state.doc.lineAt(this.pos),r=Math.max(t.from,this.pos-250),i=t.text.slice(r-t.from,this.pos-t.from),o=i.search(TV(e,!1));return o<0?null:{from:r+o,to:this.pos,text:i.slice(o)}}},{key:"aborted",get:function(){return this.abortListeners==null}},{key:"addEventListener",value:function(e,t){e=="abort"&&this.abortListeners&&this.abortListeners.push(t)}}]),n}();function nI(n){var e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),"[".concat(t?"\\w":"").concat(e.replace(/[^\w\s]/g,"\\$&"),"]")}function hGe(n){var e=n.map(function(a){return typeof a=="string"?{label:a}:a}),t=e.every(function(a){return/^\w+$/.test(a.label)})?[/\w*$/,/\w+$/]:function(a){var s,l=Object.create(null),u=Object.create(null),c=fe(a);try{for(c.s();!(s=c.n()).done;){var f=s.value.label;l[f[0]]=!0;for(var d=1;d<f.length;d++)u[f[d]]=!0}}catch(v){c.e(v)}finally{c.f()}var h=nI(l)+nI(u)+"*$";return[new RegExp("^"+h),new RegExp(h)]}(e),r=Dt(t,2),i=r[0],o=r[1];return function(a){var s=a.matchBefore(o);return s||a.explicit?{from:s?s.from:a.pos,options:e,validFor:i}:null}}var rI=ie(function n(e,t,r){re(this,n),this.completion=e,this.source=t,this.match=r});function ol(n){return n.selection.main.head}function TV(n,e){var t,r=n.source,i=e&&r[0]!="^",o=r[r.length-1]!="$";return i||o?new RegExp("".concat(i?"^":"","(?:").concat(r,")").concat(o?"$":""),(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":""):n}function OV(n,e){var t=e.completion.apply||e.completion.label,r=e.source;typeof t=="string"?n.dispatch(function(i,o,a,s){return Object.assign(Object.assign({},i.changeByRange(function(l){if(l==i.selection.main)return{changes:{from:a,to:s,insert:o},range:Ye.cursor(a+o.length)};var u=s-a;return!l.empty||u&&i.sliceDoc(l.from-u,l.from)!=i.sliceDoc(a,s)?{range:l}:{changes:{from:l.from-u,to:l.from,insert:o},range:Ye.cursor(l.from-u+o.length)}})),{userEvent:"input.complete"})}(n.state,t,r.from,r.to)):t(n,e.completion,r.from,r.to)}var iI=new WeakMap;function pGe(n){if(!Array.isArray(n))return n;var e=iI.get(n);return e||iI.set(n,e=hGe(n)),e}var vGe=function(){function n(e){re(this,n),this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(var t=0;t<e.length;){var r=oi(e,t),i=Yi(r);this.chars.push(r);var o=e.slice(t,t+i),a=o.toUpperCase();this.folded.push(oi(a==o?o.toLowerCase():a,0)),t+=i}this.astral=e.length!=this.chars.length}return ie(n,[{key:"match",value:function(e){if(this.pattern.length==0)return[0];if(e.length<this.pattern.length)return null;var t=this.chars,r=this.folded,i=this.any,o=this.precise,a=this.byWord;if(t.length==1){var s=oi(e,0);return s==t[0]?[0,0,Yi(s)]:s==r[0]?[-200,0,Yi(s)]:null}var l=e.indexOf(this.pattern);if(l==0)return[0,0,this.pattern.length];var u=t.length,c=0;if(l<0){for(var f=0,d=Math.min(e.length,200);f<d&&c<u;){var h=oi(e,f);h!=t[c]&&h!=r[c]||(i[c++]=f),f+=Yi(h)}if(c<u)return null}for(var v=0,p=0,m=!1,g=0,y=-1,b=-1,w=/[a-z]/.test(e),k=!0,x=0,C=Math.min(e.length,200),T=0;x<C&&p<u;){var M=oi(e,x);l<0&&(v<u&&M==t[v]&&(o[v++]=x),g<u&&(M==t[g]||M==r[g]?(g==0&&(y=x),b=x+1,g++):g=0));var B=void 0,_=M<255?M>=48&&M<=57||M>=97&&M<=122?2:M>=65&&M<=90?1:0:(B=q2(M))!=B.toLowerCase()?1:B!=B.toUpperCase()?2:0;(!x||_==1&&w||T==0&&_!=0)&&(t[p]==M||r[p]==M&&(m=!0)?a[p++]=x:a.length&&(k=!1)),T=_,x+=Yi(M)}return p==u&&a[0]==0&&k?this.result((m?-200:0)-100,a,e):g==u&&y==0?[-200-e.length,0,b]:l>-1?[-700-e.length,l,l+this.pattern.length]:g==u?[-900-e.length,y,b]:p==u?this.result((m?-200:0)-100-700+(k?0:-1100),a,e):t.length==2?null:this.result((i[0]?-700:0)-200-1100,i,e)}},{key:"result",value:function(e,t,r){var i,o=[e-r.length],a=1,s=fe(t);try{for(s.s();!(i=s.n()).done;){var l=i.value,u=l+(this.astral?Yi(oi(r,l)):1);a>1&&o[a-1]==l?o[a-1]=u:(o[a++]=l,o[a++]=u)}}catch(c){s.e(c)}finally{s.f()}return o}}]),n}(),qa=Pt.define({combine:function(n){return ca(n,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,optionClass:function(){return""},aboveCursor:!1,icons:!0,addToOptions:[],compareCompletions:function(e,t){return e.label.localeCompare(t.label)}},{defaultKeymap:function(e,t){return e&&t},closeOnBlur:function(e,t){return e&&t},icons:function(e,t){return e&&t},optionClass:function(e,t){return function(r){return function(i,o){return i?o?i+" "+o:i:o}(e(r),t(r))}},addToOptions:function(e,t){return e.concat(t)}})}});function oI(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){var r=Math.floor(e/t);return{from:r*t,to:(r+1)*t}}var i=Math.floor((n-e)/t);return{from:n-(i+1)*t,to:n-i*t}}var mGe=function(){function n(e,t){var r=this;re(this,n),this.view=e,this.stateField=t,this.info=null,this.placeInfo={read:function(){return r.measureInfo()},write:function(u){return r.positionInfo(u)},key:this};var i=e.state.field(t),o=i.open,a=o.options,s=o.selected,l=e.state.facet(qa);this.optionContent=function(u){var c=u.addToOptions.slice();return u.icons&&c.push({render:function(f){var d,h=document.createElement("div");return h.classList.add("cm-completionIcon"),f.type&&(d=h.classList).add.apply(d,Ut(f.type.split(/\s+/g).map(function(v){return"cm-completionIcon-"+v}))),h.setAttribute("aria-hidden","true"),h},position:20}),c.push({render:function(f,d,h){var v=document.createElement("span");v.className="cm-completionLabel";for(var p=f.label,m=0,g=1;g<h.length;){var y=h[g++],b=h[g++];y>m&&v.appendChild(document.createTextNode(p.slice(m,y)));var w=v.appendChild(document.createElement("span"));w.appendChild(document.createTextNode(p.slice(y,b))),w.className="cm-completionMatchedText",m=b}return m<p.length&&v.appendChild(document.createTextNode(p.slice(m))),v},position:50},{render:function(f){if(!f.detail)return null;var d=document.createElement("span");return d.className="cm-completionDetail",d.textContent=f.detail,d},position:80}),c.sort(function(f,d){return f.position-d.position}).map(function(f){return f.render})}(l),this.optionClass=l.optionClass,this.range=oI(a.length,s,l.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.dom.addEventListener("mousedown",function(u){for(var c,f=u.target;f&&f!=r.dom;f=f.parentNode)if(f.nodeName=="LI"&&(c=/-(\d+)$/.exec(f.id))&&+c[1]<a.length)return OV(e,a[+c[1]]),void u.preventDefault()}),this.list=this.dom.appendChild(this.createListBox(a,i.id,this.range)),this.list.addEventListener("scroll",function(){r.info&&r.view.requestMeasure(r.placeInfo)})}return ie(n,[{key:"mount",value:function(){this.updateSel()}},{key:"update",value:function(e){e.state.field(this.stateField)!=e.startState.field(this.stateField)&&this.updateSel()}},{key:"positioned",value:function(){this.info&&this.view.requestMeasure(this.placeInfo)}},{key:"updateSel",value:function(){var e=this,t=this.view.state.field(this.stateField),r=t.open;if((r.selected<this.range.from||r.selected>=this.range.to)&&(this.range=oI(r.options.length,r.selected,this.view.state.facet(qa).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(r.options,t.id,this.range)),this.list.addEventListener("scroll",function(){e.info&&e.view.requestMeasure(e.placeInfo)})),this.updateSelectedOption(r.selected)){this.info&&(this.info.remove(),this.info=null);var i=r.options[r.selected].completion,o=i.info;if(!o)return;var a=typeof o=="string"?document.createTextNode(o):o(i);if(!a)return;"then"in a?a.then(function(s){s&&e.view.state.field(e.stateField,!1)==t&&e.addInfoPane(s)}).catch(function(s){return co(e.view.state,s,"completion info")}):this.addInfoPane(a)}}},{key:"addInfoPane",value:function(e){var t=this.info=document.createElement("div");t.className="cm-tooltip cm-completionInfo",t.appendChild(e),this.dom.appendChild(t),this.view.requestMeasure(this.placeInfo)}},{key:"updateSelectedOption",value:function(e){for(var t=null,r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),t=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return t&&function(o,a){var s=o.getBoundingClientRect(),l=a.getBoundingClientRect();l.top<s.top?o.scrollTop-=s.top-l.top:l.bottom>s.bottom&&(o.scrollTop+=l.bottom-s.bottom)}(this.list,t),t}},{key:"measureInfo",value:function(){var e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;var t=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect();if(i.top>Math.min(innerHeight,t.bottom)-10||i.bottom<Math.max(0,t.top)+10)return null;var o=Math.max(0,Math.min(i.top,innerHeight-r.height))-t.top,a=this.view.textDirection==pr.RTL,s=t.left,l=innerWidth-t.right;return a&&s<Math.min(r.width,l)?a=!1:!a&&l<Math.min(r.width,s)&&(a=!0),{top:o,left:a}}},{key:"positionInfo",value:function(e){this.info&&(this.info.style.top=(e?e.top:-1e6)+"px",e&&(this.info.classList.toggle("cm-completionInfo-left",e.left),this.info.classList.toggle("cm-completionInfo-right",!e.left)))}},{key:"createListBox",value:function(e,t,r){var i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));for(var o=r.from;o<r.to;o++){var a=e[o],s=a.completion,l=a.match,u=i.appendChild(document.createElement("li"));u.id=t+"-"+o,u.setAttribute("role","option");var c=this.optionClass(s);c&&(u.className=c);var f,d=fe(this.optionContent);try{for(d.s();!(f=d.n()).done;){var h=(0,f.value)(s,this.view.state,l);h&&u.appendChild(h)}}catch(v){d.e(v)}finally{d.f()}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}}]),n}();function aI(n){return 100*(n.boost||0)+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}var gGe=function(){function n(e,t,r,i,o){re(this,n),this.options=e,this.attrs=t,this.tooltip=r,this.timestamp=i,this.selected=o}return ie(n,[{key:"setSelected",value:function(e,t){return e==this.selected||e>=this.options.length?this:new n(this.options,sI(t,e),this.tooltip,this.timestamp,e)}},{key:"map",value:function(e){return new n(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected)}}],[{key:"build",value:function(e,t,r,i,o){var a=function(f,d){var h,v=[],p=0,m=fe(f);try{for(m.s();!(h=m.n()).done;){var g=h.value;if(g.hasResult())if(g.result.filter===!1){var y,b=g.result.getMatch,w=fe(g.result.options);try{for(w.s();!(y=w.n()).done;){var k=y.value,x=[1e9-p++];if(b){var C,T=fe(b(k));try{for(T.s();!(C=T.n()).done;){var M=C.value;x.push(M)}}catch(z){T.e(z)}finally{T.f()}}v.push(new rI(k,g,x))}}catch(z){w.e(z)}finally{w.f()}}else{var B,_=new vGe(d.sliceDoc(g.from,g.to)),N=void 0,$=fe(g.result.options);try{for($.s();!(B=$.n()).done;){var j=B.value;(N=_.match(j.label))&&(j.boost!=null&&(N[0]+=j.boost),v.push(new rI(j,g,N)))}}catch(z){$.e(z)}finally{$.f()}}}}catch(z){m.e(z)}finally{m.f()}var D,q=[],R=null,G=d.facet(qa).compareCompletions,A=fe(v.sort(function(z,F){return F.match[0]-z.match[0]||G(z.completion,F.completion)}));try{for(A.s();!(D=A.n()).done;){var I=D.value;!R||R.label!=I.completion.label||R.detail!=I.completion.detail||R.type!=null&&I.completion.type!=null&&R.type!=I.completion.type||R.apply!=I.completion.apply?q.push(I):aI(I.completion)>aI(R)&&(q[q.length-1]=I),R=I.completion}}catch(z){A.e(z)}finally{A.f()}return q}(e,t);if(!a.length)return null;var s,l=t.facet(qa).selectOnOpen?0:-1;if(i&&i.selected!=l&&i.selected!=-1){for(var u=i.options[i.selected].completion,c=0;c<a.length;c++)if(a[c].completion==u){l=c;break}}return new n(a,sI(r,l),{pos:e.reduce(function(f,d){return d.hasResult()?Math.min(f,d.from):f},1e8),create:(s=bo,function(f){return new mGe(f,s)}),above:o.aboveCursor},i?i.timestamp:Date.now(),l)}}]),n}(),yGe=function(){function n(e,t,r){re(this,n),this.active=e,this.id=t,this.open=r}return ie(n,[{key:"update",value:function(e){var t=this,r=e.state,i=r.facet(qa),o=(i.override||r.languageDataAt("autocomplete",ol(r)).map(pGe)).map(function(c){return(t.active.find(function(f){return f.source==c})||new eu(c,t.active.some(function(f){return f.state!=0})?1:0)).update(e,i)});o.length==this.active.length&&o.every(function(c,f){return c==t.active[f]})&&(o=this.active);var a=e.selection||o.some(function(c){return c.hasResult()&&e.changes.touchesRange(c.from,c.to)})||!function(c,f){if(c==f)return!0;for(var d=0,h=0;;){for(;d<c.length&&!c[d].hasResult;)d++;for(;h<f.length&&!f[h].hasResult;)h++;var v=d==c.length,p=h==f.length;if(v||p)return v==p;if(c[d++].result!=f[h++].result)return!1}}(o,this.active)?gGe.build(o,r,this.id,this.open,i):this.open&&e.docChanged?this.open.map(e.changes):this.open;!a&&o.every(function(c){return c.state!=1})&&o.some(function(c){return c.hasResult()})&&(o=o.map(function(c){return c.hasResult()?new eu(c.source,0):c}));var s,l=fe(e.effects);try{for(l.s();!(s=l.n()).done;){var u=s.value;u.is(MV)&&(a=a&&a.setSelected(u.value,this.id))}}catch(c){l.e(c)}finally{l.f()}return o==this.active&&a==this.open?this:new n(o,this.id,a)}},{key:"tooltip",get:function(){return this.open?this.open.tooltip:null}},{key:"attrs",get:function(){return this.open?this.open.attrs:bGe}}],[{key:"start",value:function(){return new n(wGe,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}}]),n}(),bGe={"aria-autocomplete":"list"};function sI(n,e){var t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}var wGe=[];function zw(n){return n.isUserEvent("input.type")?"input":n.isUserEvent("delete.backward")?"delete":null}var eu=function(){function n(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;re(this,n),this.source=e,this.state=t,this.explicitPos=r}return ie(n,[{key:"hasResult",value:function(){return!1}},{key:"update",value:function(e,t){var r=zw(e),i=this;r?i=i.handleUserEvent(e,r,t):e.docChanged?i=i.handleChange(e):e.selection&&i.state!=0&&(i=new n(i.source,0));var o,a=fe(e.effects);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s.is(uj))i=new n(i.source,1,s.value?ol(e.state):-1);else if(s.is(tg))i=new n(i.source,0);else if(s.is(EV)){var l,u=fe(s.value);try{for(u.s();!(l=u.n()).done;){var c=l.value;c.source==i.source&&(i=c)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){a.e(f)}finally{a.f()}return i}},{key:"handleUserEvent",value:function(e,t,r){return t!="delete"&&r.activateOnTyping?new n(this.source,1):this.map(e.changes)}},{key:"handleChange",value:function(e){return e.changes.touchesRange(ol(e.startState))?new n(this.source,0):this.map(e.changes)}},{key:"map",value:function(e){return e.empty||this.explicitPos<0?this:new n(this.source,this.state,e.mapPos(this.explicitPos))}}]),n}(),kGe=function(n){De(t,eu);var e=Re(t);function t(r,i,o,a,s){var l;return re(this,t),(l=e.call(this,r,2,i)).result=o,l.from=a,l.to=s,l}return ie(t,[{key:"hasResult",value:function(){return!0}},{key:"handleUserEvent",value:function(r,i,o){var a,s=r.changes.mapPos(this.from),l=r.changes.mapPos(this.to,1),u=ol(r.state);if((this.explicitPos<0?u<=s:u<this.from)||u>l||i=="delete"&&ol(r.startState)==this.from)return new eu(this.source,i=="input"&&o.activateOnTyping?1:0);var c,f=this.explicitPos<0?-1:r.changes.mapPos(this.explicitPos);return function(d,h,v,p){if(!d)return!1;var m=h.sliceDoc(v,p);return typeof d=="function"?d(m,v,p,h):TV(d,!0).test(m)}(this.result.validFor,r.state,s,l)?new t(this.source,f,this.result,s,l):this.result.update&&(c=this.result.update(this.result,s,l,new SV(r.state,u,f>=0)))?new t(this.source,f,c,c.from,(a=c.to)!==null&&a!==void 0?a:ol(r.state)):new eu(this.source,1,f)}},{key:"handleChange",value:function(r){return r.changes.touchesRange(this.from,this.to)?new eu(this.source,0):this.map(r.changes)}},{key:"map",value:function(r){return r.empty?this:new t(this.source,this.explicitPos<0?-1:r.mapPos(this.explicitPos),this.result,r.mapPos(this.from),r.mapPos(this.to,1))}}]),t}(),uj=dn.define(),tg=dn.define(),EV=dn.define({map:function(n,e){return n.map(function(t){return t.map(e)})}}),MV=dn.define(),bo=fi.define({create:function(){return yGe.start()},update:function(n,e){return n.update(e)},provide:function(n){return[b0.from(n,function(e){return e.tooltip}),_t.contentAttributes.from(n,function(e){return e.attrs})]}});function Qp(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"option";return function(t){var r=t.state.field(bo,!1);if(!r||!r.open||Date.now()-r.open.timestamp<75)return!1;var i,o=1;e=="page"&&(i=SUe(t,r.open.tooltip))&&(o=Math.max(2,Math.floor(i.dom.offsetHeight/i.dom.querySelector("li").offsetHeight)-1));var a=r.open.options.length,s=r.open.selected>-1?r.open.selected+o*(n?1:-1):n?0:a-1;return s<0?s=e=="page"?0:a-1:s>=a&&(s=e=="page"?a-1:0),t.dispatch({effects:MV.of(s)}),!0}}var xGe=ie(function n(e,t){re(this,n),this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}),jGe=hi.fromClass(function(){function n(e){re(this,n),this.view=e,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;var t,r=fe(e.state.field(bo).active);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.state==1&&this.startQuery(i)}}catch(o){r.e(o)}finally{r.f()}}return ie(n,[{key:"update",value:function(e){var t=this,r=e.state.field(bo);if(e.selectionSet||e.docChanged||e.startState.field(bo)!=r){for(var i=e.transactions.some(function(v){return(v.selection||v.docChanged)&&!zw(v)}),o=0;o<this.running.length;o++){var a=this.running[o];if(i||a.updates.length+e.transactions.length>50&&Date.now()-a.time>1e3){var s,l=fe(a.context.abortListeners);try{for(l.s();!(s=l.n()).done;){var u=s.value;try{u()}catch(v){co(this.view.state,v)}}}catch(v){l.e(v)}finally{l.f()}a.context.abortListeners=null,this.running.splice(o--,1)}else{var c;(c=a.updates).push.apply(c,Ut(e.transactions))}}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=r.active.some(function(v){return v.state==1&&!t.running.some(function(p){return p.active.source==v.source})})?setTimeout(function(){return t.startUpdate()},50):-1,this.composing!=0){var f,d=fe(e.transactions);try{for(d.s();!(f=d.n()).done;){var h=f.value;zw(h)=="input"?this.composing=2:this.composing==2&&h.selection&&(this.composing=3)}}catch(v){d.e(v)}finally{d.f()}}}}},{key:"startUpdate",value:function(){var e=this;this.debounceUpdate=-1;var t,r=fe(this.view.state.field(bo).active);try{var i=function(){var o=t.value;o.state!=1||e.running.some(function(a){return a.active.source==o.source})||e.startQuery(o)};for(r.s();!(t=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}}},{key:"startQuery",value:function(e){var t=this,r=this.view.state,i=ol(r),o=new SV(r,i,e.explicitPos==i),a=new xGe(e,o);this.running.push(a),Promise.resolve(e.source(o)).then(function(s){a.context.aborted||(a.done=s||null,t.scheduleAccept())},function(s){t.view.dispatch({effects:tg.of(null)}),co(t.view.state,s)})}},{key:"scheduleAccept",value:function(){var e=this;this.running.every(function(t){return t.done!==void 0})?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(function(){return e.accept()},50))}},{key:"accept",value:function(){var e,t=this;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;for(var r=[],i=this.view.state.facet(qa),o=function(s){var l=t.running[s];if(l.done===void 0)return a=s,"continue";if(t.running.splice(s--,1),l.done){var u,c=new kGe(l.active.source,l.active.explicitPos,l.done,l.done.from,(e=l.done.to)!==null&&e!==void 0?e:ol(l.updates.length?l.updates[0].startState:t.view.state)),f=fe(l.updates);try{for(f.s();!(u=f.n()).done;){var d=u.value;c=c.update(d,i)}}catch(y){f.e(y)}finally{f.f()}if(c.hasResult())return r.push(c),a=s,"continue"}var h=t.view.state.field(bo).active.find(function(y){return y.source==l.active.source});if(h&&h.state==1)if(l.done==null){var v,p=new eu(l.active.source,0),m=fe(l.updates);try{for(m.s();!(v=m.n()).done;){var g=v.value;p=p.update(g,i)}}catch(y){m.e(y)}finally{m.f()}p.state!=1&&r.push(p)}else t.startQuery(h);a=s},a=0;a<this.running.length;a++)o(a);r.length&&this.view.dispatch({effects:EV.of(r)})}}]),n}(),{eventHandlers:{blur:function(){var n=this.view.state.field(bo,!1);n&&n.tooltip&&this.view.state.facet(qa).closeOnBlur&&this.view.dispatch({effects:tg.of(null)})},compositionstart:function(){this.composing=1},compositionend:function(){var n=this;this.composing==3&&setTimeout(function(){return n.view.dispatch({effects:uj.of(!1)})},20),this.composing=0}}}),CGe=_t.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xB7\xB7\xB7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25CB'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25CC'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1D465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1D436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1D461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222A'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25A1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1F511}\uFE0E'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25A2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),ng={brackets:["(","[","{","'",'"'],before:")]}:;>"},tu=dn.define({map:function(n,e){var t=e.mapPos(n,-1,Ti.TrackAfter);return t==null?void 0:t}}),cj=dn.define({map:function(n,e){return e.mapPos(n)}}),qw=new(function(n){De(t,Xl);var e=Re(t);function t(){return re(this,t),e.apply(this,arguments)}return ie(t)}());qw.startSide=1,qw.endSide=-1;var $V=fi.define({create:function(){return or.empty},update:function(n,e){if(e.selection){var t=e.state.doc.lineAt(e.selection.main.head).from,r=e.startState.doc.lineAt(e.startState.selection.main.head).from;t!=e.changes.mapPos(r,-1)&&(n=or.empty)}n=n.map(e.changes);var i,o=fe(e.effects);try{var a=function(){var s=i.value;s.is(tu)?n=n.update({add:[qw.range(s.value,s.value+1)]}):s.is(cj)&&(n=n.update({filter:function(l){return l!=s.value}}))};for(o.s();!(i=o.n()).done;)a()}catch(s){o.e(s)}finally{o.f()}return n}});function AV(n){for(var e=0;e<8;e+=2)if("()[]{}<>".charCodeAt(e)==n)return"()[]{}<>".charAt(e+1);return q2(n<128?n:n+1)}function _V(n,e){return n.languageDataAt("closeBrackets",e)[0]||ng}var SGe=(typeof navigator=="undefined"?"undefined":mt(navigator))=="object"&&/Android\b/.test(navigator.userAgent),TGe=_t.inputHandler.of(function(n,e,t,r){if((SGe?n.composing:n.compositionStarted)||n.state.readOnly)return!1;var i=n.state.selection.main;if(r.length>2||r.length==2&&Yi(oi(r,0))==1||e!=i.from||t!=i.to)return!1;var o=function(a,s){var l,u=_V(a,a.selection.main.head),c=u.brackets||ng.brackets,f=fe(c);try{for(f.s();!(l=f.n()).done;){var d=l.value,h=AV(oi(d,0));if(s==d)return h==d?$Ge(a,d,c.indexOf(d+d+d)>-1):EGe(a,d,h,u.before||ng.before);if(s==h&&NV(a,a.selection.main.from))return MGe(a,d,h)}}catch(v){f.e(v)}finally{f.f()}return null}(n.state,r);return!!o&&(n.dispatch(o),!0)}),OGe=[{key:"Backspace",run:function(n){var e=n.state,t=n.dispatch;if(e.readOnly)return!1;var r=_V(e,e.selection.main.head).brackets||ng.brackets,i=null,o=e.changeByRange(function(a){if(a.empty){var s,l=function(f,d){var h=f.sliceString(d-2,d);return Yi(oi(h,0))==h.length?h:h.slice(1)}(e.doc,a.head),u=fe(r);try{for(u.s();!(s=u.n()).done;){var c=s.value;if(c==l&&T0(e.doc,a.head)==AV(oi(c,0)))return{changes:{from:a.head-c.length,to:a.head+c.length},range:Ye.cursor(a.head-c.length),userEvent:"delete.backward"}}}catch(f){u.e(f)}finally{u.f()}}return{range:i=a}});return i||t(e.update(o,{scrollIntoView:!0})),!i}}];function NV(n,e){var t=!1;return n.field($V).between(0,n.doc.length,function(r){r==e&&(t=!0)}),t}function T0(n,e){var t=n.sliceString(e,e+2);return t.slice(0,Yi(oi(t,0)))}function EGe(n,e,t,r){var i=null,o=n.changeByRange(function(a){if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:t,from:a.to}],effects:tu.of(a.to+e.length),range:Ye.range(a.anchor+e.length,a.head+e.length)};var s=T0(n.doc,a.head);return!s||/\s/.test(s)||r.indexOf(s)>-1?{changes:{insert:e+t,from:a.head},effects:tu.of(a.head+e.length),range:Ye.cursor(a.head+e.length)}:{range:i=a}});return i?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function MGe(n,e,t){var r=null,i=n.selection.ranges.map(function(o){return o.empty&&T0(n.doc,o.head)==t?Ye.cursor(o.head+t.length):r=o});return r?null:n.update({selection:Ye.create(i,n.selection.mainIndex),scrollIntoView:!0,effects:n.selection.ranges.map(function(o){var a=o.from;return cj.of(a)})})}function $Ge(n,e,t){var r=null,i=n.changeByRange(function(o){if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:e,from:o.to}],effects:tu.of(o.to+e.length),range:Ye.range(o.anchor+e.length,o.head+e.length)};var a=o.head,s=T0(n.doc,a);if(s==e){if(lI(n,a))return{changes:{insert:e+e,from:a},effects:tu.of(a+e.length),range:Ye.cursor(a+e.length)};if(NV(n,a)){var l=t&&n.sliceDoc(a,a+3*e.length)==e+e+e;return{range:Ye.cursor(a+e.length*(l?3:1)),effects:cj.of(a)}}}else{if(t&&n.sliceDoc(a-2*e.length,a)==e+e&&lI(n,a-2*e.length))return{changes:{insert:e+e+e+e,from:a},effects:tu.of(a+e.length),range:Ye.cursor(a+e.length)};if(n.charCategorizer(a)(s)!=hr.Word){var u=n.sliceDoc(a-1,a);if(u!=e&&n.charCategorizer(a)(u)!=hr.Word&&!function(c,f,d){for(var h=ki(c).resolveInner(f,-1),v=0;v<5;v++){if(c.sliceDoc(h.from,h.from+d.length)==d){for(var p=h.firstChild;p&&p.from==h.from&&p.to-p.from>d.length;){if(c.sliceDoc(p.to-d.length,p.to)==d)return!1;p=p.firstChild}return!0}var m=h.to==f&&h.parent;if(!m)break;h=m}return!1}(n,a,e))return{changes:{insert:e+e,from:a},effects:tu.of(a+e.length),range:Ye.cursor(a+e.length)}}}return{range:r=o}});return r?null:n.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function lI(n,e){var t=ki(n).resolveInner(e+1);return t.parent&&t.from==e}function AGe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return[bo,qa.of(n),jGe,_Ge,CGe]}var IV=[{key:"Ctrl-Space",run:function(n){return!!n.state.field(bo,!1)&&(n.dispatch({effects:uj.of(!0)}),!0)}},{key:"Escape",run:function(n){var e=n.state.field(bo,!1);return!(!e||!e.active.some(function(t){return t.state!=0}))&&(n.dispatch({effects:tg.of(null)}),!0)}},{key:"ArrowDown",run:Qp(!0)},{key:"ArrowUp",run:Qp(!1)},{key:"PageDown",run:Qp(!0,"page")},{key:"PageUp",run:Qp(!1,"page")},{key:"Enter",run:function(n){var e=n.state.field(bo,!1);return!(n.state.readOnly||!e||!e.open||Date.now()-e.open.timestamp<75||e.open.selected<0)&&(OV(n,e.open.options[e.open.selected]),!0)}}],_Ge=Pf.highest(y0.computeN([qa],function(n){return n.facet(qa).defaultKeymap?[IV]:[]})),NGe=ie(function n(e,t,r){re(this,n),this.from=e,this.to=t,this.diagnostic=r}),nd=function(){function n(e,t,r){re(this,n),this.diagnostics=e,this.panel=t,this.selected=r}return ie(n,null,[{key:"init",value:function(e,t,r){var i=e,o=r.facet(nu).markerFilter;o&&(i=o(i));var a=qt.set(i.map(function(s){return s.from==s.to||s.from==s.to-1&&r.doc.lineAt(s.from).to==s.from?qt.widget({widget:new RGe(s),diagnostic:s}).range(s.from):qt.mark({attributes:{class:"cm-lintRange cm-lintRange-"+s.severity},diagnostic:s}).range(s.from,s.to)}),!0);return new n(a,t,df(a))}}]),n}();function df(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=null;return n.between(t,1e9,function(i,o,a){var s=a.spec;if(!e||s.diagnostic==e)return r=new NGe(i,o,s.diagnostic),!1}),r}function PV(n,e){return!(!n.effects.some(function(t){return t.is(O0)})&&!n.changes.touchesRange(e.pos))}function LV(n,e){return n.field(so,!1)?e:e.concat(dn.appendConfig.of([so,_t.decorations.compute([so],function(t){var r=t.field(so),i=r.selected,o=r.panel;return i&&o&&i.from!=i.to?qt.set([IGe.range(i.from,i.to)]):qt.none}),CUe(PGe,{hideOn:PV}),BGe]))}var O0=dn.define(),fj=dn.define(),DV=dn.define(),so=fi.define({create:function(){return new nd(qt.none,null,null)},update:function(n,e){if(e.docChanged){var t=n.diagnostics.map(e.changes),r=null;if(n.selected){var i=e.changes.mapPos(n.selected.from,1);r=df(t,n.selected.diagnostic,i)||df(t,null,i)}n=new nd(t,n.panel,r)}var o,a=fe(e.effects);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.is(O0)?n=nd.init(s.value,n.panel,e.state):s.is(fj)?n=new nd(n.diagnostics,s.value?qV.open:null,n.selected):s.is(DV)&&(n=new nd(n.diagnostics,n.panel,s.value))}}catch(l){a.e(l)}finally{a.f()}return n},provide:function(n){return[hh.from(n,function(e){return e.panel}),_t.decorations.from(n,function(e){return e.diagnostics})]}}),IGe=qt.mark({class:"cm-lintRange cm-lintRange-active"});function PGe(n,e,t){var r=n.state.field(so).diagnostics,i=[],o=2e8,a=0;r.between(e-(t<0?1:0),e+(t>0?1:0),function(l,u,c){var f=c.spec;e>=l&&e<=u&&(l==u||(e>l||t>0)&&(e<u||t<0))&&(i.push(f.diagnostic),o=Math.min(l,o),a=Math.max(u,a))});var s=n.state.facet(nu).tooltipFilter;return s&&(i=s(i)),i.length?{pos:o,end:a,above:n.state.doc.lineAt(o).to<a,create:function(){return{dom:RV(n,i)}}}:null}function RV(n,e){return Qn("ul",{class:"cm-tooltip-lint"},e.map(function(t){return zV(n,t,!1)}))}var uI=function(n){var e=n.state.field(so,!1);return!(!e||!e.panel)&&(n.dispatch({effects:fj.of(!1)}),!0)},LGe=[{key:"Mod-Shift-m",run:function(n){var e=n.state.field(so,!1);e&&e.panel||n.dispatch({effects:LV(n.state,[fj.of(!0)])});var t=dh(n,qV.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:function(n){var e=n.state.field(so,!1);if(!e)return!1;var t=n.state.selection.main,r=e.diagnostics.iter(t.to+1);return!(!r.value&&(!(r=e.diagnostics.iter(0)).value||r.from==t.from&&r.to==t.to))&&(n.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)}}],DGe=hi.fromClass(function(){function n(e){re(this,n),this.view=e,this.timeout=-1,this.set=!0;var t=e.state.facet(nu).delay;this.lintTime=Date.now()+t,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,t)}return ie(n,[{key:"run",value:function(){var e=this,t=Date.now();if(t<this.lintTime-10)setTimeout(this.run,this.lintTime-t);else{this.set=!1;var r=this.view.state,i=r.facet(nu).sources;Promise.all(i.map(function(o){return Promise.resolve(o(e.view))})).then(function(o){var a=o.reduce(function(s,l){return s.concat(l)});e.view.state.doc==r.doc&&e.view.dispatch(function(s,l){return{effects:LV(s,[O0.of(l)])}}(e.view.state,a))},function(o){co(e.view.state,o)})}}},{key:"update",value:function(e){var t=e.state.facet(nu);(e.docChanged||t!=e.startState.facet(nu))&&(this.lintTime=Date.now()+t.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,t.delay)))}},{key:"force",value:function(){this.set&&(this.lintTime=Date.now(),this.run())}},{key:"destroy",value:function(){clearTimeout(this.timeout)}}]),n}()),nu=Pt.define({combine:function(n){return Object.assign({sources:n.map(function(e){return e.source})},ca(n.map(function(e){return e.config}),{delay:750,markerFilter:null,tooltipFilter:null}))},enables:DGe});function BV(n){var e=[];if(n){var t,r=fe(n);try{e:for(r.s();!(t=r.n()).done;){for(var i=t.value.name,o=function(s){var l=i[s];if(/[a-zA-Z]/.test(l)&&!e.some(function(u){return u.toLowerCase()==l.toLowerCase()}))return e.push(l),"continue|actions"},a=0;a<i.length;a++)if(o(a)==="continue|actions")continue e;e.push("")}}catch(s){r.e(s)}finally{r.f()}}return e}function zV(n,e,t){var r,i=t?BV(e.actions):[];return Qn("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Qn("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),(r=e.actions)===null||r===void 0?void 0:r.map(function(o,a){var s=function(f){f.preventDefault();var d=df(n.state.field(so).diagnostics,e);d&&o.apply(n,d.from,d.to)},l=o.name,u=i[a]?l.indexOf(i[a]):-1,c=u<0?l:[l.slice(0,u),Qn("u",l.slice(u,u+1)),l.slice(u+1)];return Qn("button",{type:"button",class:"cm-diagnosticAction",onclick:s,onmousedown:s,"aria-label":" Action: ".concat(l).concat(u<0?"":' (access key "'.concat(i[a],')"'),".")},c)}),e.source&&Qn("div",{class:"cm-diagnosticSource"},e.source))}var RGe=function(n){De(t,Tl);var e=Re(t);function t(r){var i;return re(this,t),(i=e.call(this)).diagnostic=r,i}return ie(t,[{key:"eq",value:function(r){return r.diagnostic==this.diagnostic}},{key:"toDOM",value:function(){return Qn("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}]),t}(),cI=ie(function n(e,t){re(this,n),this.diagnostic=t,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=zV(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}),qV=function(){function n(e){var t=this;re(this,n),this.view=e,this.items=[],this.list=Qn("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:function(r){if(r.keyCode==27)uI(t.view),t.view.focus();else if(r.keyCode==38||r.keyCode==33)t.moveSelection((t.selectedIndex-1+t.items.length)%t.items.length);else if(r.keyCode==40||r.keyCode==34)t.moveSelection((t.selectedIndex+1)%t.items.length);else if(r.keyCode==36)t.moveSelection(0);else if(r.keyCode==35)t.moveSelection(t.items.length-1);else if(r.keyCode==13)t.view.focus();else{if(!(r.keyCode>=65&&r.keyCode<=90&&t.selectedIndex>=0))return;for(var i=t.items[t.selectedIndex].diagnostic,o=BV(i.actions),a=0;a<o.length;a++)if(o[a].toUpperCase().charCodeAt(0)==r.keyCode){var s=df(t.view.state.field(so).diagnostics,i);s&&i.actions[a].apply(e,s.from,s.to)}}r.preventDefault()},onclick:function(r){for(var i=0;i<t.items.length;i++)t.items[i].dom.contains(r.target)&&t.moveSelection(i)}}),this.dom=Qn("div",{class:"cm-panel-lint"},this.list,Qn("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:function(){return uI(t.view)}},"\xD7")),this.update()}return ie(n,[{key:"selectedIndex",get:function(){var e=this.view.state.field(so).selected;if(!e)return-1;for(var t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}},{key:"update",value:function(){var e=this,t=this.view.state.field(so),r=t.diagnostics,i=t.selected,o=0,a=!1,s=null;for(r.between(0,this.view.state.doc.length,function(l,u,c){for(var f,d=c.spec,h=-1,v=o;v<e.items.length;v++)if(e.items[v].diagnostic==d.diagnostic){h=v;break}h<0?(f=new cI(e.view,d.diagnostic),e.items.splice(o,0,f),a=!0):(f=e.items[h],h>o&&(e.items.splice(o,h-o),a=!0)),i&&f.diagnostic==i.diagnostic?f.dom.hasAttribute("aria-selected")||(f.dom.setAttribute("aria-selected","true"),s=f):f.dom.hasAttribute("aria-selected")&&f.dom.removeAttribute("aria-selected"),o++});o<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)a=!0,this.items.pop();this.items.length==0&&(this.items.push(new cI(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),a=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:function(){return{sel:s.dom.getBoundingClientRect(),panel:e.list.getBoundingClientRect()}},write:function(l){var u=l.sel,c=l.panel;u.top<c.top?e.list.scrollTop-=c.top-u.top:u.bottom>c.bottom&&(e.list.scrollTop+=u.bottom-c.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),a&&this.sync()}},{key:"sync",value:function(){var e=this.list.firstChild;function t(){var a=e;e=a.nextSibling,a.remove()}var r,i=fe(this.items);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.dom.parentNode==this.list){for(;e!=o.dom;)t();e=o.dom.nextSibling}else this.list.insertBefore(o.dom,e)}}catch(a){i.e(a)}finally{i.f()}for(;e;)t()}},{key:"moveSelection",value:function(e){if(!(this.selectedIndex<0)){var t=df(this.view.state.field(so).diagnostics,this.items[e].diagnostic);t&&this.view.dispatch({selection:{anchor:t.from,head:t.to},scrollIntoView:!0,effects:DV.of(t)})}}}],[{key:"open",value:function(e){return new n(e)}}]),n}();function Mv(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:'viewBox="0 0 40 40"';return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" `.concat(e,">").concat(encodeURIComponent(n),"</svg>')")}function p1(n){return Mv('<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="'.concat(n,'" fill="none" stroke-width=".7"/>'),'width="6" height="3"')}var BGe=_t.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:p1("#d11")},".cm-lintRange-warning":{backgroundImage:p1("orange")},".cm-lintRange-info":{backgroundImage:p1("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),zGe=function(n){De(t,Ca);var e=Re(t);function t(r){var i;return re(this,t),(i=e.call(this)).diagnostics=r,i.severity=r.reduce(function(o,a){var s=a.severity;return s=="error"||s=="warning"&&o=="info"?s:o},"info"),i}return ie(t,[{key:"toDOM",value:function(r){var i=document.createElement("div");i.className="cm-lint-marker cm-lint-marker-"+this.severity;var o=this.diagnostics,a=r.state.facet(rg).tooltipFilter;return a&&(o=a(o)),o.length&&(i.onmouseover=function(){return function(s,l,u){function c(){var h=s.elementAtHeight(l.getBoundingClientRect().top+5-s.documentTop);s.coordsAtPos(h.from)&&s.dispatch({effects:Fw.of({pos:h.from,above:!1,create:function(){return{dom:RV(s,u),getCoords:function(){return l.getBoundingClientRect()}}}})}),l.onmouseout=l.onmousemove=null,function(v,p){var m=function g(y){var b=p.getBoundingClientRect();if(!(y.clientX>b.left-10&&y.clientX<b.right+10&&y.clientY>b.top-10&&y.clientY<b.bottom+10)){for(var w=y.target;w;w=w.parentNode)if(w.nodeType==1&&w.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",g),v.state.field(HV)&&v.dispatch({effects:Fw.of(null)})}};window.addEventListener("mousemove",m)}(s,l)}var f=s.state.facet(rg).hoverTime,d=setTimeout(c,f);l.onmouseout=function(){clearTimeout(d),l.onmouseout=l.onmousemove=null},l.onmousemove=function(){clearTimeout(d),d=setTimeout(c,f)}}(r,i,o)}),i}}]),t}();function qGe(n,e){var t,r=Object.create(null),i=fe(e);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=n.lineAt(o.from);(r[a.from]||(r[a.from]=[])).push(o)}}catch(u){i.e(u)}finally{i.f()}var s=[];for(var l in r)s.push(new zGe(r[l]).range(+l));return or.of(s,!0)}var FGe=jH({class:"cm-gutter-lint",markers:function(n){return n.state.field(FV)}}),FV=fi.define({create:function(){return or.empty},update:function(n,e){n=n.map(e.changes);var t,r=e.state.facet(rg).markerFilter,i=fe(e.effects);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(o.is(O0)){var a=o.value;r&&(a=r(a||[])),n=qGe(e.state.doc,a.slice(0))}}}catch(s){i.e(s)}finally{i.f()}return n}}),Fw=dn.define(),HV=fi.define({create:function(){return null},update:function(n,e){return n&&e.docChanged&&(n=PV(e,n)?null:Object.assign(Object.assign({},n),{pos:e.changes.mapPos(n.pos)})),e.effects.reduce(function(t,r){return r.is(Fw)?r.value:t},n)},provide:function(n){return b0.from(n)}}),HGe=_t.baseTheme({".cm-gutter-lint":{width:"1.4em","& .cm-gutterElement":{padding:".2em"}},".cm-lint-marker":{width:"1em",height:"1em"},".cm-lint-marker-info":{content:Mv('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>')},".cm-lint-marker-warning":{content:Mv('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>')},".cm-lint-marker-error":{content:Mv('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>')}}),rg=Pt.define({combine:function(n){return ca(n,{hoverTime:300,markerFilter:null,tooltipFilter:null})}});function VGe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return[rg.of(n),FV,FGe,HGe,HV]}var fI,WGe=function(){return[_Ue(),IUe,sUe(),IJe(),lJe(),XWe(),[md,rUe],Yn.allowMultipleSelections.of(!0),Yn.transactionFilter.of(function(t){if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;var r=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!r.length)return t;var i=t.newDoc,o=t.newSelection.main.head,a=i.lineAt(o);if(o>a.from+200)return t;var s=i.sliceString(a.from,o);if(!r.some(function(y){return y.test(s)}))return t;var l,u=t.state,c=-1,f=[],d=fe(u.selection.ranges);try{for(d.s();!(l=d.n()).done;){var h=l.value.head,v=u.doc.lineAt(h);if(v.from!=c){c=v.from;var p=Q2(u,v.from);if(p!=null){var m=/^\s*/.exec(v.text)[0],g=mh(u,p);m!=g&&f.push({from:v.from,to:v.from+m.length,insert:g})}}}}catch(y){d.e(y)}finally{d.f()}return f.length?[t,{changes:f,sequential:!0}]:t}),FH(dJe,{fallback:!0}),bJe(),[TGe,$V],AGe(),pUe(),gUe(),dUe,(e=[tGe,eGe],n&&e.push(xV.of(n)),e),y0.of([].concat(OGe,Ut(GJe),cGe,FJe,oJe,IV,LGe))];var n,e}(),UGe=function(){function n(e,t,r,i,o,a,s,l,u){var c=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,f=arguments.length>10?arguments[10]:void 0;re(this,n),this.p=e,this.stack=t,this.state=r,this.reducePos=i,this.pos=o,this.score=a,this.buffer=s,this.bufferBase=l,this.curContext=u,this.lookAhead=c,this.parent=f}return ie(n,[{key:"toString",value:function(){return"[".concat(this.stack.filter(function(e,t){return t%3==0}).concat(this.state),"]@").concat(this.pos).concat(this.score?"!"+this.score:"")}},{key:"context",get:function(){return this.curContext?this.curContext.context:null}},{key:"pushState",value:function(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}},{key:"reduce",value:function(e){var t=e>>19,r=65535&e,i=this.p.parser,o=i.dynamicPrecedence(r);if(o&&(this.score+=o),t==0)return this.pushState(i.getGoto(this.state,r,!0),this.reducePos),r<i.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,4,!0),void this.reduceContext(r,this.reducePos);var a=this.stack.length-3*(t-1)-(262144&e?6:0),s=this.stack[a-2],l=this.stack[a-1],u=this.bufferBase+this.buffer.length-l;if(r<i.minRepeatTerm||131072&e){var c=i.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,s,c,u+4,!0)}if(262144&e)this.state=this.stack[a];else{var f=this.stack[a-3];this.state=i.getGoto(f,r,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(r,s)}},{key:"storeNode",value:function(e,t,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:4,o=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){var a=this,s=this.buffer.length;if(s==0&&a.parent&&(s=a.bufferBase-a.parent.bufferBase,a=a.parent),s>0&&a.buffer[s-4]==0&&a.buffer[s-1]>-1){if(t==r)return;if(a.buffer[s-2]>=t)return void(a.buffer[s-2]=r)}}if(o&&this.pos!=r){var l=this.buffer.length;if(l>0&&this.buffer[l-4]!=0)for(;l>0&&this.buffer[l-2]>r;)this.buffer[l]=this.buffer[l-4],this.buffer[l+1]=this.buffer[l-3],this.buffer[l+2]=this.buffer[l-2],this.buffer[l+3]=this.buffer[l-1],l-=4,i>4&&(i-=4);this.buffer[l]=e,this.buffer[l+1]=t,this.buffer[l+2]=r,this.buffer[l+3]=i}else this.buffer.push(e,t,r,i)}},{key:"shift",value:function(e,t,r){var i=this.pos;if(131072&e)this.pushState(65535&e,this.pos);else if((262144&e)==0){var o=e,a=this.p.parser;(r>this.pos||t<=a.maxNode)&&(this.pos=r,a.stateFlag(o,1)||(this.reducePos=r)),this.pushState(o,i),this.shiftContext(t,i),t<=a.maxNode&&this.buffer.push(t,i,r,4)}else this.pos=r,this.shiftContext(t,i),t<=this.p.parser.maxNode&&this.buffer.push(t,i,r,4)}},{key:"apply",value:function(e,t,r){65536&e?this.reduce(e):this.shift(e,t,r)}},{key:"useNode",value:function(e,t){var r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);var i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(t,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}},{key:"split",value:function(){for(var e=this,t=e.buffer.length;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;for(var r=e.buffer.slice(t),i=e.bufferBase+t;e&&i==e.bufferBase;)e=e.parent;return new n(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}},{key:"recoverByDelete",value:function(e,t){var r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,r?8:4),this.pos=this.reducePos=t,this.score-=190}},{key:"canShift",value:function(e){for(var t=new JGe(this);;){var r=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if((65536&r)==0)return!0;if(r==0)return!1;t.reduce(r)}}},{key:"recoverByInsert",value:function(e){if(this.stack.length>=300)return[];var t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){for(var r,i=[],o=0;o<t.length;o+=2)(r=t[o+1])!=this.state&&this.p.parser.hasAction(r,e)&&i.push(t[o],r);if(this.stack.length<120)for(var a=function(d){var h=t[d+1];i.some(function(v,p){return 1&p&&v==h})||i.push(t[d],h)},s=0;i.length<8&&s<t.length;s+=2)a(s);t=i}for(var l=[],u=0;u<t.length&&l.length<4;u+=2){var c=t[u+1];if(c!=this.state){var f=this.split();f.pushState(c,this.pos),f.storeNode(0,f.pos,f.pos,4,!0),f.shiftContext(t[u],this.pos),f.score-=200,l.push(f)}}return l}},{key:"forceReduce",value:function(){var e=this.p.parser.stateSlot(this.state,5);if((65536&e)==0)return!1;var t=this.p.parser;if(!t.validAction(this.state,e)){var r=e>>19,i=65535&e,o=this.stack.length-3*r;if(o<0||t.getGoto(this.stack[o],i,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}},{key:"forceAll",value:function(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}},{key:"deadEnd",get:function(){if(this.stack.length!=3)return!1;var e=this.p.parser;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}},{key:"restart",value:function(){this.state=this.stack[0],this.stack.length=0}},{key:"sameState",value:function(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(var t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}},{key:"parser",get:function(){return this.p.parser}},{key:"dialectEnabled",value:function(e){return this.p.parser.dialect.flags[e]}},{key:"shiftContext",value:function(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}},{key:"reduceContext",value:function(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}},{key:"emitContext",value:function(){var e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}},{key:"emitLookAhead",value:function(){var e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}},{key:"updateContext",value:function(e){if(e!=this.curContext.context){var t=new dI(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}},{key:"setLookAhead",value:function(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}},{key:"close",value:function(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}],[{key:"start",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=e.parser.context;return new n(e,[],t,r,r,0,[],0,i?new dI(i,i.start):null,0,null)}}]),n}(),dI=ie(function n(e,t){re(this,n),this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0});(function(n){n[n.Insert=200]="Insert",n[n.Delete=190]="Delete",n[n.Reduce=100]="Reduce",n[n.MaxNext=4]="MaxNext",n[n.MaxInsertStackDepth=300]="MaxInsertStackDepth",n[n.DampenInsertStackDepth=120]="DampenInsertStackDepth"})(fI||(fI={}));var JGe=function(){function n(e){re(this,n),this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}return ie(n,[{key:"reduce",value:function(e){var t=65535&e,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(r-1);var i=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=i}}]),n}(),GGe=function(){function n(e,t,r){re(this,n),this.stack=e,this.pos=t,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}return ie(n,[{key:"maybeNext",value:function(){var e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}},{key:"id",get:function(){return this.buffer[this.index-4]}},{key:"start",get:function(){return this.buffer[this.index-3]}},{key:"end",get:function(){return this.buffer[this.index-2]}},{key:"size",get:function(){return this.buffer[this.index-1]}},{key:"next",value:function(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}},{key:"fork",value:function(){return new n(this.stack,this.pos,this.index)}}],[{key:"create",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.bufferBase+e.buffer.length;return new n(e,t,t-e.bufferBase)}}]),n}(),$v=ie(function n(){re(this,n),this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}),hI=new $v,KGe=function(){function n(e,t){re(this,n),this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=hI,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}return ie(n,[{key:"resolveOffset",value:function(e,t){for(var r=this.range,i=this.rangeIndex,o=this.pos+e;o<r.from;){if(!i)return null;var a=this.ranges[--i];o-=r.from-a.to,r=a}for(;t<0?o>r.to:o>=r.to;){if(i==this.ranges.length-1)return null;var s=this.ranges[++i];o+=s.from-r.to,r=s}return o}},{key:"clipPos",value:function(e){if(e>=this.range.from&&e<this.range.to)return e;var t,r=fe(this.ranges);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i.to>e)return Math.max(e,i.from)}}catch(o){r.e(o)}finally{r.f()}return this.end}},{key:"peek",value:function(e){var t,r,i=this.chunkOff+e;if(i>=0&&i<this.chunk.length)t=this.pos+e,r=this.chunk.charCodeAt(i);else{var o=this.resolveOffset(e,1);if(o==null)return-1;if((t=o)>=this.chunk2Pos&&t<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(t-this.chunk2Pos);else{for(var a=this.rangeIndex,s=this.range;s.to<=t;)s=this.ranges[++a];this.chunk2=this.input.chunk(this.chunk2Pos=t),t+this.chunk2.length>s.to&&(this.chunk2=this.chunk2.slice(0,s.to-t)),r=this.chunk2.charCodeAt(0)}}return t>=this.token.lookAhead&&(this.token.lookAhead=t+1),r}},{key:"acceptToken",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=t?this.resolveOffset(t,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}},{key:"getChunk",value:function(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){var e=this.chunk,t=this.chunkPos;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;var r=this.input.chunk(this.pos),i=this.pos+r.length;this.chunk=i>this.range.to?r.slice(0,this.range.to-this.pos):r,this.chunkPos=this.pos,this.chunkOff=0}}},{key:"readNext",value:function(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}},{key:"advance",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}},{key:"setDone",value:function(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}},{key:"reset",value:function(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=hI,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}},{key:"read",value:function(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);var r,i="",o=fe(this.ranges);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a.from>=t)break;a.to>e&&(i+=this.input.read(Math.max(a.from,e),Math.min(a.to,t)))}}catch(s){o.e(s)}finally{o.f()}return i}}]),n}(),Av=function(){function n(e,t){re(this,n),this.data=e,this.id=t}return ie(n,[{key:"token",value:function(e,t){(function(r,i,o,a){var s=0,l=1<<a,u=o.p.parser,c=u.dialect;e:for(;(l&r[s])!=0;){for(var f=r[s+1],d=s+3;d<f;d+=2)if((r[d+1]&l)>0){var h=r[d];if(c.allows(h)&&(i.token.value==-1||i.token.value==h||u.overrides(h,i.token.value))){i.acceptToken(h);break}}var v=i.next,p=0,m=r[s+2];if(!(i.next<0&&m>p&&r[f+3*m-3]==65535)){for(;p<m;){var g=p+m>>1,y=f+g+(g<<1),b=r[y],w=r[y+1];if(v<b)m=g;else{if(!(v>=w)){s=r[y+2],i.advance();continue e}p=g+1}}break}s=r[f+3*m-1]}})(this.data,e,t,this.id)}}]),n}();function Yp(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uint16Array;if(typeof n!="string")return n;for(var t=null,r=0,i=0;r<n.length;){for(var o=0;;){var a=n.charCodeAt(r++),s=!1;if(a==126){o=65535;break}a>=92&&a--,a>=34&&a--;var l=a-32;if(l>=46&&(l-=46,s=!0),o+=l,s)break;o*=46}t?t[i++]=o:t=new e(o)}return t}Av.prototype.contextual=Av.prototype.fallback=Av.prototype.extend=!1;var pI,Lo=typeof process!="undefined"&&process.env&&/\bparse\b/.test({}.LOG),v1=null;function vI(n,e,t){var r=n.cursor(ai.IncludeAnonymous);for(r.moveTo(e);;)if(!(t<0?r.childBefore(e):r.childAfter(e)))for(;;){if((t<0?r.to<e:r.from>e)&&!r.type.isError)return t<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(n.length,Math.max(r.from+1,e+25));if(t<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return t<0?0:n.length}}(function(n){n[n.Margin=25]="Margin"})(pI||(pI={}));var mI,QGe=function(){function n(e,t){re(this,n),this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}return ie(n,[{key:"nextFragment",value:function(){var e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?vI(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?vI(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}},{key:"nodeAt",value:function(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){var t=this.trees.length-1;if(t<0)return this.nextFragment(),null;var r=this.trees[t],i=this.index[t];if(i!=r.children.length){var o=r.children[i],a=this.start[t]+r.positions[i];if(a>e)return this.nextStart=a,null;if(o instanceof si){if(a==e){if(a<this.safeFrom)return null;var s=a+o.length;if(s<=this.safeTo){var l=o.prop(yn.lookAhead);if(!l||s+l<this.fragment.to)return o}}this.index[t]++,a+o.length>=Math.max(this.safeFrom,e)&&(this.trees.push(o),this.start.push(a),this.index.push(0))}else this.index[t]++,this.nextStart=a+o.length}else this.trees.pop(),this.start.pop(),this.index.pop()}}}]),n}(),YGe=function(){function n(e,t){re(this,n),this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(function(r){return new $v})}return ie(n,[{key:"getActions",value:function(e){for(var t=0,r=null,i=e.p.parser,o=i.tokenizers,a=i.stateSlot(e.state,3),s=e.curContext?e.curContext.hash:0,l=0,u=0;u<o.length;u++)if((1<<u&a)!=0){var c=o[u],f=this.tokens[u];if((!r||c.fallback)&&((c.contextual||f.start!=e.pos||f.mask!=a||f.context!=s)&&(this.updateCachedToken(f,c,e),f.mask=a,f.context=s),f.lookAhead>f.end+25&&(l=Math.max(f.lookAhead,l)),f.value!=0)){var d=t;if(f.extended>-1&&(t=this.addActions(e,f.extended,f.end,t)),t=this.addActions(e,f.value,f.end,t),!c.extend&&(r=f,t>d))break}}for(;this.actions.length>t;)this.actions.pop();return l&&e.setLookAhead(l),r||e.pos!=this.stream.end||((r=new $v).value=e.p.parser.eofTerm,r.start=r.end=e.pos,t=this.addActions(e,r.value,r.end,t)),this.mainToken=r,this.actions}},{key:"getMainToken",value:function(e){if(this.mainToken)return this.mainToken;var t=new $v,r=e.pos,i=e.p;return t.start=r,t.end=Math.min(r+1,i.stream.end),t.value=r==i.stream.end?i.parser.eofTerm:0,t}},{key:"updateCachedToken",value:function(e,t,r){var i=this.stream.clipPos(r.pos);if(t.token(this.stream.reset(i,e),r),e.value>-1){for(var o=r.p.parser,a=0;a<o.specialized.length;a++)if(o.specialized[a]==e.value){var s=o.specializers[a](this.stream.read(e.start,e.end),r);if(s>=0&&r.p.parser.dialect.allows(s>>1)){(1&s)==0?e.value=s>>1:e.extended=s>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}},{key:"putAction",value:function(e,t,r,i){for(var o=0;o<i;o+=3)if(this.actions[o]==e)return i;return this.actions[i++]=e,this.actions[i++]=t,this.actions[i++]=r,i}},{key:"addActions",value:function(e,t,r,i){for(var o=e.state,a=e.p.parser,s=a.data,l=0;l<2;l++)for(var u=a.stateSlot(o,l?2:1);;u+=3){if(s[u]==65535){if(s[u+1]!=1){i==0&&s[u+1]==2&&(i=this.putAction(rs(s,u+2),t,r,i));break}u=rs(s,u+2)}s[u]==t&&(i=this.putAction(rs(s,u+1),t,r,i))}return i}}]),n}();(function(n){n[n.Distance=5]="Distance",n[n.MaxRemainingPerStep=3]="MaxRemainingPerStep",n[n.MinBufferLengthPrune=500]="MinBufferLengthPrune",n[n.ForceReduceLimit=10]="ForceReduceLimit",n[n.CutDepth=15e3]="CutDepth",n[n.CutTo=9e3]="CutTo"})(mI||(mI={}));var ZGe=function(){function n(e,t,r,i){re(this,n),this.parser=e,this.input=t,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.stream=new KGe(t,i),this.tokens=new YGe(e,this.stream),this.topTerm=e.top[1];var o=i[0].from;this.stacks=[UGe.start(this,e.top[0],o)],this.fragments=r.length&&this.stream.end-o>4*e.bufferLength?new QGe(r,e.nodeSet):null}return ie(n,[{key:"parsedPos",get:function(){return this.minStackPos}},{key:"advance",value:function(){for(var e,t,r=this.stacks,i=this.minStackPos,o=this.stacks=[],a=0;a<r.length;a++)for(var s=r[a];;){if(this.tokens.mainToken=null,s.pos>i)o.push(s);else{if(this.advanceStack(s,o,r))continue;e||(e=[],t=[]),e.push(s);var l=this.tokens.getMainToken(s);t.push(l.value,l.end)}break}if(!o.length){var u=e&&function(g){var y,b=null,w=fe(g);try{for(w.s();!(y=w.n()).done;){var k=y.value,x=k.p.stoppedAt;(k.pos==k.p.stream.end||x!=null&&k.pos>x)&&k.p.parser.stateFlag(k.state,2)&&(!b||b.score<k.score)&&(b=k)}}catch(C){w.e(C)}finally{w.f()}return b}(e);if(u)return this.stackToTree(u);if(this.parser.strict)throw Lo&&e&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+i);this.recovering||(this.recovering=5)}if(this.recovering&&e){var c=this.stoppedAt!=null&&e[0].pos>this.stoppedAt?e[0]:this.runRecovery(e,t,o);if(c)return this.stackToTree(c.forceAll())}if(this.recovering){var f=this.recovering==1?1:3*this.recovering;if(o.length>f)for(o.sort(function(g,y){return y.score-g.score});o.length>f;)o.pop();o.some(function(g){return g.reducePos>i})&&this.recovering--}else if(o.length>1)e:for(var d=0;d<o.length-1;d++)for(var h=o[d],v=d+1;v<o.length;v++){var p=o[v];if(h.sameState(p)||h.buffer.length>500&&p.buffer.length>500){if(!((h.score-p.score||h.buffer.length-p.buffer.length)>0)){o.splice(d--,1);continue e}o.splice(v--,1)}}this.minStackPos=o[0].pos;for(var m=1;m<o.length;m++)o[m].pos<this.minStackPos&&(this.minStackPos=o[m].pos);return null}},{key:"stopAt",value:function(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}},{key:"advanceStack",value:function(e,t,r){var i=e.pos,o=this.parser,a=Lo?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments)for(var s=e.curContext&&e.curContext.tracker.strict,l=s?e.curContext.hash:0,u=this.fragments.nodeAt(i);u;){var c=this.parser.nodeSet.types[u.type.id]==u.type?o.getGoto(e.state,u.type.id):-1;if(c>-1&&u.length&&(!s||(u.prop(yn.contextHash)||0)==l))return e.useNode(u,c),Lo&&console.log(a+this.stackID(e)+" (via reuse of ".concat(o.getName(u.type.id),")")),!0;if(!(u instanceof si)||u.children.length==0||u.positions[0]>0)break;var f=u.children[0];if(!(f instanceof si&&u.positions[0]==0))break;u=f}var d=o.stateSlot(e.state,4);if(d>0)return e.reduce(d),Lo&&console.log(a+this.stackID(e)+" (via always-reduce ".concat(o.getName(65535&d),")")),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););for(var h=this.tokens.getActions(e),v=0;v<h.length;){var p=h[v++],m=h[v++],g=h[v++],y=v==h.length||!r,b=y?e:e.split();if(b.apply(p,m,g),Lo&&console.log(a+this.stackID(b)+" (via ".concat((65536&p)==0?"shift":"reduce of ".concat(o.getName(65535&p))," for ").concat(o.getName(m)," @ ").concat(i).concat(b==e?"":", split",")")),y)return!0;b.pos>i?t.push(b):r.push(b)}return!1}},{key:"advanceFully",value:function(e,t){for(var r=e.pos;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return gI(e,t),!0}}},{key:"runRecovery",value:function(e,t,r){for(var i=null,o=!1,a=0;a<e.length;a++){var s=e[a],l=t[a<<1],u=t[1+(a<<1)],c=Lo?this.stackID(s)+" -> ":"";if(!(s.deadEnd&&(o||(o=!0,s.restart(),Lo&&console.log(c+this.stackID(s)+" (restarted)"),this.advanceFully(s,r))))){for(var f=s.split(),d=c,h=0;f.forceReduce()&&h<10&&(Lo&&console.log(d+this.stackID(f)+" (via force-reduce)"),!this.advanceFully(f,r));h++)Lo&&(d=this.stackID(f)+" -> ");var v,p=fe(s.recoverByInsert(l));try{for(p.s();!(v=p.n()).done;){var m=v.value;Lo&&console.log(c+this.stackID(m)+" (via recover-insert)"),this.advanceFully(m,r)}}catch(g){p.e(g)}finally{p.f()}this.stream.end>s.pos?(u==s.pos&&(u++,l=0),s.recoverByDelete(l,u),Lo&&console.log(c+this.stackID(s)+" (via recover-delete ".concat(this.parser.getName(l),")")),gI(s,r)):(!i||i.score<s.score)&&(i=s)}}return i}},{key:"stackToTree",value:function(e){return e.close(),si.build({buffer:GGe.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}},{key:"stackID",value:function(e){var t=(v1||(v1=new WeakMap)).get(e);return t||v1.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}]),n}();function gI(n,e){for(var t=0;t<e.length;t++){var r=e[t];if(r.pos==n.pos&&r.sameState(n))return void(e[t].score<n.score&&(e[t]=n))}e.push(n)}var XGe=function(){function n(e,t,r){re(this,n),this.source=e,this.flags=t,this.disabled=r}return ie(n,[{key:"allows",value:function(e){return!this.disabled||this.disabled[e]==0}}]),n}(),eKe=function(n){De(t,MH);var e=Re(t);function t(r){var i,o;if(re(this,t),(o=e.call(this)).wrappers=[],r.version!=14)throw new RangeError("Parser version (".concat(r.version,") doesn't match runtime version (",14,")"));var a=r.nodeNames.split(" ");o.minRepeatTerm=a.length;for(var s=0;s<r.repeatNodeCount;s++)a.push("");for(var l=Object.keys(r.topRules).map(function(x){return r.topRules[x][1]}),u=[],c=0;c<a.length;c++)u.push([]);function f(x,C,T){u[x].push([C,C.deserialize(String(T))])}if(r.nodeProps){var d,h=fe(r.nodeProps);try{for(h.s();!(d=h.n()).done;){var v=d.value,p=v[0];typeof p=="string"&&(p=yn[p]);for(var m=1;m<v.length;){var g=v[m++];if(g>=0)f(g,p,v[m++]);else{for(var y=v[m+-g],b=-g;b>0;b--)f(v[m++],p,y);m++}}}}catch(x){h.e(x)}finally{h.f()}}o.nodeSet=new DUe(a.map(function(x,C){return Eo.define({name:C>=o.minRepeatTerm?void 0:x,id:C,props:u[C],top:l.indexOf(C)>-1,error:C==0,skipped:r.skippedNodes&&r.skippedNodes.indexOf(C)>-1})})),r.propSources&&(o.nodeSet=(i=o.nodeSet).extend.apply(i,Ut(r.propSources))),o.strict=!1,o.bufferLength=1024;var w=Yp(r.tokenData);o.context=r.context,o.specializerSpecs=r.specialized||[],o.specialized=new Uint16Array(o.specializerSpecs.length);for(var k=0;k<o.specializerSpecs.length;k++)o.specialized[k]=o.specializerSpecs[k].term;return o.specializers=o.specializerSpecs.map(bI),o.states=Yp(r.states,Uint32Array),o.data=Yp(r.stateData),o.goto=Yp(r.goto),o.maxTerm=r.maxTerm,o.tokenizers=r.tokenizers.map(function(x){return typeof x=="number"?new Av(w,x):x}),o.topRules=r.topRules,o.dialects=r.dialects||{},o.dynamicPrecedences=r.dynamicPrecedences||null,o.tokenPrecTable=r.tokenPrec,o.termNames=r.termNames||null,o.maxNode=o.nodeSet.types.length-1,o.dialect=o.parseDialect(),o.top=o.topRules[Object.keys(o.topRules)[0]],o}return ie(t,[{key:"createParse",value:function(r,i,o){var a,s=new ZGe(this,r,i,o),l=fe(this.wrappers);try{for(l.s();!(a=l.n()).done;)s=(0,a.value)(s,r,i,o)}catch(u){l.e(u)}finally{l.f()}return s}},{key:"getGoto",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],a=this.goto;if(i>=a[0])return-1;for(var s=a[i+1];;){var l=a[s++],u=1&l,c=a[s++];if(u&&o)return c;for(var f=s+(l>>1);s<f;s++)if(a[s]==r)return c;if(u)return-1}}},{key:"hasAction",value:function(r,i){for(var o=this.data,a=0;a<2;a++)for(var s,l=this.stateSlot(r,a?2:1);;l+=3){if((s=o[l])==65535){if(o[l+1]!=1){if(o[l+1]==2)return rs(o,l+2);break}s=o[l=rs(o,l+2)]}if(s==i||s==0)return rs(o,l+1)}return 0}},{key:"stateSlot",value:function(r,i){return this.states[6*r+i]}},{key:"stateFlag",value:function(r,i){return(this.stateSlot(r,0)&i)>0}},{key:"validAction",value:function(r,i){if(i==this.stateSlot(r,4))return!0;for(var o=this.stateSlot(r,1);;o+=3){if(this.data[o]==65535){if(this.data[o+1]!=1)return!1;o=rs(this.data,o+2)}if(i==rs(this.data,o+1))return!0}}},{key:"nextStates",value:function(r){for(var i=this,o=[],a=this.stateSlot(r,1);;a+=3){if(this.data[a]==65535){if(this.data[a+1]!=1)break;a=rs(this.data,a+2)}(1&this.data[a+2])==0&&function(){var s=i.data[a+1];o.some(function(l,u){return 1&u&&l==s})||o.push(i.data[a],s)}()}return o}},{key:"overrides",value:function(r,i){var o=yI(this.data,this.tokenPrecTable,i);return o<0||yI(this.data,this.tokenPrecTable,r)<o}},{key:"configure",value:function(r){var i,o=Object.assign(Object.create(t.prototype),this);if(r.props&&(o.nodeSet=(i=this.nodeSet).extend.apply(i,Ut(r.props))),r.top){var a=this.topRules[r.top];if(!a)throw new RangeError("Invalid top rule name ".concat(r.top));o.top=a}return r.tokenizers&&(o.tokenizers=this.tokenizers.map(function(s){var l=r.tokenizers.find(function(u){return u.from==s});return l?l.to:s})),r.specializers&&(o.specializers=this.specializers.slice(),o.specializerSpecs=this.specializerSpecs.map(function(s,l){var u=r.specializers.find(function(f){return f.from==s.external});if(!u)return s;var c=Object.assign(Object.assign({},s),{external:u.to});return o.specializers[l]=bI(c),c})),r.contextTracker&&(o.context=r.contextTracker),r.dialect&&(o.dialect=this.parseDialect(r.dialect)),r.strict!=null&&(o.strict=r.strict),r.wrap&&(o.wrappers=o.wrappers.concat(r.wrap)),r.bufferLength!=null&&(o.bufferLength=r.bufferLength),o}},{key:"hasWrappers",value:function(){return this.wrappers.length>0}},{key:"getName",value:function(r){return this.termNames?this.termNames[r]:String(r<=this.maxNode&&this.nodeSet.types[r].name||r)}},{key:"eofTerm",get:function(){return this.maxNode+1}},{key:"topNode",get:function(){return this.nodeSet.types[this.top[1]]}},{key:"dynamicPrecedence",value:function(r){var i=this.dynamicPrecedences;return i==null?0:i[r]||0}},{key:"parseDialect",value:function(r){var i=Object.keys(this.dialects),o=i.map(function(){return!1});if(r){var a,s=fe(r.split(" "));try{for(s.s();!(a=s.n()).done;){var l=a.value,u=i.indexOf(l);u>=0&&(o[u]=!0)}}catch(v){s.e(v)}finally{s.f()}}for(var c=null,f=0;f<i.length;f++)if(!o[f])for(var d,h=this.dialects[i[f]];(d=this.data[h++])!=65535;)(c||(c=new Uint8Array(this.maxTerm+1)))[d]=1;return new XGe(r,o,c)}}],[{key:"deserialize",value:function(r){return new t(r)}}]),t}();function rs(n,e){return n[e]|n[e+1]<<16}function yI(n,e,t){for(var r,i=e;(r=n[i])!=65535;i++)if(r==t)return i-e;return-1}function bI(n){if(n.external){var e=n.extend?1:0;return function(t,r){return n.external(t,r)<<1|e}}return n.get}var tKe=AH({String:rt.string,Number:rt.number,"True False":rt.bool,PropertyName:rt.propertyName,Null:rt.null,",":rt.separator,"[ ]":rt.squareBracket,"{ }":rt.brace}),nKe=eKe.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",stateData:"#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",goto:"!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"\u26A0 JsonText True False Null Number String } { Object Property PropertyName ] [ Array",maxTerm:25,nodeProps:[["openedBy",7,"{",12,"["],["closedBy",8,"}",13,"]"]],propSources:[tKe],skippedNodes:[0],repeatNodeCount:2,tokenData:"(p~RaXY!WYZ!W]^!Wpq!Wrs!]|}$i}!O$n!Q!R$w!R![&V![!]&h!}#O&m#P#Q&r#Y#Z&w#b#c'f#h#i'}#o#p(f#q#r(k~!]Oc~~!`Upq!]qr!]rs!rs#O!]#O#P!w#P~!]~!wOe~~!zXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#g~#jR!Q![#s!c!i#s#T#Z#s~#vR!Q![$P!c!i$P#T#Z$P~$SR!Q![$]!c!i$]#T#Z$]~$`R!Q![!]!c!i!]#T#Z!]~$nOh~~$qQ!Q!R$w!R![&V~$|RT~!O!P%V!g!h%k#X#Y%k~%YP!Q![%]~%bRT~!Q![%]!g!h%k#X#Y%k~%nR{|%w}!O%w!Q![%}~%zP!Q![%}~&SPT~!Q![%}~&[ST~!O!P%V!Q![&V!g!h%k#X#Y%k~&mOg~~&rO]~~&wO[~~&zP#T#U&}~'QP#`#a'T~'WP#g#h'Z~'^P#X#Y'a~'fOR~~'iP#i#j'l~'oP#`#a'r~'uP#`#a'x~'}OS~~(QP#f#g(T~(WP#i#j(Z~(^P#X#Y(a~(fOQ~~(kOW~~(pOV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),rKe=GUe.define({name:"json",parser:nKe.configure({props:[PH.add({Object:AN({except:/^\s*\}/}),Array:AN({except:/^\s*\]/})}),DH.add({"Object Array":function(n){var e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function iKe(n){Gt(n,"svelte-1oo7hnc",".jse-status-bar.svelte-1oo7hnc.svelte-1oo7hnc{background:var(--jse-panel-background);color:var(--jse-panel-color-readonly);font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);margin:0;border-top:var(--jse-panel-border);border-left:var(--jse-main-border);border-right:var(--jse-main-border);display:flex;gap:var(--jse-padding)}.jse-status-bar.svelte-1oo7hnc.svelte-1oo7hnc:last-child{border-bottom:var(--jse-main-border)}.jse-status-bar.svelte-1oo7hnc .jse-status-bar-info.svelte-1oo7hnc{padding:2px}")}function wI(n){var e,t,r;return{c:function(){e=ee("div"),t=ot("Line: "),r=ot(n[0]),E(e,"class","jse-status-bar-info svelte-1oo7hnc")},m:function(i,o){me(i,e,o),W(e,t),W(e,r)},p:function(i,o){1&o&&on(r,i[0])},d:function(i){i&&he(e)}}}function kI(n){var e,t,r;return{c:function(){e=ee("div"),t=ot("Column: "),r=ot(n[1]),E(e,"class","jse-status-bar-info svelte-1oo7hnc")},m:function(i,o){me(i,e,o),W(e,t),W(e,r)},p:function(i,o){2&o&&on(r,i[1])},d:function(i){i&&he(e)}}}function xI(n){var e,t,r,i;return{c:function(){e=ee("div"),t=ot("Selection: "),r=ot(n[2]),i=ot(" characters"),E(e,"class","jse-status-bar-info svelte-1oo7hnc")},m:function(o,a){me(o,e,a),W(e,t),W(e,r),W(e,i)},p:function(o,a){4&a&&on(r,o[2])},d:function(o){o&&he(e)}}}function oKe(n){var e,t,r,i=n[0]!==void 0&&wI(n),o=n[1]!==void 0&&kI(n),a=n[2]!==void 0&&n[2]>0&&xI(n);return{c:function(){e=ee("div"),i&&i.c(),t=je(),o&&o.c(),r=je(),a&&a.c(),E(e,"class","jse-status-bar svelte-1oo7hnc")},m:function(s,l){me(s,e,l),i&&i.m(e,null),W(e,t),o&&o.m(e,null),W(e,r),a&&a.m(e,null)},p:function(s,l){var u=Dt(l,1)[0];s[0]!==void 0?i?i.p(s,u):((i=wI(s)).c(),i.m(e,t)):i&&(i.d(1),i=null),s[1]!==void 0?o?o.p(s,u):((o=kI(s)).c(),o.m(e,r)):o&&(o.d(1),o=null),s[2]!==void 0&&s[2]>0?a?a.p(s,u):((a=xI(s)).c(),a.m(e,null)):a&&(a.d(1),a=null)},i:Ze,o:Ze,d:function(s){s&&he(e),i&&i.d(),o&&o.d(),a&&a.d()}}}function aKe(n,e,t){var r,i,o,a,s,l=e.editorState;return n.$$set=function(u){"editorState"in u&&t(3,l=u.editorState)},n.$$.update=function(){var u,c,f,d,h,v,p,m;8&n.$$.dirty&&t(4,r=(u=l)===null||u===void 0||(c=u.selection)===null||c===void 0||(f=c.main)===null||f===void 0?void 0:f.head),24&n.$$.dirty&&t(5,i=(d=l)===null||d===void 0||(h=d.doc)===null||h===void 0?void 0:h.lineAt(r)),32&n.$$.dirty&&t(0,o=i?i.number:void 0),48&n.$$.dirty&&t(1,a=i?r-i.from+1:void 0),8&n.$$.dirty&&t(2,s=(v=l)===null||v===void 0||(p=v.selection)===null||p===void 0||(m=p.ranges)===null||m===void 0?void 0:m.reduce(function(g,y){return g+y.to-y.from},0))},[o,a,s,l,r,i]}var sKe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,aKe,oKe,Or,{editorState:3},iKe),i}return ie(t)}(),dj=Y2.define([{tag:rt.propertyName,color:"var(--jse-key-color)"},{tag:rt.number,color:"var(--jse-value-color-number)"},{tag:rt.bool,color:"var(--jse-value-color-boolean)"},{tag:rt.string,color:"var(--jse-value-color-string)"},{tag:rt.keyword,color:"var(--jse-value-color-null)"}]),lKe=FH(dj),uKe=dj.style;function jI(n){return mt(n.parseError)==="object"&&n.parseError!==null}dj.style=function(n){return uKe(n||[])};var CI=Number.isNaN||function(n){return typeof n=="number"&&n!=n};function cKe(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(r=n[t],i=e[t],!(r===i||CI(r)&&CI(i)))return!1;var r,i;return!0}function VV(n,e){e===void 0&&(e=cKe);var t=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(t&&t.lastThis===this&&e(i,t.lastArgs))return t.lastResult;var a=n.apply(this,i);return t={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){t=null},r}function gd(n,e){var t=Date.now(),r=n();return e(Date.now()-t),r}var cc=Li("validation");function fKe(n,e,t,r){return cc("validateJSON"),e?e(t!==r?r.parse(t.stringify(n)):n):[]}function dKe(n,e,t,r){if(cc("validateText"),n.length>104857600)return{validationErrors:[{path:[],message:"Validation turned off: the document is too large",severity:sf.info}]};if(n.length===0)return{validationErrors:[]};try{var i=gd(function(){return t.parse(n)},function(s){return cc("validate: parsed json in ".concat(s," ms"))});if(!e)return{validationErrors:[]};var o=t===r?i:gd(function(){return r.parse(n)},function(s){return cc("validate: parsed json with the validationParser in ".concat(s," ms"))});return{validationErrors:gd(function(){return e(o)},function(s){return cc("validate: validated json in ".concat(s," ms"))})}}catch(s){var a=gd(function(){return function(l,u){if(l.length>1048576)return!1;try{return u.parse(nl(l)),!0}catch{return!1}}(n,t)},function(l){return cc("validate: checked whether repairable in ".concat(l," ms"))});return{parseError:N2(n,s.message||s.toString()),isRepairable:a}}}function hKe(n){Gt(n,"svelte-ffbmi0",'.jse-text-mode.svelte-ffbmi0.svelte-ffbmi0{flex:1;box-sizing:border-box;display:flex;flex-direction:column;background:var(--jse-background-color)}.jse-text-mode.no-main-menu.svelte-ffbmi0.svelte-ffbmi0{border-top:var(--jse-main-border)}.jse-text-mode.svelte-ffbmi0 .jse-contents.svelte-ffbmi0{flex:1;display:flex;flex-direction:column;overflow:hidden;min-width:0;min-height:0;border-left:var(--jse-main-border);border-right:var(--jse-main-border)}.jse-text-mode.svelte-ffbmi0 .jse-contents.svelte-ffbmi0:last-child{border-bottom:var(--jse-main-border)}.jse-text-mode.svelte-ffbmi0 .jse-contents.jse-hidden.svelte-ffbmi0{visibility:hidden}.jse-text-mode.svelte-ffbmi0 .jse-contents.svelte-ffbmi0 .cm-editor{flex:1;overflow:hidden}.jse-text-mode.svelte-ffbmi0 .jse-contents.svelte-ffbmi0 .cm-editor .cm-scroller{font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);line-height:var(--jse-line-height);color:var(--jse-delimiter-color)}.jse-text-mode.svelte-ffbmi0 .jse-contents.svelte-ffbmi0 .cm-editor .cm-gutters{background:var(--jse-panel-background);color:var(--jse-panel-color-readonly);border-right:var(--jse-panel-border)}.jse-text-mode.svelte-ffbmi0 .jse-contents.svelte-ffbmi0 .cm-editor .cm-activeLine,.jse-text-mode.svelte-ffbmi0 .jse-contents.svelte-ffbmi0 .cm-editor .cm-activeLineGutter{background:var(--jse-active-line-background-color)}.jse-text-mode.svelte-ffbmi0 .jse-contents.svelte-ffbmi0 .cm-editor .cm-selectionBackground{background:var(--jse-selection-background-color)}.jse-text-mode.svelte-ffbmi0 .jse-contents.svelte-ffbmi0 .cm-editor .cm-searchMatch{background-color:var(--jse-search-match-color);outline:var(--jse-search-match-outline)}.jse-text-mode.svelte-ffbmi0 .jse-contents.svelte-ffbmi0 .cm-editor .cm-searchMatch.cm-searchMatch-selected{background-color:var(--jse-search-match-active-color);outline:var(--jse-search-match-active-outline)}.jse-text-mode.svelte-ffbmi0 .jse-contents.svelte-ffbmi0 .cm-editor .cm-selectionMatch{background-color:var(--jse-search-match-background-color)}.jse-text-mode.svelte-ffbmi0 .jse-contents.svelte-ffbmi0 .cm-editor .cm-foldPlaceholder{background:var(--jse-tag-background);color:var(--jse-tag-color);border:none;padding:0 var(--jse-padding)}.jse-text-mode.svelte-ffbmi0 .jse-contents.svelte-ffbmi0 .cm-editor .cm-tooltip{font-size:var(--jse-font-size);font-family:var(--jse-font-family);color:var(--jse-tooltip-color);background:var(--jse-tooltip-background);border:var(--jse-tooltip-border)}.jse-text-mode.svelte-ffbmi0 .jse-contents.svelte-ffbmi0 .cm-editor .cm-diagnosticAction{background:var(--jse-tooltip-action-button-color);background:var(--jse-tooltip-action-button-background)}.jse-text-mode.svelte-ffbmi0 .jse-contents.svelte-ffbmi0 .cm-editor .cm-panels{border-bottom:var(--jse-panel-border)}.jse-text-mode.svelte-ffbmi0 .jse-contents.svelte-ffbmi0 .cm-editor .cm-search{background:var(--jse-panel-background);color:var(--jse-panel-color);font-family:var(--jse-font-family);font-size:var(--jse-font-size)}.jse-text-mode.svelte-ffbmi0 .jse-contents.svelte-ffbmi0 .cm-editor .cm-search input{font-family:var(--jse-font-family);font-size:var(--jse-font-size-text-mode-search);color:var(--jse-input-color);border:var(--jse-input-border);background:var(--jse-input-background);margin-right:2px}.jse-text-mode.svelte-ffbmi0 .jse-contents.svelte-ffbmi0 .cm-editor .cm-search button{font-family:var(--jse-font-family);font-size:var(--jse-font-size-text-mode-search);color:var(--jse-panel-button-color);background:var(--jse-panel-button-background);border:none;cursor:pointer;text-transform:capitalize;padding:calc(0.5 * var(--jse-padding)) var(--jse-padding);margin:0}.jse-text-mode.svelte-ffbmi0 .jse-contents.svelte-ffbmi0 .cm-editor .cm-search button:hover{color:var(--jse-panel-button-color-highlight);background:var(--jse-panel-button-background-highlight)}.jse-text-mode.svelte-ffbmi0 .jse-contents.svelte-ffbmi0 .cm-editor .cm-search label{font-family:var(--jse-font-family);font-size:var(--jse-font-size-text-mode-search);padding-left:var(--jse-padding)}.jse-text-mode.svelte-ffbmi0 .jse-contents.svelte-ffbmi0 .cm-editor .cm-search label input{margin-right:2px}.jse-text-mode.svelte-ffbmi0 .jse-contents.svelte-ffbmi0 .cm-editor .cm-search button[name="close"]{width:32px;height:32px;font-size:24px;line-height:24px;padding:0;right:0;top:-4px}.jse-text-mode.svelte-ffbmi0 .jse-contents.svelte-ffbmi0 .cm-editor .cm-cursor-primary{border-color:var(--jse-text-color)}.jse-text-mode.svelte-ffbmi0 .jse-contents .jse-loading-space.svelte-ffbmi0{flex:1}.jse-text-mode.svelte-ffbmi0 .jse-contents .jse-loading.svelte-ffbmi0{flex:2;text-align:center;color:var(--jse-panel-color-readonly);box-sizing:border-box;font-family:var(--jse-font-family);font-size:var(--jse-font-size)}')}function SI(n){var e,t;return e=new FVe({props:{readOnly:n[0],onFormat:n[17],onCompact:n[18],onSort:n[19],onTransform:n[20],onToggleSearch:n[21],onUndo:n[22],onRedo:n[23],canFormat:!n[15],canCompact:!n[15],canSort:!n[15],canTransform:!n[15],canUndo:n[11],canRedo:n[12],onRenderMenu:n[4]}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o={};1&i[0]&&(o.readOnly=r[0]),32768&i[0]&&(o.canFormat=!r[15]),32768&i[0]&&(o.canCompact=!r[15]),32768&i[0]&&(o.canSort=!r[15]),32768&i[0]&&(o.canTransform=!r[15]),2048&i[0]&&(o.canUndo=r[11]),4096&i[0]&&(o.canRedo=r[12]),16&i[0]&&(o.onRenderMenu=r[4]),e.$set(o)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function pKe(n){var e;return{c:function(){(e=ee("div")).innerHTML=`<div class="jse-loading-space svelte-ffbmi0"></div> 
      <div class="jse-loading svelte-ffbmi0">loading...</div>`,E(e,"class","jse-contents svelte-ffbmi0")},m:function(t,r){me(t,e,r)},p:Ze,i:Ze,o:Ze,d:function(t){t&&he(e)}}}function vKe(n){var e,t,r,i,o,a,s=n[10]&&TI(n),l=n[2]&&OI(n),u=!n[10]&&EI(n);return{c:function(){s&&s.c(),e=je(),t=ee("div"),r=je(),l&&l.c(),i=je(),u&&u.c(),o=kn(),E(t,"class","jse-contents svelte-ffbmi0"),Ve(t,"jse-hidden",n[10])},m:function(c,f){s&&s.m(c,f),me(c,e,f),me(c,t,f),n[48](t),me(c,r,f),l&&l.m(c,f),me(c,i,f),u&&u.m(c,f),me(c,o,f),a=!0},p:function(c,f){c[10]?s?(s.p(c,f),1024&f[0]&&J(s,1)):((s=TI(c)).c(),J(s,1),s.m(e.parentNode,e)):s&&(Je(),Y(s,1,1,function(){s=null}),Ge()),(!a||1024&f[0])&&Ve(t,"jse-hidden",c[10]),c[2]?l?(l.p(c,f),4&f[0]&&J(l,1)):((l=OI(c)).c(),J(l,1),l.m(i.parentNode,i)):l&&(Je(),Y(l,1,1,function(){l=null}),Ge()),c[10]?u&&(Je(),Y(u,1,1,function(){u=null}),Ge()):u?(u.p(c,f),1024&f[0]&&J(u,1)):((u=EI(c)).c(),J(u,1),u.m(o.parentNode,o))},i:function(c){a||(J(s),J(l),J(u),a=!0)},o:function(c){Y(s),Y(l),Y(u),a=!1},d:function(c){s&&s.d(c),c&&he(e),c&&he(t),n[48](null),c&&he(r),l&&l.d(c),c&&he(i),u&&u.d(c),c&&he(o)}}}function TI(n){var e,t;return e=new qu({props:{icon:zu,type:"error",message:"The JSON document is larger than ".concat(Mp(10485760,1024),", ")+"and may crash your browser when loading it in text mode. Actual size: ".concat(Mp(n[5].length,1024),"."),actions:[{text:"Open anyway",title:"Open the document in text mode. This may freeze or crash your browser.",onClick:n[24]},{text:"Open in tree mode",title:"Open the document in tree mode. Tree mode can handle large documents.",onClick:n[3]},{text:"Cancel",title:"Cancel opening this large document.",onClick:n[25]}]}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o={};32&i[0]&&(o.message="The JSON document is larger than ".concat(Mp(10485760,1024),", ")+"and may crash your browser when loading it in text mode. Actual size: ".concat(Mp(r[5].length,1024),".")),8&i[0]&&(o.actions=[{text:"Open anyway",title:"Open the document in text mode. This may freeze or crash your browser.",onClick:r[24]},{text:"Open in tree mode",title:"Open the document in tree mode. Tree mode can handle large documents.",onClick:r[3]},{text:"Cancel",title:"Cancel opening this large document.",onClick:r[25]}]),e.$set(o)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function OI(n){var e,t;return e=new sKe({props:{editorState:n[8]}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o={};256&i[0]&&(o.editorState=r[8]),e.$set(o)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function EI(n){var e,t,r,i=n[13]&&MI(n);return t=new cF({props:{validationErrors:n[9],selectError:n[26]}}),{c:function(){i&&i.c(),e=je(),Ne(t.$$.fragment)},m:function(o,a){i&&i.m(o,a),me(o,e,a),Ae(t,o,a),r=!0},p:function(o,a){o[13]?i?(i.p(o,a),8192&a[0]&&J(i,1)):((i=MI(o)).c(),J(i,1),i.m(e.parentNode,e)):i&&(Je(),Y(i,1,1,function(){i=null}),Ge());var s={};512&a[0]&&(s.validationErrors=o[9]),t.$set(s)},i:function(o){r||(J(i),J(t.$$.fragment,o),r=!0)},o:function(o){Y(i),Y(t.$$.fragment,o),r=!1},d:function(o){i&&i.d(o),o&&he(e),_e(t,o)}}}function MI(n){var e,t;return e=new qu({props:{type:"error",icon:zu,message:n[13].message,actions:n[14],onClick:n[49]}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o={};8192&i[0]&&(o.message=r[13].message),16384&i[0]&&(o.actions=r[14]),8192&i[0]&&(o.onClick=r[49]),e.$set(o)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function mKe(n){var e,t,r,i,o,a=n[1]&&SI(n),s=[vKe,pKe],l=[];return r=function(u,c){return u[16]?1:0}(n),i=l[r]=s[r](n),{c:function(){e=ee("div"),a&&a.c(),t=je(),i.c(),E(e,"class","jse-text-mode svelte-ffbmi0"),Ve(e,"no-main-menu",!n[1])},m:function(u,c){me(u,e,c),a&&a.m(e,null),W(e,t),l[r].m(e,null),n[50](e),o=!0},p:function(u,c){u[1]?a?(a.p(u,c),2&c[0]&&J(a,1)):((a=SI(u)).c(),J(a,1),a.m(e,t)):a&&(Je(),Y(a,1,1,function(){a=null}),Ge()),i.p(u,c),(!o||2&c[0])&&Ve(e,"no-main-menu",!u[1])},i:function(u){o||(J(a),J(i),o=!0)},o:function(u){Y(a),Y(i),o=!1},d:function(u){u&&he(e),a&&a.d(),l[r].d(),n[50](null)}}}function $I(n){return{from:n.from,to:n.to,message:n.message,actions:n.actions,severity:n.severity,source:void 0}}function gKe(n,e,t){var r,i,o,a,s,l,u,c=e.readOnly,f=e.mainMenuBar,d=e.statusBar,h=e.externalContent,v=e.indentation,p=e.tabSize,m=e.escapeUnicodeCharacters,g=e.parser,y=e.validator,b=e.validationParser,w=e.onChange,k=e.onSwitchToTreeMode,x=e.onError,C=e.onFocus,T=e.onBlur,M=e.onRenderMenu,B=e.onSortModal,_=e.onTransformModal,N=Li("jsoneditor:TextMode"),$={key:"Mod-i",run:ae,shift:ce,preventDefault:!0},j=typeof window=="undefined";N("isSSR:",j);var D=!1,q=[],R=new Ul,G=new Ul,A=new Ul,I=new Ul,z=new Ul,F=h,L=__(F,v,g),O=at(L,D),V=m;fo(Fn(At().mark(function Q(){return At().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:if(!j){we.next=2;break}return we.abrupt("return");case 2:try{s=Ke({target:a,initialText:O?"":i.escapeValue(L),readOnly:c,indentation:v}),ge()}catch(Oe){console.error(Oe)}case 3:case"end":return we.stop()}},Q)}))),fl(function(){s&&(N("Destroy CodeMirror editor"),s.destroy())});var Z=!1,te=!1,ve=af(),ue=af();function ge(){s&&(N("focus"),s.focus())}var P=!1;function S(Q){N("patch",Q);var we=g.parse(L),Oe=de.exports.immutableJSONPatch(we,Q),Fe=de.exports.revertJSONPatch(we,Q);return le({text:g.stringify(Oe,null,v)}),{json:Oe,previousJson:we,undo:Fe,redo:Q}}function ae(){if(N("format"),!c)try{var Q=g.parse(L);le({text:g.stringify(Q,null,v)})}catch(we){x(we)}}function ce(){if(N("compact"),!c)try{var Q=g.parse(L);le({text:g.stringify(Q)})}catch(we){x(we)}}function ne(){if(N("repair"),!c)try{le({text:nl(L)}),t(47,Bt="valid"),t(13,zt=void 0)}catch(Q){x(Q)}}function ye(Q){var we=Q.id,Oe=Q.selectedPath,Fe=Q.onTransform,Xe=Q.onClose;try{var nt=g.parse(L);P=!0,_({id:we||ue,json:nt,selectedPath:Oe,onTransform:Fe?function(jt){Fe({operations:jt,json:nt,transformedJson:de.exports.immutableJSONPatch(nt,jt)})}:function(jt){N("onTransform",jt),S(jt)},onClose:function(){P=!1,ge(),Xe&&Xe()}})}catch(jt){x(jt)}}function Ce(Q){N("select parse error",Q);var we=et(Q,!1);Se(we.from,we.to),ge()}function Se(Q,we){N("setSelection",{anchor:Q,head:we}),s&&s.dispatch(s.state.update({selection:{anchor:Q,head:we},scrollIntoView:!0}))}function Ue(Q,we){if(we.state.selection.ranges.length===1){var Oe=we.state.selection.ranges[0],Fe=L.slice(Oe.from,Oe.to);if(Fe==="{"||Fe==="["){var Xe=bm.parse(L),nt=Object.keys(Xe.pointers).find(function(Vt){var st;return((st=Xe.pointers[Vt].value)===null||st===void 0?void 0:st.pos)===Oe.from}),jt=Xe.pointers[nt];nt&&jt&&jt.value&&jt.valueEnd&&(N("pointer found, selecting inner contents of path:",nt,jt),Se(jt.value.pos+1,jt.valueEnd.pos-1))}}}function pt(){return function(Q){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return nu.of({source:Q,config:we})}(H,{delay:300})}function Ke(Q){var we=Q.target,Oe=Q.initialText,Fe=Q.readOnly,Xe=Q.indentation;N("Create CodeMirror editor",{readOnly:Fe,indentation:Xe});var nt=Yn.create({doc:Oe,extensions:[y0.of([KJe,$]),R.of(pt()),VGe(),WGe,lKe,_t.domEventHandlers({dblclick:Ue}),_t.updateListener.of(function(jt){t(8,u=jt.state),jt.docChanged&&ct()}),new ZUe(rKe),nGe({top:!0}),A.of(Yn.readOnly.of(Fe)),G.of(_t.editable.of(!Fe)),z.of(Yn.tabSize.of(p)),I.of(Le(Xe)),_t.lineWrapping]});return s=new _t({state:nt,parent:we})}function Me(Q){var we=Q.path,Oe=Q.message,Fe=function(Xe,nt){try{var jt=bm.parse(Xe),Vt=de.exports.compileJSONPointer(nt),st=jt.pointers[Vt];if(st)return{path:nt,line:st.key?st.key.line:st.value?st.value.line:0,column:st.key?st.key.column:st.value?st.value.column:0,from:st.key?st.key.pos:st.value?st.value.pos:0,to:st.keyEnd?st.keyEnd.pos:st.valueEnd?st.valueEnd.pos:0}}catch(Xt){console.error(Xt)}return null}(i.escapeValue(L),we);return{path:we,line:Fe.line,column:Fe.column,from:Fe.from,to:Fe.to,message:Oe,severity:sf.warning,actions:[]}}function et(Q,we){var Oe=Q.line,Fe=Q.column,Xe=Q.position,nt=Q.message;return{path:null,line:Oe,column:Fe,from:Xe||0,to:Xe||0,severity:sf.error,message:nt,actions:we&&!c?[{name:"Auto repair",apply:function(){return ne()}}]:null}}function le(Q){var we=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Oe=__(Q,v,g);if(t(10,O=at(Oe,D)),O)N("externalContent not applying text: editor is disabled");else{var Fe=!jn(Q,F);if(N("setCodeMirrorContent",{isChanged:Fe,forceUpdate:we}),s&&(Fe||we)){var Xe=F;F=Q,t(5,L=Oe),s.dispatch({changes:{from:0,to:s.state.doc.length,insert:i.escapeValue(L)}}),Ee(),Fe&&it(F,Xe)}}}function be(){if(s){var Q=s?i.unescapeValue(s.state.doc.toString()):"",we=Q!==L;if(N("onChangeCodeMirrorValue",{isChanged:we}),we){var Oe=F;t(5,L=Q),F={text:L},Ee(),it(F,Oe)}}}function Le(Q){return w0.of(typeof Q=="number"?" ".repeat(Q):Q)}function Ee(){t(11,Z=DJe(s.state)>0),t(12,te=RJe(s.state)>0),N({canUndo:Z,canRedo:te})}sF({onMount:fo,onDestroy:fl,getWindow:function(){return rh(l)},hasFocus:function(){return P&&document.hasFocus()||Vb(l)},onFocus:C,onBlur:T});var ct=_f(be,300);function it(Q,we){w&&w(Q,we,{contentErrors:U(),patchResult:null})}function at(Q,we){return Q&&Q.length>10485760&&!we}var Bt="valid",zt=null;function H(){if(O)return[];var Q=U();return jI(Q)?[$I(et(Q.parseError,Q.isRepairable))]:function(we){return Array.isArray(we.validationErrors)}(Q)?Q.validationErrors.map(Me).map($I):[]}function U(){N("validate:start"),ct.flush();var Q=se(i.escapeValue(L),y,g,b);return jI(Q)?(t(47,Bt=Q.isRepairable?"repairable":"invalid"),t(13,zt=Q.parseError),t(9,q=[])):(t(47,Bt="valid"),t(13,zt=null),t(9,q=Q.validationErrors)),N("validate:end"),Q}var se=VV(dKe);return n.$$set=function(Q){"readOnly"in Q&&t(0,c=Q.readOnly),"mainMenuBar"in Q&&t(1,f=Q.mainMenuBar),"statusBar"in Q&&t(2,d=Q.statusBar),"externalContent"in Q&&t(28,h=Q.externalContent),"indentation"in Q&&t(29,v=Q.indentation),"tabSize"in Q&&t(30,p=Q.tabSize),"escapeUnicodeCharacters"in Q&&t(31,m=Q.escapeUnicodeCharacters),"parser"in Q&&t(32,g=Q.parser),"validator"in Q&&t(33,y=Q.validator),"validationParser"in Q&&t(34,b=Q.validationParser),"onChange"in Q&&t(35,w=Q.onChange),"onSwitchToTreeMode"in Q&&t(3,k=Q.onSwitchToTreeMode),"onError"in Q&&t(36,x=Q.onError),"onFocus"in Q&&t(37,C=Q.onFocus),"onBlur"in Q&&t(38,T=Q.onBlur),"onRenderMenu"in Q&&t(4,M=Q.onRenderMenu),"onSortModal"in Q&&t(39,B=Q.onSortModal),"onTransformModal"in Q&&t(40,_=Q.onTransformModal)},n.$$.update=function(){32&n.$$.dirty[0]&&t(15,r=L.length===0),1&n.$$.dirty[1]&&(i=Jq({escapeControlCharacters:!1,escapeUnicodeCharacters:m})),268435456&n.$$.dirty[0]&&le(h),4&n.$$.dirty[1]&&function(Q){N("updateLinter",Q),s&&s.dispatch({effects:R.reconfigure(pt())})}(y),536870912&n.$$.dirty[0]&&function(Q){s&&(N("updateIndentation",Q),s.dispatch({effects:I.reconfigure(Le(Q))}))}(v),1073741824&n.$$.dirty[0]&&function(Q){s&&(N("updateTabSize",Q),s.dispatch({effects:z.reconfigure(Yn.tabSize.of(Q))}))}(p),1&n.$$.dirty[0]&&function(Q){s&&(N("updateReadOnly",Q),s.dispatch({effects:[A.reconfigure(Yn.readOnly.of(Q)),G.reconfigure(_t.editable.of(!Q))]}))}(c),32769&n.$$.dirty[1]&&V!==m&&(t(46,V=m),N("forceUpdateText",{escapeUnicodeCharacters:m}),s&&s.dispatch({changes:{from:0,to:s.state.doc.length,insert:i.escapeValue(L)}})),1&n.$$.dirty[0]|65536&n.$$.dirty[1]&&t(14,o=Bt!=="repairable"||c?[]:[{icon:L2,text:"Auto repair",title:"Automatically repair JSON",onClick:ne}])},[c,f,d,k,M,L,a,l,u,q,O,Z,te,zt,o,r,j,ae,ce,function(){var Q;if(!c)try{var we=g.parse(L);P=!0,B({id:ve,json:we,selectedPath:[],onSort:(Q=Fn(At().mark(function Oe(Fe){return At().wrap(function(Xe){for(;;)switch(Xe.prev=Xe.next){case 0:N("onSort",Fe),S(Fe);case 2:case"end":return Xe.stop()}},Oe)})),function(Oe){return Q.apply(this,arguments)}),onClose:function(){P=!1,ge()}})}catch(Oe){x(Oe)}},function(){c||ye({selectedPath:[]})},function(){s&&(a&&a.querySelector(".cm-search")?sj(s):aj(s))},function(){c||s&&(tj(s),ge())},function(){c||s&&(Um(s),ge())},function(){D=!0,le(h,!0)},function(){be()},function(Q){N("select validation error",Q);var we=Me(Q);Se(we.from,we.to),ge()},Ce,h,v,p,m,g,y,b,w,x,C,T,B,_,ge,S,ye,function(){N("refresh");var Q=s.state.doc.length;s.dispatch({changes:{from:Q,to:Q,insert:" "}}),s.dispatch({changes:{from:Q,to:Q+1,insert:""}})},U,V,Bt,function(Q){en[Q?"unshift":"push"](function(){t(6,a=Q)})},function(){return Ce(zt)},function(Q){en[Q?"unshift":"push"](function(){t(7,l=Q)})}]}var yKe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,gKe,mKe,mn,{readOnly:0,mainMenuBar:1,statusBar:2,externalContent:28,indentation:29,tabSize:30,escapeUnicodeCharacters:31,parser:32,validator:33,validationParser:34,onChange:35,onSwitchToTreeMode:3,onError:36,onFocus:37,onBlur:38,onRenderMenu:4,onSortModal:39,onTransformModal:40,focus:41,patch:42,openTransformModal:43,refresh:44,validate:45},hKe,[-1,-1,-1]),i}return ie(t,[{key:"focus",get:function(){return this.$$.ctx[41]}},{key:"patch",get:function(){return this.$$.ctx[42]}},{key:"openTransformModal",get:function(){return this.$$.ctx[43]}},{key:"refresh",get:function(){return this.$$.ctx[44]}},{key:"validate",get:function(){return this.$$.ctx[45]}}]),t}(),m1=Li("jsoneditor:AutoScrollHandler"),bKe=function(n,e,t,r){return(n/=r/2)<1?t/2*n*n+e:-t/2*(--n*(n-2)-1)+e},wKe=function(){var n,e,t,r,i,o,a,s,l,u,c,f,d;function h(){return n.scrollY||n.pageYOffset||n.scrollTop}function v(g){return g.getBoundingClientRect().top-(n.getBoundingClientRect?n.getBoundingClientRect().top:0)+t}function p(g){n.scrollTo?n.scrollTo(0,g):n.scrollTop=g}function m(g){u||(u=g),p(o(c=g-u,t,s,l)),d=!0,c<l?requestAnimationFrame(m):function(){p(t+s),e&&a&&(e.setAttribute("tabindex","-1"),e.focus()),typeof f=="function"&&f(),u=!1,d=!1}()}return function(g){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};switch(l=y.duration||1e3,i=y.offset||0,f=y.callback,o=y.easing||bKe,a=y.a11y||!1,mt(y.container)){case"object":n=y.container;break;case"string":n=document.querySelector(y.container);break;default:n=window}switch(t=h(),mt(g)){case"number":e=void 0,a=!1,r=t+g;break;case"object":r=v(e=g);break;case"string":e=document.querySelector(g),r=v(e)}switch(s=r-t+i,mt(y.duration)){case"number":l=y.duration;break;case"function":l=y.duration(s)}d?u=!1:requestAnimationFrame(m)}};function WV(n){for(var e=S2(n,function(s){return s.start}),t=[e[0]],r=0;r<e.length;r++){var i=t.length-1,o=t[i],a=e[r];a.start<=o.end?t[i]={start:Math.min(o.start,a.start),end:Math.max(o.end,a.end)}:t.push(a)}return t}function kKe(n,e){return n.some(function(t){return e>=t.start&&e<t.end})}function Hw(n){return ig(n)+100}function ig(n){return 100*Math.floor(n/100)}function AI(n){var e={expandedMap:{},enforceStringMap:{},visibleSectionsMap:{},selection:void 0};return n!=null&&n.select&&(e=$e($e({},e),{},{selection:n.select(n.json,e)})),n!=null&&n.expand&&(e=Xa(n.json,e,[],n.expand)),e}function E0(n,e){return n.visibleSectionsMap[e]||ju}function hj(n,e,t){e.forEach(function(r){var i=r.start,o=r.end;Vq(i,Math.min(n.length,o),t)})}function g1(n,e,t){for(var r=$e({},e.expandedMap),i=$e({},e.visibleSectionsMap),o=0;o<=t.length;o++){var a=t.slice(0,o),s=de.exports.compileJSONPointer(a),l=de.exports.getIn(n,a);if(Dr(l)&&(r[s]=!0),Array.isArray(l)&&o<t.length){var u=i[s]||ju,c=Ar(t[o]);if(!kKe(u,c)){var f=ig(c),d={start:f,end:Hw(f)};i[s]=WV(u.concat(d))}}}return $e($e({},e),{},{expandedMap:r,visibleSectionsMap:i})}function Xa(n,e,t,r){var i=$e({},e.expandedMap),o=t.slice();return function a(s){var l=o.length;if(Array.isArray(s)){if(r(o)){var u=de.exports.compileJSONPointer(o);if(i[u]=!0,s.length>0){var c=E0(e,u);hj(s,c,function(p){o[l]=String(p),a(s[p])}),o.pop()}}}else if($r(s)&&r(o)){i[de.exports.compileJSONPointer(o)]=!0;var f=Object.keys(s);if(f.length>0){var d,h=fe(f);try{for(h.s();!(d=h.n()).done;){var v=d.value;o[l]=v,a(s[v])}}catch(p){h.e(p)}finally{h.f()}o.pop()}}}(de.exports.getIn(n,t)),$e($e({},e),{},{expandedMap:i})}function xKe(n,e){return $e($e({},n),{},{expandedMap:$e($e({},n.expandedMap),{},ul({},de.exports.compileJSONPointer(e),!0))})}function _I(n,e){var t=Rc(n.expandedMap,e),r=Rc(n.enforceStringMap,e),i=Rc(n.visibleSectionsMap,e);return $e($e({},n),{},{expandedMap:t,enforceStringMap:r,visibleSectionsMap:i})}function jKe(n,e,t){if(t){var r=$e({},n.enforceStringMap);return r[e]=t,$e($e({},n),{},{enforceStringMap:r})}if(typeof n.enforceStringMap[e]=="boolean"){var i=$e({},n.enforceStringMap);return delete i[e],$e($e({},n),{},{enforceStringMap:i})}return n}function CKe(n,e,t){var r=de.exports.immutableJSONPatch(n,t),i=t.reduce(function(o,a){return de.exports.isJSONPatchAdd(a)?NI(r,o,a):de.exports.isJSONPatchRemove(a)?II(r,o,a):de.exports.isJSONPatchReplace(a)?function(s,l,u){var c=u.path,f=k1(s,l.expandedMap),d=k1(s,l.enforceStringMap),h=k1(s,l.visibleSectionsMap);return de.exports.isJSONObject(u.value)||de.exports.isJSONArray(u.value)||delete f[c],de.exports.isJSONArray(u.value)||delete h[c],(de.exports.isJSONObject(u.value)||de.exports.isJSONArray(u.value))&&delete d[c],$e($e({},l),{},{expandedMap:f,enforceStringMap:d,visibleSectionsMap:h})}(r,o,a):de.exports.isJSONPatchCopy(a)||de.exports.isJSONPatchMove(a)?function(s,l,u){if(de.exports.isJSONPatchMove(u)&&u.from===u.path)return l;var c=function(y){return u.path+y.substring(u.from.length)},f=w1(y1(l.expandedMap,u.from),c),d=w1(y1(l.enforceStringMap,u.from),c),h=w1(y1(l.visibleSectionsMap,u.from),c),v=l;de.exports.isJSONPatchMove(u)&&(v=II(s,v,{op:"remove",path:u.from}));var p=b1((v=NI(s,v,{op:"add",path:u.path,value:null})).expandedMap,f),m=b1(v.enforceStringMap,d),g=b1(v.visibleSectionsMap,h);return $e($e({},l),{},{expandedMap:p,enforceStringMap:m,visibleSectionsMap:g})}(r,o,a):o},e);return{json:r,documentState:i}}function NI(n,e,t){var r=de.exports.parsePath(n,t.path),i=bn(r),o=de.exports.compileJSONPointer(i),a=de.exports.getIn(n,i);if(de.exports.isJSONArray(a)){var s=Ar(Nt(r)),l=Bc(e.expandedMap,i,s,1),u=Bc(e.enforceStringMap,i,s,1),c=Bc(e.visibleSectionsMap,i,s,1);return c=UV(c,o,function(f){return JV(f,s,1)}),$e($e({},e),{},{expandedMap:l,enforceStringMap:u,visibleSectionsMap:c})}return e}function II(n,e,t){var r=de.exports.parsePath(n,t.path),i=bn(r),o=de.exports.compileJSONPointer(i),a=de.exports.getIn(n,i),s=e.expandedMap,l=e.enforceStringMap,u=e.visibleSectionsMap;if(s=Rc(s,r),l=Rc(l,r),u=Rc(u,r),de.exports.isJSONArray(a)){var c=Ar(Nt(r));s=Bc(s,i,c,-1),l=Bc(l,i,c,-1),u=UV(u=Bc(u,i,c,-1),o,function(f){return JV(f,c,-1)})}return $e($e({},e),{},{expandedMap:s,enforceStringMap:l,visibleSectionsMap:u})}function Rc(n,e){var t={},r=de.exports.compileJSONPointer(e);return Object.keys(n).forEach(function(i){de.exports.startsWithJSONPointer(i,r)||(t[i]=n[i])}),t}function y1(n,e){var t={};return Object.keys(n).forEach(function(r){de.exports.startsWithJSONPointer(r,e)&&(t[r]=n[r])}),t}function b1(n,e){return $e($e({},n),e)}function w1(n,e){var t={};return Object.keys(n).forEach(function(r){var i=e(r);t[i]=n[r]}),t}function Bc(n,e,t,r){for(var i=e.length,o=de.exports.compileJSONPointer(e),a=[],s=0,l=Object.keys(n);s<l.length;s++){var u=l[s];if(de.exports.startsWithJSONPointer(u,o)){var c=de.exports.parseJSONPointer(u),f=Ar(c[i]);f>=t&&(c[i]=String(f+r),a.push({oldPointer:u,newPointer:de.exports.compileJSONPointer(c),value:n[u]}))}}if(a.length===0)return n;var d=$e({},n);return a.forEach(function(h){delete d[h.oldPointer]}),a.forEach(function(h){d[h.newPointer]=h.value}),d}function k1(n,e){var t={};return Object.keys(e).filter(function(r){return de.exports.existsIn(n,de.exports.parsePath(n,r))}).forEach(function(r){t[r]=e[r]}),t}function UV(n,e,t){var r=n[e];if(e in n){var i=t(r);if(!jn(r,i)){var o=$e({},n);return i===void 0?delete o[e]:o[e]=i,o}}return n}function JV(n,e,t){return n.map(function(r){return{start:r.start>e?r.start+t:r.start,end:r.end>=e?r.end+t:r.end}})}function Qh(n,e,t,r){var i=e?e[t]:void 0;return typeof i=="boolean"?i:function(o,a){return typeof o=="string"&&typeof Nh(o,a)!="string"}(n,r)}function Yh(n,e){var t=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=n.indexOf(e);return r!==-1?t?n.slice(r):n.slice(r+1):[]}function pj(n,e){var t=[];return function r(i,o){t.push(o);var a=de.exports.compileJSONPointer(o);if(i&&e.expandedMap[a]===!0){if(de.exports.isJSONArray(i)){var s=E0(e,a);hj(i,s,function(l){r(i[l],o.concat(String(l)))})}de.exports.isJSONObject(i)&&Object.keys(i).forEach(function(l){r(i[l],o.concat(l))})}}(n,[]),t}function GV(n,e){var t=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=[];function i(o,a){r.push({path:a,type:qo.value});var s=de.exports.compileJSONPointer(a);if(o&&e.expandedMap[s]===!0){if(t&&r.push({path:a,type:qo.inside}),de.exports.isJSONArray(o)){var l=E0(e,s);hj(o,l,function(u){var c=a.concat(String(u));i(o[u],c),t&&r.push({path:c,type:qo.after})})}de.exports.isJSONObject(o)&&Object.keys(o).forEach(function(u){var c=a.concat(u);r.push({path:c,type:qo.key}),i(o[u],c),t&&r.push({path:c,type:qo.after})})}}return i(n,[]),r}function SKe(n,e,t){var r=pj(n,e),i=r.map(de.exports.compileJSONPointer),o=de.exports.compileJSONPointer(t),a=i.indexOf(o);return a!==-1&&a>0?r[a-1]:null}function Vw(n,e,t){var r=pj(n,e),i=r.map(de.exports.compileJSONPointer).indexOf(de.exports.compileJSONPointer(t));return i!==-1&&i<r.length-1?r[i+1]:null}var Zp=Li("jsoneditor:History");function TKe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.maxItems||1e3,t=[],r=0;function i(){return r<t.length}function o(){return r>0}function a(){return{canUndo:i(),canRedo:o(),length:t.length}}function s(){n.onChange&&n.onChange(a())}function l(d){Zp("add",d),t=[d].concat(t.slice(r)).slice(0,e),r=0,s()}function u(){Zp("clear"),t=[],r=0,s()}function c(){if(i()){var d=t[r];return r+=1,Zp("undo",d),s(),d}}function f(){if(o())return Zp("redo",t[r-=1]),s(),t[r]}return{add:l,clear:u,getState:a,undo:c,redo:f}}function Zh(n,e){for(var t=new Set(e),r=n.replace(/ \(copy( \d+)?\)$/,""),i=n,o=1;t.has(i);){var a="copy"+(o>1?" "+o:"");i="".concat(r," (").concat(a,")"),o++}return i}function og(n,e){var t=e-3;return n.length>e?n.substring(0,t)+"...":n}function OKe(n){if(n==="")return"";var e=n.toLowerCase();if(e==="null")return null;if(e==="true")return!0;if(e==="false")return!1;if(e!=="undefined"){var t=Number(n),r=parseFloat(n);return isNaN(t)||isNaN(r)?n:t}}function Jo(n){return n&&n.type===Hn.after||!1}function _r(n){return n&&n.type===Hn.inside||!1}function Sr(n){return n&&n.type===Hn.key||!1}function Cn(n){return n&&n.type===Hn.value||!1}function Sn(n){return n&&n.type===Hn.multi||!1}function KV(n){return _r(n)?n.focusPath:bn(n.focusPath)}function xc(n){return Sn(n)?qr(n.paths):n.focusPath}function _v(n){return Sn(n)?Nt(n.paths):n.focusPath}function EKe(n,e){return bh(n.focusPath,e)&&(n.focusPath.length>e.length||_r(n))}function PI(n,e){var t=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=arguments.length>3&&arguments[3]!==void 0&&arguments[3],i=e.selection,o=!r&&Sn(i)?qr(i.paths):i.focusPath,a=SKe(n,e,o);if(a===null)return null;var s=a,l=a;if(t)return Jo(i)||_r(i)?Er(n,i.anchorPath,i.anchorPath):Er(n,i.anchorPath,l);if(Sr(i)){var u=bn(a),c=de.exports.getIn(n,u);return Array.isArray(c)||ir(a)?nr(a,!1):ro(a,!1)}return Cn(i)?nr(a,!1):Jo(i)||_r(i)?Er(n,o,o):Er(n,s,l)}function LI(n,e,t){var r=e.selection,i=GV(n,e,t),o=i.findIndex(function(a){return jn(a.path,r.focusPath)&&String(a.type)===String(r.type)});return{caret:o!==-1?i[o]:null,previous:o!==-1&&o>0?i[o-1]:null,next:o!==-1&&o<i.length-1?i[o+1]:null}}function rd(n,e){for(var t=pj(n,e),r=0;r<t.length-1&&t[r+1].length>t[r].length;)r++;var i=t[r];return i.length===0||Array.isArray(de.exports.getIn(n,bn(i)))?nr(i,!1):ro(i,!1)}function hf(n,e){if(e.length===1){var t=qr(e);if(t.op==="replace"||t.op==="move")return nr(de.exports.parsePath(n,t.path),!1)}if(!ir(e)&&e.every(function(a){return a.op==="move"})){var r=qr(e),i=e.slice(1);if((de.exports.isJSONPatchCopy(r)||de.exports.isJSONPatchMove(r))&&r.from!==r.path&&i.every(function(a){return(de.exports.isJSONPatchCopy(a)||de.exports.isJSONPatchMove(a))&&a.from===a.path}))return ro(de.exports.parsePath(n,r.path),!1)}var o=e.filter(function(a){return a.op!=="test"&&a.op!=="remove"&&(a.op!=="move"||a.from!==a.path)&&typeof a.path=="string"}).map(function(a){return de.exports.parsePath(n,a.path)});return ir(o)?null:{type:Hn.multi,paths:o,anchorPath:qr(o),focusPath:Nt(o),pointersMap:QV(o)}}function QV(n){var e={};return n.forEach(function(t){e[de.exports.compileJSONPointer(t)]=!0}),e}function M0(n){return ul({},de.exports.compileJSONPointer(n),!0)}function Ww(n){return n&&(Sr(n)||Cn(n)||Sn(n)&&n.paths.length===1)}function DI(n,e){return Ww(e)&&Dr(de.exports.getIn(n,e.focusPath))?e.focusPath:bn(e.focusPath)}function bh(n,e){if(n.length<e.length)return!1;for(var t=0;t<e.length;t++)if(n[t]!==e[t])return!1;return!0}function Ns(n){var e=n.selection;return(Sr(e)||Cn(e))&&e.edit?$e($e({},n),{},{selection:$e($e({},e),{},{edit:!1})}):n}function ro(n,e){return{type:Hn.key,anchorPath:n,focusPath:n,pointersMap:M0(n),edit:e}}function nr(n,e){return{type:Hn.value,anchorPath:n,focusPath:n,pointersMap:M0(n),edit:e}}function Aa(n){return{type:Hn.inside,anchorPath:n,focusPath:n,pointersMap:M0(n)}}function ks(n){return{type:Hn.after,anchorPath:n,focusPath:n,pointersMap:M0(n)}}function Er(n,e,t){var r=function(o,a,s){if(jn(a,s))return[a];var l=function(C,T){for(var M=0;M<C.length&&M<T.length&&C[M]===T[M];)M++;return C.slice(0,M)}(a,s);if(a.length===l.length||s.length===l.length)return[l];var u=a[l.length],c=s[l.length],f=de.exports.getIn(o,l);if(de.exports.isJSONObject(f)){var d=Object.keys(f),h=d.indexOf(u),v=d.indexOf(c);if(h!==-1&&v!==-1){for(var p=Math.min(h,v),m=Math.max(h,v),g=[],y=p;y<=m;y++)g.push(l.concat(d[y]));return g}}if(de.exports.isJSONArray(f)){for(var b=Math.min(Ar(u),Ar(c)),w=Math.max(Ar(u),Ar(c)),k=[],x=b;x<=w;x++)k.push(l.concat(String(x)));return k}throw new Error("Failed to create selection")}(n,e,t),i=bh(t,Nt(r))||bh(e,qr(r));return{type:Hn.multi,anchorPath:i?qr(r):Nt(r),focusPath:i?Nt(r):qr(r),paths:r,pointersMap:QV(r)}}function RI(n,e,t,r){if(Sr(e))return String(Nt(e.focusPath));if(Cn(e)){var i=de.exports.getIn(n,e.focusPath);return typeof i=="string"?i:r.stringify(i,null,t)}if(Sn(e)){if(ir(e.focusPath))return r.stringify(n,null,t);var o=KV(e),a=de.exports.getIn(n,o);if(Array.isArray(a)){if(e.paths.length===1){var s=de.exports.getIn(n,qr(e.paths));return r.stringify(s,null,t)}return e.paths.map(function(l){var u=de.exports.getIn(n,l);return"".concat(r.stringify(u,null,t),",")}).join(`
`)}return e.paths.map(function(l){var u=Nt(l),c=de.exports.getIn(n,l);return"".concat(r.stringify(u),": ").concat(r.stringify(c,null,t),",")}).join(`
`)}return null}function YV(n){return Sn(n)?n.paths:[n.focusPath]}function zd(n){return(Sr(n)||Cn(n))&&n.edit}function Nv(n){return!!n&&(!(!Sr(n)&&!Cn(n))||!(!Sn(n)||n.paths.length!==1)||void 0)}function Uw(n){switch(n.type){case qo.key:return ro(n.path,!1);case qo.value:return nr(n.path,!1);case qo.after:return ks(n.path);case qo.inside:return Aa(n.path)}}function BI(n,e,t){switch(e){case Hn.key:return ro(t,!1);case Hn.value:return nr(t,!1);case Hn.after:return ks(t);case Hn.inside:return Aa(t);case Hn.multi:return Er(n,t,t)}}function zI(n,e){if(n)return Object.keys(n.pointersMap).some(function(t){return de.exports.startsWithJSONPointer(t,e)||de.exports.startsWithJSONPointer(e,t)})?n:void 0}function Xp(n,e,t){var r=bn(e),i=de.exports.getIn(n,r);if(de.exports.isJSONArray(i)){var o=Ar(Nt(e));return t.map(function(u,c){return{op:"add",path:de.exports.compileJSONPointer(r.concat(String(o+c))),value:u.value}})}if(de.exports.isJSONObject(i)){var a=Nt(e),s=Object.keys(i),l=Yh(s,a,!0);return[].concat(Ut(t.map(function(u){var c=Zh(u.key,s);return{op:"add",path:de.exports.compileJSONPointer(r.concat(c)),value:u.value}})),Ut(l.map(function(u){return Eu(r,u)})))}throw new Error("Cannot create insert operations: parent must be an Object or Array")}function qI(n,e,t){var r=de.exports.getIn(n,e);if(Array.isArray(r)){var i=r.length;return t.map(function(o,a){return{op:"add",path:de.exports.compileJSONPointer(e.concat(String(i+a))),value:o.value}})}return t.map(function(o){var a=Zh(o.key,Object.keys(r));return{op:"add",path:de.exports.compileJSONPointer(e.concat(a)),value:o.value}})}function Xh(n,e,t,r){var i=Zh(r,e.filter(function(a){return a!==t})),o=Yh(e,t,!1);return[{op:"move",from:de.exports.compileJSONPointer(n.concat(t)),path:de.exports.compileJSONPointer(n.concat(i))}].concat(Ut(o.map(function(a){return Eu(n,a)})))}function FI(n,e,t,r){if(Sr(e)){var i=Wq(t,r),o=bn(e.focusPath),a=de.exports.getIn(n,o);return Xh(o,Object.keys(a),Nt(e.focusPath),typeof i=="string"?i:t)}if(Cn(e)||Sn(e)&&ir(e.focusPath))try{return[{op:"replace",path:de.exports.compileJSONPointer(e.focusPath),value:_2(t,function(x){return A2(x,r)})}]}catch{return[{op:"replace",path:de.exports.compileJSONPointer(e.focusPath),value:t}]}if(Sn(e)){var s=x1(t,r);return function(x,C,T){var M=bn(qr(C)),B=de.exports.getIn(x,M);if(de.exports.isJSONArray(B)){var _=qr(C),N=_?Ar(Nt(_)):0;return[].concat(Ut(Jw(C)),Ut(T.map(function(I,z){return{op:"add",path:de.exports.compileJSONPointer(M.concat(String(z+N))),value:I.value}})))}if(de.exports.isJSONObject(B)){var $=Nt(C),j=bn($),D=Nt($),q=Object.keys(B),R=Yh(q,D,!1),G=new Set(C.map(function(I){return Nt(I)})),A=q.filter(function(I){return!G.has(I)});return[].concat(Ut(Jw(C)),Ut(T.map(function(I){var z=Zh(I.key,A);return{op:"add",path:de.exports.compileJSONPointer(j.concat(z)),value:I.value}})),Ut(R.map(function(I){return Eu(j,I)})))}throw new Error("Cannot create replace operations: parent must be an Object or Array")}(n,e.paths,s)}if(Jo(e)){var l=x1(t,r),u=e.focusPath,c=bn(u),f=de.exports.getIn(n,c);if(de.exports.isJSONArray(f)){var d=Ar(Nt(u));return Xp(n,c.concat(String(d+1)),l)}if(de.exports.isJSONObject(f)){var h=String(Nt(u)),v=Object.keys(f);if(ir(v)||Nt(v)===h)return qI(n,c,l);var p=v.indexOf(h),m=v[p+1];return Xp(n,c.concat(m),l)}throw new Error("Cannot create insert operations: parent must be an Object or Array")}if(_r(e)){var g=x1(t,r),y=e.focusPath,b=de.exports.getIn(n,y);if(de.exports.isJSONArray(b))return Xp(n,y.concat("0"),g);if(de.exports.isJSONObject(b)){var w=Object.keys(b);if(ir(w))return qI(n,y,g);var k=qr(w);return Xp(n,y.concat(k),g)}throw new Error("Cannot create insert operations: parent must be an Object or Array")}throw new Error("Cannot insert: unsupported type of selection "+JSON.stringify(e))}function Jw(n){return n.map(function(e){return{op:"remove",path:de.exports.compileJSONPointer(e)}}).reverse()}function Eu(n,e){return{op:"move",from:de.exports.compileJSONPointer(n.concat(e)),path:de.exports.compileJSONPointer(n.concat(e))}}function x1(n,e){var t=/^\s*{/.test(n),r=/^\s*\[/.test(n),i=Wq(n,e),o=i!==void 0?i:_2(n,function(a){return A2(a,e)});return t&&$r(o)||r&&Array.isArray(o)?[{key:"New item",value:o}]:Array.isArray(o)?o.map(function(a,s){return{key:"New item "+s,value:a}}):$r(o)?Object.keys(o).map(function(a){return{key:a,value:o[a]}}):[{key:"New item",value:o}]}function HI(n,e){if(Sr(e)){var t=bn(e.focusPath),r=de.exports.getIn(n,t),i=Xh(t,Object.keys(r),Nt(e.focusPath),"");return{operations:i,newSelection:hf(n,i)}}if(Cn(e))return{operations:[{op:"replace",path:de.exports.compileJSONPointer(e.focusPath),value:""}],newSelection:e};if(Sn(e)){var o=Jw(e.paths),a=Nt(e.paths);if(ir(a))return{operations:[{op:"replace",path:"",value:""}],newSelection:nr([],!1)};var s=bn(a),l=de.exports.getIn(n,s);if(de.exports.isJSONArray(l)){var u=Ar(Nt(qr(e.paths)));return{operations:o,newSelection:u===0?Aa(s):ks(s.concat(String(u-1)))}}if(de.exports.isJSONObject(l)){var c=Object.keys(l),f=Nt(qr(e.paths)),d=c.indexOf(f),h=c[d-1];return{operations:o,newSelection:d===0?Aa(s):ks(s.concat(h))}}throw new Error("Cannot create remove operations: parent must be an Object or Array")}throw new Error("Cannot remove: unsupported type of selection "+JSON.stringify(e))}function VI(n,e){var t=bn(e),r=Nt(e),i=de.exports.getIn(n,t);return de.exports.isJSONObject(i)?Yh(Object.keys(i),r,!1).map(function(o){return Eu(t,o)}):[]}function MKe(n){var e=n.activeIndex<n.items.length-1?n.activeIndex+1:n.items.length>0?0:-1,t=n.items[e],r=n.items.map(function(i,o){return $e($e({},i),{},{active:o===e})});return $e($e({},n),{},{items:r,itemsMap:zh(r,function(i){return de.exports.compileJSONPointer(i.path)}),activeItem:t,activeIndex:e})}function $Ke(n){var e=n.activeIndex>0?n.activeIndex-1:n.items.length-1,t=n.items[e],r=n.items.map(function(i,o){return $e($e({},i),{},{active:o===e})});return $e($e({},n),{},{items:r,itemsMap:zh(r,function(i){return de.exports.compileJSONPointer(i.path)}),activeItem:t,activeIndex:e})}function ZV(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/0,i=[],o=[];function a(u){i.length<r&&i.push(u)}function s(u,c){if(de.exports.isJSONArray(c)){var f=o.length;o.push("0");for(var d=0;d<c.length;d++)if(o[f]=String(d),s(u,c[d]),i.length>=r)return;o.pop()}else if(de.exports.isJSONObject(c)){var h=Object.keys(c),v=o.length;o.push("");for(var p=0,m=h;p<m.length;p++){var g=m[p];if(o[v]=g,WI(g,u,o,Zo.key,a),s(u,c[g]),i.length>=r)return}o.pop()}else WI(String(c),u,o,Zo.value,a)}if(typeof n=="string"&&n!==""){var l=n.toLowerCase();s(l,e)}return i}function WI(n,e,t,r,i){var o=n.toLowerCase(),a=0,s=-1,l=-1;do(l=o.indexOf(e,s))!==-1&&(s=l+e.length,i({path:t.slice(0),field:r,fieldIndex:a,start:l,end:s}),a++);while(l!==-1)}function Gw(n,e,t,r){return n.substring(0,t)+e+n.substring(r)}function UI(n,e,t){var r=n;return nh(t,function(i){r=Gw(r,e,i.start,i.end)}),r}function AKe(n,e,t,r,i){var o=r.field,a=r.path,s=r.start,l=r.end;if(o===Zo.key){var u=bn(a),c=de.exports.getIn(n,u),f=Nt(a),d=Xh(u,Object.keys(c),f,Gw(f,t,s,l));return{newSelection:hf(n,d),operations:d}}if(o===Zo.value){var h=de.exports.getIn(n,a);if(h===void 0)throw new Error("Cannot replace: path not found ".concat(de.exports.compileJSONPointer(a)));var v=typeof h=="string"?h:String(h),p=de.exports.compileJSONPointer(a),m=Qh(h,e.enforceStringMap,p,i),g=Gw(v,t,s,l),y=[{op:"replace",path:de.exports.compileJSONPointer(a),value:m?g:Nh(g,i)}];return{newSelection:hf(n,y),operations:y}}throw new Error("Cannot replace: unknown type of search result field ".concat(o))}function _Ke(n,e,t,r,i){for(var o=ZV(t,n,e,1/0),a=[],s=0;s<o.length;s++){var l=o[s-1],u=o[s];s!==0&&u.field===l.field&&jn(u.path,l.path)?Nt(a).items.push(u):a.push({path:u.path,field:u.field,items:[u]})}a.sort(function(d,h){return d.field!==h.field?d.field===Zo.key?1:-1:h.path.length-d.path.length});var c=[],f=void 0;return a.forEach(function(d){var h=d.field,v=d.path,p=d.items;if(h===Zo.key){var m=bn(v),g=de.exports.getIn(n,m),y=Nt(v),b=Xh(m,Object.keys(g),y,UI(y,r,p));c=c.concat(b),f=hf(n,b)}else{if(h!==Zo.value)throw new Error("Cannot replace: unknown type of search result field ".concat(h));var w=de.exports.getIn(n,v);if(w===void 0)throw new Error("Cannot replace: path not found ".concat(de.exports.compileJSONPointer(v)));var k=typeof w=="string"?w:String(w),x=de.exports.compileJSONPointer(v),C=Qh(w,e.enforceStringMap,x,i),T=UI(k,r,p),M=[{op:"replace",path:de.exports.compileJSONPointer(v),value:C?T:Nh(T,i)}];c=c.concat(M),f=hf(n,M)}}),{operations:c,newSelection:f}}function JI(n){return n.path.concat(n.field,String(n.fieldIndex))}function NKe(n,e){var t,r=n==null||(t=n[e])===null||t===void 0?void 0:t.filter(function(i){return i.field===Zo.key});if(r&&r.length!==0)return r}function GI(n,e){var t,r=n==null||(t=n[e])===null||t===void 0?void 0:t.filter(function(i){return i.field===Zo.value});if(r&&r.length!==0)return r}function Kw(n){var e,t;if(navigator.clipboard)return navigator.clipboard.writeText(n);if((e=(t=document).queryCommandSupported)!==null&&e!==void 0&&e.call(t,"copy")){var r=document.createElement("textarea");r.value=n,r.style.position="fixed",r.style.opacity="0",document.body.appendChild(r),r.select();try{document.execCommand("copy")}catch(i){console.error(i)}finally{document.body.removeChild(r)}}else console.error("Copy failed.")}function IKe(n){Gt(n,"svelte-d01h2s",".jse-header.svelte-d01h2s.svelte-d01h2s{display:flex;background:var(--jse-theme-color);color:var(--jse-menu-color)}.jse-header.svelte-d01h2s .jse-title.svelte-d01h2s{flex:1;padding:5px;vertical-align:middle}.jse-header.svelte-d01h2s button.svelte-d01h2s{border:none;background:transparent;min-width:32px;color:inherit;cursor:pointer}.jse-header.svelte-d01h2s button.svelte-d01h2s:hover{background:rgba(255, 255, 255, 0.1)}")}function PKe(n){var e,t,r,i,o,a,s,l,u;return a=new Jt({props:{data:Uh}}),{c:function(){e=ee("div"),t=ee("div"),r=ot(n[0]),i=je(),o=ee("button"),Ne(a.$$.fragment),E(t,"class","jse-title svelte-d01h2s"),E(o,"type","button"),E(o,"class","jse-close svelte-d01h2s"),E(e,"class","jse-header svelte-d01h2s")},m:function(c,f){me(c,e,f),W(e,t),W(t,r),W(e,i),W(e,o),Ae(a,o,null),s=!0,l||(u=Be(o,"click",n[1]),l=!0)},p:function(c,f){var d=Dt(f,1)[0];(!s||1&d)&&on(r,c[0])},i:function(c){s||(J(a.$$.fragment,c),s=!0)},o:function(c){Y(a.$$.fragment,c),s=!1},d:function(c){c&&he(e),_e(a),l=!1,u()}}}function LKe(n,e,t){var r=e.title,i=r===void 0?"Modal":r,o=Ni("simple-modal").close;return n.$$set=function(a){"title"in a&&t(0,i=a.title)},[i,o]}var XV=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,LKe,PKe,mn,{title:0},IKe),i}return ie(t)}();function DKe(n){Gt(n,"svelte-t45ah0",".jse-modal.svelte-t45ah0.svelte-t45ah0{--height:36px;--multiItemHeight:28px;--multiItemMargin:2px;--multiItemPadding:2px 8px;--multiClearTop:5px;--multiItemBorderRadius:6px;--clearSelectTop:2px;--clearSelectBottom:2px;--indicatorTop:8px;flex:1;display:flex;flex-direction:column;font-family:var(--jse-font-family);font-size:var(--jse-font-size);line-height:normal;background:var(--jse-modal-background);color:var(--jse-text-color)}.jse-modal.svelte-t45ah0 .jse-contents.svelte-t45ah0{padding:20px;overflow:auto}.jse-modal.svelte-t45ah0 .jse-contents .jse-actions.svelte-t45ah0{display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding)}.jse-modal.svelte-t45ah0 .jse-contents .jse-actions button.svelte-t45ah0{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;background:var(--jse-button-primary-background);color:var(--jse-button-primary-color);padding:var(--jse-padding) calc(2 * var(--jse-padding));border-radius:3px}.jse-modal.svelte-t45ah0 .jse-contents .jse-actions button.svelte-t45ah0:hover{background:var(--jse-button-primary-background-highlight)}.jse-modal.svelte-t45ah0 .jse-contents .jse-actions button.svelte-t45ah0:disabled{background:var(--jse-button-primary-background-disabled)}.bg.jse-modal-bg{width:100%;height:100%;top:0;left:0;background:var(--jse-modal-overlay-background)}.bg.jse-modal-bg .jse-modal-window-wrap{margin:0}.bg.jse-modal-bg .jse-modal-window{max-width:90%;margin:4rem auto 2rem auto;border-radius:2px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-sort{width:400px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-transform{width:1200px;height:1200px;max-height:80%;display:flex}.bg.jse-modal-bg .jse-modal-content{flex:1;display:flex;max-height:calc(100vh - 6rem);padding:0}.jse-modal.jse-copy-paste.svelte-t45ah0 .jse-shortcuts.svelte-t45ah0{display:flex;flex-wrap:wrap;justify-content:space-around;margin:calc(2 * var(--jse-padding)) 0}.jse-modal.jse-copy-paste.svelte-t45ah0 .jse-shortcuts .jse-shortcut .jse-key.svelte-t45ah0{font-size:200%;color:var(--jse-theme-color)}")}function RKe(n){var e,t,r,i,o,a,s,l,u,c,f,d,h,v,p,m,g,y,b,w,k,x,C,T;return t=new XV({props:{title:"Copying and pasting"}}),{c:function(){e=ee("div"),Ne(t.$$.fragment),r=je(),i=ee("div"),(o=ee("div")).textContent="These actions are unavailable via the menu. Please use:",a=je(),s=ee("div"),l=ee("div"),(u=ee("div")).textContent="".concat(n[1],"+C"),c=ot(`
        for copy`),f=je(),d=ee("div"),(h=ee("div")).textContent="".concat(n[1],"+X"),v=ot(`
        for cut`),p=je(),m=ee("div"),(g=ee("div")).textContent="".concat(n[1],"+V"),y=ot(`
        for paste`),b=je(),w=ee("div"),(k=ee("button")).textContent="Close",E(u,"class","jse-key svelte-t45ah0"),E(l,"class","jse-shortcut"),E(h,"class","jse-key svelte-t45ah0"),E(d,"class","jse-shortcut"),E(g,"class","jse-key svelte-t45ah0"),E(m,"class","jse-shortcut"),E(s,"class","jse-shortcuts svelte-t45ah0"),E(k,"type","button"),E(k,"class","jse-primary svelte-t45ah0"),E(w,"class","jse-actions svelte-t45ah0"),E(i,"class","jse-contents svelte-t45ah0"),E(e,"class","jse-modal jse-copy-paste svelte-t45ah0")},m:function(M,B){me(M,e,B),Ae(t,e,null),W(e,r),W(e,i),W(i,o),W(i,a),W(i,s),W(s,l),W(l,u),W(l,c),W(s,f),W(s,d),W(d,h),W(d,v),W(s,p),W(s,m),W(m,g),W(m,y),W(i,b),W(i,w),W(w,k),x=!0,C||(T=Be(k,"click",n[0]),C=!0)},p:Ze,i:function(M){x||(J(t.$$.fragment,M),x=!0)},o:function(M){Y(t.$$.fragment,M),x=!1},d:function(M){M&&he(e),_e(t),C=!1,T()}}}function BKe(n){return[Ni("simple-modal").close,tF?"\u2318":"Ctrl"]}var zKe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,BKe,RKe,mn,{},DKe),i}return ie(t)}();function qKe(n){Gt(n,"svelte-gz09vf",".jse-json-repair-component.svelte-gz09vf.svelte-gz09vf{flex:1;display:flex;flex-direction:column;background:var(--jse-background-color);color:var(--jse-text-color)}.jse-json-repair-component.svelte-gz09vf .jse-menu .jse-info.svelte-gz09vf{padding:0 var(--jse-padding)}.jse-json-repair-component.svelte-gz09vf .jse-json-text.svelte-gz09vf{flex:1;border:none;padding:2px;font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);background:var(--jse-background-color);color:var(--jse-text-color);resize:none;outline:none}")}function FKe(n){var e;return{c:function(){(e=ee("div")).textContent="Repair invalid JSON, then click apply",E(e,"slot","left"),E(e,"class","jse-info svelte-gz09vf")},m:function(t,r){me(t,e,r)},p:Ze,d:function(t){t&&he(e)}}}function HKe(n){var e,t;return e=new qu({props:{type:"success",message:"JSON is valid now and can be parsed.",actions:n[5]}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o={};32&i&&(o.actions=r[5]),e.$set(o)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function VKe(n){var e,t;return e=new qu({props:{type:"error",icon:zu,message:"Cannot parse JSON: ".concat(n[2].message),actions:n[6]}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o={};4&i&&(o.message="Cannot parse JSON: ".concat(r[2].message)),64&i&&(o.actions=r[6]),e.$set(o)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function WKe(n){var e,t,r,i,o,a,s,l,u,c;t=new z2({props:{items:n[7],$$slots:{left:[FKe]},$$scope:{ctx:n}}});var f=[VKe,HKe],d=[];function h(v,p){return v[2]?0:1}return i=h(n),o=d[i]=f[i](n),{c:function(){e=ee("div"),Ne(t.$$.fragment),r=je(),o.c(),a=je(),(s=ee("textarea")).value=n[0],s.readOnly=n[1],E(s,"class","jse-json-text svelte-gz09vf"),E(s,"autocomplete","off"),E(s,"autocapitalize","off"),E(s,"spellcheck","false"),E(e,"class","jse-json-repair-component svelte-gz09vf")},m:function(v,p){me(v,e,p),Ae(t,e,null),W(e,r),d[i].m(e,null),W(e,a),W(e,s),n[19](s),n[20](e),l=!0,u||(c=Be(s,"input",n[8]),u=!0)},p:function(v,p){var m=Dt(p,1)[0],g={};128&m&&(g.items=v[7]),134217728&m&&(g.$$scope={dirty:m,ctx:v}),t.$set(g);var y=i;(i=h(v))===y?d[i].p(v,m):(Je(),Y(d[y],1,1,function(){d[y]=null}),Ge(),(o=d[i])?o.p(v,m):(o=d[i]=f[i](v)).c(),J(o,1),o.m(e,a)),(!l||1&m)&&(s.value=v[0]),(!l||2&m)&&(s.readOnly=v[1])},i:function(v){l||(J(t.$$.fragment,v),J(o),l=!0)},o:function(v){Y(t.$$.fragment,v),Y(o),l=!1},d:function(v){v&&he(e),_e(t),d[i].d(),n[19](null),n[20](null),u=!1,c()}}}function UKe(n,e,t){var r,i,o,a,s,l,u,c,f,d,h=e.text,v=h===void 0?"":h,p=e.readOnly,m=p!==void 0&&p,g=e.onParse,y=e.onRepair,b=e.onChange,w=b===void 0?null:b,k=e.onApply,x=e.onCancel,C=e.onRenderMenu,T=C===void 0?Dn:C,M=Li("jsoneditor:JSONRepair");function B(){k(v)}return n.$$set=function(_){"text"in _&&t(0,v=_.text),"readOnly"in _&&t(1,m=_.readOnly),"onParse"in _&&t(9,g=_.onParse),"onRepair"in _&&t(10,y=_.onRepair),"onChange"in _&&t(11,w=_.onChange),"onApply"in _&&t(12,k=_.onApply),"onCancel"in _&&t(13,x=_.onCancel),"onRenderMenu"in _&&t(14,T=_.onRenderMenu)},n.$$.update=function(){1&n.$$.dirty&&t(2,r=function(_){try{return g(_),null}catch(N){return N2(_,N.message)}}(v)),1&n.$$.dirty&&t(17,i=function(_){try{return y(_),!0}catch{return!1}}(v)),4&n.$$.dirty&&M("error",r),8192&n.$$.dirty&&t(18,o=[{space:!0},{icon:Uh,title:"Cancel repair",className:"jse-cancel",onClick:x}]),278528&n.$$.dirty&&t(7,a=T("repair",o)||o),229376&n.$$.dirty&&t(6,u=i?[s,l]:[s]),2&n.$$.dirty&&t(5,c=[{icon:Jb,text:"Apply",title:"Apply fixed JSON",disabled:m,onClick:B}])},t(15,s={icon:ZHe,text:"Show me",title:"Scroll to the error location",onClick:function(){d&&r&&r.position!=null&&(d.setSelectionRange(r.position,r.position),setTimeout(function(){d.focus()}))}}),t(16,l={icon:L2,text:"Auto repair",title:"Automatically repair JSON",onClick:function(){try{t(0,v=y(v)),w&&w(v)}catch{}}}),[v,m,r,f,d,c,u,a,function(_){M("handleChange");var N=_.target.value;v!==N&&(t(0,v=N),w&&w(v))},g,y,w,k,x,T,s,l,i,o,function(_){en[_?"unshift":"push"](function(){t(4,d=_)})},function(_){en[_?"unshift":"push"](function(){t(3,f=_)})}]}var JKe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,UKe,WKe,mn,{text:0,readOnly:1,onParse:9,onRepair:10,onChange:11,onApply:12,onCancel:13,onRenderMenu:14},qKe),i}return ie(t)}();function GKe(n){Gt(n,"svelte-1ffm3pm",".jse-modal.jse-repair.svelte-1ffm3pm{flex:1;display:flex;flex-direction:column;font-family:var(--jse-font-family);font-size:var(--jse-font-size);line-height:normal;background:var(--jse-background-color);color:var(--jse-text-color)}")}function KKe(n){var e,t,r,i;function o(s){n[7](s)}var a={onParse:n[1],onRepair:n[2],onApply:n[4],onCancel:n[5],onRenderMenu:n[3]};return n[0]!==void 0&&(a.text=n[0]),t=new JKe({props:a}),en.push(function(){return to(t,"text",o)}),{c:function(){e=ee("div"),Ne(t.$$.fragment),E(e,"class","jse-modal jse-repair svelte-1ffm3pm")},m:function(s,l){me(s,e,l),Ae(t,e,null),i=!0},p:function(s,l){var u=Dt(l,1)[0],c={};2&u&&(c.onParse=s[1]),4&u&&(c.onRepair=s[2]),8&u&&(c.onRenderMenu=s[3]),!r&&1&u&&(r=!0,c.text=s[0],wo(function(){return r=!1})),t.$set(c)},i:function(s){i||(J(t.$$.fragment,s),i=!0)},o:function(s){Y(t.$$.fragment,s),i=!1},d:function(s){s&&he(e),_e(t)}}}function QKe(n,e,t){var r=e.text,i=e.onParse,o=e.onRepair,a=e.onApply,s=e.onRenderMenu,l=Ni("simple-modal").close;return n.$$set=function(u){"text"in u&&t(0,r=u.text),"onParse"in u&&t(1,i=u.onParse),"onRepair"in u&&t(2,o=u.onRepair),"onApply"in u&&t(6,a=u.onApply),"onRenderMenu"in u&&t(3,s=u.onRenderMenu)},[r,i,o,s,function(u){l(),a(u)},function(){l()},a,function(u){t(0,r=u)}]}var YKe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,QKe,KKe,mn,{text:0,onParse:1,onRepair:2,onApply:6,onRenderMenu:3},GKe),i}return ie(t)}();function ZKe(n){Gt(n,"svelte-mojfmz",".jse-dropdown-button.svelte-mojfmz.svelte-mojfmz{flex:1;line-height:normal;border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;position:relative;padding:0;display:flex}.jse-dropdown-button.svelte-mojfmz ul.svelte-mojfmz{margin:0;padding:0}.jse-dropdown-button.svelte-mojfmz ul li.svelte-mojfmz{margin:0;padding:0;list-style-type:none}.jse-dropdown-button.svelte-mojfmz button.jse-open-dropdown.svelte-mojfmz{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;width:2em;background:var(--jse-context-menu-background);color:var(--jse-context-menu-color);border-radius:0}.jse-dropdown-button.svelte-mojfmz button.jse-open-dropdown.jse-visible.svelte-mojfmz{background:var(--jse-context-menu-background)}.jse-dropdown-button.svelte-mojfmz button.jse-open-dropdown.svelte-mojfmz:hover{background:var(--jse-context-menu-background-highlight)}.jse-dropdown-button.svelte-mojfmz button.jse-open-dropdown.svelte-mojfmz:disabled{color:var(--jse-context-menu-color-disabled);background:unset}.jse-dropdown-button.svelte-mojfmz .jse-dropdown-items.svelte-mojfmz{display:none;position:absolute;top:100%;left:0;z-index:1;background:var(--jse-context-menu-background);color:var(--jse-context-menu-color);box-shadow:var(--jse-controls-box-shadow)}.jse-dropdown-button.svelte-mojfmz .jse-dropdown-items.jse-visible.svelte-mojfmz{display:block}.jse-dropdown-button.svelte-mojfmz .jse-dropdown-items button.svelte-mojfmz{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;width:100%;text-align:left;padding:var(--jse-padding);margin:0}.jse-dropdown-button.svelte-mojfmz .jse-dropdown-items button.svelte-mojfmz:hover{background:var(--jse-context-menu-background-highlight)}.jse-dropdown-button.svelte-mojfmz .jse-dropdown-items button.svelte-mojfmz:disabled{color:var(--jse-context-menu-color-disabled);background:unset}")}function KI(n,e,t){var r=n.slice();return r[11]=e[t],r}var XKe=function(n){return{}},QI=function(n){return{}};function YI(n){var e,t;return e=new Jt({props:{data:n[11].icon}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o={};1&i&&(o.data=r[11].icon),e.$set(o)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function ZI(n){var e,t,r,i,o,a,s,l,u,c,f=n[11].text+"",d=n[11].icon&&YI(n);function h(){return n[9](n[11])}return{c:function(){e=ee("li"),t=ee("button"),d&&d.c(),r=je(),i=ot(f),s=je(),E(t,"type","button"),E(t,"title",o=n[11].title),t.disabled=a=n[11].disabled,E(t,"class","svelte-mojfmz"),E(e,"class","svelte-mojfmz")},m:function(v,p){me(v,e,p),W(e,t),d&&d.m(t,null),W(t,r),W(t,i),W(e,s),l=!0,u||(c=Be(t,"click",h),u=!0)},p:function(v,p){(n=v)[11].icon?d?(d.p(n,p),1&p&&J(d,1)):((d=YI(n)).c(),J(d,1),d.m(t,r)):d&&(Je(),Y(d,1,1,function(){d=null}),Ge()),(!l||1&p)&&f!==(f=n[11].text+"")&&on(i,f),(!l||1&p&&o!==(o=n[11].title))&&E(t,"title",o),(!l||1&p&&a!==(a=n[11].disabled))&&(t.disabled=a)},i:function(v){l||(J(d),l=!0)},o:function(v){Y(d),l=!1},d:function(v){v&&he(e),d&&d.d(),u=!1,c()}}}function eQe(n){var e,t,r,i,o,a,s,l,u,c,f=n[8].defaultItem,d=ia(f,n,n[7],QI);i=new Jt({props:{data:Ma}});for(var h=n[0],v=[],p=0;p<h.length;p+=1)v[p]=ZI(KI(n,h,p));var m=function(g){return Y(v[g],1,1,function(){v[g]=null})};return{c:function(){e=ee("div"),d&&d.c(),t=je(),r=ee("button"),Ne(i.$$.fragment),o=je(),a=ee("div"),s=ee("ul");for(var g=0;g<v.length;g+=1)v[g].c();E(r,"type","button"),E(r,"class","jse-open-dropdown svelte-mojfmz"),E(r,"data-type","jse-open-dropdown"),r.disabled=n[4],Ve(r,"jse-visible",n[3]),E(s,"class","svelte-mojfmz"),E(a,"class","jse-dropdown-items svelte-mojfmz"),ja(a,"width",n[2]),Ve(a,"jse-visible",n[3]),E(e,"class","jse-dropdown-button svelte-mojfmz"),E(e,"title",n[1])},m:function(g,y){me(g,e,y),d&&d.m(e,null),W(e,t),W(e,r),Ae(i,r,null),W(e,o),W(e,a),W(a,s);for(var b=0;b<v.length;b+=1)v[b].m(s,null);l=!0,u||(c=[Be(r,"click",n[5]),Be(e,"click",n[6])],u=!0)},p:function(g,y){var b=Dt(y,1)[0];if(d&&d.p&&(!l||128&b)&&aa(d,f,g,g[7],l?oa(f,g[7],b,XKe):sa(g[7]),QI),(!l||16&b)&&(r.disabled=g[4]),(!l||8&b)&&Ve(r,"jse-visible",g[3]),1&b){var w;for(h=g[0],w=0;w<h.length;w+=1){var k=KI(g,h,w);v[w]?(v[w].p(k,b),J(v[w],1)):(v[w]=ZI(k),v[w].c(),J(v[w],1),v[w].m(s,null))}for(Je(),w=h.length;w<v.length;w+=1)m(w);Ge()}(!l||4&b)&&ja(a,"width",g[2]),(!l||8&b)&&Ve(a,"jse-visible",g[3]),(!l||2&b)&&E(e,"title",g[1])},i:function(g){if(!l){J(d,g),J(i.$$.fragment,g);for(var y=0;y<h.length;y+=1)J(v[y]);l=!0}},o:function(g){Y(d,g),Y(i.$$.fragment,g),v=v.filter(Boolean);for(var y=0;y<v.length;y+=1)Y(v[y]);l=!1},d:function(g){g&&he(e),d&&d.d(g),_e(i),ji(v,g),u=!1,Xn(c)}}}function tQe(n,e,t){var r,i=e.$$slots,o=i===void 0?{}:i,a=e.$$scope,s=e.items,l=s===void 0?[]:s,u=e.title,c=u===void 0?void 0:u,f=e.width,d=f===void 0?"120px":f,h=!1;function v(){t(3,h=!1)}function p(m){Bu(m)==="Escape"&&(m.preventDefault(),t(3,h=!1))}return fo(function(){document.addEventListener("click",v),document.addEventListener("keydown",p)}),fl(function(){document.removeEventListener("click",v),document.removeEventListener("keydown",p)}),n.$$set=function(m){"items"in m&&t(0,l=m.items),"title"in m&&t(1,c=m.title),"width"in m&&t(2,d=m.width),"$$scope"in m&&t(7,a=m.$$scope)},n.$$.update=function(){1&n.$$.dirty&&t(4,r=l.every(function(m){return m.disabled===!0}))},[l,c,d,h,r,function(){var m=h;setTimeout(function(){return t(3,h=!m)})},v,a,o,function(m){return m.onClick()}]}var j1=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,tQe,eQe,mn,{items:0,title:1,width:2},ZKe),i}return ie(t)}(),nQe={prefix:"far",iconName:"lightbulb",icon:[384,512,[128161],"f0eb","M112.1 454.3c0 6.297 1.816 12.44 5.284 17.69l17.14 25.69c5.25 7.875 17.17 14.28 26.64 14.28h61.67c9.438 0 21.36-6.401 26.61-14.28l17.08-25.68c2.938-4.438 5.348-12.37 5.348-17.7L272 415.1h-160L112.1 454.3zM192 0C90.02 .3203 16 82.97 16 175.1c0 44.38 16.44 84.84 43.56 115.8c16.53 18.84 42.34 58.23 52.22 91.45c.0313 .25 .0938 .5166 .125 .7823h160.2c.0313-.2656 .0938-.5166 .125-.7823c9.875-33.22 35.69-72.61 52.22-91.45C351.6 260.8 368 220.4 368 175.1C368 78.8 289.2 .0039 192 0zM288.4 260.1c-15.66 17.85-35.04 46.3-49.05 75.89h-94.61c-14.01-29.59-33.39-58.04-49.04-75.88C75.24 236.8 64 206.1 64 175.1C64 113.3 112.1 48.25 191.1 48C262.6 48 320 105.4 320 175.1C320 206.1 308.8 236.8 288.4 260.1zM176 80C131.9 80 96 115.9 96 160c0 8.844 7.156 16 16 16S128 168.8 128 160c0-26.47 21.53-48 48-48c8.844 0 16-7.148 16-15.99S184.8 80 176 80z"]},ag={prefix:"far",iconName:"square-check",icon:[448,512,[9745,9989,61510,"check-square"],"f14a","M211.8 339.8C200.9 350.7 183.1 350.7 172.2 339.8L108.2 275.8C97.27 264.9 97.27 247.1 108.2 236.2C119.1 225.3 136.9 225.3 147.8 236.2L192 280.4L300.2 172.2C311.1 161.3 328.9 161.3 339.8 172.2C350.7 183.1 350.7 200.9 339.8 211.8L211.8 339.8zM0 96C0 60.65 28.65 32 64 32H384C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96zM48 96V416C48 424.8 55.16 432 64 432H384C392.8 432 400 424.8 400 416V96C400 87.16 392.8 80 384 80H64C55.16 80 48 87.16 48 96z"]},sg={prefix:"far",iconName:"square",icon:[448,512,[9632,9723,9724,61590],"f0c8","M384 32C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H384zM384 80H64C55.16 80 48 87.16 48 96V416C48 424.8 55.16 432 64 432H384C392.8 432 400 424.8 400 416V96C400 87.16 392.8 80 384 80z"]},rQe={prefix:"far",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M232 120C232 106.7 242.7 96 256 96C269.3 96 280 106.7 280 120V243.2L365.3 300C376.3 307.4 379.3 322.3 371.1 333.3C364.6 344.3 349.7 347.3 338.7 339.1L242.7 275.1C236 271.5 232 264 232 255.1L232 120zM256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0zM48 256C48 370.9 141.1 464 256 464C370.9 464 464 370.9 464 256C464 141.1 370.9 48 256 48C141.1 48 48 141.1 48 256z"]};function iQe(n){Gt(n,"svelte-1yai37q",".jse-contextmenu.svelte-1yai37q.svelte-1yai37q{box-shadow:var(--jse-controls-box-shadow);font-family:var(--jse-font-family);font-size:var(--jse-font-size);background:var(--jse-context-menu-background);color:var(--jse-context-menu-color)}.jse-contextmenu.svelte-1yai37q button.svelte-1yai37q{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0}.jse-contextmenu.svelte-1yai37q button.svelte-1yai37q:focus{background:var(--jse-context-menu-background-highlight)}.jse-contextmenu.svelte-1yai37q .jse-row.svelte-1yai37q{display:flex;flex-direction:row;align-items:flex-start;justify-content:stretch}.jse-contextmenu.svelte-1yai37q .jse-row div.jse-label.svelte-1yai37q{flex:1;white-space:nowrap;padding:var(--jse-padding);color:var(--jse-context-menu-color-disabled);line-height:normal}.jse-contextmenu.svelte-1yai37q .jse-row div.jse-tip.svelte-1yai37q{flex:1;background:var(--jse-context-menu-tip-background);color:var(--jse-context-menu-tip-color);margin:calc(0.5 * var(--jse-padding));padding:calc(0.5 * var(--jse-padding)) var(--jse-padding);font-size:80%;line-height:1.3em;display:flex;flex-direction:row;align-items:center;gap:var(--jse-padding);border-radius:3px}.jse-contextmenu.svelte-1yai37q .jse-row div.jse-tip div.svelte-1yai37q{vertical-align:middle}.jse-contextmenu.svelte-1yai37q .jse-row button.svelte-1yai37q{flex:1;white-space:nowrap;padding:var(--jse-padding);color:inherit}.jse-contextmenu.svelte-1yai37q .jse-row button.svelte-1yai37q:hover{background:var(--jse-context-menu-background-highlight)}.jse-contextmenu.svelte-1yai37q .jse-row button.svelte-1yai37q:disabled{color:var(--jse-context-menu-color-disabled);background:unset}.jse-contextmenu.svelte-1yai37q .jse-row button .jse-insert.svelte-1yai37q{display:inline-block;position:relative;width:18px;height:18px;font-family:var(--jse-font-family-mono);font-weight:bold;font-size:16px}.jse-contextmenu.svelte-1yai37q .jse-row button .jse-insert .jse-quote.svelte-1yai37q,.jse-contextmenu.svelte-1yai37q .jse-row button .jse-insert .jse-plus.svelte-1yai37q{position:absolute;top:-4px;left:2px;font-size:24px}.jse-contextmenu.svelte-1yai37q .jse-column.svelte-1yai37q{flex:1;display:flex;flex-direction:column;align-items:stretch}.jse-contextmenu.svelte-1yai37q .jse-column.svelte-1yai37q:not(:last-child){border-right:1px solid var(--jse-context-menu-separator-color)}.jse-contextmenu.svelte-1yai37q .jse-column button.svelte-1yai37q{text-align:left;min-width:130px}.jse-contextmenu.svelte-1yai37q .jse-separator.svelte-1yai37q{width:100%;height:1px;background:var(--jse-context-menu-separator-color)}")}function oQe(n){var e,t,r,i,o,a,s;return t=new Jt({props:{data:D2}}),{c:function(){e=ee("button"),Ne(t.$$.fragment),r=ot(" Edit value"),E(e,"type","button"),E(e,"slot","defaultItem"),E(e,"title","Edit the value (Double-click on the value)"),e.disabled=i=!n[2],E(e,"class","svelte-1yai37q")},m:function(l,u){me(l,e,u),Ae(t,e,null),W(e,r),o=!0,a||(s=Be(e,"click",n[18]),a=!0)},p:function(l,u){(!o||4&u[0]&&i!==(i=!l[2]))&&(e.disabled=i)},i:function(l){o||(J(t.$$.fragment,l),o=!0)},o:function(l){Y(t.$$.fragment,l),o=!1},d:function(l){l&&he(e),_e(t),a=!1,s()}}}function aQe(n){var e,t,r,i,o,a,s;return t=new Jt({props:{data:Ub}}),{c:function(){e=ee("button"),Ne(t.$$.fragment),r=ot(" Cut"),E(e,"type","button"),E(e,"slot","defaultItem"),E(e,"title","Cut selected contents, formatted with indentation (Ctrl+X)"),e.disabled=i=!n[1],E(e,"class","svelte-1yai37q")},m:function(l,u){me(l,e,u),Ae(t,e,null),W(e,r),o=!0,a||(s=Be(e,"click",n[19]),a=!0)},p:function(l,u){(!o||2&u[0]&&i!==(i=!l[1]))&&(e.disabled=i)},i:function(l){o||(J(t.$$.fragment,l),o=!0)},o:function(l){Y(t.$$.fragment,l),o=!1},d:function(l){l&&he(e),_e(t),a=!1,s()}}}function sQe(n){var e,t,r,i,o,a,s;return t=new Jt({props:{data:ih}}),{c:function(){e=ee("button"),Ne(t.$$.fragment),r=ot(" Copy"),E(e,"type","button"),E(e,"slot","defaultItem"),E(e,"title","Copy selected contents, formatted with indentation (Ctrl+C)"),e.disabled=i=!n[1],E(e,"class","svelte-1yai37q")},m:function(l,u){me(l,e,u),Ae(t,e,null),W(e,r),o=!0,a||(s=Be(e,"click",n[20]),a=!0)},p:function(l,u){(!o||2&u[0]&&i!==(i=!l[1]))&&(e.disabled=i)},i:function(l){o||(J(t.$$.fragment,l),o=!0)},o:function(l){Y(t.$$.fragment,l),o=!1},d:function(l){l&&he(e),_e(t),a=!1,s()}}}function XI(n){var e,t,r,i,o,a,s;return i=new Jt({props:{data:nQe}}),{c:function(){e=ee("div"),t=ee("div"),r=ee("div"),Ne(i.$$.fragment),o=je(),(a=ee("div")).textContent="Tip: you can open this context menu via right-click or with Ctrl+Q",E(r,"class","svelte-1yai37q"),E(a,"class","svelte-1yai37q"),E(t,"class","jse-tip svelte-1yai37q"),E(e,"class","jse-row svelte-1yai37q")},m:function(l,u){me(l,e,u),W(e,t),W(t,r),Ae(i,r,null),W(t,o),W(t,a),s=!0},p:Ze,i:function(l){s||(J(i.$$.fragment,l),s=!0)},o:function(l){Y(i.$$.fragment,l),s=!1},d:function(l){l&&he(e),_e(i)}}}function lQe(n){var e,t,r,i,o,a,s,l,u,c,f,d,h,v,p,m,g,y,b,w,k,x,C,T,M,B,_,N,$,j,D,q,R,G,A,I,z,F,L,O,V,Z,te,ve,ue,ge,P,S,ae,ce,ne,ye,Ce,Se,Ue,pt,Ke,Me,et,le,be,Le,Ee,ct,it,at,Bt,zt,H,U,se,Q,we,Oe,Fe,Xe,nt,jt,Vt,st,Xt,Ft,fn,Ht,tn,sr,Bn,An,ze,xn,Mn,cn,lt,xe,Qe,bt;i=new Jt({props:{data:D2}}),l=new j1({props:{width:"11em",items:n[8],$$slots:{defaultItem:[oQe]},$$scope:{ctx:n}}}),h=new j1({props:{width:"10em",items:n[7],$$slots:{defaultItem:[aQe]},$$scope:{ctx:n}}}),p=new j1({props:{width:"12em",items:n[6],$$slots:{defaultItem:[sQe]},$$scope:{ctx:n}}}),y=new Jt({props:{data:HHe}}),_=new Jt({props:{data:Uh}}),q=new Jt({props:{data:eVe}}),z=new Jt({props:{data:GHe}}),Z=new Jt({props:{data:R2}}),P=new Jt({props:{data:P2}}),tn=new Jt({props:{data:JHe}}),xn=new Jt({props:{data:WHe}});var $t=n[0]&&XI();return{c:function(){e=ee("div"),t=ee("div"),r=ee("button"),Ne(i.$$.fragment),o=ot(" Edit key"),s=je(),Ne(l.$$.fragment),u=je(),c=ee("div"),f=je(),d=ee("div"),Ne(h.$$.fragment),v=je(),Ne(p.$$.fragment),m=je(),g=ee("button"),Ne(y.$$.fragment),b=ot(" Paste"),k=je(),x=ee("div"),C=je(),T=ee("div"),M=ee("div"),B=ee("button"),Ne(_.$$.fragment),N=ot(" Remove"),j=je(),D=ee("button"),Ne(q.$$.fragment),R=ot(" Duplicate"),A=je(),I=ee("button"),Ne(z.$$.fragment),F=ot(" Extract"),O=je(),V=ee("button"),Ne(Z.$$.fragment),te=ot(" Sort"),ue=je(),ge=ee("button"),Ne(P.$$.fragment),S=ot(" Transform"),ce=je(),ne=ee("div"),ye=ee("div"),Ce=ot(n[13]),Se=ot(":"),Ue=je(),pt=ee("button"),Ke=ee("span"),(Me=ee("span")).textContent="+",et=ot(" Structure"),Le=je(),Ee=ee("button"),(ct=ee("span")).textContent="{}",it=ot(" Object"),zt=je(),H=ee("button"),(U=ee("span")).textContent="[]",se=ot(" Array"),Oe=je(),Fe=ee("button"),(Xe=ee("span")).innerHTML='<span class="jse-quote svelte-1yai37q">&quot;</span>',nt=ot(" Value"),st=je(),Xt=ee("div"),Ft=je(),fn=ee("div"),Ht=ee("button"),Ne(tn.$$.fragment),sr=ot(" Insert before"),An=je(),ze=ee("button"),Ne(xn.$$.fragment),Mn=ot(" Insert after"),lt=je(),$t&&$t.c(),E(r,"type","button"),E(r,"title","Edit the key (Double-click on the key)"),r.disabled=a=!n[14],E(r,"class","svelte-1yai37q"),E(t,"class","jse-row svelte-1yai37q"),E(c,"class","jse-separator svelte-1yai37q"),E(g,"type","button"),E(g,"title","Paste clipboard contents (Ctrl+V)"),g.disabled=w=!n[3],E(g,"class","svelte-1yai37q"),E(d,"class","jse-row svelte-1yai37q"),E(x,"class","jse-separator svelte-1yai37q"),E(B,"type","button"),E(B,"title","Remove selected contents (Delete)"),B.disabled=$=!n[1],E(B,"class","svelte-1yai37q"),E(D,"type","button"),E(D,"title","Duplicate selected contents (Ctrl+D)"),D.disabled=G=!n[16],E(D,"class","svelte-1yai37q"),E(I,"type","button"),E(I,"title","Extract selected contents"),I.disabled=L=!n[15],E(I,"class","svelte-1yai37q"),E(V,"type","button"),E(V,"title","Sort array or object contents"),V.disabled=ve=!n[1],E(V,"class","svelte-1yai37q"),E(ge,"type","button"),E(ge,"title","Transform array or object contents (filter, sort, project)"),ge.disabled=ae=!n[1],E(ge,"class","svelte-1yai37q"),E(M,"class","jse-column svelte-1yai37q"),E(ye,"class","jse-label svelte-1yai37q"),E(Me,"class","jse-plus svelte-1yai37q"),E(Ke,"class","jse-insert svelte-1yai37q"),E(pt,"type","button"),E(pt,"title",le=n[13]+" structure"),pt.disabled=be=!n[12],E(pt,"class","svelte-1yai37q"),E(ct,"class","jse-insert svelte-1yai37q"),E(Ee,"type","button"),E(Ee,"title",at=n[13]+" object"),Ee.disabled=Bt=!n[11],E(Ee,"class","svelte-1yai37q"),E(U,"class","jse-insert svelte-1yai37q"),E(H,"type","button"),E(H,"title",Q=n[13]+" array"),H.disabled=we=!n[10],E(H,"class","svelte-1yai37q"),E(Xe,"class","jse-insert svelte-1yai37q"),E(Fe,"type","button"),E(Fe,"title",jt=n[13]+" value"),Fe.disabled=Vt=!n[9],E(Fe,"class","svelte-1yai37q"),E(ne,"class","jse-column svelte-1yai37q"),E(T,"class","jse-row svelte-1yai37q"),E(Xt,"class","jse-separator svelte-1yai37q"),E(Ht,"type","button"),E(Ht,"title","Select area before current entry to insert or paste contents"),Ht.disabled=Bn=!n[1]||n[4],E(Ht,"class","svelte-1yai37q"),E(ze,"type","button"),E(ze,"title","Select area after current entry to insert or paste contents"),ze.disabled=cn=!n[1]||n[4],E(ze,"class","svelte-1yai37q"),E(fn,"class","jse-row svelte-1yai37q"),E(e,"class","jse-contextmenu svelte-1yai37q")},m:function(tt,St){me(tt,e,St),W(e,t),W(t,r),Ae(i,r,null),W(r,o),W(t,s),Ae(l,t,null),W(e,u),W(e,c),W(e,f),W(e,d),Ae(h,d,null),W(d,v),Ae(p,d,null),W(d,m),W(d,g),Ae(y,g,null),W(g,b),W(e,k),W(e,x),W(e,C),W(e,T),W(T,M),W(M,B),Ae(_,B,null),W(B,N),W(M,j),W(M,D),Ae(q,D,null),W(D,R),W(M,A),W(M,I),Ae(z,I,null),W(I,F),W(M,O),W(M,V),Ae(Z,V,null),W(V,te),W(M,ue),W(M,ge),Ae(P,ge,null),W(ge,S),W(T,ce),W(T,ne),W(ne,ye),W(ye,Ce),W(ye,Se),W(ne,Ue),W(ne,pt),W(pt,Ke),W(Ke,Me),W(pt,et),W(ne,Le),W(ne,Ee),W(Ee,ct),W(Ee,it),W(ne,zt),W(ne,H),W(H,U),W(H,se),W(ne,Oe),W(ne,Fe),W(Fe,Xe),W(Fe,nt),W(e,st),W(e,Xt),W(e,Ft),W(e,fn),W(fn,Ht),Ae(tn,Ht,null),W(Ht,sr),W(fn,An),W(fn,ze),Ae(xn,ze,null),W(ze,Mn),W(e,lt),$t&&$t.m(e,null),n[59](e),xe=!0,Qe||(bt=[Be(r,"click",n[17]),Be(g,"click",n[21]),Be(B,"click",n[22]),Be(D,"click",n[23]),Be(I,"click",n[24]),Be(V,"click",n[26]),Be(ge,"click",n[27]),Be(pt,"click",n[55]),Be(Ee,"click",n[56]),Be(H,"click",n[57]),Be(Fe,"click",n[58]),Be(Ht,"click",n[28]),Be(ze,"click",n[29]),Be(e,"keydown",n[30])],Qe=!0)},p:function(tt,St){(!xe||16384&St[0]&&a!==(a=!tt[14]))&&(r.disabled=a);var Wn={};256&St[0]&&(Wn.items=tt[8]),4&St[0]|2&St[2]&&(Wn.$$scope={dirty:St,ctx:tt}),l.$set(Wn);var fr={};128&St[0]&&(fr.items=tt[7]),2&St[0]|2&St[2]&&(fr.$$scope={dirty:St,ctx:tt}),h.$set(fr);var yr={};64&St[0]&&(yr.items=tt[6]),2&St[0]|2&St[2]&&(yr.$$scope={dirty:St,ctx:tt}),p.$set(yr),(!xe||8&St[0]&&w!==(w=!tt[3]))&&(g.disabled=w),(!xe||2&St[0]&&$!==($=!tt[1]))&&(B.disabled=$),(!xe||65536&St[0]&&G!==(G=!tt[16]))&&(D.disabled=G),(!xe||32768&St[0]&&L!==(L=!tt[15]))&&(I.disabled=L),(!xe||2&St[0]&&ve!==(ve=!tt[1]))&&(V.disabled=ve),(!xe||2&St[0]&&ae!==(ae=!tt[1]))&&(ge.disabled=ae),(!xe||8192&St[0])&&on(Ce,tt[13]),(!xe||8192&St[0]&&le!==(le=tt[13]+" structure"))&&E(pt,"title",le),(!xe||4096&St[0]&&be!==(be=!tt[12]))&&(pt.disabled=be),(!xe||8192&St[0]&&at!==(at=tt[13]+" object"))&&E(Ee,"title",at),(!xe||2048&St[0]&&Bt!==(Bt=!tt[11]))&&(Ee.disabled=Bt),(!xe||8192&St[0]&&Q!==(Q=tt[13]+" array"))&&E(H,"title",Q),(!xe||1024&St[0]&&we!==(we=!tt[10]))&&(H.disabled=we),(!xe||8192&St[0]&&jt!==(jt=tt[13]+" value"))&&E(Fe,"title",jt),(!xe||512&St[0]&&Vt!==(Vt=!tt[9]))&&(Fe.disabled=Vt),(!xe||18&St[0]&&Bn!==(Bn=!tt[1]||tt[4]))&&(Ht.disabled=Bn),(!xe||18&St[0]&&cn!==(cn=!tt[1]||tt[4]))&&(ze.disabled=cn),tt[0]?$t?($t.p(tt,St),1&St[0]&&J($t,1)):(($t=XI()).c(),J($t,1),$t.m(e,null)):$t&&(Je(),Y($t,1,1,function(){$t=null}),Ge())},i:function(tt){xe||(J(i.$$.fragment,tt),J(l.$$.fragment,tt),J(h.$$.fragment,tt),J(p.$$.fragment,tt),J(y.$$.fragment,tt),J(_.$$.fragment,tt),J(q.$$.fragment,tt),J(z.$$.fragment,tt),J(Z.$$.fragment,tt),J(P.$$.fragment,tt),J(tn.$$.fragment,tt),J(xn.$$.fragment,tt),J($t),xe=!0)},o:function(tt){Y(i.$$.fragment,tt),Y(l.$$.fragment,tt),Y(h.$$.fragment,tt),Y(p.$$.fragment,tt),Y(y.$$.fragment,tt),Y(_.$$.fragment,tt),Y(q.$$.fragment,tt),Y(z.$$.fragment,tt),Y(Z.$$.fragment,tt),Y(P.$$.fragment,tt),Y(tn.$$.fragment,tt),Y(xn.$$.fragment,tt),Y($t),xe=!1},d:function(tt){tt&&he(e),_e(i),_e(l),_e(h),_e(p),_e(y),_e(_),_e(q),_e(z),_e(Z),_e(P),_e(tn),_e(xn),$t&&$t.d(),n[59](null),Qe=!1,Xn(bt)}}}function uQe(n,e,t){var r,i,o,a,s,l,u,c,f,d,h,v,p,m,g,y,b,w,k,x,C,T=e.json,M=e.documentState,B=e.parser,_=e.showTip,N=e.onCloseContextMenu,$=e.onEditKey,j=e.onEditValue,D=e.onToggleEnforceString,q=e.onCut,R=e.onCopy,G=e.onPaste,A=e.onRemove,I=e.onDuplicate,z=e.onExtract,F=e.onInsertBefore,L=e.onInsert,O=e.onConvert,V=e.onInsertAfter,Z=e.onSort,te=e.onTransform;function ve(){N(),j()}function ue(){N(),D()}function ge(){N(),q(!0)}function P(){N(),q(!1)}function S(){N(),R(!0)}function ae(){N(),R(!1)}function ce(ne){N(),l?O(ne):L(ne)}return fo(function(){setTimeout(function(){var ne=Ut(C.querySelectorAll("button")).find(function(ye){return!ye.disabled});ne&&ne.focus()})}),n.$$set=function(ne){"json"in ne&&t(31,T=ne.json),"documentState"in ne&&t(32,M=ne.documentState),"parser"in ne&&t(33,B=ne.parser),"showTip"in ne&&t(0,_=ne.showTip),"onCloseContextMenu"in ne&&t(34,N=ne.onCloseContextMenu),"onEditKey"in ne&&t(35,$=ne.onEditKey),"onEditValue"in ne&&t(36,j=ne.onEditValue),"onToggleEnforceString"in ne&&t(37,D=ne.onToggleEnforceString),"onCut"in ne&&t(38,q=ne.onCut),"onCopy"in ne&&t(39,R=ne.onCopy),"onPaste"in ne&&t(40,G=ne.onPaste),"onRemove"in ne&&t(41,A=ne.onRemove),"onDuplicate"in ne&&t(42,I=ne.onDuplicate),"onExtract"in ne&&t(43,z=ne.onExtract),"onInsertBefore"in ne&&t(44,F=ne.onInsertBefore),"onInsert"in ne&&t(45,L=ne.onInsert),"onConvert"in ne&&t(46,O=ne.onConvert),"onInsertAfter"in ne&&t(47,V=ne.onInsertAfter),"onSort"in ne&&t(48,Z=ne.onSort),"onTransform"in ne&&t(49,te=ne.onTransform)},n.$$.update=function(){2&n.$$.dirty[1]&&t(51,r=M.selection),1&n.$$.dirty[1]&&t(54,i=T!==void 0),1048576&n.$$.dirty[1]&&t(3,o=r!=null),8&n.$$.dirty[0]|1048576&n.$$.dirty[1]&&t(4,a=o&&ir(r.focusPath)),8&n.$$.dirty[0]|1048577&n.$$.dirty[1]&&t(52,s=o?de.exports.getIn(T,r.focusPath):void 0),9437184&n.$$.dirty[1]&&t(1,l=i&&(Sn(r)||Sr(r)||Cn(r))),18&n.$$.dirty[0]|8388608&n.$$.dirty[1]&&t(16,u=i&&l&&!a),16&n.$$.dirty[0]|9437184&n.$$.dirty[1]&&t(15,c=i&&r!=null&&(Sn(r)||Cn(r))&&!a),16&n.$$.dirty[0]|9437185&n.$$.dirty[1]&&t(14,f=i&&r!=null&&Ww(r)&&!a&&!Array.isArray(de.exports.getIn(T,bn(r.focusPath)))),11534336&n.$$.dirty[1]&&t(2,d=i&&r!=null&&Ww(r)&&!Dr(s)),2&n.$$.dirty[0]&&t(53,h=l),4194304&n.$$.dirty[1]&&t(13,v=h?"Convert to":"Insert"),8&n.$$.dirty[0]|4194304&n.$$.dirty[1]&&t(12,p=!h&&o),8&n.$$.dirty[0]|7340032&n.$$.dirty[1]&&t(11,m=h?Nv(r)&&!$r(s):o),8&n.$$.dirty[0]|7340032&n.$$.dirty[1]&&t(10,g=h?Nv(r)&&!Array.isArray(s):o),8&n.$$.dirty[0]|7340032&n.$$.dirty[1]&&t(9,y=h?Nv(r)&&Dr(s):o),3145734&n.$$.dirty[1]&&t(50,b=r!=null&&Qh(s,M.enforceStringMap,de.exports.compileJSONPointer(r.focusPath),B)),4&n.$$.dirty[0]|524288&n.$$.dirty[1]&&t(8,w=[{icon:D2,text:"Edit value",title:"Edit the value (Double-click on the value)",onClick:ve,disabled:!d},{icon:b?ag:sg,text:"Enforce string",title:"Enforce keeping the value as string when it contains a numeric value",onClick:ue,disabled:!d}]),2&n.$$.dirty[0]&&t(7,k=[{icon:Ub,text:"Cut formatted",title:"Cut selected contents, formatted with indentation (Ctrl+X)",onClick:ge,disabled:!l},{icon:Ub,text:"Cut compacted",title:"Cut selected contents, without indentation (Ctrl+Shift+X)",onClick:P,disabled:!l}]),2&n.$$.dirty[0]&&t(6,x=[{icon:ih,text:"Copy formatted",title:"Copy selected contents, formatted with indentation (Ctrl+C)",onClick:S,disabled:!l},{icon:ih,text:"Copy compacted",title:"Copy selected contents, without indentation (Ctrl+Shift+C)",onClick:ae,disabled:!l}])},[_,l,d,o,a,C,x,k,w,y,g,m,p,v,f,c,u,function(){N(),$()},ve,ge,S,function(){N(),G()},function(){N(),A()},function(){N(),I()},function(){N(),z()},ce,function(){N(),Z()},function(){N(),te()},function(){N(),F()},function(){N(),V()},function(ne){var ye=Bu(ne).replace(/^Command\+/,"Ctrl+");if(ye==="Up"||ye==="Down"||ye==="Left"||ye==="Right"){ne.preventDefault();var Ce=NHe({allElements:Array.from(C.querySelectorAll("button:not([disabled])")),currentElement:ne.target,direction:ye,hasPrio:function(Se){return Se.getAttribute("data-type")!=="jse-open-dropdown"}});Ce&&Ce.focus()}},T,M,B,N,$,j,D,q,R,G,A,I,z,F,L,O,V,Z,te,b,r,s,h,i,function(){return ce("structure")},function(){return ce("object")},function(){return ce("array")},function(){return ce("value")},function(ne){en[ne?"unshift":"push"](function(){t(5,C=ne)})}]}var cQe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,uQe,lQe,mn,{json:31,documentState:32,parser:33,showTip:0,onCloseContextMenu:34,onEditKey:35,onEditValue:36,onToggleEnforceString:37,onCut:38,onCopy:39,onPaste:40,onRemove:41,onDuplicate:42,onExtract:43,onInsertBefore:44,onInsert:45,onConvert:46,onInsertAfter:47,onSort:48,onTransform:49},iQe,[-1,-1,-1]),i}return ie(t)}(),eW={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var a=mt(o);if(a==="string"||a==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var s=t.apply(null,o);s&&r.push(s)}}else if(a==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){r.push(o.toString());continue}for(var l in o)e.call(o,l)&&o[l]&&r.push(l)}}}return r.join(" ")}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(eW);var pf=eW.exports;function fQe(n){Gt(n,"svelte-1knbf5w","div.jse-collapsed-items.svelte-1knbf5w.svelte-1knbf5w{font-family:var(--jse-font-family);font-size:var(--jse-font-size);color:var(--jse-collapsed-items-link-color);padding:calc(0.5 * var(--jse-padding));border:8px solid transparent;border-width:8px 0;background-color:transparent;background-image:linear-gradient(var(--jse-collapsed-items-background-color), var(--jse-collapsed-items-background-color)), linear-gradient(to bottom right, transparent 50.5%, var(--jse-collapsed-items-background-color) 50.5%), linear-gradient(to bottom left, transparent 50.5%, var(--jse-collapsed-items-background-color) 50.5%), linear-gradient(to top right, transparent 50.5%, var(--jse-collapsed-items-background-color) 50.5%), linear-gradient(to top left, transparent 50.5%, var(--jse-collapsed-items-background-color) 50.5%);background-repeat:repeat, repeat-x, repeat-x, repeat-x, repeat-x;background-position:0 0, 8px 0, 8px 0, 8px 100%, 8px 100%;background-size:auto auto, 16px 16px, 16px 16px, 16px 16px, 16px 16px;background-clip:padding-box, border-box, border-box, border-box, border-box;background-origin:padding-box, border-box, border-box, border-box, border-box;display:flex}div.jse-collapsed-items.svelte-1knbf5w div.jse-text.svelte-1knbf5w,div.jse-collapsed-items.svelte-1knbf5w button.jse-expand-items.svelte-1knbf5w{margin:0 calc(0.5 * var(--jse-padding))}div.jse-collapsed-items.svelte-1knbf5w div.jse-text.svelte-1knbf5w{display:inline}div.jse-collapsed-items.svelte-1knbf5w button.jse-expand-items.svelte-1knbf5w{font-family:inherit;font-size:inherit;color:var(--jse-collapsed-items-link-color);background:none;border:none;padding:0;text-decoration:underline;cursor:pointer}div.jse-collapsed-items.svelte-1knbf5w button.jse-expand-items.svelte-1knbf5w:hover,div.jse-collapsed-items.svelte-1knbf5w button.jse-expand-items.svelte-1knbf5w:focus{color:var(--jse-collapsed-items-link-color-highlight)}")}function eP(n,e,t){var r=n.slice();return r[13]=e[t],r}function tP(n){var e,t,r,i,o,a,s,l,u=n[13].start+"",c=n[13].end+"";function f(){return n[12](n[13])}return{c:function(){e=ee("button"),t=ot("show "),r=ot(u),i=ot("-"),o=ot(c),a=je(),E(e,"type","button"),E(e,"class","jse-expand-items svelte-1knbf5w")},m:function(d,h){me(d,e,h),W(e,t),W(e,r),W(e,i),W(e,o),W(e,a),s||(l=Be(e,"click",f),s=!0)},p:function(d,h){n=d,16&h&&u!==(u=n[13].start+"")&&on(r,u),16&h&&c!==(c=n[13].end+"")&&on(o,c)},d:function(d){d&&he(e),s=!1,l()}}}function dQe(n){for(var e,t,r,i,o,a,s,l,u,c,f,d=n[4],h=[],v=0;v<d.length;v+=1)h[v]=tP(eP(n,d,v));return{c:function(){e=ee("div"),t=ee("div"),r=ee("div"),i=ot("Items "),o=ot(n[3]),a=ot("-"),s=ot(n[2]),l=je();for(var p=0;p<h.length;p+=1)h[p].c();E(r,"class","jse-text svelte-1knbf5w"),E(e,"class","jse-collapsed-items svelte-1knbf5w"),E(e,"style",u=nP(n[0].length+2)),Ve(e,"jse-selected",n[5])},m:function(p,m){me(p,e,m),W(e,t),W(t,r),W(r,i),W(r,o),W(r,a),W(r,s),W(t,l);for(var g=0;g<h.length;g+=1)h[g].m(t,null);c||(f=Be(e,"mousemove",hQe),c=!0)},p:function(p,m){var g=Dt(m,1)[0];if(8&g&&on(o,p[3]),4&g&&on(s,p[2]),19&g){var y;for(d=p[4],y=0;y<d.length;y+=1){var b=eP(p,d,y);h[y]?h[y].p(b,g):(h[y]=tP(b),h[y].c(),h[y].m(t,null))}for(;y<h.length;y+=1)h[y].d(1);h.length=d.length}1&g&&u!==(u=nP(p[0].length+2))&&E(e,"style",u),32&g&&Ve(e,"jse-selected",p[5])},i:Ze,o:Ze,d:function(p){p&&he(e),ji(h,p),c=!1,f()}}}function nP(n){return"margin-left: calc(".concat(n," * var(--jse-indent-size))")}function hQe(n){n.stopPropagation()}function pQe(n,e,t){var r,i,o,a,s,l=e.visibleSections,u=e.sectionIndex,c=e.total,f=e.path,d=e.pointer,h=e.selection,v=e.onExpandSection;return n.$$set=function(p){"visibleSections"in p&&t(6,l=p.visibleSections),"sectionIndex"in p&&t(7,u=p.sectionIndex),"total"in p&&t(8,c=p.total),"path"in p&&t(0,f=p.path),"pointer"in p&&t(9,d=p.pointer),"selection"in p&&t(10,h=p.selection),"onExpandSection"in p&&t(1,v=p.onExpandSection)},n.$$.update=function(){192&n.$$.dirty&&t(11,r=l[u]),2048&n.$$.dirty&&t(3,i=r.end),448&n.$$.dirty&&t(2,o=l[u+1]?l[u+1].start:c),1544&n.$$.dirty&&t(5,a=!!Sn(h)&&h.pointersMap[de.exports.appendToJSONPointer(d,i)]===!0),12&n.$$.dirty&&t(4,s=function(p,m){var g={start:p,end:Math.min(Hw(p),m)},y=Math.max(ig((p+m)/2),p),b={start:y,end:Math.min(Hw(y),m)},w=ig(m),k=w===m?w-100:w,x={start:Math.max(k,p),end:m},C=[g],T=b.start>=g.end&&b.end<=x.start;return T&&C.push(b),x.start>=(T?b.end:g.end)&&C.push(x),C}(i,o))},[f,v,o,i,s,a,l,u,c,d,h,r,function(p){return v(f,p)}]}var vQe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,pQe,dQe,mn,{visibleSections:6,sectionIndex:7,total:8,path:0,pointer:9,selection:10,onExpandSection:1},fQe),i}return ie(t)}();function mQe(n){Gt(n,"svelte-dol684",".jse-context-menu-button.svelte-dol684{position:absolute;top:calc(-0.5 * var(--jse-context-menu-button-size));right:calc(-0.5 * var(--jse-context-menu-button-size));width:var(--jse-context-menu-button-size);height:var(--jse-context-menu-button-size);padding:0;margin:0;z-index:2;cursor:pointer;background:transparent;border-radius:2px;background:var(--jse-context-menu-button-background);color:var(--jse-context-menu-button-color);border:none;box-shadow:var(--jse-controls-box-shadow)}.jse-context-menu-button.svelte-dol684:hover{background:var(--jse-context-menu-button-background-highlight)}")}function gQe(n){var e,t,r,i,o;return t=new Jt({props:{data:Ma}}),{c:function(){e=ee("button"),Ne(t.$$.fragment),E(e,"type","button"),E(e,"class","jse-context-menu-button svelte-dol684"),E(e,"title",p8),Ve(e,"jse-selected",n[0])},m:function(a,s){me(a,e,s),Ae(t,e,null),r=!0,i||(o=Be(e,"click",n[1]),i=!0)},p:function(a,s){var l=Dt(s,1)[0];(!r||1&l)&&Ve(e,"jse-selected",a[0])},i:function(a){r||(J(t.$$.fragment,a),r=!0)},o:function(a){Y(t.$$.fragment,a),r=!1},d:function(a){a&&he(e),_e(t),i=!1,o()}}}function yQe(n,e,t){var r=e.selected,i=e.onContextMenu;return n.$$set=function(o){"selected"in o&&t(0,r=o.selected),"onContextMenu"in o&&t(2,i=o.onContextMenu)},[r,function(o){for(var a=o.target;a&&a.nodeName!=="BUTTON";)a=a.parentNode;a&&i({anchor:a,left:0,top:0,width:260,height:336,offsetTop:2,offsetLeft:0,showTip:!0})},i]}var Fu=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,yQe,gQe,mn,{selected:0,onContextMenu:2},mQe),i}return ie(t)}();function bQe(n){Gt(n,"svelte-s6kbew",".jse-highlight.svelte-s6kbew{background-color:var(--jse-search-match-color);outline:var(--jse-search-match-outline)}.jse-highlight.jse-active.svelte-s6kbew{background-color:var(--jse-search-match-active-color);outline:var(--jse-search-match-active-outline)}")}function rP(n,e,t){var r=n.slice();return r[3]=e[t],r}function wQe(n){var e,t,r=Cu(n[3].text)+"";return{c:function(){e=ee("span"),t=ot(r),E(e,"class","jse-highlight svelte-s6kbew"),Ve(e,"jse-active",n[3].active)},m:function(i,o){me(i,e,o),W(e,t)},p:function(i,o){1&o&&r!==(r=Cu(i[3].text)+"")&&on(t,r),1&o&&Ve(e,"jse-active",i[3].active)},d:function(i){i&&he(e)}}}function kQe(n){var e,t=n[3].text+"";return{c:function(){e=ot(t)},m:function(r,i){me(r,e,i)},p:function(r,i){1&i&&t!==(t=r[3].text+"")&&on(e,t)},d:function(r){r&&he(e)}}}function iP(n){var e;function t(o,a){return o[3].type==="normal"?kQe:wQe}var r=t(n),i=r(n);return{c:function(){i.c(),e=kn()},m:function(o,a){i.m(o,a),me(o,e,a)},p:function(o,a){r===(r=t(o))&&i?i.p(o,a):(i.d(1),(i=r(o))&&(i.c(),i.m(e.parentNode,e)))},d:function(o){i.d(o),o&&he(e)}}}function xQe(n){for(var e,t=n[0],r=[],i=0;i<t.length;i+=1)r[i]=iP(rP(n,t,i));return{c:function(){for(var o=0;o<r.length;o+=1)r[o].c();e=kn()},m:function(o,a){for(var s=0;s<r.length;s+=1)r[s].m(o,a);me(o,e,a)},p:function(o,a){var s=Dt(a,1)[0];if(1&s){var l;for(t=o[0],l=0;l<t.length;l+=1){var u=rP(o,t,l);r[l]?r[l].p(u,s):(r[l]=iP(u),r[l].c(),r[l].m(e.parentNode,e))}for(;l<r.length;l+=1)r[l].d(1);r.length=t.length}},i:Ze,o:Ze,d:function(o){ji(r,o),o&&he(e)}}}function jQe(n,e,t){var r,i=e.text,o=e.searchResultItems;return n.$$set=function(a){"text"in a&&t(1,i=a.text),"searchResultItems"in a&&t(2,o=a.searchResultItems)},n.$$.update=function(){6&n.$$.dirty&&t(0,r=function(a,s){var l,u=[],c=0,f=fe(s);try{for(f.s();!(l=f.n()).done;){var d=l.value,h=a.slice(c,d.start);h!==""&&u.push({type:"normal",text:h,active:!1});var v=a.slice(d.start,d.end);u.push({type:"highlight",text:v,active:d.active}),c=d.end}}catch(m){f.e(m)}finally{f.f()}var p=Nt(s);return p.end<a.length&&u.push({type:"normal",text:a.slice(p.end),active:!1}),u}(String(i),o))},[r,i,o]}var tW=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,jQe,xQe,Or,{text:1,searchResultItems:2},bQe),i}return ie(t)}();function CQe(n){Gt(n,"svelte-rw77oa",".jse-value.jse-string.svelte-rw77oa{color:var(--jse-value-color-string)}.jse-value.jse-object.svelte-rw77oa,.jse-value.jse-array.svelte-rw77oa{min-width:16px;color:var(--jse-delimiter-color)}.jse-value.jse-number.svelte-rw77oa{color:var(--jse-value-color-number)}.jse-value.jse-boolean.svelte-rw77oa{color:var(--jse-value-color-boolean)}.jse-value.jse-null.svelte-rw77oa{color:var(--jse-value-color-null)}.jse-value.jse-invalid.svelte-rw77oa{color:var(--jse-text-color)}.jse-value.jse-url.svelte-rw77oa{color:var(--jse-value-color-url);text-decoration:underline}div.jse-editable-div.svelte-rw77oa{min-width:2em;padding:0 5px;box-sizing:border-box;outline:none;border-radius:1px;vertical-align:top;word-break:normal;white-space:pre-wrap;overflow-wrap:anywhere}div.jse-editable-div.jse-short-text.svelte-rw77oa{overflow-wrap:normal}div.jse-editable-div[contenteditable=true].svelte-rw77oa{outline:var(--jse-edit-outline);background:inherit !important;position:relative;border-radius:0;z-index:3}div.jse-editable-div.jse-empty.svelte-rw77oa:not(:focus){outline:1px dotted var(--jse-tag-background);-moz-outline-radius:2px}div.jse-editable-div.jse-empty.svelte-rw77oa::after{pointer-events:none;color:var(--jse-tag-background)}")}function SQe(n){var e,t,r,i;return{c:function(){E(e=ee("div"),"class",t=Mr(pf("jse-editable-div",n[2],{"jse-short-text":n[0]}))+" svelte-rw77oa"),E(e,"contenteditable","true"),E(e,"spellcheck","false")},m:function(o,a){me(o,e,a),n[13](e),r||(i=[Be(e,"input",n[3]),Be(e,"keydown",n[4]),Be(e,"paste",n[5]),Be(e,"blur",n[6])],r=!0)},p:function(o,a){5&Dt(a,1)[0]&&t!==(t=Mr(pf("jse-editable-div",o[2],{"jse-short-text":o[0]}))+" svelte-rw77oa")&&E(e,"class",t)},i:Ze,o:Ze,d:function(o){o&&he(e),n[13](null),r=!1,Xn(i)}}}function TQe(n,e,t){var r,i=Li("jsoneditor:EditableDiv"),o=e.value,a=e.shortText,s=a!==void 0&&a,l=e.onChange,u=e.onCancel,c=e.onFind,f=e.onPaste,d=f===void 0?Dn:f,h=e.onValueClass,v=h===void 0?function(){return""}:h,p=v(o),m=!1;function g(){return function(b){return b.replace(/\n$/,"")}(r.innerText)}function y(b){t(1,r.innerText=Cu(b),r)}return fo(function(){i("onMount",{value:o}),y(o),setTimeout(function(){return eF(r)})}),fl(function(){var b=g();i("onDestroy",{closed:m,value:o,newValue:b}),m||b===o||l(b,q9e)}),n.$$set=function(b){"value"in b&&t(7,o=b.value),"shortText"in b&&t(0,s=b.shortText),"onChange"in b&&t(8,l=b.onChange),"onCancel"in b&&t(9,u=b.onCancel),"onFind"in b&&t(10,c=b.onFind),"onPaste"in b&&t(11,d=b.onPaste),"onValueClass"in b&&t(12,v=b.onValueClass)},[s,r,p,function(){var b=g();b===""&&y(""),t(2,p=v(b))},function(b){b.stopPropagation();var w=Bu(b).replace(/^Command\+/,"Ctrl+");if(w==="Escape"&&(m=!0,u()),w==="Enter"||w==="Tab"){m=!0;var k=g();l(k,jx)}w==="Ctrl+F"&&(b.preventDefault(),c(!1)),w==="Ctrl+H"&&(b.preventDefault(),c(!0))},function(b){if(d){var w=b.clipboardData.getData("text/plain");d(w)}},function(){var b=document.hasFocus(),w=g();i("handleBlur",{hasFocus:b,closed:m,value:o,newValue:w}),document.hasFocus()&&!m&&(m=!0,w!==o?l(w,xx):u())},o,l,u,c,d,v,function(b){en[b?"unshift":"push"](function(){t(1,r=b)})}]}var nW=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,TQe,SQe,mn,{value:7,shortText:0,onChange:8,onCancel:9,onFind:10,onPaste:11,onValueClass:12},CQe),i}return ie(t)}();function OQe(n){Gt(n,"svelte-566egb",'.jse-key.svelte-566egb{display:inline-block;min-width:2em;padding:0 5px;box-sizing:border-box;outline:none;border-radius:1px;vertical-align:top;color:var(--jse-key-color);word-break:normal;overflow-wrap:normal;white-space:pre-wrap}.jse-key.svelte-566egb:hover{background:var(--jse-hover-background-color)}.jse-key.svelte-566egb:hover{background:var(--jse-hover-background-color)}.jse-key.jse-empty.svelte-566egb{min-width:3em;outline:1px dotted var(--jse-tag-background);-moz-outline-radius:2px}.jse-key.jse-empty.svelte-566egb::after{pointer-events:none;color:var(--jse-tag-background);content:"key"}')}function EQe(n){var e,t,r,i,o,a,s,l=[AQe,$Qe],u=[];function c(f,d){return f[1]?0:1}return t=c(n),r=u[t]=l[t](n),{c:function(){e=ee("div"),r.c(),E(e,"data-type","selectable-key"),E(e,"class",i=Mr(n[6](n[0]))+" svelte-566egb")},m:function(f,d){me(f,e,d),u[t].m(e,null),o=!0,a||(s=Be(e,"dblclick",n[5]),a=!0)},p:function(f,d){var h=t;(t=c(f))===h?u[t].p(f,d):(Je(),Y(u[h],1,1,function(){u[h]=null}),Ge(),(r=u[t])?r.p(f,d):(r=u[t]=l[t](f)).c(),J(r,1),r.m(e,null)),(!o||1&d&&i!==(i=Mr(f[6](f[0]))+" svelte-566egb"))&&E(e,"class",i)},i:function(f){o||(J(r),o=!0)},o:function(f){Y(r),o=!1},d:function(f){f&&he(e),u[t].d(),a=!1,s()}}}function MQe(n){var e,t;return e=new nW({props:{value:n[2].normalization.escapeValue(n[0]),shortText:!0,onChange:n[7],onCancel:n[8],onFind:n[2].onFind}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o={};5&i&&(o.value=r[2].normalization.escapeValue(r[0])),4&i&&(o.onFind=r[2].onFind),e.$set(o)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function $Qe(n){var e,t=Cu(n[2].normalization.escapeValue(n[0]))+"";return{c:function(){e=ot(t)},m:function(r,i){me(r,e,i)},p:function(r,i){5&i&&t!==(t=Cu(r[2].normalization.escapeValue(r[0]))+"")&&on(e,t)},i:Ze,o:Ze,d:function(r){r&&he(e)}}}function AQe(n){var e,t;return e=new tW({props:{text:n[2].normalization.escapeValue(n[0]),searchResultItems:n[1]}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o={};5&i&&(o.text=r[2].normalization.escapeValue(r[0])),2&i&&(o.searchResultItems=r[1]),e.$set(o)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function oP(n){var e,t;return e=new Fu({props:{selected:!0,onContextMenu:n[2].onContextMenu}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o={};4&i&&(o.onContextMenu=r[2].onContextMenu),e.$set(o)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function _Qe(n){var e,t,r,i,o,a=[MQe,EQe],s=[];function l(c,f){return c[4]?0:1}e=l(n),t=s[e]=a[e](n);var u=!n[2].readOnly&&n[3]&&!n[4]&&oP(n);return{c:function(){t.c(),r=je(),u&&u.c(),i=kn()},m:function(c,f){s[e].m(c,f),me(c,r,f),u&&u.m(c,f),me(c,i,f),o=!0},p:function(c,f){var d=Dt(f,1)[0],h=e;(e=l(c))===h?s[e].p(c,d):(Je(),Y(s[h],1,1,function(){s[h]=null}),Ge(),(t=s[e])?t.p(c,d):(t=s[e]=a[e](c)).c(),J(t,1),t.m(r.parentNode,r)),c[2].readOnly||!c[3]||c[4]?u&&(Je(),Y(u,1,1,function(){u=null}),Ge()):u?(u.p(c,d),28&d&&J(u,1)):((u=oP(c)).c(),J(u,1),u.m(i.parentNode,i))},i:function(c){o||(J(t),J(u),o=!0)},o:function(c){Y(t),Y(u),o=!1},d:function(c){s[e].d(c),c&&he(r),u&&u.d(c),c&&he(i)}}}function NQe(n,e,t){var r,i,o=e.path,a=e.pointer,s=e.key,l=e.selection,u=e.searchResultItems,c=e.onUpdateKey,f=e.context;return n.$$set=function(d){"path"in d&&t(9,o=d.path),"pointer"in d&&t(10,a=d.pointer),"key"in d&&t(0,s=d.key),"selection"in d&&t(11,l=d.selection),"searchResultItems"in d&&t(1,u=d.searchResultItems),"onUpdateKey"in d&&t(12,c=d.onUpdateKey),"context"in d&&t(2,f=d.context)},n.$$.update=function(){3072&n.$$.dirty&&t(3,r=l?l.pointersMap[a]===!0&&Sr(l):void 0),2056&n.$$.dirty&&t(4,i=r&&zd(l))},[s,u,f,r,i,function(d){i||f.readOnly||(d.preventDefault(),f.onSelect(ro(o,!0)))},function(d){return pf("jse-key",{"jse-empty":d===""})},function(d,h){var v=c(s,f.normalization.unescapeValue(d)),p=bn(o).concat(v);f.onSelect(h===jx?nr(p,!1):ro(p,!1)),h!==xx&&f.focus()},function(){f.onSelect(ro(o,!1)),f.focus()},o,a,l,c]}var IQe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,NQe,_Qe,mn,{path:9,pointer:10,key:0,selection:11,searchResultItems:1,onUpdateKey:12,context:2},OQe),i}return ie(t)}();function aP(n,e,t){var r=n.slice();return r[9]=e[t],r}function sP(n){var e,t,r,i=[n[9].props],o=n[9].component;function a(s){for(var l={},u=0;u<i.length;u+=1)l=wl(l,i[u]);return{props:l}}return o&&(e=ur(o,a())),{c:function(){e&&Ne(e.$$.fragment),t=kn()},m:function(s,l){e&&Ae(e,s,l),me(s,t,l),r=!0},p:function(s,l){var u=1&l?_u(i,[qg(s[9].props)]):{};if(o!==(o=s[9].component)){if(e){Je();var c=e;Y(c.$$.fragment,1,0,function(){_e(c,1)}),Ge()}o?(Ne((e=ur(o,a())).$$.fragment),J(e.$$.fragment,1),Ae(e,t.parentNode,t)):e=null}else o&&e.$set(u)},i:function(s){r||(e&&J(e.$$.fragment,s),r=!0)},o:function(s){e&&Y(e.$$.fragment,s),r=!1},d:function(s){s&&he(t),e&&_e(e,s)}}}function PQe(n){for(var e,t,r=n[0],i=[],o=0;o<r.length;o+=1)i[o]=sP(aP(n,r,o));var a=function(s){return Y(i[s],1,1,function(){i[s]=null})};return{c:function(){for(var s=0;s<i.length;s+=1)i[s].c();e=kn()},m:function(s,l){for(var u=0;u<i.length;u+=1)i[u].m(s,l);me(s,e,l),t=!0},p:function(s,l){var u=Dt(l,1)[0];if(1&u){var c;for(r=s[0],c=0;c<r.length;c+=1){var f=aP(s,r,c);i[c]?(i[c].p(f,u),J(i[c],1)):(i[c]=sP(f),i[c].c(),J(i[c],1),i[c].m(e.parentNode,e))}for(Je(),c=r.length;c<i.length;c+=1)a(c);Ge()}},i:function(s){if(!t){for(var l=0;l<r.length;l+=1)J(i[l]);t=!0}},o:function(s){i=i.filter(Boolean);for(var l=0;l<i.length;l+=1)Y(i[l]);t=!1},d:function(s){ji(i,s),s&&he(e)}}}function LQe(n,e,t){var r,i,o=e.path,a=e.value,s=e.context,l=e.isSelected,u=e.enforceString,c=e.selection,f=e.searchResultItems;return n.$$set=function(d){"path"in d&&t(1,o=d.path),"value"in d&&t(2,a=d.value),"context"in d&&t(3,s=d.context),"isSelected"in d&&t(4,l=d.isSelected),"enforceString"in d&&t(5,u=d.enforceString),"selection"in d&&t(6,c=d.selection),"searchResultItems"in d&&t(7,f=d.searchResultItems)},n.$$.update=function(){72&n.$$.dirty&&t(8,r=!s.readOnly&&Cn(c)&&zd(c)),510&n.$$.dirty&&t(0,i=s.onRenderValue({path:o,value:a,readOnly:s.readOnly,enforceString:u,isSelected:l,isEditing:r,parser:s.parser,normalization:s.normalization,selection:c,searchResultItems:f,onPatch:s.onPatch,onPasteJson:s.onPasteJson,onSelect:s.onSelect,onFind:s.onFind,focus:s.focus}))},[i,o,a,s,l,u,c,f,r]}var DQe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,LQe,PQe,mn,{path:1,value:2,context:3,isSelected:4,enforceString:5,selection:6,searchResultItems:7}),i}return ie(t)}(),Vr={selecting:!1,selectionAnchor:null,selectionAnchorType:null,selectionFocus:null,dragging:!1};function C1(n){var e=n.json,t=n.documentState,r=n.deltaY,i=n.items,o=t.selection,a=r<0?function(f){for(var d=f.items,h=f.selection,v=f.deltaY,p=xc(h),m=d.findIndex(function(x){return jn(x.path,p)}),g=function(){var x;return(x=d[y-1])===null||x===void 0?void 0:x.height},y=m,b=0;g()!==void 0&&Math.abs(v)>b+g()/2;)b+=g(),y-=1;var w=d[y].path,k=y-m;return y!==m&&d[y]!==void 0?{beforePath:w,offset:k}:void 0}({json:e,selection:o,deltaY:r,items:i}):function(f){for(var d,h=f.json,v=f.items,p=f.selection,m=f.deltaY,g=_v(p),y=v.findIndex(function(_){return jn(_.path,g)}),b=0,w=y,k=function(){var _;return(_=v[w+1])===null||_===void 0?void 0:_.height};k()!==void 0&&Math.abs(m)>b+k()/2;)b+=k(),w+=1;var x=bn(g),C=de.exports.getIn(h,x),T=Array.isArray(C),M=(d=v[T?w:w+1])===null||d===void 0?void 0:d.path,B=w-y;return M?{beforePath:M,offset:B}:{append:!0,offset:B}}({json:e,selection:o,deltaY:r,items:i});if(!a||a.offset===0)return{operations:void 0,updatedSelection:void 0,offset:0};var s=function(f,d,h){var v=h.beforePath,p=h.append,m=bn(d.focusPath),g=de.exports.getIn(f,m);if(!(p||v&&bh(v,m)&&v.length>m.length))return[];var y=xc(d),b=_v(d),w=Nt(y),k=Nt(b),x=v?v[m.length]:void 0;if(!de.exports.isJSONObject(g)){if(de.exports.isJSONArray(g)){var C=Ar(w),T=Ar(k),M=x!==void 0?Ar(x):g.length;return E2(T-C+1,M<C?function(j){return{op:"move",from:de.exports.compileJSONPointer(m.concat(String(C+j))),path:de.exports.compileJSONPointer(m.concat(String(M+j)))}}:function(){return{op:"move",from:de.exports.compileJSONPointer(m.concat(String(C))),path:de.exports.compileJSONPointer(m.concat(String(M)))}})}throw new Error("Cannot create move operations: parent must be an Object or Array")}var B=Object.keys(g),_=B.indexOf(w),N=B.indexOf(k),$=p?B.length:B.indexOf(x);return _!==-1&&N!==-1&&$!==-1?$>_?[].concat(Ut(B.slice(_,N+1)),Ut(B.slice($,B.length))).map(function(j){return Eu(m,j)}):[].concat(Ut(B.slice($,_)),Ut(B.slice(N+1,B.length))).map(function(j){return Eu(m,j)}):void 0}(e,t.selection,a),l=bn(xc(o)),u=de.exports.getIn(e,l);if(Array.isArray(u)){var c=function(f){var d,h,v=f.items,p=f.json,m=f.selection,g=f.offset,y=xc(m),b=_v(m),w=v.findIndex(function(T){return jn(T.path,y)}),k=v.findIndex(function(T){return jn(T.path,b)}),x=(d=v[w+g])===null||d===void 0?void 0:d.path,C=(h=v[k+g])===null||h===void 0?void 0:h.path;return Er(p,x,C)}({items:i,json:e,selection:o,offset:a.offset});return{operations:s,updatedSelection:c,offset:a.offset}}return{operations:s,updatedSelection:void 0,offset:a.offset}}function ga(n,e){return function(t,r){if(t){for(var i={},o=0,a=Object.keys(t);o<a.length;o++){var s=a[o];r(s,t[s])&&(i[s]=t[s])}return Object.keys(i).length>0?i:void 0}}(n,function(t){return de.exports.startsWithJSONPointer(t,e)})}function RQe(n){Gt(n,"svelte-r4omvg",".jse-tooltip.svelte-r4omvg{font-family:var(--jse-font-family);font-size:var(--jse-font-size);line-height:normal;padding:calc(0.5 * var(--jse-padding)) var(--jse-padding);border-radius:3px;background:var(--jse-context-menu-background);color:var(--jse-context-menu-color);white-space:nowrap;box-shadow:var(--jse-controls-box-shadow)}")}function BQe(n){var e,t;return{c:function(){e=ee("div"),t=ot(n[0]),E(e,"class","jse-tooltip svelte-r4omvg")},m:function(r,i){me(r,e,i),W(e,t)},p:function(r,i){1&Dt(i,1)[0]&&on(t,r[0])},i:Ze,o:Ze,d:function(r){r&&he(e)}}}function zQe(n,e,t){var r=e.text;return n.$$set=function(i){"text"in i&&t(0,r=i.text)},[r]}var qQe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,zQe,BQe,Or,{text:0},RQe),i}return ie(t)}();function vj(n,e){var t,r=e.text,i=e.openAbsolutePopup,o=e.closeAbsolutePopup;function a(){t=i(qQe,{text:r},{position:"top",width:10*r.length,offsetTop:3,anchor:n,closeOnOuterClick:!0})}function s(){o(t)}return n.addEventListener("mouseenter",a),n.addEventListener("mouseleave",s),{destroy:function(){n.removeEventListener("mouseenter",a),n.removeEventListener("mouseleave",s)}}}function FQe(n){Gt(n,"svelte-1q62mys","button.jse-validation-error.svelte-1q62mys{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;color:var(--jse-warning-color);padding:0 5px;margin:0;font-size:var(--jse-font-size-mono);height:var(--jse-line-height);overflow:hidden}")}function HQe(n){var e,t,r,i,o,a;return t=new Jt({props:{data:zu}}),{c:function(){e=ee("button"),Ne(t.$$.fragment),E(e,"type","button"),E(e,"class","jse-validation-error svelte-1q62mys")},m:function(s,l){me(s,e,l),Ae(t,e,null),i=!0,o||(a=[Be(e,"click",function(){oo(n[0])&&n[0].apply(this,arguments)}),xf(r=vj.call(null,e,$e({text:n[1]},n[2])))],o=!0)},p:function(s,l){var u=Dt(l,1)[0];n=s,r&&oo(r.update)&&2&u&&r.update.call(null,$e({text:n[1]},n[2]))},i:function(s){i||(J(t.$$.fragment,s),i=!0)},o:function(s){Y(t.$$.fragment,s),i=!1},d:function(s){s&&he(e),_e(t),o=!1,Xn(a)}}}function VQe(n,e,t){var r,i=Ni("absolute-popup"),o=e.validationError,a=e.onExpand;return n.$$set=function(s){"validationError"in s&&t(3,o=s.validationError),"onExpand"in s&&t(0,a=s.onExpand)},n.$$.update=function(){8&n.$$.dirty&&t(1,r=o.isChildError?"Contains invalid data":o.message)},[a,r,i,o]}var mj=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,VQe,HQe,Or,{validationError:3,onExpand:0},FQe),i}return ie(t)}();function WQe(n){Gt(n,"svelte-rjsbr3",".jse-json-node.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3{position:relative;color:var(--jse-text-color)}.jse-json-node.jse-root.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3{min-height:100%;padding-bottom:2px;box-sizing:border-box}.jse-json-node.jse-root.svelte-rjsbr3>.jse-header-outer.svelte-rjsbr3 .jse-context-menu-button,.jse-json-node.jse-root.svelte-rjsbr3>.jse-contents-outer.svelte-rjsbr3>.jse-contents.svelte-rjsbr3 .jse-context-menu-button{top:0;right:calc(-2px - var(--jse-context-menu-button-size))}.jse-json-node.jse-root.svelte-rjsbr3>.jse-contents-outer.svelte-rjsbr3>.jse-contents.svelte-rjsbr3.svelte-rjsbr3{padding-left:0}.jse-json-node.jse-hovered.svelte-rjsbr3>.jse-header-outer.svelte-rjsbr3>.jse-header.svelte-rjsbr3>.jse-meta.svelte-rjsbr3,.jse-json-node.jse-hovered.svelte-rjsbr3 .jse-props .jse-header.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-json-node.jse-hovered.svelte-rjsbr3 .jse-items .jse-header.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-json-node.jse-hovered.svelte-rjsbr3 .jse-props .jse-contents.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-json-node.jse-hovered.svelte-rjsbr3 .jse-items .jse-contents.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-json-node.jse-hovered.svelte-rjsbr3 .jse-footer.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3{background:var(--jse-hover-background-color)}.jse-json-node.svelte-rjsbr3 .jse-props.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-json-node.svelte-rjsbr3 .jse-items.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3{position:relative}.jse-json-node.svelte-rjsbr3 .jse-header-outer.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-json-node.svelte-rjsbr3 .jse-footer-outer.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3{display:flex}.jse-json-node.svelte-rjsbr3 .jse-header.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3{position:relative}.jse-json-node.svelte-rjsbr3 .jse-header .jse-meta.svelte-rjsbr3>.jse-meta-inner.svelte-rjsbr3.svelte-rjsbr3{display:flex;justify-content:center}.jse-json-node.svelte-rjsbr3 .jse-contents-outer.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3{display:flex}.jse-json-node.svelte-rjsbr3 .jse-header.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-json-node.svelte-rjsbr3 .jse-contents.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3{display:flex;flex-direction:row}.jse-json-node.svelte-rjsbr3 .jse-contents.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3{padding-left:var(--jse-indent-size)}.jse-json-node.svelte-rjsbr3 .jse-footer.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3{display:inline-flex;padding-left:calc(var(--jse-indent-size) + 5px)}.jse-json-node.svelte-rjsbr3 .jse-insert-selection-area.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3{visibility:hidden;padding:0 calc(0.5 * var(--jse-padding));flex:1}.jse-json-node.svelte-rjsbr3 .jse-insert-selection-area.jse-inside.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3{display:inline-flex;align-items:center}.jse-json-node.svelte-rjsbr3 .jse-insert-selection-area.jse-after.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3{display:flex;align-items:flex-end}.jse-json-node.svelte-rjsbr3:hover>.jse-contents-outer .jse-insert-selection-area.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3:not(.jse-selected),.jse-json-node.svelte-rjsbr3 .jse-header-outer.svelte-rjsbr3:hover>.jse-insert-selection-area.svelte-rjsbr3.svelte-rjsbr3:not(.jse-selected),.jse-json-node.svelte-rjsbr3 .jse-footer-outer:hover .jse-insert-selection-area.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3:not(.jse-selected){visibility:visible;z-index:1}.jse-json-node.svelte-rjsbr3 .jse-context-menu-button-anchor.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3{position:relative}.jse-json-node.svelte-rjsbr3 .jse-insert-area.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3{display:flex;position:relative;max-width:250px;min-width:100px;height:0;margin-right:calc(0.5 * var(--jse-padding));outline:1px solid}.jse-json-node.svelte-rjsbr3 .jse-insert-area.svelte-rjsbr3 .jse-context-menu-button{right:-1px;background:var(--jse-selection-background-color)}.jse-json-node.svelte-rjsbr3 .jse-insert-area.jse-hovered.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3{outline-color:var(--jse-selection-background-color)}.jse-json-node.jse-selected.svelte-rjsbr3 .jse-header.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-json-node.jse-selected.svelte-rjsbr3 .jse-contents.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-json-node.jse-selected.svelte-rjsbr3 .jse-meta.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-json-node.jse-selected.svelte-rjsbr3 .jse-expand.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-json-node.jse-selected.svelte-rjsbr3 .jse-footer.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-json-node.jse-selected.svelte-rjsbr3 .jse-key,.jse-json-node.jse-selected.svelte-rjsbr3 .jse-value{background:var(--jse-selection-background-color) !important;cursor:grab}.jse-json-node.jse-selected.svelte-rjsbr3 .jse-expand.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3{cursor:pointer}.jse-json-node.jse-selected-key.svelte-rjsbr3>.jse-contents-outer.svelte-rjsbr3>.jse-contents.svelte-rjsbr3>.jse-identifier>.jse-key,.jse-json-node.jse-selected-key.svelte-rjsbr3>.jse-header-outer.svelte-rjsbr3>.jse-header.svelte-rjsbr3>.jse-identifier>.jse-key{background:var(--jse-selection-background-color);cursor:grab}.jse-json-node.jse-selected-value.svelte-rjsbr3>.jse-contents-outer.svelte-rjsbr3>.jse-contents.svelte-rjsbr3>.jse-value{background:var(--jse-selection-background-color);cursor:grab}.jse-json-node.svelte-rjsbr3 .jse-collapsed-items.jse-selected,.jse-json-node.jse-selected.svelte-rjsbr3 .jse-collapsed-items,.jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-collapsed-items{background-color:var(--jse-selection-background-color);cursor:grab;background-image:linear-gradient(var(--jse-collapsed-items-selected-background-color), var(--jse-collapsed-items-selected-background-color)), linear-gradient(to bottom right, transparent 50.5%, var(--jse-collapsed-items-selected-background-color) 50.5%), linear-gradient(to bottom left, transparent 50.5%, var(--jse-collapsed-items-selected-background-color) 50.5%), linear-gradient(to top right, transparent 50.5%, var(--jse-collapsed-items-selected-background-color) 50.5%), linear-gradient(to top left, transparent 50.5%, var(--jse-collapsed-items-selected-background-color) 50.5%)}.jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-meta.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-json-node.jse-selected-value.svelte-rjsbr3>.jse-header-outer.svelte-rjsbr3>.jse-header.svelte-rjsbr3>.jse-meta.svelte-rjsbr3,.jse-json-node.jse-selected-value.svelte-rjsbr3>.jse-footer-outer.svelte-rjsbr3>.jse-footer.svelte-rjsbr3.svelte-rjsbr3,.jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-props .jse-contents.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-props .jse-header.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-props .jse-footer.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-props .jse-expand.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-items .jse-contents.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-items .jse-header.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-items .jse-footer.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-items .jse-expand.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3{background:var(--jse-selection-background-color) !important}.jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-meta.svelte-rjsbr3 .jse-key,.jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-meta.svelte-rjsbr3 .jse-value,.jse-json-node.jse-selected-value.svelte-rjsbr3>.jse-header-outer.svelte-rjsbr3>.jse-header.svelte-rjsbr3>.jse-meta.svelte-rjsbr3 .jse-key,.jse-json-node.jse-selected-value.svelte-rjsbr3>.jse-header-outer.svelte-rjsbr3>.jse-header.svelte-rjsbr3>.jse-meta.svelte-rjsbr3 .jse-value,.jse-json-node.jse-selected-value.svelte-rjsbr3>.jse-footer-outer.svelte-rjsbr3>.jse-footer.svelte-rjsbr3 .jse-key,.jse-json-node.jse-selected-value.svelte-rjsbr3>.jse-footer-outer.svelte-rjsbr3>.jse-footer.svelte-rjsbr3 .jse-value,.jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-props .jse-contents.svelte-rjsbr3 .jse-key,.jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-props .jse-contents.svelte-rjsbr3 .jse-value,.jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-props .jse-header.svelte-rjsbr3 .jse-key,.jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-props .jse-header.svelte-rjsbr3 .jse-value,.jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-props .jse-footer.svelte-rjsbr3 .jse-key,.jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-props .jse-footer.svelte-rjsbr3 .jse-value,.jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-props .jse-expand.svelte-rjsbr3 .jse-key,.jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-props .jse-expand.svelte-rjsbr3 .jse-value,.jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-items .jse-contents.svelte-rjsbr3 .jse-key,.jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-items .jse-contents.svelte-rjsbr3 .jse-value,.jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-items .jse-header.svelte-rjsbr3 .jse-key,.jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-items .jse-header.svelte-rjsbr3 .jse-value,.jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-items .jse-footer.svelte-rjsbr3 .jse-key,.jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-items .jse-footer.svelte-rjsbr3 .jse-value,.jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-items .jse-expand.svelte-rjsbr3 .jse-key,.jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-items .jse-expand.svelte-rjsbr3 .jse-value{background:var(--jse-selection-background-color);cursor:grab}.jse-json-node.jse-readonly.svelte-rjsbr3 .jse-header.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-json-node.jse-readonly.svelte-rjsbr3 .jse-contents.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-json-node.jse-readonly.svelte-rjsbr3 .jse-meta.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-json-node.jse-readonly.svelte-rjsbr3 .jse-expand.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-json-node.jse-readonly.svelte-rjsbr3 .jse-footer.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-json-node.jse-readonly.svelte-rjsbr3 .jse-key,.jse-json-node.jse-readonly.svelte-rjsbr3 .jse-value,.jse-json-node.jse-readonly.svelte-rjsbr3 .jse-collapsed-items{cursor:default !important}.jse-json-node.svelte-rjsbr3 .jse-insert-area.jse-selected.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3{z-index:2;outline-color:var(--jse-context-menu-button-background)}.jse-json-node.svelte-rjsbr3 .jse-insert-area.jse-selected.svelte-rjsbr3 .jse-context-menu-button{background:var(--jse-context-menu-button-background)}.jse-json-node.svelte-rjsbr3 .jse-insert-area.jse-selected.svelte-rjsbr3 .jse-context-menu-button:hover{background:var(--jse-context-menu-button-background-highlight)}.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-rjsbr3 .jse-header.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-rjsbr3 .jse-contents.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-rjsbr3 .jse-meta.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-rjsbr3 .jse-expand.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-rjsbr3 .jse-footer.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-rjsbr3 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-rjsbr3 .jse-value{background:var(--jse-selection-background-light-color) !important;cursor:grab}.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-rjsbr3 .jse-expand.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3{cursor:pointer}.jse-main:not(.jse-focus) .jse-json-node.jse-selected-key.svelte-rjsbr3>.jse-contents-outer.svelte-rjsbr3>.jse-contents.svelte-rjsbr3>.jse-identifier>.jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-key.svelte-rjsbr3>.jse-header-outer.svelte-rjsbr3>.jse-header.svelte-rjsbr3>.jse-identifier>.jse-key{background:var(--jse-selection-background-light-color);cursor:grab}.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3>.jse-contents-outer.svelte-rjsbr3>.jse-contents.svelte-rjsbr3>.jse-value{background:var(--jse-selection-background-light-color);cursor:grab}.jse-main:not(.jse-focus) .jse-json-node.svelte-rjsbr3 .jse-collapsed-items.jse-selected,.jse-main:not(.jse-focus) .jse-json-node.jse-selected.svelte-rjsbr3 .jse-collapsed-items,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-collapsed-items{background-color:var(--jse-selection-background-light-color);cursor:grab;background-image:linear-gradient(var(--jse-collapsed-items-selected-background-color), var(--jse-collapsed-items-selected-background-color)), linear-gradient(to bottom right, transparent 50.5%, var(--jse-collapsed-items-selected-background-color) 50.5%), linear-gradient(to bottom left, transparent 50.5%, var(--jse-collapsed-items-selected-background-color) 50.5%), linear-gradient(to top right, transparent 50.5%, var(--jse-collapsed-items-selected-background-color) 50.5%), linear-gradient(to top left, transparent 50.5%, var(--jse-collapsed-items-selected-background-color) 50.5%)}.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-meta.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3>.jse-header-outer.svelte-rjsbr3>.jse-header.svelte-rjsbr3>.jse-meta.svelte-rjsbr3,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3>.jse-footer-outer.svelte-rjsbr3>.jse-footer.svelte-rjsbr3.svelte-rjsbr3,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-props .jse-contents.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-props .jse-header.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-props .jse-footer.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-props .jse-expand.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-items .jse-contents.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-items .jse-header.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-items .jse-footer.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-items .jse-expand.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3{background:var(--jse-selection-background-light-color) !important}.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-meta.svelte-rjsbr3 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-meta.svelte-rjsbr3 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3>.jse-header-outer.svelte-rjsbr3>.jse-header.svelte-rjsbr3>.jse-meta.svelte-rjsbr3 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3>.jse-header-outer.svelte-rjsbr3>.jse-header.svelte-rjsbr3>.jse-meta.svelte-rjsbr3 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3>.jse-footer-outer.svelte-rjsbr3>.jse-footer.svelte-rjsbr3 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3>.jse-footer-outer.svelte-rjsbr3>.jse-footer.svelte-rjsbr3 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-props .jse-contents.svelte-rjsbr3 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-props .jse-contents.svelte-rjsbr3 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-props .jse-header.svelte-rjsbr3 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-props .jse-header.svelte-rjsbr3 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-props .jse-footer.svelte-rjsbr3 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-props .jse-footer.svelte-rjsbr3 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-props .jse-expand.svelte-rjsbr3 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-props .jse-expand.svelte-rjsbr3 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-items .jse-contents.svelte-rjsbr3 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-items .jse-contents.svelte-rjsbr3 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-items .jse-header.svelte-rjsbr3 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-items .jse-header.svelte-rjsbr3 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-items .jse-footer.svelte-rjsbr3 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-items .jse-footer.svelte-rjsbr3 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-items .jse-expand.svelte-rjsbr3 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-selected-value.svelte-rjsbr3 .jse-items .jse-expand.svelte-rjsbr3 .jse-value{background:var(--jse-selection-background-light-color);cursor:grab}.jse-main:not(.jse-focus) .jse-json-node.jse-readonly.svelte-rjsbr3 .jse-header.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-main:not(.jse-focus) .jse-json-node.jse-readonly.svelte-rjsbr3 .jse-contents.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-main:not(.jse-focus) .jse-json-node.jse-readonly.svelte-rjsbr3 .jse-meta.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-main:not(.jse-focus) .jse-json-node.jse-readonly.svelte-rjsbr3 .jse-expand.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-main:not(.jse-focus) .jse-json-node.jse-readonly.svelte-rjsbr3 .jse-footer.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-main:not(.jse-focus) .jse-json-node.jse-readonly.svelte-rjsbr3 .jse-key,.jse-main:not(.jse-focus) .jse-json-node.jse-readonly.svelte-rjsbr3 .jse-value,.jse-main:not(.jse-focus) .jse-json-node.jse-readonly.svelte-rjsbr3 .jse-collapsed-items{cursor:default !important}.jse-main:not(.jse-focus) .jse-json-node.svelte-rjsbr3 .jse-insert-area.jse-selected.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3{z-index:2;outline-color:var(--jse-selection-background-color)}.jse-main:not(.jse-focus) .jse-json-node.svelte-rjsbr3 .jse-insert-area.jse-selected.svelte-rjsbr3 .jse-context-menu-button{background:var(--jse-selection-background-color)}.jse-main:not(.jse-focus) .jse-json-node.svelte-rjsbr3 .jse-insert-area.jse-selected.svelte-rjsbr3 .jse-context-menu-button:hover{background:var(--jse-selection-background-color)}.jse-expand.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3{width:var(--jse-indent-size);padding:0;margin:0;border:none;cursor:pointer;background:transparent;color:var(--jse-delimiter-color);font-size:var(--jse-font-size-mono);height:var(--jse-line-height)}.jse-expand.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3:hover{opacity:0.8}.jse-meta.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-separator.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-index.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3,.jse-bracket.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3{vertical-align:top;color:var(--jse-delimiter-color)}.jse-index.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3{padding:0 calc(0.5 * var(--jse-padding))}.jse-bracket.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3{padding:0 2px}.jse-bracket.jse-expanded.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3{padding-right:var(--jse-padding)}.jse-tag.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3{border:none;font-size:80%;font-family:var(--jse-font-family);color:var(--jse-tag-color);background:var(--jse-tag-background);border-radius:2px;cursor:pointer;position:relative;display:inline-block;padding:0 4px;line-height:normal;margin:1px 0}.jse-tag.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3:hover{opacity:0.8}.jse-tag.jse-expanded.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3{opacity:0.7;cursor:inherit}.jse-identifier.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3.svelte-rjsbr3{vertical-align:top;position:relative}")}var UQe=function(n){return{}},lP=function(n){return{}};function uP(n,e,t){var r=n.slice();return r[53]=e[t],r}var JQe=function(n){return{}},cP=function(n){return{}};function fP(n,e,t){var r=n.slice();return r[47]=e[t],r[49]=t,r}function dP(n,e,t){var r=n.slice();return r[50]=e[t],r}var GQe=function(n){return{}},hP=function(n){return{}};function KQe(n){var e,t,r,i,o,a,s,l,u,c=!n[8].readOnly&&n[16]&&n[7]&&(Cn(n[7])||Sn(n[7]))&&!n[7].edit&&jn(n[7].focusPath,n[1]),f=n[34].identifier,d=ia(f,n,n[35],lP),h=!n[17]&&pP();o=new DQe({props:{path:n[1],value:n[0],enforceString:n[13],isSelected:n[16],selection:n[16]?n[7]:void 0,searchResultItems:GI(n[6],n[9]),context:n[8]}});var v=c&&vP(n),p=n[15]&&mP(n),m=!n[17]&&gP(n);return{c:function(){e=ee("div"),t=ee("div"),d&&d.c(),r=je(),h&&h.c(),i=je(),Ne(o.$$.fragment),a=je(),v&&v.c(),s=je(),p&&p.c(),l=je(),m&&m.c(),E(t,"class","jse-contents svelte-rjsbr3"),E(e,"class","jse-contents-outer svelte-rjsbr3"),E(e,"style",n[18])},m:function(g,y){me(g,e,y),W(e,t),d&&d.m(t,null),W(t,r),h&&h.m(t,null),W(t,i),Ae(o,t,null),W(t,a),v&&v.m(t,null),W(e,s),p&&p.m(e,null),W(e,l),m&&m.m(e,null),u=!0},p:function(g,y){d&&d.p&&(!u||16&y[1])&&aa(d,f,g,g[35],u?oa(f,g[35],y,UQe):sa(g[35]),lP),g[17]?h&&(h.d(1),h=null):h||((h=pP()).c(),h.m(t,i));var b={};2&y[0]&&(b.path=g[1]),1&y[0]&&(b.value=g[0]),8192&y[0]&&(b.enforceString=g[13]),65536&y[0]&&(b.isSelected=g[16]),65664&y[0]&&(b.selection=g[16]?g[7]:void 0),576&y[0]&&(b.searchResultItems=GI(g[6],g[9])),256&y[0]&&(b.context=g[8]),o.$set(b),65922&y[0]&&(c=!g[8].readOnly&&g[16]&&g[7]&&(Cn(g[7])||Sn(g[7]))&&!g[7].edit&&jn(g[7].focusPath,g[1])),c?v?(v.p(g,y),65922&y[0]&&J(v,1)):((v=vP(g)).c(),J(v,1),v.m(t,null)):v&&(Je(),Y(v,1,1,function(){v=null}),Ge()),g[15]?p?(p.p(g,y),32768&y[0]&&J(p,1)):((p=mP(g)).c(),J(p,1),p.m(e,l)):p&&(Je(),Y(p,1,1,function(){p=null}),Ge()),g[17]?m&&(m.d(1),m=null):m?m.p(g,y):((m=gP(g)).c(),m.m(e,null)),(!u||262144&y[0])&&E(e,"style",g[18])},i:function(g){u||(J(d,g),J(o.$$.fragment,g),J(v),J(p),u=!0)},o:function(g){Y(d,g),Y(o.$$.fragment,g),Y(v),Y(p),u=!1},d:function(g){g&&he(e),d&&d.d(g),h&&h.d(),_e(o),v&&v.d(),p&&p.d(),m&&m.d()}}}function QQe(n){var e,t,r,i,o,a,s,l,u,c,f,d,h,v,p,m,g,y,b=!n[8].readOnly&&n[16]&&n[7]&&(Cn(n[7])||Sn(n[7]))&&!n[7].edit&&jn(n[7].focusPath,n[1]),w=[XQe,ZQe],k=[];function x(A,I){return A[12]?0:1}i=x(n),o=k[i]=w[i](n);var C=n[34].identifier,T=ia(C,n,n[35],cP),M=!n[17]&&yP();function B(A,I){return A[12]?tYe:eYe}var _=B(n),N=_(n),$=b&&bP(n),j=n[15]&&(!n[12]||!n[15].isChildError)&&wP(n);function D(A,I){return A[12]?rYe:A[17]?void 0:nYe}var q=D(n),R=q&&q(n),G=n[12]&&kP(n);return{c:function(){e=ee("div"),t=ee("div"),r=ee("button"),o.c(),a=je(),T&&T.c(),s=je(),M&&M.c(),l=je(),u=ee("div"),c=ee("div"),N.c(),f=je(),$&&$.c(),d=je(),j&&j.c(),h=je(),R&&R.c(),v=je(),G&&G.c(),p=kn(),E(r,"type","button"),E(r,"class","jse-expand svelte-rjsbr3"),E(r,"title","Expand or collapse this object (Ctrl+Click to expand/collapse recursively)"),E(c,"class","jse-meta-inner svelte-rjsbr3"),E(u,"class","jse-meta svelte-rjsbr3"),E(u,"data-type","selectable-value"),E(t,"class","jse-header svelte-rjsbr3"),E(e,"class","jse-header-outer svelte-rjsbr3"),E(e,"style",n[18])},m:function(A,I){me(A,e,I),W(e,t),W(t,r),k[i].m(r,null),W(t,a),T&&T.m(t,null),W(t,s),M&&M.m(t,null),W(t,l),W(t,u),W(u,c),N.m(c,null),W(t,f),$&&$.m(t,null),W(e,d),j&&j.m(e,null),W(e,h),R&&R.m(e,null),me(A,v,I),G&&G.m(A,I),me(A,p,I),m=!0,g||(y=Be(r,"click",n[21]),g=!0)},p:function(A,I){var z=i;(i=x(A))===z?k[i].p(A,I):(Je(),Y(k[z],1,1,function(){k[z]=null}),Ge(),(o=k[i])?o.p(A,I):(o=k[i]=w[i](A)).c(),J(o,1),o.m(r,null)),T&&T.p&&(!m||16&I[1])&&aa(T,C,A,A[35],m?oa(C,A[35],I,JQe):sa(A[35]),cP),A[17]?M&&(M.d(1),M=null):M||((M=yP()).c(),M.m(t,l)),_===(_=B(A))&&N?N.p(A,I):(N.d(1),(N=_(A))&&(N.c(),N.m(c,null))),65922&I[0]&&(b=!A[8].readOnly&&A[16]&&A[7]&&(Cn(A[7])||Sn(A[7]))&&!A[7].edit&&jn(A[7].focusPath,A[1])),b?$?($.p(A,I),65922&I[0]&&J($,1)):(($=bP(A)).c(),J($,1),$.m(t,null)):$&&(Je(),Y($,1,1,function(){$=null}),Ge()),!A[15]||A[12]&&A[15].isChildError?j&&(Je(),Y(j,1,1,function(){j=null}),Ge()):j?(j.p(A,I),36864&I[0]&&J(j,1)):((j=wP(A)).c(),J(j,1),j.m(e,h)),q===(q=D(A))&&R?R.p(A,I):(R&&R.d(1),(R=q&&q(A))&&(R.c(),R.m(e,null))),(!m||262144&I[0])&&E(e,"style",A[18]),A[12]?G?(G.p(A,I),4096&I[0]&&J(G,1)):((G=kP(A)).c(),J(G,1),G.m(p.parentNode,p)):G&&(Je(),Y(G,1,1,function(){G=null}),Ge())},i:function(A){m||(J(o),J(T,A),J($),J(j),J(G),m=!0)},o:function(A){Y(o),Y(T,A),Y($),Y(j),Y(G),m=!1},d:function(A){A&&he(e),k[i].d(),T&&T.d(A),M&&M.d(),N.d(),$&&$.d(),j&&j.d(),R&&R.d(),A&&he(v),G&&G.d(A),A&&he(p),g=!1,y()}}}function YQe(n){var e,t,r,i,o,a,s,l,u,c,f,d,h,v,p,m,g,y,b=!n[8].readOnly&&n[16]&&n[7]&&(Cn(n[7])||Sn(n[7]))&&!n[7].edit&&jn(n[7].focusPath,n[1]),w=[aYe,oYe],k=[];function x(A,I){return A[12]?0:1}i=x(n),o=k[i]=w[i](n);var C=n[34].identifier,T=ia(C,n,n[35],hP),M=!n[17]&&SP();function B(A,I){return A[12]?lYe:sYe}var _=B(n),N=_(n),$=b&&TP(n),j=n[15]&&(!n[12]||!n[15].isChildError)&&OP(n);function D(A,I){return A[12]?cYe:uYe}var q=D(n),R=q(n),G=n[12]&&EP(n);return{c:function(){e=ee("div"),t=ee("div"),r=ee("button"),o.c(),a=je(),T&&T.c(),s=je(),M&&M.c(),l=je(),u=ee("div"),c=ee("div"),N.c(),f=je(),$&&$.c(),d=je(),j&&j.c(),h=je(),R.c(),v=je(),G&&G.c(),p=kn(),E(r,"type","button"),E(r,"class","jse-expand svelte-rjsbr3"),E(r,"title","Expand or collapse this array (Ctrl+Click to expand/collapse recursively)"),E(c,"class","jse-meta-inner svelte-rjsbr3"),E(c,"data-type","selectable-value"),E(u,"class","jse-meta svelte-rjsbr3"),E(t,"class","jse-header svelte-rjsbr3"),E(e,"class","jse-header-outer svelte-rjsbr3"),E(e,"style",n[18])},m:function(A,I){me(A,e,I),W(e,t),W(t,r),k[i].m(r,null),W(t,a),T&&T.m(t,null),W(t,s),M&&M.m(t,null),W(t,l),W(t,u),W(u,c),N.m(c,null),W(t,f),$&&$.m(t,null),W(e,d),j&&j.m(e,null),W(e,h),R.m(e,null),me(A,v,I),G&&G.m(A,I),me(A,p,I),m=!0,g||(y=Be(r,"click",n[21]),g=!0)},p:function(A,I){var z=i;(i=x(A))===z?k[i].p(A,I):(Je(),Y(k[z],1,1,function(){k[z]=null}),Ge(),(o=k[i])?o.p(A,I):(o=k[i]=w[i](A)).c(),J(o,1),o.m(r,null)),T&&T.p&&(!m||16&I[1])&&aa(T,C,A,A[35],m?oa(C,A[35],I,GQe):sa(A[35]),hP),A[17]?M&&(M.d(1),M=null):M||((M=SP()).c(),M.m(t,l)),_===(_=B(A))&&N?N.p(A,I):(N.d(1),(N=_(A))&&(N.c(),N.m(c,null))),65922&I[0]&&(b=!A[8].readOnly&&A[16]&&A[7]&&(Cn(A[7])||Sn(A[7]))&&!A[7].edit&&jn(A[7].focusPath,A[1])),b?$?($.p(A,I),65922&I[0]&&J($,1)):(($=TP(A)).c(),J($,1),$.m(t,null)):$&&(Je(),Y($,1,1,function(){$=null}),Ge()),!A[15]||A[12]&&A[15].isChildError?j&&(Je(),Y(j,1,1,function(){j=null}),Ge()):j?(j.p(A,I),36864&I[0]&&J(j,1)):((j=OP(A)).c(),J(j,1),j.m(e,h)),q===(q=D(A))&&R?R.p(A,I):(R.d(1),(R=q(A))&&(R.c(),R.m(e,null))),(!m||262144&I[0])&&E(e,"style",A[18]),A[12]?G?(G.p(A,I),4096&I[0]&&J(G,1)):((G=EP(A)).c(),J(G,1),G.m(p.parentNode,p)):G&&(Je(),Y(G,1,1,function(){G=null}),Ge())},i:function(A){m||(J(o),J(T,A),J($),J(j),J(G),m=!0)},o:function(A){Y(o),Y(T,A),Y($),Y(j),Y(G),m=!1},d:function(A){A&&he(e),k[i].d(),T&&T.d(A),M&&M.d(),N.d(),$&&$.d(),j&&j.d(),R.d(),A&&he(v),G&&G.d(A),A&&he(p),g=!1,y()}}}function pP(n){var e;return{c:function(){(e=ee("div")).textContent=":",E(e,"class","jse-separator svelte-rjsbr3")},m:function(t,r){me(t,e,r)},d:function(t){t&&he(e)}}}function vP(n){var e,t,r;return t=new Fu({props:{selected:!0,onContextMenu:n[8].onContextMenu}}),{c:function(){e=ee("div"),Ne(t.$$.fragment),E(e,"class","jse-context-menu-button-anchor svelte-rjsbr3")},m:function(i,o){me(i,e,o),Ae(t,e,null),r=!0},p:function(i,o){var a={};256&o[0]&&(a.onContextMenu=i[8].onContextMenu),t.$set(a)},i:function(i){r||(J(t.$$.fragment,i),r=!0)},o:function(i){Y(t.$$.fragment,i),r=!1},d:function(i){i&&he(e),_e(t)}}}function mP(n){var e,t;return e=new mj({props:{validationError:n[15],onExpand:n[22]}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o={};32768&i[0]&&(o.validationError=r[15]),e.$set(o)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function gP(n){var e,t,r;return{c:function(){E(e=ee("div"),"class","jse-insert-selection-area jse-after svelte-rjsbr3"),E(e,"data-type","insert-selection-area-after")},m:function(i,o){me(i,e,o),t||(r=Be(e,"click",n[30]),t=!0)},p:Ze,d:function(i){i&&he(e),t=!1,r()}}}function ZQe(n){var e,t;return e=new Jt({props:{data:Gs}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:Ze,i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function XQe(n){var e,t;return e=new Jt({props:{data:Ma}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:Ze,i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function yP(n){var e;return{c:function(){(e=ee("div")).textContent=":",E(e,"class","jse-separator svelte-rjsbr3")},m:function(t,r){me(t,e,r)},d:function(t){t&&he(e)}}}function eYe(n){var e,t,r,i,o,a,s,l,u,c,f=Object.keys(n[0]).length+"",d=Object.keys(n[0]).length===1?"prop":"props";return{c:function(){(e=ee("div")).textContent="{",t=je(),r=ee("button"),i=ot(f),o=je(),a=ot(d),s=je(),(l=ee("div")).textContent="}",E(e,"class","jse-bracket svelte-rjsbr3"),E(r,"type","button"),E(r,"class","jse-tag svelte-rjsbr3"),E(l,"class","jse-bracket svelte-rjsbr3")},m:function(h,v){me(h,e,v),me(h,t,v),me(h,r,v),W(r,i),W(r,o),W(r,a),me(h,s,v),me(h,l,v),u||(c=Be(r,"click",n[22]),u=!0)},p:function(h,v){1&v[0]&&f!==(f=Object.keys(h[0]).length+"")&&on(i,f),1&v[0]&&d!==(d=Object.keys(h[0]).length===1?"prop":"props")&&on(a,d)},d:function(h){h&&he(e),h&&he(t),h&&he(r),h&&he(s),h&&he(l),u=!1,c()}}}function tYe(n){var e;return{c:function(){(e=ee("div")).textContent="{",E(e,"class","jse-bracket jse-expanded svelte-rjsbr3")},m:function(t,r){me(t,e,r)},p:Ze,d:function(t){t&&he(e)}}}function bP(n){var e,t,r;return t=new Fu({props:{selected:!0,onContextMenu:n[8].onContextMenu}}),{c:function(){e=ee("div"),Ne(t.$$.fragment),E(e,"class","jse-context-menu-button-anchor svelte-rjsbr3")},m:function(i,o){me(i,e,o),Ae(t,e,null),r=!0},p:function(i,o){var a={};256&o[0]&&(a.onContextMenu=i[8].onContextMenu),t.$set(a)},i:function(i){r||(J(t.$$.fragment,i),r=!0)},o:function(i){Y(t.$$.fragment,i),r=!1},d:function(i){i&&he(e),_e(t)}}}function wP(n){var e,t;return e=new mj({props:{validationError:n[15],onExpand:n[22]}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o={};32768&i[0]&&(o.validationError=r[15]),e.$set(o)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function nYe(n){var e,t,r;return{c:function(){E(e=ee("div"),"class","jse-insert-selection-area jse-after svelte-rjsbr3"),E(e,"data-type","insert-selection-area-after")},m:function(i,o){me(i,e,o),t||(r=Be(e,"click",n[30]),t=!0)},p:Ze,d:function(i){i&&he(e),t=!1,r()}}}function rYe(n){var e,t,r;return{c:function(){E(e=ee("div"),"class","jse-insert-selection-area jse-inside svelte-rjsbr3"),E(e,"data-type","insert-selection-area-inside")},m:function(i,o){me(i,e,o),t||(r=Be(e,"click",n[29]),t=!0)},p:Ze,d:function(i){i&&he(e),t=!1,r()}}}function kP(n){for(var e,t,r,i,o,a,s,l=!n[8].readOnly&&(n[10]==="hover-insert-inside"||n[16]&&_r(n[7])),u=l&&xP(n),c=n[19](n[1],n[0],n[2],n[3],n[4],n[5],n[6],n[7],n[11]),f=[],d=0;d<c.length;d+=1)f[d]=jP(uP(n,c,d));var h=function(p){return Y(f[p],1,1,function(){f[p]=null})},v=!n[17]&&CP(n);return{c:function(){e=ee("div"),u&&u.c(),t=je();for(var p=0;p<f.length;p+=1)f[p].c();r=je(),i=ee("div"),(o=ee("div")).innerHTML='<div class="jse-bracket svelte-rjsbr3">}</div>',a=je(),v&&v.c(),E(e,"class","jse-props svelte-rjsbr3"),E(o,"data-type","selectable-value"),E(o,"class","jse-footer svelte-rjsbr3"),E(i,"class","jse-footer-outer svelte-rjsbr3"),E(i,"style",n[18])},m:function(p,m){me(p,e,m),u&&u.m(e,null),W(e,t);for(var g=0;g<f.length;g+=1)f[g].m(e,null);me(p,r,m),me(p,i,m),W(i,o),W(i,a),v&&v.m(i,null),s=!0},p:function(p,m){if(66944&m[0]&&(l=!p[8].readOnly&&(p[10]==="hover-insert-inside"||p[16]&&_r(p[7]))),l?u?(u.p(p,m),66944&m[0]&&J(u,1)):((u=xP(p)).c(),J(u,1),u.m(e,t)):u&&(Je(),Y(u,1,1,function(){u=null}),Ge()),76024319&m[0]){var g;for(c=p[19](p[1],p[0],p[2],p[3],p[4],p[5],p[6],p[7],p[11]),g=0;g<c.length;g+=1){var y=uP(p,c,g);f[g]?(f[g].p(y,m),J(f[g],1)):(f[g]=jP(y),f[g].c(),J(f[g],1),f[g].m(e,null))}for(Je(),g=c.length;g<f.length;g+=1)h(g);Ge()}p[17]?v&&(v.d(1),v=null):v?v.p(p,m):((v=CP(p)).c(),v.m(i,null)),(!s||262144&m[0])&&E(i,"style",p[18])},i:function(p){if(!s){J(u);for(var m=0;m<c.length;m+=1)J(f[m]);s=!0}},o:function(p){Y(u),f=f.filter(Boolean);for(var m=0;m<f.length;m+=1)Y(f[m]);s=!1},d:function(p){p&&he(e),u&&u.d(),ji(f,p),p&&he(r),p&&he(i),v&&v.d()}}}function xP(n){var e,t,r,i;return t=new Fu({props:{selected:n[16]&&_r(n[7]),onContextMenu:n[31]}}),{c:function(){e=ee("div"),Ne(t.$$.fragment),E(e,"class","jse-insert-area jse-inside svelte-rjsbr3"),E(e,"data-type","insert-selection-area-inside"),E(e,"style",r=wh(n[1].length+1)),E(e,"title",kx),Ve(e,"jse-hovered",n[10]==="hover-insert-inside"),Ve(e,"jse-selected",n[16]&&_r(n[7]))},m:function(o,a){me(o,e,a),Ae(t,e,null),i=!0},p:function(o,a){var s={};65664&a[0]&&(s.selected=o[16]&&_r(o[7])),t.$set(s),(!i||2&a[0]&&r!==(r=wh(o[1].length+1)))&&E(e,"style",r),(!i||1024&a[0])&&Ve(e,"jse-hovered",o[10]==="hover-insert-inside"),(!i||65664&a[0])&&Ve(e,"jse-selected",o[16]&&_r(o[7]))},i:function(o){i||(J(t.$$.fragment,o),i=!0)},o:function(o){Y(t.$$.fragment,o),i=!1},d:function(o){o&&he(e),_e(t)}}}function iYe(n){var e,t,r,i;return t=new IQe({props:{path:n[53].path,pointer:n[53].pointer,key:n[53].key,selection:n[53].selection,searchResultItems:n[53].keySearchResultItemsMap,context:n[8],onUpdateKey:n[23]}}),{c:function(){e=ee("div"),Ne(t.$$.fragment),r=je(),E(e,"slot","identifier"),E(e,"class","jse-identifier svelte-rjsbr3")},m:function(o,a){me(o,e,a),Ae(t,e,null),W(e,r),i=!0},p:function(o,a){var s={};2303&a[0]&&(s.path=o[53].path),2303&a[0]&&(s.pointer=o[53].pointer),2303&a[0]&&(s.key=o[53].key),2303&a[0]&&(s.selection=o[53].selection),2303&a[0]&&(s.searchResultItems=o[53].keySearchResultItemsMap),256&a[0]&&(s.context=o[8]),t.$set(s)},i:function(o){i||(J(t.$$.fragment,o),i=!0)},o:function(o){Y(t.$$.fragment,o),i=!1},d:function(o){o&&he(e),_e(t)}}}function jP(n){var e,t;return e=new gj({props:{value:n[53].value,path:n[53].path,expandedMap:n[53].expandedMap,enforceStringMap:n[53].enforceStringMap,visibleSectionsMap:n[53].visibleSectionsMap,validationErrorsMap:n[53].validationErrorsMap,searchResultItemsMap:n[53].valueSearchResultItemsMap,selection:n[53].selection,context:n[8],onDragSelectionStart:n[26],$$slots:{identifier:[iYe]},$$scope:{ctx:n}}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o={};2303&i[0]&&(o.value=r[53].value),2303&i[0]&&(o.path=r[53].path),2303&i[0]&&(o.expandedMap=r[53].expandedMap),2303&i[0]&&(o.enforceStringMap=r[53].enforceStringMap),2303&i[0]&&(o.visibleSectionsMap=r[53].visibleSectionsMap),2303&i[0]&&(o.validationErrorsMap=r[53].validationErrorsMap),2303&i[0]&&(o.searchResultItemsMap=r[53].valueSearchResultItemsMap),2303&i[0]&&(o.selection=r[53].selection),256&i[0]&&(o.context=r[8]),2559&i[0]|16&i[1]&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function CP(n){var e,t,r;return{c:function(){E(e=ee("div"),"class","jse-insert-selection-area jse-after svelte-rjsbr3"),E(e,"data-type","insert-selection-area-after")},m:function(i,o){me(i,e,o),t||(r=Be(e,"click",n[30]),t=!0)},p:Ze,d:function(i){i&&he(e),t=!1,r()}}}function oYe(n){var e,t;return e=new Jt({props:{data:Gs}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:Ze,i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function aYe(n){var e,t;return e=new Jt({props:{data:Ma}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:Ze,i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function SP(n){var e;return{c:function(){(e=ee("div")).textContent=":",E(e,"class","jse-separator svelte-rjsbr3")},m:function(t,r){me(t,e,r)},d:function(t){t&&he(e)}}}function sYe(n){var e,t,r,i,o,a,s,l,u,c,f=n[0].length+"",d=n[0].length===1?"item":"items";return{c:function(){(e=ee("div")).textContent="[",t=je(),r=ee("button"),i=ot(f),o=je(),a=ot(d),s=je(),(l=ee("div")).textContent="]",E(e,"class","jse-bracket svelte-rjsbr3"),E(r,"type","button"),E(r,"class","jse-tag svelte-rjsbr3"),E(l,"class","jse-bracket svelte-rjsbr3")},m:function(h,v){me(h,e,v),me(h,t,v),me(h,r,v),W(r,i),W(r,o),W(r,a),me(h,s,v),me(h,l,v),u||(c=Be(r,"click",n[22]),u=!0)},p:function(h,v){1&v[0]&&f!==(f=h[0].length+"")&&on(i,f),1&v[0]&&d!==(d=h[0].length===1?"item":"items")&&on(a,d)},d:function(h){h&&he(e),h&&he(t),h&&he(r),h&&he(s),h&&he(l),u=!1,c()}}}function lYe(n){var e,t,r,i,o,a,s=n[0].length+"",l=n[0].length===1?"item":"items";return{c:function(){(e=ee("div")).textContent="[",t=je(),r=ee("span"),i=ot(s),o=je(),a=ot(l),E(e,"class","jse-bracket svelte-rjsbr3"),E(r,"class","jse-tag jse-expanded svelte-rjsbr3")},m:function(u,c){me(u,e,c),me(u,t,c),me(u,r,c),W(r,i),W(r,o),W(r,a)},p:function(u,c){1&c[0]&&s!==(s=u[0].length+"")&&on(i,s),1&c[0]&&l!==(l=u[0].length===1?"item":"items")&&on(a,l)},d:function(u){u&&he(e),u&&he(t),u&&he(r)}}}function TP(n){var e,t,r;return t=new Fu({props:{selected:!0,onContextMenu:n[8].onContextMenu}}),{c:function(){e=ee("div"),Ne(t.$$.fragment),E(e,"class","jse-context-menu-button-anchor svelte-rjsbr3")},m:function(i,o){me(i,e,o),Ae(t,e,null),r=!0},p:function(i,o){var a={};256&o[0]&&(a.onContextMenu=i[8].onContextMenu),t.$set(a)},i:function(i){r||(J(t.$$.fragment,i),r=!0)},o:function(i){Y(t.$$.fragment,i),r=!1},d:function(i){i&&he(e),_e(t)}}}function OP(n){var e,t;return e=new mj({props:{validationError:n[15],onExpand:n[22]}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o={};32768&i[0]&&(o.validationError=r[15]),e.$set(o)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function uYe(n){var e,t,r;return{c:function(){E(e=ee("div"),"class","jse-insert-selection-area jse-after svelte-rjsbr3"),E(e,"data-type","insert-selection-area-after")},m:function(i,o){me(i,e,o),t||(r=Be(e,"click",n[30]),t=!0)},p:Ze,d:function(i){i&&he(e),t=!1,r()}}}function cYe(n){var e,t,r;return{c:function(){E(e=ee("div"),"class","jse-insert-selection-area jse-inside svelte-rjsbr3"),E(e,"data-type","insert-selection-area-inside")},m:function(i,o){me(i,e,o),t||(r=Be(e,"click",n[29]),t=!0)},p:Ze,d:function(i){i&&he(e),t=!1,r()}}}function EP(n){for(var e,t,r,i,o,a,s,l=!n[8].readOnly&&(n[10]==="hover-insert-inside"||n[16]&&_r(n[7])),u=[],c=new Map,f=l&&MP(n),d=n[14]||ju,h=function(y){return y[49]},v=0;v<d.length;v+=1){var p=fP(n,d,v),m=h(p);c.set(m,u[v]=_P(m,p))}var g=!n[17]&&NP(n);return{c:function(){e=ee("div"),f&&f.c(),t=je();for(var y=0;y<u.length;y+=1)u[y].c();r=je(),i=ee("div"),(o=ee("div")).innerHTML='<span class="jse-bracket svelte-rjsbr3">]</span>',a=je(),g&&g.c(),E(e,"class","jse-items svelte-rjsbr3"),E(o,"data-type","selectable-value"),E(o,"class","jse-footer svelte-rjsbr3"),E(i,"class","jse-footer-outer svelte-rjsbr3"),E(i,"style",n[18])},m:function(y,b){me(y,e,b),f&&f.m(e,null),W(e,t);for(var w=0;w<u.length;w+=1)u[w].m(e,null);me(y,r,b),me(y,i,b),W(i,o),W(i,a),g&&g.m(i,null),s=!0},p:function(y,b){66944&b[0]&&(l=!y[8].readOnly&&(y[10]==="hover-insert-inside"||y[16]&&_r(y[7]))),l?f?(f.p(y,b),66944&b[0]&&J(f,1)):((f=MP(y)).c(),J(f,1),f.m(e,t)):f&&(Je(),Y(f,1,1,function(){f=null}),Ge()),68176895&b[0]&&(d=y[14]||ju,Je(),u=_h(u,b,h,1,y,d,c,e,zg,_P,null,fP),Ge()),y[17]?g&&(g.d(1),g=null):g?g.p(y,b):((g=NP(y)).c(),g.m(i,null)),(!s||262144&b[0])&&E(i,"style",y[18])},i:function(y){if(!s){J(f);for(var b=0;b<d.length;b+=1)J(u[b]);s=!0}},o:function(y){Y(f);for(var b=0;b<u.length;b+=1)Y(u[b]);s=!1},d:function(y){y&&he(e),f&&f.d();for(var b=0;b<u.length;b+=1)u[b].d();y&&he(r),y&&he(i),g&&g.d()}}}function MP(n){var e,t,r,i;return t=new Fu({props:{selected:n[16]&&_r(n[7]),onContextMenu:n[31]}}),{c:function(){e=ee("div"),Ne(t.$$.fragment),E(e,"class","jse-insert-area jse-inside svelte-rjsbr3"),E(e,"data-type","insert-selection-area-inside"),E(e,"style",r=wh(n[1].length+1)),E(e,"title",kx),Ve(e,"jse-hovered",n[10]==="hover-insert-inside"),Ve(e,"jse-selected",n[16]&&_r(n[7]))},m:function(o,a){me(o,e,a),Ae(t,e,null),i=!0},p:function(o,a){var s={};65664&a[0]&&(s.selected=o[16]&&_r(o[7])),t.$set(s),(!i||2&a[0]&&r!==(r=wh(o[1].length+1)))&&E(e,"style",r),(!i||1024&a[0])&&Ve(e,"jse-hovered",o[10]==="hover-insert-inside"),(!i||65664&a[0])&&Ve(e,"jse-selected",o[16]&&_r(o[7]))},i:function(o){i||(J(t.$$.fragment,o),i=!0)},o:function(o){Y(t.$$.fragment,o),i=!1},d:function(o){o&&he(e),_e(t)}}}function fYe(n){var e,t,r,i=n[50].index+"";return{c:function(){e=ee("div"),t=ee("div"),r=ot(i),E(t,"class","jse-index svelte-rjsbr3"),E(e,"slot","identifier"),E(e,"class","jse-identifier svelte-rjsbr3")},m:function(o,a){me(o,e,a),W(e,t),W(t,r)},p:function(o,a){18687&a[0]&&i!==(i=o[50].index+"")&&on(r,i)},d:function(o){o&&he(e)}}}function $P(n,e){var t,r,i;return r=new gj({props:{value:e[50].value,path:e[50].path,expandedMap:e[50].expandedMap,enforceStringMap:e[50].enforceStringMap,visibleSectionsMap:e[50].visibleSectionsMap,validationErrorsMap:e[50].validationErrorsMap,searchResultItemsMap:e[50].searchResultItemsMap,selection:e[50].selection,context:e[8],onDragSelectionStart:e[26],$$slots:{identifier:[fYe]},$$scope:{ctx:e}}}),{key:n,first:null,c:function(){t=kn(),Ne(r.$$.fragment),this.first=t},m:function(o,a){me(o,t,a),Ae(r,o,a),i=!0},p:function(o,a){e=o;var s={};18687&a[0]&&(s.value=e[50].value),18687&a[0]&&(s.path=e[50].path),18687&a[0]&&(s.expandedMap=e[50].expandedMap),18687&a[0]&&(s.enforceStringMap=e[50].enforceStringMap),18687&a[0]&&(s.visibleSectionsMap=e[50].visibleSectionsMap),18687&a[0]&&(s.validationErrorsMap=e[50].validationErrorsMap),18687&a[0]&&(s.searchResultItemsMap=e[50].searchResultItemsMap),18687&a[0]&&(s.selection=e[50].selection),256&a[0]&&(s.context=e[8]),18687&a[0]|16&a[1]&&(s.$$scope={dirty:a,ctx:e}),r.$set(s)},i:function(o){i||(J(r.$$.fragment,o),i=!0)},o:function(o){Y(r.$$.fragment,o),i=!1},d:function(o){o&&he(t),_e(r,o)}}}function AP(n){var e,t;return e=new vQe({props:{visibleSections:n[14]||ju,sectionIndex:n[49],total:n[0].length,path:n[1],pointer:n[9],onExpandSection:n[8].onExpandSection,selection:n[7]}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o={};16384&i[0]&&(o.visibleSections=r[14]||ju),16384&i[0]&&(o.sectionIndex=r[49]),1&i[0]&&(o.total=r[0].length),2&i[0]&&(o.path=r[1]),512&i[0]&&(o.pointer=r[9]),256&i[0]&&(o.onExpandSection=r[8].onExpandSection),128&i[0]&&(o.selection=r[7]),e.$set(o)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function _P(n,e){for(var t,r,i,o,a=[],s=new Map,l=e[20](e[1],e[0],e[47],e[2],e[3],e[4],e[5],e[6],e[7],e[11]),u=function(v){return v[50].index},c=0;c<l.length;c+=1){var f=dP(e,l,c),d=u(f);s.set(d,a[c]=$P(d,f))}var h=e[47].end<e[0].length&&AP(e);return{key:n,first:null,c:function(){t=kn();for(var v=0;v<a.length;v+=1)a[v].c();r=je(),h&&h.c(),i=kn(),this.first=t},m:function(v,p){me(v,t,p);for(var m=0;m<a.length;m+=1)a[m].m(v,p);me(v,r,p),h&&h.m(v,p),me(v,i,p),o=!0},p:function(v,p){e=v,68176383&p[0]&&(l=e[20](e[1],e[0],e[47],e[2],e[3],e[4],e[5],e[6],e[7],e[11]),Je(),a=_h(a,p,u,1,e,l,s,r.parentNode,zg,$P,r,dP),Ge()),e[47].end<e[0].length?h?(h.p(e,p),16385&p[0]&&J(h,1)):((h=AP(e)).c(),J(h,1),h.m(i.parentNode,i)):h&&(Je(),Y(h,1,1,function(){h=null}),Ge())},i:function(v){if(!o){for(var p=0;p<l.length;p+=1)J(a[p]);J(h),o=!0}},o:function(v){for(var p=0;p<a.length;p+=1)Y(a[p]);Y(h),o=!1},d:function(v){v&&he(t);for(var p=0;p<a.length;p+=1)a[p].d(v);v&&he(r),h&&h.d(v),v&&he(i)}}}function NP(n){var e,t,r;return{c:function(){E(e=ee("div"),"class","jse-insert-selection-area jse-after svelte-rjsbr3"),E(e,"data-type","insert-selection-area-after")},m:function(i,o){me(i,e,o),t||(r=Be(e,"click",n[30]),t=!0)},p:Ze,d:function(i){i&&he(e),t=!1,r()}}}function IP(n){var e,t,r;return t=new Fu({props:{selected:n[16]&&Jo(n[7]),onContextMenu:n[32]}}),{c:function(){e=ee("div"),Ne(t.$$.fragment),E(e,"class","jse-insert-area jse-after svelte-rjsbr3"),E(e,"data-type","insert-selection-area-after"),E(e,"style",n[18]),E(e,"title",kx),Ve(e,"jse-hovered",n[10]==="hover-insert-after"),Ve(e,"jse-selected",n[16]&&Jo(n[7]))},m:function(i,o){me(i,e,o),Ae(t,e,null),r=!0},p:function(i,o){var a={};65664&o[0]&&(a.selected=i[16]&&Jo(i[7])),t.$set(a),(!r||262144&o[0])&&E(e,"style",i[18]),(!r||1024&o[0])&&Ve(e,"jse-hovered",i[10]==="hover-insert-after"),(!r||65664&o[0])&&Ve(e,"jse-selected",i[16]&&Jo(i[7]))},i:function(i){r||(J(t.$$.fragment,i),r=!0)},o:function(i){Y(t.$$.fragment,i),r=!1},d:function(i){i&&he(e),_e(t)}}}function dYe(n){var e,t,r,i,o,a,s,l,u,c,f,d=!n[8].readOnly&&(n[10]==="hover-insert-after"||n[16]&&Jo(n[7])),h=[YQe,QQe,KQe],v=[];function p(g,y){return 1&y[0]&&(t=null),1&y[0]&&(r=null),t==null&&(t=!!Array.isArray(g[0])),t?0:(r==null&&(r=!!$r(g[0])),r?1:2)}i=p(n,[-1,-1]),o=v[i]=h[i](n);var m=d&&IP(n);return{c:function(){e=ee("div"),o.c(),a=je(),m&&m.c(),E(e,"class",s=Mr(pf("jse-json-node",{"jse-expanded":n[12]},n[8].onClassName(n[1],n[0])))+" svelte-rjsbr3"),E(e,"data-path",l=Wb(n[1])),Ve(e,"jse-root",n[17]),Ve(e,"jse-selected",n[16]&&Sn(n[7])),Ve(e,"jse-selected-key",n[16]&&Sr(n[7])),Ve(e,"jse-selected-value",n[16]&&Cn(n[7])),Ve(e,"jse-readonly",n[8].readOnly),Ve(e,"jse-hovered",n[10]==="hover-collection")},m:function(g,y){me(g,e,y),v[i].m(e,null),W(e,a),m&&m.m(e,null),u=!0,c||(f=[Be(e,"mousedown",n[24]),Be(e,"mousemove",n[25]),Be(e,"mouseover",n[27]),Be(e,"mouseout",n[28]),Be(e,"focus",void 0),Be(e,"blur",void 0)],c=!0)},p:function(g,y){var b=i;(i=p(g,y))===b?v[i].p(g,y):(Je(),Y(v[b],1,1,function(){v[b]=null}),Ge(),(o=v[i])?o.p(g,y):(o=v[i]=h[i](g)).c(),J(o,1),o.m(e,a)),66944&y[0]&&(d=!g[8].readOnly&&(g[10]==="hover-insert-after"||g[16]&&Jo(g[7]))),d?m?(m.p(g,y),66944&y[0]&&J(m,1)):((m=IP(g)).c(),J(m,1),m.m(e,null)):m&&(Je(),Y(m,1,1,function(){m=null}),Ge()),(!u||4355&y[0]&&s!==(s=Mr(pf("jse-json-node",{"jse-expanded":g[12]},g[8].onClassName(g[1],g[0])))+" svelte-rjsbr3"))&&E(e,"class",s),(!u||2&y[0]&&l!==(l=Wb(g[1])))&&E(e,"data-path",l),(!u||135427&y[0])&&Ve(e,"jse-root",g[17]),(!u||70019&y[0])&&Ve(e,"jse-selected",g[16]&&Sn(g[7])),(!u||70019&y[0])&&Ve(e,"jse-selected-key",g[16]&&Sr(g[7])),(!u||70019&y[0])&&Ve(e,"jse-selected-value",g[16]&&Cn(g[7])),(!u||4355&y[0])&&Ve(e,"jse-readonly",g[8].readOnly),(!u||5379&y[0])&&Ve(e,"jse-hovered",g[10]==="hover-collection")},i:function(g){u||(J(o),J(m),u=!0)},o:function(g){Y(o),Y(m),u=!1},d:function(g){g&&he(e),v[i].d(),m&&m.d(),c=!1,Xn(f)}}}function wh(n){return"margin-left: calc(".concat(n," * var(--jse-indent-size))")}function hYe(n,e,t){var r,i,o,a,s,l,u,c,f=e.$$slots,d=f===void 0?{}:f,h=e.$$scope,v=e.value,p=e.path,m=e.expandedMap,g=e.enforceStringMap,y=e.visibleSectionsMap,b=e.validationErrorsMap,w=e.searchResultItemsMap,k=e.selection,x=e.context,C=e.onDragSelectionStart,T=Li("jsoneditor:JSONNode"),M=void 0,B=void 0,_=void 0,N=Ef(function(A){return A},ws);function $(A){x.onDrag(A)}function j(A){Vr.selecting&&(Vr.selecting=!1,A.stopPropagation()),x.onDragEnd(),document.removeEventListener("mousemove",$,!0),document.removeEventListener("mouseup",j)}function D(){var A,I;return((A=x.findElement([]))===null||A===void 0||(I=A.getBoundingClientRect())===null||I===void 0?void 0:I.top)||0}function q(A,I){var z=D()-A.initialContentTop;return I.clientY-A.initialClientY-z}function R(A){if(_){var I=x.getJson(),z=x.getDocumentState(),F=q(_,A),L=C1({json:I,documentState:z,deltaY:F,items:_.items}).offset;L!==_.offset&&(T("drag selection",L,F),t(11,_=$e($e({},_),{},{offset:L,didMoveItems:!0})))}}function G(A){if(_){var I=x.getJson(),z=C1({json:I,documentState:x.getDocumentState(),deltaY:q(_,A),items:_.items}),F=z.operations,L=z.updatedSelection;if(F)x.onPatch(F,function(Z,te){return{state:$e($e({},te),{},{selection:L||k})}});else if(A.target===_.initialTarget&&!_.didMoveItems){var O=qy(A.target),V=_He(A.target);V&&x.onSelect(BI(I,O,V))}t(11,_=void 0),Vr.dragging=!1,document.removeEventListener("mousemove",R,!0),document.removeEventListener("mouseup",G)}}return n.$$set=function(A){"value"in A&&t(0,v=A.value),"path"in A&&t(1,p=A.path),"expandedMap"in A&&t(2,m=A.expandedMap),"enforceStringMap"in A&&t(3,g=A.enforceStringMap),"visibleSectionsMap"in A&&t(4,y=A.visibleSectionsMap),"validationErrorsMap"in A&&t(5,b=A.validationErrorsMap),"searchResultItemsMap"in A&&t(6,w=A.searchResultItemsMap),"selection"in A&&t(7,k=A.selection),"context"in A&&t(8,x=A.context),"onDragSelectionStart"in A&&t(33,C=A.onDragSelectionStart),"$$scope"in A&&t(35,h=A.$$scope)},n.$$.update=function(){2&n.$$.dirty[0]&&t(9,o=de.exports.compileJSONPointer(p)),516&n.$$.dirty[0]&&t(12,a=!!m&&m[o]===!0),777&n.$$.dirty[0]&&t(13,s=Qh(v,g,o,x.parser)),528&n.$$.dirty[0]&&t(14,l=y?y[o]:void 0),544&n.$$.dirty[0]&&t(15,u=b?b[o]:void 0),640&n.$$.dirty[0]&&t(16,c=!!k&&k.pointersMap[o]===!0),2&n.$$.dirty[0]&&t(17,r=p.length===0),2&n.$$.dirty[0]&&t(18,i=wh(p.length))},[v,p,m,g,y,b,w,k,x,o,M,_,a,s,l,u,c,r,i,function(A,I,z,F,L,O,V,Z,te){var ve=Object.keys(I).map(function(ue){var ge=de.exports.appendToJSONPointer(o,ue);return{key:ue,value:I[ue],path:N(A.concat(ue)),pointer:ge,expandedMap:ga(z,ge),enforceStringMap:ga(F,ge),visibleSectionsMap:ga(L,ge),validationErrorsMap:ga(O,ge),keySearchResultItemsMap:NKe(V,ge),valueSearchResultItemsMap:ga(V,ge),selection:zI(Z,ge)}});return te&&te.offset!==0&&(ve=A_(ve,te.selectionStartIndex,te.selectionItemsCount,te.offset)),ve},function(A,I,z,F,L,O,V,Z,te,ve){for(var ue=z.start,ge=Math.min(z.end,I.length),P=[],S=ue;S<ge;S++){var ae=de.exports.appendToJSONPointer(o,S);P.push({index:S,value:I[S],path:N(A.concat(String(S))),pointer:ae,expandedMap:ga(F,ae),enforceStringMap:ga(L,ae),visibleSectionsMap:ga(O,ae),validationErrorsMap:ga(V,ae),searchResultItemsMap:ga(Z,ae),selection:zI(te,ae)})}if(ve&&ve.offset!==0){var ce=P.map(function(ye){return ye.index});P=A_(P,ve.selectionStartIndex,ve.selectionItemsCount,ve.offset);for(var ne=0;ne<P.length;ne++)P[ne].index=ce[ne]}return P},function(A){A.stopPropagation();var I=A.ctrlKey;x.onExpand(p,!a,I)},function(A){A.stopPropagation(),x.onExpand(p,!0)},function(A,I){var z=Xh(p,Object.keys(v),A,I);return x.onPatch(z),Nt(de.exports.parseJSONPointer(z[0].path))},function(A){if(!(function(O){return O.nodeName==="DIV"&&O.contentEditable==="true"}(A.target)||A.which===1&&Xq(A.target,"BUTTON"))){A.stopPropagation(),A.preventDefault(),document.addEventListener("mousemove",$,!0),document.addEventListener("mouseup",j);var I=qy(A.target),z=x.getJson(),F=x.getDocumentState();if(function(O,V,Z){if(!O)return!1;var te=V.slice(0);if(Sn(O))for(;te.length>0;){if(O.pointersMap[de.exports.compileJSONPointer(te)]===!0)return!0;te.pop()}return Sr(O)?Z===Hn.key&&jn(O.focusPath,V):!!(Cn(O)&&(Z===Hn.value&&jn(O.focusPath,V)||bh(V,O.focusPath)&&V.length>O.focusPath.length&&(Z===Hn.key||Z===Hn.value||Z===Hn.multi)))}(k,p,I))A.button===0&&C(A);else{if(Vr.selecting=!0,Vr.selectionAnchor=p,Vr.selectionAnchorType=I,Vr.selectionFocus=p,A.shiftKey)k&&x.onSelect(Er(z,k.anchorPath,p));else if(I===Hn.multi)if(r&&A.target.hasAttribute("data-path")){var L=Nt(GV(v,F));x.onSelect(Uw(L))}else x.onSelect(Er(z,p,p));else x.onSelect(BI(z,I,p));x.focus()}}},function(A){if(Vr.selecting){A.preventDefault(),A.stopPropagation(),Vr.selectionFocus==null&&window.getSelection&&window.getSelection().empty();var I=qy(A.target);if(!jn(p,Vr.selectionFocus)||I!==Vr.selectionAnchorType){Vr.selectionFocus=p,Vr.selectionAnchorType=I;var z=x.getJson();x.onSelect(Er(z,Vr.selectionAnchor,Vr.selectionFocus))}}},function(A){if(!x.readOnly){var I=bn(k.focusPath);if(jn(p,I)){var z=function(V,Z){var te=[];function ve(ye){var Ce=p.concat(ye),Se=x.findElement(Ce);Se!=null&&te.push({path:Ce,height:Se.clientHeight})}if(Array.isArray(v)){var ue=xc(V),ge=_v(V),P=Nt(ue),S=Nt(ge),ae=Z.find(function(ye){return P>=ye.start&&S<=ye.end});if(!ae)return null;var ce=ae.start,ne=ae.end;Vq(ce,Math.min(v.length,ne),function(ye){return ve(String(ye))})}else Object.keys(v).forEach(ve);return te}(k,l||ju);if(T("dragSelectionStart",{selection:k,items:z}),z){var F=xc(k),L=z.findIndex(function(V){return jn(V.path,F)}),O=C1({json:x.getJson(),documentState:x.getDocumentState(),deltaY:0,items:z}).offset;t(11,_={initialTarget:A.target,initialClientY:A.clientY,initialContentTop:D(),selectionStartIndex:L,selectionItemsCount:YV(k).length,items:z,offset:O,didMoveItems:!1}),Vr.dragging=!0,document.addEventListener("mousemove",R,!0),document.addEventListener("mouseup",G)}else T("Cannot drag the current selection (probably spread over multiple sections)")}else C(A)}},function(A){Vr.selecting||Vr.dragging||(A.stopPropagation(),Yl(A.target,"data-type","selectable-value")?t(10,M="hover-collection"):Yl(A.target,"data-type","insert-selection-area-inside")?t(10,M="hover-insert-inside"):Yl(A.target,"data-type","insert-selection-area-after")&&t(10,M="hover-insert-after"),clearTimeout(B))},function(A){A.stopPropagation(),B=setTimeout(function(){return t(10,M=void 0)})},function(A){A.shiftKey||(A.stopPropagation(),A.preventDefault(),x.onSelect(Aa(p)))},function(A){A.shiftKey||(A.stopPropagation(),A.preventDefault(),x.onSelect(ks(p)))},function(A){x.onSelect(Aa(p)),x.onContextMenu(A)},function(A){x.onSelect(ks(p)),x.onContextMenu(A)},C,d,h]}var gj=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,hYe,dYe,mn,{value:0,path:1,expandedMap:2,enforceStringMap:3,visibleSectionsMap:4,validationErrorsMap:5,searchResultItemsMap:6,selection:7,context:8,onDragSelectionStart:33},WQe,[-1,-1]),i}return ie(t)}(),pYe=gj;function vYe(n){var e,t;return e=new z2({props:{items:n[0]}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o={};1&Dt(i,1)[0]&&(o.items=r[0]),e.$set(o)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function mYe(n,e,t){var r,i,o,a,s,l,u,c=e.json,f=e.selection,d=e.readOnly,h=e.showSearch,v=h!==void 0&&h,p=e.historyState,m=e.onExpandAll,g=e.onCollapseAll,y=e.onUndo,b=e.onRedo,w=e.onSort,k=e.onTransform,x=e.onContextMenu,C=e.onCopy,T=e.onRenderMenu,M=T===void 0?Dn:T;function B(){t(1,v=!v)}return n.$$set=function(_){"json"in _&&t(2,c=_.json),"selection"in _&&t(3,f=_.selection),"readOnly"in _&&t(4,d=_.readOnly),"showSearch"in _&&t(1,v=_.showSearch),"historyState"in _&&t(5,p=_.historyState),"onExpandAll"in _&&t(6,m=_.onExpandAll),"onCollapseAll"in _&&t(7,g=_.onCollapseAll),"onUndo"in _&&t(8,y=_.onUndo),"onRedo"in _&&t(9,b=_.onRedo),"onSort"in _&&t(10,w=_.onSort),"onTransform"in _&&t(11,k=_.onTransform),"onContextMenu"in _&&t(12,x=_.onContextMenu),"onCopy"in _&&t(13,C=_.onCopy),"onRenderMenu"in _&&t(14,M=_.onRenderMenu)},n.$$.update=function(){4&n.$$.dirty&&t(20,r=c!==void 0),n.$$.dirty,1048584&n.$$.dirty&&t(17,i=r&&(Sn(f)||Sr(f)||Cn(f))),68&n.$$.dirty&&t(19,o={icon:EVe,title:"Expand all",className:"jse-expand-all",onClick:m,disabled:!Dr(c)}),132&n.$$.dirty&&t(18,a={icon:MVe,title:"Collapse all",className:"jse-collapse-all",onClick:g,disabled:!Dr(c)}),4&n.$$.dirty&&t(16,s={icon:B2,title:"Search (Ctrl+F)",className:"jse-search",onClick:B,disabled:c===void 0}),999220&n.$$.dirty&&t(15,l=d?[o,a,{separator:!0},{icon:ih,title:"Copy (Ctrl+C)",className:"jse-copy",onClick:C,disabled:!i},{separator:!0},s,{space:!0}]:[o,a,{separator:!0},{icon:R2,title:"Sort",className:"jse-sort",onClick:w,disabled:d||c===void 0},{icon:P2,title:"Transform contents (filter, sort, project)",className:"jse-transform",onClick:k,disabled:d||c===void 0},s,{icon:QHe,title:p8,className:"jse-contextmenu",onClick:x},{separator:!0},{icon:oF,title:"Undo (Ctrl+Z)",className:"jse-undo",onClick:y,disabled:!p.canUndo},{icon:iF,title:"Redo (Ctrl+Shift+Z)",className:"jse-redo",onClick:b,disabled:!p.canRedo},{space:!0}]),49152&n.$$.dirty&&t(0,u=M("tree",l)||l)},[u,v,c,f,d,p,m,g,y,b,w,k,x,C,M,l,s,i,a,o,r]}var gYe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,mYe,vYe,mn,{json:2,selection:3,readOnly:4,showSearch:1,historyState:5,onExpandAll:6,onCollapseAll:7,onUndo:8,onRedo:9,onSort:10,onTransform:11,onContextMenu:12,onCopy:13,onRenderMenu:14}),i}return ie(t)}();function yYe(n){Gt(n,"svelte-1q2qkk2",'@charset "UTF-8";.jse-welcome.svelte-1q2qkk2.svelte-1q2qkk2{flex:1;overflow:auto;font-family:var(--jse-font-family);font-size:var(--jse-font-size);display:flex;flex-direction:column;align-items:center;border-left:var(--jse-main-border);border-right:var(--jse-main-border)}.jse-welcome.svelte-1q2qkk2.svelte-1q2qkk2:last-child{border-bottom:var(--jse-main-border)}.jse-welcome.svelte-1q2qkk2 .jse-space.jse-before.svelte-1q2qkk2{flex:1}.jse-welcome.svelte-1q2qkk2 .jse-space.jse-after.svelte-1q2qkk2{flex:2}.jse-welcome.svelte-1q2qkk2 .jse-contents.svelte-1q2qkk2{margin:2em var(--jse-padding) 0;color:var(--jse-panel-color-readonly)}.jse-welcome.svelte-1q2qkk2 .jse-contents ul.svelte-1q2qkk2{list-style:"\u25CF";list-style-position:outside;padding-left:20px}.jse-welcome.svelte-1q2qkk2 .jse-contents ul li.svelte-1q2qkk2{padding-left:10px}.jse-welcome.svelte-1q2qkk2 .jse-contents ul li span.jse-bold.svelte-1q2qkk2{font-family:var(--jse-font-family-mono);font-weight:bold}')}function PP(n){var e;return{c:function(){(e=ee("ul")).innerHTML=`<li class="svelte-1q2qkk2">Click inside the editor</li> 
        <li class="svelte-1q2qkk2">Paste clipboard data using <span class="jse-bold svelte-1q2qkk2">Ctrl+V</span></li> 
        <li class="svelte-1q2qkk2">Create a new object by typing <span class="jse-bold svelte-1q2qkk2">{</span></li> 
        <li class="svelte-1q2qkk2">Create a new array by typing <span class="jse-bold svelte-1q2qkk2">[</span></li>`,E(e,"class","svelte-1q2qkk2")},m:function(t,r){me(t,e,r)},d:function(t){t&&he(e)}}}function bYe(n){var e,t,r,i,o,a,s,l=!n[0]&&PP();return{c:function(){e=ee("div"),t=ee("div"),r=je(),i=ee("div"),o=ot(`Empty document
    `),l&&l.c(),a=je(),s=ee("div"),E(t,"class","jse-space jse-before svelte-1q2qkk2"),E(i,"class","jse-contents svelte-1q2qkk2"),E(s,"class","jse-space jse-after svelte-1q2qkk2"),E(e,"class","jse-welcome svelte-1q2qkk2")},m:function(u,c){me(u,e,c),W(e,t),W(e,r),W(e,i),W(i,o),l&&l.m(i,null),W(e,a),W(e,s)},p:function(u,c){Dt(c,1)[0],u[0]?l&&(l.d(1),l=null):l||((l=PP()).c(),l.m(i,null))},i:Ze,o:Ze,d:function(u){u&&he(e),l&&l.d()}}}function wYe(n,e,t){var r=e.readOnly;return n.$$set=function(i){"readOnly"in i&&t(0,r=i.readOnly)},[r]}var kYe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,wYe,bYe,mn,{readOnly:0},yYe),i}return ie(t)}(),rW={exports:{}},LP=function(n,e){var t,r,i=1,o=0,a=0,s=String.alphabet;function l(u,c,f){if(f){for(t=c;(f=l(u,t))<76&&f>65;)++t;return+u.slice(c-1,t)}return(f=s&&s.indexOf(u.charAt(c)))>-1?f+76:(f=u.charCodeAt(c)||0)<45||f>127?f:f<46?65:f<48?f-1:f<58?f+18:f<65?f-11:f<91?f+11:f<97?f-37:f<123?f+5:f-63}if((n+="")!=(e+="")){for(;i;)if(r=l(n,o++),i=l(e,a++),r<76&&i<76&&r>66&&i>66&&(r=l(n,o,o),i=l(e,a,o=t),a=t),r!=i)return r<i?-1:1}return 0};try{rW.exports=LP}catch{String.naturalCompare=LP}function yj(n,e){var t=typeof n=="string"?n.toLowerCase():n,r=typeof e=="string"?e.toLowerCase():e;return rW.exports(t,r)}function xYe(n,e){return function(t,r){var i=de.exports.getIn(t,n),o=de.exports.getIn(r,n);return i===void 0?e:o===void 0?-e:typeof i!="string"&&typeof o!="string"?i>o?e:i<o?-e:0:e*yj(i,o)}}function jYe(n){Gt(n,"svelte-6hb2gf",".jse-navigation-bar-dropdown.svelte-6hb2gf.svelte-6hb2gf{position:absolute;top:100%;left:0;z-index:3;background:var(--jse-navigation-bar-background);color:var(--jse-navigation-bar-dropdown-color);box-shadow:var(--jse-controls-box-shadow);display:flex;flex-direction:column;max-height:300px;overflow:auto;min-width:80px}.jse-navigation-bar-dropdown.svelte-6hb2gf button.jse-navigation-bar-dropdown-item.svelte-6hb2gf{font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);border:none;background:transparent;color:inherit;cursor:pointer;outline:none;text-align:left;white-space:nowrap;box-sizing:border-box;padding:calc(0.5 * var(--jse-padding)) 36px}.jse-navigation-bar-dropdown.svelte-6hb2gf button.jse-navigation-bar-dropdown-item.svelte-6hb2gf:focus,.jse-navigation-bar-dropdown.svelte-6hb2gf button.jse-navigation-bar-dropdown-item.svelte-6hb2gf:hover{background:var(--jse-navigation-bar-background-highlight)}.jse-navigation-bar-dropdown.svelte-6hb2gf button.jse-navigation-bar-dropdown-item.jse-selected.svelte-6hb2gf{background:var(--jse-navigation-bar-dropdown-color);color:var(--jse-navigation-bar-background)}")}function DP(n,e,t){var r=n.slice();return r[4]=e[t],r}function RP(n,e){var t,r,i,o,a,s=og(e[4],zP)+"";function l(){return e[3](e[4])}return{key:n,first:null,c:function(){t=ee("button"),r=ot(s),E(t,"type","button"),E(t,"class","jse-navigation-bar-dropdown-item svelte-6hb2gf"),E(t,"title",i=e[4]),Ve(t,"jse-selected",e[4]===e[1]),this.first=t},m:function(u,c){me(u,t,c),W(t,r),o||(a=Be(t,"click",bx(l)),o=!0)},p:function(u,c){e=u,1&c&&s!==(s=og(e[4],zP)+"")&&on(r,s),1&c&&i!==(i=e[4])&&E(t,"title",i),3&c&&Ve(t,"jse-selected",e[4]===e[1])},d:function(u){u&&he(t),o=!1,a()}}}function BP(n){var e,t;return{c:function(){e=ee("button"),t=ot("..."),E(e,"type","button"),E(e,"class","jse-navigation-bar-dropdown-item svelte-6hb2gf"),E(e,"title","Limited to "+yd+" items")},m:function(r,i){me(r,e,i),W(e,t)},p:Ze,d:function(r){r&&he(e)}}}function CYe(n){for(var e,t,r=[],i=new Map,o=Am(n[0],yd),a=function(f){return f[4]},s=0;s<o.length;s+=1){var l=DP(n,o,s),u=a(l);i.set(u,r[s]=RP(u,l))}var c=n[0].length>yd&&BP();return{c:function(){e=ee("div");for(var f=0;f<r.length;f+=1)r[f].c();t=je(),c&&c.c(),E(e,"class","jse-navigation-bar-dropdown svelte-6hb2gf")},m:function(f,d){me(f,e,d);for(var h=0;h<r.length;h+=1)r[h].m(e,null);W(e,t),c&&c.m(e,null)},p:function(f,d){var h=Dt(d,1)[0];7&h&&(o=Am(f[0],yd),r=_h(r,h,a,1,f,o,i,e,C9e,RP,t,DP)),f[0].length>yd?c?c.p(f,h):((c=BP()).c(),c.m(e,null)):c&&(c.d(1),c=null)},i:Ze,o:Ze,d:function(f){f&&he(e);for(var d=0;d<r.length;d+=1)r[d].d();c&&c.d()}}}var yd=100,zP=30;function SYe(n,e,t){var r=e.items,i=e.selectedItem,o=e.onSelect;return n.$$set=function(a){"items"in a&&t(0,r=a.items),"selectedItem"in a&&t(1,i=a.selectedItem),"onSelect"in a&&t(2,o=a.onSelect)},[r,i,o,function(a){return o(a)}]}var TYe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,SYe,CYe,mn,{items:0,selectedItem:1,onSelect:2},jYe),i}return ie(t)}();function OYe(n){Gt(n,"svelte-1r1k9th",".jse-navigation-bar-item.svelte-1r1k9th.svelte-1r1k9th{position:relative;display:flex}.jse-navigation-bar-item.svelte-1r1k9th button.jse-navigation-bar-button.svelte-1r1k9th{font-family:inherit;font-size:inherit;padding:calc(0.5 * var(--jse-padding)) 2px;border:none;background:transparent;color:inherit;cursor:pointer;outline:none;min-width:2em;white-space:nowrap}.jse-navigation-bar-item.svelte-1r1k9th button.jse-navigation-bar-button.svelte-1r1k9th:focus,.jse-navigation-bar-item.svelte-1r1k9th button.jse-navigation-bar-button.svelte-1r1k9th:hover{background:var(--jse-panel-button-background-highlight);color:var(--jse-panel-button-color-highlight)}.jse-navigation-bar-item.svelte-1r1k9th button.jse-navigation-bar-button.jse-navigation-bar-arrow.svelte-1r1k9th{padding:2px var(--jse-padding) 0}.jse-navigation-bar-item.svelte-1r1k9th button.jse-navigation-bar-button.jse-navigation-bar-arrow.jse-open.svelte-1r1k9th{background:var(--jse-navigation-bar-background);color:var(--jse-navigation-bar-dropdown-color)}.jse-navigation-bar-item.svelte-1r1k9th.svelte-1r1k9th:last-child{padding-right:var(--jse-padding)}")}function qP(n){var e,t,r,i;return{c:function(){e=ee("button"),t=ot(n[2]),E(e,"type","button"),E(e,"class","jse-navigation-bar-button svelte-1r1k9th")},m:function(o,a){me(o,e,a),W(e,t),r||(i=Be(e,"click",n[9]),r=!0)},p:function(o,a){4&a&&on(t,o[2])},d:function(o){o&&he(e),r=!1,i()}}}function EYe(n){var e,t,r,i,o,a,s;r=new Jt({props:{data:rF}});var l=n[2]!==void 0&&qP(n);return{c:function(){e=ee("div"),t=ee("button"),Ne(r.$$.fragment),i=je(),l&&l.c(),E(t,"type","button"),E(t,"class","jse-navigation-bar-button jse-navigation-bar-arrow svelte-1r1k9th"),Ve(t,"jse-open",n[1]),E(e,"class","jse-navigation-bar-item svelte-1r1k9th")},m:function(u,c){me(u,e,c),W(e,t),Ae(r,t,null),W(e,i),l&&l.m(e,null),n[10](e),o=!0,a||(s=Be(t,"click",n[4]),a=!0)},p:function(u,c){var f=Dt(c,1)[0];(!o||2&f)&&Ve(t,"jse-open",u[1]),u[2]!==void 0?l?l.p(u,f):((l=qP(u)).c(),l.m(e,null)):l&&(l.d(1),l=null)},i:function(u){o||(J(r.$$.fragment,u),o=!0)},o:function(u){Y(r.$$.fragment,u),o=!1},d:function(u){u&&he(e),_e(r),l&&l.d(),n[10](null),a=!1,s()}}}function MYe(n,e,t){var r,i,o,a,s=Ni("absolute-popup"),l=s.openAbsolutePopup,u=s.closeAbsolutePopup,c=e.path,f=e.index,d=e.onSelect,h=e.getItems,v=!1;function p(m){u(a),d(r.concat(m))}return n.$$set=function(m){"path"in m&&t(5,c=m.path),"index"in m&&t(6,f=m.index),"onSelect"in m&&t(7,d=m.onSelect),"getItems"in m&&t(8,h=m.getItems)},n.$$.update=function(){96&n.$$.dirty&&(r=c.slice(0,f)),96&n.$$.dirty&&t(2,i=c[f])},[o,v,i,p,function(){if(o){t(1,v=!0);var m={items:h(r),selectedItem:i,onSelect:p};a=l(TYe,m,{anchor:o,closeOnOuterClick:!0,onClose:function(){t(1,v=!1)}})}},c,f,d,h,function(){return p(i)},function(m){en[m?"unshift":"push"](function(){t(0,o=m)})}]}var iW=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,MYe,EYe,mn,{path:5,index:6,onSelect:7,getItems:8},OYe),i}return ie(t)}();function $Ye(n){Gt(n,"svelte-g0evpe",".jse-navigation-bar-path-editor.svelte-g0evpe.svelte-g0evpe{flex:1;display:flex;border:var(--jse-edit-outline);background:var(--jse-background-color)}.jse-navigation-bar-path-editor.svelte-g0evpe input.jse-navigation-bar-text.svelte-g0evpe{flex:1;font-family:inherit;font-size:inherit;padding:0 5px 1px;background:var(--jse-background-color);color:var(--jse-text-color);border:none;outline:none}.jse-navigation-bar-path-editor.svelte-g0evpe button.svelte-g0evpe{border:none;background:var(--jse-background-color);cursor:pointer;font-family:inherit;font-size:80%;color:inherit}.jse-navigation-bar-path-editor.svelte-g0evpe button.jse-navigation-bar-copy.copied.svelte-g0evpe{color:var(--jse-message-success-background)}.jse-navigation-bar-path-editor.svelte-g0evpe button.jse-navigation-bar-validation-error.svelte-g0evpe{color:var(--jse-error-color)}.jse-navigation-bar-path-editor.error.svelte-g0evpe.svelte-g0evpe{border-color:var(--jse-error-color)}.jse-navigation-bar-path-editor.error.svelte-g0evpe input.jse-navigation-bar-text.svelte-g0evpe{color:var(--jse-error-color)}.jse-navigation-bar-path-editor.svelte-g0evpe .jse-copied-text.svelte-g0evpe{background:var(--jse-message-success-background);color:var(--jse-message-success-color);position:relative;margin:2px;padding:0 5px;border-radius:3px}")}function FP(n){var e,t,r,i,o,a;return t=new Jt({props:{data:zu}}),{c:function(){e=ee("button"),Ne(t.$$.fragment),E(e,"type","button"),E(e,"class","jse-navigation-bar-validation-error svelte-g0evpe")},m:function(s,l){me(s,e,l),Ae(t,e,null),i=!0,o||(a=xf(r=vj.call(null,e,$e({text:n[3]},n[4]))),o=!0)},p:function(s,l){r&&oo(r.update)&&8&l&&r.update.call(null,$e({text:s[3]},s[4]))},i:function(s){i||(J(t.$$.fragment,s),i=!0)},o:function(s){Y(t.$$.fragment,s),i=!1},d:function(s){s&&he(e),_e(t),o=!1,a()}}}function HP(n){var e;return{c:function(){(e=ee("div")).textContent="Copied!",E(e,"class","jse-copied-text svelte-g0evpe")},m:function(t,r){me(t,e,r)},d:function(t){t&&he(e)}}}function AYe(n){var e,t,r,i,o,a,s,l,u,c,f=n[3]&&FP(n),d=n[2]&&HP();return s=new Jt({props:{data:ih}}),{c:function(){e=ee("div"),t=ee("input"),r=je(),f&&f.c(),i=je(),d&&d.c(),o=je(),a=ee("button"),Ne(s.$$.fragment),E(t,"type","text"),E(t,"class","jse-navigation-bar-text svelte-g0evpe"),t.value=n[0],E(a,"type","button"),E(a,"class","jse-navigation-bar-copy svelte-g0evpe"),E(a,"title","Copy selected path to the clipboard"),Ve(a,"copied",n[2]),E(e,"class","jse-navigation-bar-path-editor svelte-g0evpe"),Ve(e,"error",n[3])},m:function(h,v){me(h,e,v),W(e,t),n[15](t),W(e,r),f&&f.m(e,null),W(e,i),d&&d.m(e,null),W(e,o),W(e,a),Ae(s,a,null),l=!0,u||(c=[Be(t,"keydown",bx(n[6])),Be(t,"input",n[5]),Be(a,"click",n[7])],u=!0)},p:function(h,v){var p=Dt(v,1)[0];(!l||1&p&&t.value!==h[0])&&(t.value=h[0]),h[3]?f?(f.p(h,p),8&p&&J(f,1)):((f=FP(h)).c(),J(f,1),f.m(e,i)):f&&(Je(),Y(f,1,1,function(){f=null}),Ge()),h[2]?d||((d=HP()).c(),d.m(e,o)):d&&(d.d(1),d=null),(!l||4&p)&&Ve(a,"copied",h[2]),(!l||8&p)&&Ve(e,"error",h[3])},i:function(h){l||(J(f),J(s.$$.fragment,h),l=!0)},o:function(h){Y(f),Y(s.$$.fragment,h),l=!1},d:function(h){h&&he(e),n[15](null),f&&f.d(),d&&d.d(),_e(s),u=!1,Xn(c)}}}function _Ye(n,e,t){var r,i,o,a=Ni("absolute-popup"),s=e.path,l=e.pathParser,u=e.onChange,c=e.onClose,f=e.onError,d=e.pathExists,h=!1,v=void 0,p=!1;function m(){i.focus()}function g(y){try{var b=l.parse(y);return function(w){if(!d(w))throw new Error("Path does not exist in current document")}(b),{path:b,error:void 0}}catch(w){return{path:void 0,error:w}}}return fo(function(){m()}),fl(function(){clearTimeout(v)}),n.$$set=function(y){"path"in y&&t(8,s=y.path),"pathParser"in y&&t(9,l=y.pathParser),"onChange"in y&&t(10,u=y.onChange),"onClose"in y&&t(11,c=y.onClose),"onError"in y&&t(12,f=y.onError),"pathExists"in y&&t(13,d=y.pathExists)},n.$$.update=function(){768&n.$$.dirty&&t(0,o=l.stringify(s)),16385&n.$$.dirty&&t(3,r=h?g(o).error:void 0)},[o,i,p,r,a,function(y){t(0,o=y.currentTarget.value)},function(y){var b=Bu(y);if(b==="Escape"&&c(),b==="Enter"){t(14,h=!0);var w=g(o);w.path!==void 0?u(w.path):f(w.error)}},function(){Kw(o),t(2,p=!0),v=setTimeout(function(){return t(2,p=!1)},1e3),m()},s,l,u,c,f,d,h,function(y){en[y?"unshift":"push"](function(){t(1,i=y)})}]}var NYe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,_Ye,AYe,Or,{path:8,pathParser:9,onChange:10,onClose:11,onError:12,pathExists:13},$Ye),i}return ie(t)}();function IYe(n){Gt(n,"svelte-15r3ahw",".jse-navigation-bar.svelte-15r3ahw.svelte-15r3ahw{font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);background:var(--jse-panel-background);color:var(--jse-panel-button-color);padding:0;margin:0;display:flex;overflow:auto;border-left:var(--jse-main-border);border-right:var(--jse-main-border)}.jse-navigation-bar.svelte-15r3ahw .jse-navigation-bar-edit.svelte-15r3ahw{font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);padding:calc(0.5 * var(--jse-padding)) var(--jse-padding);color:var(--jse-panel-color-readonly);background:transparent;border:none;display:flex;cursor:pointer;outline:none;align-items:center}.jse-navigation-bar.svelte-15r3ahw .jse-navigation-bar-edit.flex.svelte-15r3ahw{flex:1}.jse-navigation-bar.svelte-15r3ahw .jse-navigation-bar-edit.svelte-15r3ahw:focus,.jse-navigation-bar.svelte-15r3ahw .jse-navigation-bar-edit.svelte-15r3ahw:hover,.jse-navigation-bar.svelte-15r3ahw .jse-navigation-bar-edit.editing.svelte-15r3ahw{background:var(--jse-panel-button-background-highlight);color:var(--jse-panel-button-color-highlight);transition:color 0.2s ease-in, background 0.2s ease-in}.jse-navigation-bar.svelte-15r3ahw .jse-navigation-bar-edit .jse-navigation-bar-space.svelte-15r3ahw{flex:1;text-align:left}")}function VP(n,e,t){var r=n.slice();return r[20]=e[t],r[22]=t,r}function PYe(n){var e,t;return e=new NYe({props:{path:n[3],onClose:n[12],onChange:n[13],onError:n[1],pathExists:n[9],pathParser:n[2]}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o={};8&i&&(o.path=r[3]),2&i&&(o.onError=r[1]),4&i&&(o.pathParser=r[2]),e.$set(o)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function LYe(n){for(var e,t,r,i=[],o=new Map,a=n[3],s=function(d){return d[22]},l=0;l<a.length;l+=1){var u=VP(n,a,l),c=s(u);o.set(c,i[l]=WP(c,u))}var f=n[7]&&UP(n);return{c:function(){for(var d=0;d<i.length;d+=1)i[d].c();e=je(),f&&f.c(),t=kn()},m:function(d,h){for(var v=0;v<i.length;v+=1)i[v].m(d,h);me(d,e,h),f&&f.m(d,h),me(d,t,h),r=!0},p:function(d,h){1288&h&&(a=d[3],Je(),i=_h(i,h,s,1,d,a,o,e.parentNode,zg,WP,e,VP),Ge()),d[7]?f?(f.p(d,h),128&h&&J(f,1)):((f=UP(d)).c(),J(f,1),f.m(t.parentNode,t)):f&&(Je(),Y(f,1,1,function(){f=null}),Ge())},i:function(d){if(!r){for(var h=0;h<a.length;h+=1)J(i[h]);J(f),r=!0}},o:function(d){for(var h=0;h<i.length;h+=1)Y(i[h]);Y(f),r=!1},d:function(d){for(var h=0;h<i.length;h+=1)i[h].d(d);d&&he(e),f&&f.d(d),d&&he(t)}}}function WP(n,e){var t,r,i;return r=new iW({props:{getItems:e[8],path:e[3],index:e[22],onSelect:e[10]}}),{key:n,first:null,c:function(){t=kn(),Ne(r.$$.fragment),this.first=t},m:function(o,a){me(o,t,a),Ae(r,o,a),i=!0},p:function(o,a){e=o;var s={};8&a&&(s.path=e[3]),8&a&&(s.index=e[22]),r.$set(s)},i:function(o){i||(J(r.$$.fragment,o),i=!0)},o:function(o){Y(r.$$.fragment,o),i=!1},d:function(o){o&&he(t),_e(r,o)}}}function UP(n){var e,t;return e=new iW({props:{getItems:n[8],path:n[3],index:void 0,onSelect:n[10]}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o={};8&i&&(o.path=r[3]),e.$set(o)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function DYe(n){var e,t,r,i,o,a,s,l,u,c,f,d,h,v=Dr(n[0])||n[6]?"\xA0":"Navigation bar",p=[LYe,PYe],m=[];function g(y,b){return y[6]?1:0}return t=g(n),r=m[t]=p[t](n),u=new Jt({props:{data:n[6]?z_:B_}}),{c:function(){e=ee("div"),r.c(),i=je(),o=ee("button"),a=ee("span"),s=ot(v),l=je(),Ne(u.$$.fragment),E(a,"class","jse-navigation-bar-space svelte-15r3ahw"),E(o,"type","button"),E(o,"class","jse-navigation-bar-edit svelte-15r3ahw"),E(o,"title",c=n[6]?"Cancel editing the selected path":"Edit the selected path"),Ve(o,"flex",!n[6]),Ve(o,"editing",n[6]),E(e,"class","jse-navigation-bar svelte-15r3ahw")},m:function(y,b){me(y,e,b),m[t].m(e,null),W(e,i),W(e,o),W(o,a),W(a,s),W(o,l),Ae(u,o,null),n[16](o),n[17](e),f=!0,d||(h=Be(o,"click",n[11]),d=!0)},p:function(y,b){var w=Dt(b,1)[0],k=t;(t=g(y))===k?m[t].p(y,w):(Je(),Y(m[k],1,1,function(){m[k]=null}),Ge(),(r=m[t])?r.p(y,w):(r=m[t]=p[t](y)).c(),J(r,1),r.m(e,i)),(!f||65&w)&&v!==(v=Dr(y[0])||y[6]?"\xA0":"Navigation bar")&&on(s,v);var x={};64&w&&(x.data=y[6]?z_:B_),u.$set(x),(!f||64&w&&c!==(c=y[6]?"Cancel editing the selected path":"Edit the selected path"))&&E(o,"title",c),(!f||64&w)&&Ve(o,"flex",!y[6]),(!f||64&w)&&Ve(o,"editing",y[6])},i:function(y){f||(J(r),J(u.$$.fragment,y),f=!0)},o:function(y){Y(r),Y(u.$$.fragment,y),f=!1},d:function(y){y&&he(e),m[t].d(),_e(u),n[16](null),n[17](null),d=!1,h()}}}function RYe(n,e,t){var r,i,o,a,s=Li("jsoneditor:NavigationBar"),l=e.json,u=e.documentState,c=e.onSelect,f=e.onError,d=e.pathParser,h=!1;function v(m){s("select path",JSON.stringify(m)),c(Er(l,m,m))}function p(){t(6,h=!1)}return n.$$set=function(m){"json"in m&&t(0,l=m.json),"documentState"in m&&t(14,u=m.documentState),"onSelect"in m&&t(15,c=m.onSelect),"onError"in m&&t(1,f=m.onError),"pathParser"in m&&t(2,d=m.pathParser)},n.$$.update=function(){16384&n.$$.dirty&&t(3,r=u.selection?u.selection.focusPath:[]),9&n.$$.dirty&&t(7,i=Dr(de.exports.getIn(l,r))),8&n.$$.dirty&&setTimeout(function(){if(o&&o.scrollTo){var m=o.scrollWidth-o.clientWidth;m>0&&(s("scrollTo ",m),o.scrollTo({left:m,behavior:"smooth"}))}})},[l,f,d,r,o,a,h,i,function(m){s("get items for path",m);var g=de.exports.getIn(l,m);if(Array.isArray(g))return C2(0,g.length).map(String);if($r(g)){var y=Object.keys(g).slice(0);return y.sort(yj),y}return[]},function(m){return de.exports.existsIn(l,m)},v,function(){t(6,h=!h)},p,function(m){p(),v(m)},u,c,function(m){en[m?"unshift":"push"](function(){t(5,a=m)})},function(m){en[m?"unshift":"push"](function(){t(4,o=m)})}]}var BYe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,RYe,DYe,mn,{json:0,documentState:14,onSelect:15,onError:1,pathParser:2},IYe),i}return ie(t)}();function zYe(n){Gt(n,"svelte-18vllqh",".jse-search-box.svelte-18vllqh.svelte-18vllqh{border:var(--jse-panel-border);border-radius:3px;font-family:var(--jse-font-family);font-size:var(--jse-font-size);background:var(--jse-panel-background);color:var(--jse-panel-color-readonly);box-shadow:var(--jse-controls-box-shadow);display:inline-block;width:400px;max-width:100%;overflow:auto}.jse-search-box.svelte-18vllqh .jse-search-form.svelte-18vllqh{display:flex;align-items:stretch}.jse-search-box.svelte-18vllqh .jse-search-form button.svelte-18vllqh,.jse-search-box.svelte-18vllqh .jse-search-form input.svelte-18vllqh{font-family:inherit;font-size:inherit}.jse-search-box.svelte-18vllqh .jse-search-form button.svelte-18vllqh{display:block;text-align:center;border:none;padding:0 5px;margin:0;cursor:pointer;color:var(--jse-panel-button-color);background:var(--jse-panel-button-background)}.jse-search-box.svelte-18vllqh .jse-search-form button.svelte-18vllqh:hover{color:var(--jse-panel-button-color-highlight);background:var(--jse-panel-button-background-highlight)}.jse-search-box.svelte-18vllqh .jse-search-form input.svelte-18vllqh{color:var(--jse-panel-color);border:var(--jse-input-border);border-radius:3px;background:var(--jse-input-background);height:28px;padding:0 5px;margin:0;flex:1;outline:none}.jse-search-box.svelte-18vllqh .jse-search-form .jse-replace-toggle.svelte-18vllqh{padding:var(--jse-padding) calc(0.5 * var(--jse-padding));min-width:20px;background:var(--jse-panel-button-background-highlight)}.jse-search-box.svelte-18vllqh .jse-search-form .jse-search-contents.svelte-18vllqh{flex:1;display:flex;flex-direction:column;padding:calc(0.5 * var(--jse-padding));gap:calc(0.5 * var(--jse-padding))}.jse-search-box.svelte-18vllqh .jse-search-form .jse-search-contents .jse-search-section.svelte-18vllqh{flex:1;display:flex;align-items:center;position:relative;padding-left:32px}.jse-search-box.svelte-18vllqh .jse-search-form .jse-search-contents .jse-search-section .jse-search-icon.svelte-18vllqh{color:inherit;cursor:inherit;background:inherit;position:absolute;top:calc(0.5 * var(--jse-padding));left:calc(0.5 * var(--jse-padding))}.jse-search-box.svelte-18vllqh .jse-search-form .jse-search-contents .jse-search-section label.jse-search-input-label.svelte-18vllqh{flex:1;display:flex}.jse-search-box.svelte-18vllqh .jse-search-form .jse-search-contents .jse-search-section .jse-search-count.svelte-18vllqh{color:inherit;font-size:80%;visibility:hidden;padding:0 5px;min-width:36px;text-align:center}.jse-search-box.svelte-18vllqh .jse-search-form .jse-search-contents .jse-search-section .jse-search-count.jse-visible.svelte-18vllqh{visibility:visible}.jse-search-box.svelte-18vllqh .jse-search-form .jse-search-contents .jse-replace-section.svelte-18vllqh{padding-left:32px;flex:1;display:flex}.jse-search-box.svelte-18vllqh .jse-search-form .jse-search-contents .jse-replace-section button.svelte-18vllqh{width:auto}")}function JP(n){var e,t,r,i,o,a,s,l,u,c,f,d,h,v,p,m,g,y,b,w,k,x,C,T,M,B,_,N,$=(n[3]!==-1?"".concat(n[3]+1,"/"):"")+"",j=!n[4]&&GP(n),D=[FYe,qYe],q=[];function R(A,I){return A[2]?0:1}s=R(n),l=q[s]=D[s](n),y=new Jt({props:{data:XHe}}),k=new Jt({props:{data:UHe}}),T=new Jt({props:{data:Uh}});var G=n[0]&&!n[4]&&KP(n);return{c:function(){e=ee("div"),t=ee("form"),j&&j.c(),r=je(),i=ee("div"),o=ee("div"),a=ee("div"),l.c(),u=je(),c=ee("label"),f=ee("input"),d=je(),h=ee("div"),v=ot($),p=ot(n[10]),m=je(),g=ee("button"),Ne(y.$$.fragment),b=je(),w=ee("button"),Ne(k.$$.fragment),x=je(),C=ee("button"),Ne(T.$$.fragment),M=je(),G&&G.c(),E(a,"class","jse-search-icon svelte-18vllqh"),E(f,"class","jse-search-input svelte-18vllqh"),E(f,"title","Enter text to search"),E(f,"type","text"),E(f,"placeholder","Find"),E(c,"class","jse-search-input-label svelte-18vllqh"),E(c,"about","jse-search input"),E(h,"class","jse-search-count svelte-18vllqh"),Ve(h,"jse-visible",n[8]!==""),E(g,"type","button"),E(g,"class","jse-search-next svelte-18vllqh"),E(g,"title","Go to next search result (Enter)"),E(w,"type","button"),E(w,"class","jse-search-previous svelte-18vllqh"),E(w,"title","Go to previous search result (Shift+Enter)"),E(C,"type","button"),E(C,"class","jse-search-clear svelte-18vllqh"),E(C,"title","Close search box (Esc)"),E(o,"class","jse-search-section svelte-18vllqh"),E(i,"class","jse-search-contents svelte-18vllqh"),E(t,"class","jse-search-form svelte-18vllqh"),E(e,"class","jse-search-box svelte-18vllqh")},m:function(A,I){me(A,e,I),W(e,t),j&&j.m(t,null),W(t,r),W(t,i),W(i,o),W(o,a),q[s].m(a,null),W(o,u),W(o,c),W(c,f),cl(f,n[8]),W(o,d),W(o,h),W(h,v),W(h,p),W(o,m),W(o,g),Ae(y,g,null),W(o,b),W(o,w),Ae(k,w,null),W(o,x),W(o,C),Ae(T,C,null),W(i,M),G&&G.m(i,null),B=!0,_||(N=[Be(f,"input",n[21]),xf(VYe.call(null,f)),Be(g,"click",n[22]),Be(w,"click",n[23]),Be(C,"click",n[24]),Be(t,"submit",n[12]),Be(t,"keydown",n[13])],_=!0)},p:function(A,I){A[4]?j&&(Je(),Y(j,1,1,function(){j=null}),Ge()):j?(j.p(A,I),16&I&&J(j,1)):((j=GP(A)).c(),J(j,1),j.m(t,r));var z=s;(s=R(A))===z?q[s].p(A,I):(Je(),Y(q[z],1,1,function(){q[z]=null}),Ge(),(l=q[s])?l.p(A,I):(l=q[s]=D[s](A)).c(),J(l,1),l.m(a,null)),256&I&&f.value!==A[8]&&cl(f,A[8]),(!B||8&I)&&$!==($=(A[3]!==-1?"".concat(A[3]+1,"/"):"")+"")&&on(v,$),(!B||1024&I)&&on(p,A[10]),(!B||256&I)&&Ve(h,"jse-visible",A[8]!==""),A[0]&&!A[4]?G?G.p(A,I):((G=KP(A)).c(),G.m(i,null)):G&&(G.d(1),G=null)},i:function(A){B||(J(j),J(l),J(y.$$.fragment,A),J(k.$$.fragment,A),J(T.$$.fragment,A),B=!0)},o:function(A){Y(j),Y(l),Y(y.$$.fragment,A),Y(k.$$.fragment,A),Y(T.$$.fragment,A),B=!1},d:function(A){A&&he(e),j&&j.d(),q[s].d(),_e(y),_e(k),_e(T),G&&G.d(),_=!1,Xn(N)}}}function GP(n){var e,t,r,i,o;return t=new Jt({props:{data:n[0]?Ma:Gs}}),{c:function(){e=ee("button"),Ne(t.$$.fragment),E(e,"type","button"),E(e,"class","jse-replace-toggle svelte-18vllqh"),E(e,"title","Toggle visibility of replace options (Ctrl+H)")},m:function(a,s){me(a,e,s),Ae(t,e,null),r=!0,i||(o=Be(e,"click",n[11]),i=!0)},p:function(a,s){var l={};1&s&&(l.data=a[0]?Ma:Gs),t.$set(l)},i:function(a){r||(J(t.$$.fragment,a),r=!0)},o:function(a){Y(t.$$.fragment,a),r=!1},d:function(a){a&&he(e),_e(t),i=!1,o()}}}function qYe(n){var e,t;return e=new Jt({props:{data:B2}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:Ze,i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function FYe(n){var e,t;return e=new Jt({props:{data:VHe,spin:!0}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:Ze,i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function KP(n){var e,t,r,i,o,a,s,l;return{c:function(){e=ee("div"),t=ee("input"),r=je(),(i=ee("button")).textContent="Replace",o=je(),(a=ee("button")).textContent="All",E(t,"class","jse-replace-input svelte-18vllqh"),E(t,"title","Enter replacement text"),E(t,"type","text"),E(t,"placeholder","Replace"),E(i,"type","button"),E(i,"title","Replace current occurrence (Ctrl+Enter)"),E(i,"class","svelte-18vllqh"),E(a,"type","button"),E(a,"title","Replace all occurrences"),E(a,"class","svelte-18vllqh"),E(e,"class","jse-replace-section svelte-18vllqh")},m:function(u,c){me(u,e,c),W(e,t),cl(t,n[9]),W(e,r),W(e,i),W(e,o),W(e,a),s||(l=[Be(t,"input",n[25]),Be(i,"click",n[14]),Be(a,"click",n[15])],s=!0)},p:function(u,c){512&c&&t.value!==u[9]&&cl(t,u[9])},d:function(u){u&&he(e),s=!1,Xn(l)}}}function HYe(n){var e,t,r=n[1]&&JP(n);return{c:function(){r&&r.c(),e=kn()},m:function(i,o){r&&r.m(i,o),me(i,e,o),t=!0},p:function(i,o){var a=Dt(o,1)[0];i[1]?r?(r.p(i,a),2&a&&J(r,1)):((r=JP(i)).c(),J(r,1),r.m(e.parentNode,e)):r&&(Je(),Y(r,1,1,function(){r=null}),Ge())},i:function(i){t||(J(r),t=!0)},o:function(i){Y(r),t=!1},d:function(i){r&&r.d(i),i&&he(e)}}}function VYe(n){n.select()}function WYe(n,e,t){var r,i,o=e.show,a=o!==void 0&&o,s=e.searching,l=e.resultCount,u=l===void 0?0:l,c=e.activeIndex,f=c===void 0?0:c,d=e.showReplace,h=d!==void 0&&d,v=e.readOnly,p=v!==void 0&&v,m=e.onChange,g=m===void 0?Dn:m,y=e.onPrevious,b=y===void 0?Dn:y,w=e.onNext,k=w===void 0?Dn:w,x=e.onReplace,C=x===void 0?Dn:x,T=e.onReplaceAll,M=T===void 0?Dn:T,B=e.onClose,_=B===void 0?Dn:B,N="",$="",j="";function D(){t(0,h=!h&&!p)}function q(){p||C(N,j)}return n.$$set=function(R){"show"in R&&t(1,a=R.show),"searching"in R&&t(2,s=R.searching),"resultCount"in R&&t(16,u=R.resultCount),"activeIndex"in R&&t(3,f=R.activeIndex),"showReplace"in R&&t(0,h=R.showReplace),"readOnly"in R&&t(4,p=R.readOnly),"onChange"in R&&t(17,g=R.onChange),"onPrevious"in R&&t(5,b=R.onPrevious),"onNext"in R&&t(6,k=R.onNext),"onReplace"in R&&t(18,C=R.onReplace),"onReplaceAll"in R&&t(19,M=R.onReplaceAll),"onClose"in R&&t(7,_=R.onClose)},n.$$.update=function(){65536&n.$$.dirty&&t(10,r=u>=1e3?"".concat(999,"+"):String(u)),131072&n.$$.dirty&&t(20,i=_f(g,300)),1048832&n.$$.dirty&&i(N),2&n.$$.dirty&&a&&N!==""&&g(N)},[h,a,s,f,p,b,k,_,N,j,r,D,function(R){R.preventDefault(),N!==$?($=N,i.cancel(),g(N)):k()},function(R){R.stopPropagation();var G=Bu(R);G==="Enter"&&(R.preventDefault(),k()),G==="Shift+Enter"&&(R.preventDefault(),b()),G!=="Ctrl+Enter"&&G!=="Command+Enter"||(R.preventDefault(),h?q():k()),G==="Ctrl+H"&&(R.preventDefault(),D()),G==="Escape"&&(R.preventDefault(),_())},q,function(){p||M(N,j)},u,g,C,M,i,function(){N=this.value,t(8,N)},function(){return k()},function(){return b()},function(){return _()},function(){j=this.value,t(9,j)}]}var UYe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,WYe,HYe,mn,{show:1,searching:2,resultCount:16,activeIndex:3,showReplace:0,readOnly:4,onChange:17,onPrevious:5,onNext:6,onReplace:18,onReplaceAll:19,onClose:7},zYe),i}return ie(t)}(),JYe=wx.window;function GYe(n){Gt(n,"svelte-1chflnh",".jse-tree-mode.svelte-1chflnh.svelte-1chflnh{flex:1;display:flex;flex-direction:column;position:relative;background:var(--jse-background-color);min-width:0;min-height:0;font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);color:var(--jse-text-color);line-height:var(--jse-line-height)}.jse-tree-mode.svelte-1chflnh .jse-hidden-input-label.svelte-1chflnh{position:fixed;right:0;top:0;width:0;height:0}.jse-tree-mode.svelte-1chflnh .jse-hidden-input-label .jse-hidden-input.svelte-1chflnh{width:0;height:0;padding:0;border:0;outline:none}.jse-tree-mode.svelte-1chflnh .jse-search-box-container.svelte-1chflnh{position:relative;height:0;top:var(--jse-padding);margin-right:calc(var(--jse-padding) + 20px);margin-left:var(--jse-padding);text-align:right;z-index:3}.jse-tree-mode.no-main-menu.svelte-1chflnh.svelte-1chflnh{border-top:var(--jse-main-border)}.jse-tree-mode.svelte-1chflnh .jse-contents.svelte-1chflnh{border-left:var(--jse-main-border);border-right:var(--jse-main-border);flex:1;overflow:auto;position:relative;padding:2px;display:flex;flex-direction:column}.jse-tree-mode.svelte-1chflnh .jse-contents.svelte-1chflnh:last-child{border-bottom:var(--jse-main-border)}.jse-tree-mode.svelte-1chflnh .jse-contents .jse-loading-space.svelte-1chflnh{flex:1}.jse-tree-mode.svelte-1chflnh .jse-contents .jse-loading.svelte-1chflnh{flex:2;text-align:center;color:var(--jse-panel-color-readonly);box-sizing:border-box;font-family:var(--jse-font-family);font-size:var(--jse-font-size)}.jse-tree-mode.svelte-1chflnh .jse-preview.svelte-1chflnh{flex:1;color:var(--jse-panel-color-readonly);overflow:auto;white-space:pre-wrap;padding:2px}")}function QP(n){var e,t,r;function i(a){n[73](a)}var o={json:n[9],selection:n[15].selection,readOnly:n[0],historyState:n[21],onExpandAll:n[39],onCollapseAll:n[40],onUndo:n[35],onRedo:n[36],onSort:n[37],onTransform:n[38],onContextMenu:n[44],onCopy:n[33],onRenderMenu:n[6]};return n[18]!==void 0&&(o.showSearch=n[18]),e=new gYe({props:o}),en.push(function(){return to(e,"showSearch",i)}),{c:function(){Ne(e.$$.fragment)},m:function(a,s){Ae(e,a,s),r=!0},p:function(a,s){var l={};512&s[0]&&(l.json=a[9]),32768&s[0]&&(l.selection=a[15].selection),1&s[0]&&(l.readOnly=a[0]),2097152&s[0]&&(l.historyState=a[21]),64&s[0]&&(l.onRenderMenu=a[6]),!t&&262144&s[0]&&(t=!0,l.showSearch=a[18],wo(function(){return t=!1})),e.$set(l)},i:function(a){r||(J(e.$$.fragment,a),r=!0)},o:function(a){Y(e.$$.fragment,a),r=!1},d:function(a){_e(e,a)}}}function YP(n){var e,t;return e=new BYe({props:{json:n[9],documentState:n[15],onSelect:n[47],onError:n[4],pathParser:n[3]}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o={};512&i[0]&&(o.json=r[9]),32768&i[0]&&(o.documentState=r[15]),16&i[0]&&(o.onError=r[4]),8&i[0]&&(o.pathParser=r[3]),e.$set(o)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function KYe(n){var e;return{c:function(){(e=ee("div")).innerHTML=`<div class="jse-loading-space svelte-1chflnh"></div> 
      <div class="jse-loading svelte-1chflnh">loading...</div>`,E(e,"class","jse-contents svelte-1chflnh")},m:function(t,r){me(t,e,r)},p:Ze,i:Ze,o:Ze,d:function(t){t&&he(e)}}}function QYe(n){var e,t,r,i,o,a,s,l,u,c=[ZYe,YYe],f=[];function d(h,v){return h[9]===void 0?0:1}return i=d(n),o=f[i]=c[i](n),{c:function(){e=ee("label"),t=ee("input"),r=je(),o.c(),a=kn(),E(t,"type","text"),t.readOnly="readonly",E(t,"tabindex","-1"),E(t,"class","jse-hidden-input svelte-1chflnh"),E(e,"class","jse-hidden-input-label svelte-1chflnh")},m:function(h,v){me(h,e,v),W(e,t),n[74](t),me(h,r,v),f[i].m(h,v),me(h,a,v),s=!0,l||(u=Be(t,"paste",n[34]),l=!0)},p:function(h,v){var p=i;(i=d(h))===p?f[i].p(h,v):(Je(),Y(f[p],1,1,function(){f[p]=null}),Ge(),(o=f[i])?o.p(h,v):(o=f[i]=c[i](h)).c(),J(o,1),o.m(a.parentNode,a))},i:function(h){s||(J(o),s=!0)},o:function(h){Y(o),s=!1},d:function(h){h&&he(e),n[74](null),h&&he(r),f[i].d(h),h&&he(a),l=!1,u()}}}function YYe(n){var e,t,r,i,o,a,s,l,u,c,f,d,h,v;a=new UYe({props:{show:n[18],resultCount:((e=n[16])===null||e===void 0||(t=e.items)===null||t===void 0?void 0:t.length)||0,activeIndex:((r=n[16])===null||r===void 0?void 0:r.activeIndex)||0,showReplace:n[19],searching:n[20],readOnly:n[0],onChange:n[26],onNext:n[27],onPrevious:n[28],onReplace:n[29],onReplaceAll:n[30],onClose:n[31]}}),u=new pYe({props:{value:n[9],path:n[25],expandedMap:n[15].expandedMap,enforceStringMap:n[15].enforceStringMap,visibleSectionsMap:n[15].visibleSectionsMap,validationErrorsMap:n[23],searchResultItemsMap:(i=n[16])===null||i===void 0?void 0:i.itemsMap,selection:n[15].selection,context:n[12],onDragSelectionStart:Dn}});var p=n[17]&&ZP(n),m=n[22]&&XP(n);return h=new cF({props:{validationErrors:n[11],selectError:n[32]}}),{c:function(){o=ee("div"),Ne(a.$$.fragment),s=je(),l=ee("div"),Ne(u.$$.fragment),c=je(),p&&p.c(),f=je(),m&&m.c(),d=je(),Ne(h.$$.fragment),E(o,"class","jse-search-box-container svelte-1chflnh"),E(l,"class","jse-contents svelte-1chflnh"),E(l,"data-jsoneditor-scrollable-contents",!0)},m:function(g,y){me(g,o,y),Ae(a,o,null),me(g,s,y),me(g,l,y),Ae(u,l,null),n[75](l),me(g,c,y),p&&p.m(g,y),me(g,f,y),m&&m.m(g,y),me(g,d,y),Ae(h,g,y),v=!0},p:function(g,y){var b,w,k,x,C={};262144&y[0]&&(C.show=g[18]),65536&y[0]&&(C.resultCount=((b=g[16])===null||b===void 0||(w=b.items)===null||w===void 0?void 0:w.length)||0),65536&y[0]&&(C.activeIndex=((k=g[16])===null||k===void 0?void 0:k.activeIndex)||0),524288&y[0]&&(C.showReplace=g[19]),1048576&y[0]&&(C.searching=g[20]),1&y[0]&&(C.readOnly=g[0]),a.$set(C);var T={};512&y[0]&&(T.value=g[9]),32768&y[0]&&(T.expandedMap=g[15].expandedMap),32768&y[0]&&(T.enforceStringMap=g[15].enforceStringMap),32768&y[0]&&(T.visibleSectionsMap=g[15].visibleSectionsMap),8388608&y[0]&&(T.validationErrorsMap=g[23]),65536&y[0]&&(T.searchResultItemsMap=(x=g[16])===null||x===void 0?void 0:x.itemsMap),32768&y[0]&&(T.selection=g[15].selection),4096&y[0]&&(T.context=g[12]),u.$set(T),g[17]?p?(p.p(g,y),131072&y[0]&&J(p,1)):((p=ZP(g)).c(),J(p,1),p.m(f.parentNode,f)):p&&(Je(),Y(p,1,1,function(){p=null}),Ge()),g[22]?m?(m.p(g,y),4194304&y[0]&&J(m,1)):((m=XP(g)).c(),J(m,1),m.m(d.parentNode,d)):m&&(Je(),Y(m,1,1,function(){m=null}),Ge());var M={};2048&y[0]&&(M.validationErrors=g[11]),h.$set(M)},i:function(g){v||(J(a.$$.fragment,g),J(u.$$.fragment,g),J(p),J(m),J(h.$$.fragment,g),v=!0)},o:function(g){Y(a.$$.fragment,g),Y(u.$$.fragment,g),Y(p),Y(m),Y(h.$$.fragment,g),v=!1},d:function(g){g&&he(o),_e(a),g&&he(s),g&&he(l),_e(u),n[75](null),g&&he(c),p&&p.d(g),g&&he(f),m&&m.d(g),g&&he(d),_e(h,g)}}}function ZYe(n){var e,t,r,i,o=[eZe,XYe],a=[];function s(l,u){return l[10]===""||l[10]===void 0?0:1}return e=s(n),t=a[e]=o[e](n),{c:function(){t.c(),r=kn()},m:function(l,u){a[e].m(l,u),me(l,r,u),i=!0},p:function(l,u){var c=e;(e=s(l))===c?a[e].p(l,u):(Je(),Y(a[c],1,1,function(){a[c]=null}),Ge(),(t=a[e])?t.p(l,u):(t=a[e]=o[e](l)).c(),J(t,1),t.m(r.parentNode,r))},i:function(l){i||(J(t),i=!0)},o:function(l){Y(t),i=!1},d:function(l){a[e].d(l),l&&he(r)}}}function ZP(n){var e,t;return e=new qu({props:{type:"info",message:"You pasted a JSON ".concat(Array.isArray(n[17].contents)?"array":"object"," as text"),actions:[{icon:L2,text:"Paste as JSON instead",onMouseDown:n[45]},{text:"Leave as is",onClick:n[46]}]}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o={};131072&i[0]&&(o.message="You pasted a JSON ".concat(Array.isArray(r[17].contents)?"array":"object"," as text")),e.$set(o)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function XP(n){var e,t;return e=new qu({props:{type:"success",message:"The loaded JSON document was invalid but is successfully repaired.",actions:n[0]?[]:[{icon:Jb,text:"Ok",onClick:n[7]},{icon:_m,text:"Repair manually instead",onClick:n[5]}]}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o={};33&i[0]&&(o.actions=r[0]?[]:[{icon:Jb,text:"Ok",onClick:r[7]},{icon:_m,text:"Repair manually instead",onClick:r[5]}]),e.$set(o)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function XYe(n){var e,t,r,i,o,a=og(n[10],2e4)+"";return e=new qu({props:{type:"error",message:"The loaded JSON document is invalid and could not be repaired automatically.",actions:n[0]?[]:[{icon:_m,text:"Repair manually",onClick:n[5]}]}}),{c:function(){Ne(e.$$.fragment),t=je(),r=ee("div"),i=ot(a),E(r,"class","jse-preview svelte-1chflnh")},m:function(s,l){Ae(e,s,l),me(s,t,l),me(s,r,l),W(r,i),o=!0},p:function(s,l){var u={};33&l[0]&&(u.actions=s[0]?[]:[{icon:_m,text:"Repair manually",onClick:s[5]}]),e.$set(u),(!o||1024&l[0])&&a!==(a=og(s[10],2e4)+"")&&on(i,a)},i:function(s){o||(J(e.$$.fragment,s),o=!0)},o:function(s){Y(e.$$.fragment,s),o=!1},d:function(s){_e(e,s),s&&he(t),s&&he(r)}}}function eZe(n){var e,t;return e=new kYe({props:{readOnly:n[0]}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o={};1&i[0]&&(o.readOnly=r[0]),e.$set(o)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function tZe(n){var e,t,r,i,o,a,s,l,u=n[1]&&QP(n),c=n[2]&&YP(n),f=[QYe,KYe],d=[];return i=function(h,v){return h[24]?1:0}(n),o=d[i]=f[i](n),{c:function(){e=ee("div"),u&&u.c(),t=je(),c&&c.c(),r=je(),o.c(),E(e,"class","jse-tree-mode svelte-1chflnh"),Ve(e,"no-main-menu",!n[1])},m:function(h,v){me(h,e,v),u&&u.m(e,null),W(e,t),c&&c.m(e,null),W(e,r),d[i].m(e,null),n[76](e),a=!0,s||(l=[Be(JYe,"mousedown",n[48]),Be(e,"keydown",n[41]),Be(e,"mousedown",n[42]),Be(e,"contextmenu",n[43])],s=!0)},p:function(h,v){h[1]?u?(u.p(h,v),2&v[0]&&J(u,1)):((u=QP(h)).c(),J(u,1),u.m(e,t)):u&&(Je(),Y(u,1,1,function(){u=null}),Ge()),h[2]?c?(c.p(h,v),4&v[0]&&J(c,1)):((c=YP(h)).c(),J(c,1),c.m(e,r)):c&&(Je(),Y(c,1,1,function(){c=null}),Ge()),o.p(h,v),(!a||2&v[0])&&Ve(e,"no-main-menu",!h[1])},i:function(h){a||(J(u),J(c),J(o),a=!0)},o:function(h){Y(u),Y(c),Y(o),a=!1},d:function(h){h&&he(e),u&&u.d(),c&&c.d(),d[i].d(),n[76](null),s=!1,Xn(l)}}}function nc(n){return n.length===0||n.length===1&&n[0]==="0"}function ev(){return!0}function nZe(n,e,t){var r,i=Li("jsoneditor:TreeMode"),o=typeof window=="undefined";i("isSSR:",o);var a,s,l,u,c,f=Ni("simple-modal").open,d=af(),h=af(),v=Ni("absolute-popup"),p=v.openAbsolutePopup,m=v.closeAbsolutePopup,g=!1,y=wKe(),b=e.readOnly,w=e.externalContent,k=e.mainMenuBar,x=e.navigationBar,C=e.escapeControlCharacters,T=e.escapeUnicodeCharacters,M=e.parser,B=e.validator,_=e.validationParser,N=e.pathParser,$=e.indentation,j=e.onError,D=e.onChange,q=e.onRenderValue,R=e.onRequestRepair,G=e.onRenderMenu,A=e.onClassName,I=e.onFocus,z=e.onBlur,F=e.onSortModal,L=e.onTransformModal,O=!1;sF({onMount:fo,onDestroy:fl,getWindow:function(){return rh(l)},hasFocus:function(){return O&&document.hasFocus()||Vb(l)},onFocus:function(){g=!0,I&&I()},onBlur:function(){g=!1,z&&z()}});var V=[],Z=void 0;function te(X){i("updateSelection",X);var ke=typeof X=="function"?X(S.selection):X;jn(ke,S.selection)||t(15,S=$e($e({},S),{},{selection:ke}))}var ve,ue,ge,P=!1,S=AI(),ae=!1,ce=!1,ne=!1,ye="";function Ce(X){return Se.apply(this,arguments)}function Se(){return Se=Fn(At().mark(function X(ke){return At().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return i("search text updated",ke),t(72,ye=ke),Te.next=4,xr();case 4:return Te.next=6,et();case 6:case"end":return Te.stop()}},X)})),Se.apply(this,arguments)}function Ue(){return(Ue=Fn(At().mark(function X(){return At().wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:return t(16,ve=ve?MKe(ve):void 0),ke.next=3,et();case 3:case"end":return ke.stop()}},X)}))).apply(this,arguments)}function pt(){return(pt=Fn(At().mark(function X(){return At().wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:return t(16,ve=ve?$Ke(ve):void 0),ke.next=3,et();case 3:case"end":return ke.stop()}},X)}))).apply(this,arguments)}function Ke(){return(Ke=Fn(At().mark(function X(ke,Te){var qe,Ie,He,ut,wt;return At().wrap(function(ft){for(;;)switch(ft.prev=ft.next){case 0:if(Ie=(qe=ve)===null||qe===void 0?void 0:qe.activeItem,i("handleReplace",{replacementText:Te,activeItem:Ie}),Ie){ft.next=4;break}return ft.abrupt("return");case 4:return He=AKe(u,S,Te,Ie,M),ut=He.operations,wt=He.newSelection,Qr(ut,function(an,qn){return{state:$e($e({},qn),{},{selection:wt})}}),ft.next=8,xr();case 8:return ft.next=10,et();case 10:case"end":return ft.stop()}},X)}))).apply(this,arguments)}function Me(){return Me=Fn(At().mark(function X(ke,Te){var qe,Ie,He;return At().wrap(function(ut){for(;;)switch(ut.prev=ut.next){case 0:return i("handleReplaceAll",{text:ke,replacementText:Te}),qe=_Ke(u,S,ke,Te,M),Ie=qe.operations,He=qe.newSelection,Qr(Ie,function(wt,ft){return{state:$e($e({},ft),{},{selection:He})}}),ut.next=5,xr();case 5:return ut.next=7,et();case 7:case"end":return ut.stop()}},X)})),Me.apply(this,arguments)}function et(){return le.apply(this,arguments)}function le(){return(le=Fn(At().mark(function X(){var ke,Te,qe;return At().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(Te=(ke=ve)===null||ke===void 0?void 0:ke.activeItem,i("focusActiveSearchResult",ve),!Te){Ie.next=9;break}return qe=Te.path,t(15,S=$e($e({},g1(u,S,qe)),{},{selection:void 0})),Ie.next=7,xr();case 7:return Ie.next=9,Ya(qe);case 9:case"end":return Ie.stop()}},X)}))).apply(this,arguments)}var be=TKe({onChange:function(X){t(21,Le=X)}}),Le=be.getState(),Ee,ct,it=O2(function(){if(ye==="")return i("clearing search result"),void(ve!==void 0&&t(16,ve=void 0));t(20,ne=!0),setTimeout(function(){i("searching...",ye);var X=ZV(ye,u,S,1e3);t(16,ve=function(ke,Te,qe){var Ie=qe!=null&&qe.activeItem?JI(qe.activeItem):void 0,He=Te.findIndex(function(an){return jn(Ie,JI(an))}),ut=He!==-1?He:(qe==null?void 0:qe.activeIndex)<Te.length?qe==null?void 0:qe.activeIndex:Te.length>0?0:-1,wt=Te.map(function(an,qn){return $e($e({},an),{},{active:qn===ut})}),ft=wt[ut];return{items:wt,itemsMap:zh(wt,function(an){return de.exports.compileJSONPointer(an.path)}),activeItem:ft,activeIndex:ut}}(0,X,ve)),t(20,ne=!1)})},300),at=!1,Bt=[],zt=VV(fKe);function H(X,ke,Te,qe){gd(function(){var Ie;try{Ie=zt(X,ke,Te,qe)}catch(He){Ie=[{path:[],message:"Failed to validate: "+He.message,severity:sf.warning}]}jn(Ie,Bt)||(i("validationErrors changed:",Ie),t(11,Bt=Ie))},function(Ie){return i("validationErrors updated in ".concat(Ie," ms"))})}function U(){return i("validate"),Z?{parseError:Z,isRepairable:!1}:(H(u,B,M,_),{validationErrors:Bt})}function se(){return u}function Q(){return S}function we(X){X.json!==void 0&&function(ke){if(ke!==void 0){var Te=!jn(u,ke);if(i("update external json",{isChanged:Te,currentlyText:u===void 0}),!!Te){var qe={json:u,text:c},Ie=S,He=u,ut=c,wt=at;t(9,u=ke),Oe(u),t(10,c=void 0),t(22,at=!1),Fe(u),Xe({previousJson:He,previousState:Ie,previousText:ut,previousTextIsRepaired:wt}),fa(qe,null)}}}(X.json),X.text!==void 0&&function(ke){if(!(ke===void 0||w.json!==void 0)){var Te=ke!==c;if(i("update external text",{isChanged:Te}),!!Te){var qe={json:u,text:c},Ie=u,He=S,ut=c,wt=at;try{t(9,u=M.parse(ke)),Oe(u),t(10,c=ke),t(22,at=!1),Z=void 0,Fe(u)}catch(ft){try{t(9,u=M.parse(nl(ke))),Oe(u),t(10,c=ke),t(22,at=!0),Z=void 0,Fe(u)}catch{t(9,u=void 0),t(10,c=w.text),t(22,at=!1),Z=N2(c,ft.message||ft.toString()),Fe(u)}}Xe({previousJson:Ie,previousState:He,previousText:ut,previousTextIsRepaired:wt}),fa(qe,null)}}}(X.text)}function Oe(X){P||(P=!0,t(15,S=Xa(X,S,V,function(ke){return N_({json:ke},10240)?nc:ev}(X))))}function Fe(X){S.selection!==void 0&&(S.selection&&de.exports.existsIn(X,S.selection.anchorPath)&&de.exports.existsIn(X,S.selection.focusPath)||(i("resetting selection: path does not exist anymore",S.selection),t(15,S=$e($e({},S),{},{selection:rd(X,S)}))))}function Xe(X){var ke=X.previousJson,Te=X.previousState,qe=X.previousText,Ie=X.previousTextIsRepaired;ke===void 0&&qe===void 0||(u!==void 0?ke!==void 0?be.add({undo:{patch:[{op:"replace",path:"",value:ke}],state:Ns(Te),json:void 0,text:qe,textIsRepaired:Ie},redo:{patch:[{op:"replace",path:"",value:u}],state:Ns(S),json:void 0,text:c,textIsRepaired:at}}):be.add({undo:{patch:void 0,json:void 0,text:qe,state:Ns(Te),textIsRepaired:Ie},redo:{patch:void 0,json:u,state:Ns(S),text:c,textIsRepaired:at}}):ke!==void 0&&be.add({undo:{patch:void 0,json:ke,state:Ns(Te),text:qe,textIsRepaired:Ie},redo:{patch:void 0,json:void 0,text:c,textIsRepaired:at,state:Ns(S)}}))}function nt(){i("createDefaultSelection"),t(15,S=$e($e({},S),{},{selection:Er(u||{},[],[])}))}function jt(X,ke){if(i("patch",X,ke),u===void 0)throw new Error("Cannot apply patch: no JSON");var Te={json:u,text:c},qe=u,Ie=S,He=c,ut=at,wt=function(pe,Ct){return de.exports.revertJSONPatch(pe,Ct,{before:function(ht,Wt,Jn){if(de.exports.isJSONPatchRemove(Wt)){var Zr=de.exports.parseJSONPointer(Wt.path);return{revertOperations:[].concat(Ut(Jn),Ut(VI(ht,Zr)))}}if(de.exports.isJSONPatchMove(Wt)){var Xr=de.exports.parseJSONPointer(Wt.from);return{revertOperations:[].concat(Ut(Jn),Ut(VI(ht,Xr)))}}return{revertOperations:Jn}}})}(u,X),ft=CKe(u,S,X),an=hf(u,X),qn=function(pe,Ct){var ht=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return Ct!==void 0||ht?$e($e({},pe),{},{selection:Ct}):pe}(ft.documentState,an,!1);i("patch updatedSelection",an);var In=typeof ke=="function"?ke(ft.json,qn):void 0;t(9,u=In&&In.json!==void 0?In.json:ft.json);var Pn=In&&In.state!==void 0?In.state:qn;t(15,S=Pn),t(10,c=void 0),t(22,at=!1),Fe(u),be.add({undo:{patch:wt,json:void 0,text:He,state:Ns(Ie),textIsRepaired:ut},redo:{patch:X,json:void 0,state:Ns(Pn),text:c,textIsRepaired:at}});var Yr={json:u,previousJson:qe,undo:wt,redo:X};return fa(Te,Yr),Yr}function Vt(X){return Sn(X)||Sr(X)||Cn(X)}function st(){!b&&S.selection&&te(ro(S.selection.focusPath,!0))}function Xt(){!b&&S.selection&&te(nr(S.selection.focusPath,!0))}function Ft(){if(!b&&Cn(S.selection)){var X=S.selection.focusPath,ke=de.exports.compileJSONPointer(X),Te=de.exports.getIn(u,X),qe=!Qh(Te,S.enforceStringMap,ke,M),Ie=qe?String(Te):Nh(String(Te),M);i("handleToggleEnforceString",{enforceString:qe,value:Te,updatedValue:Ie}),Qr([{op:"replace",path:de.exports.compileJSONPointer(X),value:Ie}],function(He,ut){return{state:jKe(ut,ke,qe)}})}}function fn(){return Ht.apply(this,arguments)}function Ht(){return Ht=Fn(At().mark(function X(){var ke,Te,qe,Ie,He,ut,wt=arguments;return At().wrap(function(ft){for(;;)switch(ft.prev=ft.next){case 0:if(ke=!(wt.length>0&&wt[0]!==void 0)||wt[0],!b&&Vt(S.selection)){ft.next=3;break}return ft.abrupt("return");case 3:if(Te=ke?$:null,(qe=RI(u,S.selection,Te,M))!=null){ft.next=7;break}return ft.abrupt("return");case 7:return i("cut",{selection:S.selection,clipboard:qe,indent:ke}),ft.next=10,Kw(qe);case 10:Ie=HI(u,S.selection),He=Ie.operations,ut=Ie.newSelection,Qr(He,function(an,qn){return{state:$e($e({},qn),{},{selection:ut})}});case 12:case"end":return ft.stop()}},X)})),Ht.apply(this,arguments)}function tn(){return sr.apply(this,arguments)}function sr(){return sr=Fn(At().mark(function X(){var ke,Te,qe,Ie=arguments;return At().wrap(function(He){for(;;)switch(He.prev=He.next){case 0:if(ke=!(Ie.length>0&&Ie[0]!==void 0)||Ie[0],Te=ke?$:null,(qe=RI(u,S.selection,Te,M))!=null){He.next=5;break}return He.abrupt("return");case 5:return i("copy",{clipboard:qe,indent:ke}),He.next=8,Kw(qe);case 8:case"end":return He.stop()}},X)})),sr.apply(this,arguments)}function Bn(){f(zKe,{},$e($e({},ym),{},{styleWindow:{width:"450px"}}),{onClose:function(){return Hr()}})}function An(X){if(u!==void 0){S.selection||nt();var ke=FI(u,S.selection,X,M);i("paste",{clipboardText:X,operations:ke,selection:S.selection}),Qr(ke,function(Te,qe){var Ie=qe;return ke.filter(function(He){return(de.exports.isJSONPatchAdd(He)||de.exports.isJSONPatchReplace(He))&&Dr(He.value)}).forEach(function(He){var ut=de.exports.parsePath(u,He.path);Ie=No(Te,Ie,ut)}),{state:Ie}})}else i("paste text",{clipboardText:X}),function(Te,qe){i("handleChangeText");var Ie=S,He=u,ut=c,wt={json:u,text:c},ft=at;try{t(9,u=M.parse(Te)),t(15,S=Xa(u,S,V,nc)),t(10,c=void 0),t(22,at=!1)}catch{try{t(9,u=M.parse(nl(Te))),t(15,S=Xa(u,S,V,nc)),t(10,c=Te),t(22,at=!0)}catch{t(9,u=void 0),t(15,S=AI({json:u,expand:nc})),t(10,c=Te),t(22,at=!1)}}if(typeof qe=="function"){var an=qe(u,S);t(9,u=an&&an.json?an.json:u),t(15,S=an&&an.state?an.state:S)}Fe(u),Xe({previousJson:He,previousState:Ie,previousText:ut,previousTextIsRepaired:ft}),fa(wt,null)}(X,function(Te,qe){if(Te)return{state:No(Te,qe,[])}})}function ze(){if(!b&&S.selection){var X=Sr(S.selection)||Cn(S.selection)?Er(u,S.selection.anchorPath,S.selection.focusPath):S.selection;if(ir(S.selection.focusPath))i("remove root",{selection:S.selection}),D({text:"",json:void 0},{text:c,json:u},{contentErrors:U(),patchResult:null});else{var ke=HI(u,X),Te=ke.operations,qe=ke.newSelection;i("remove",{operations:Te,selection:S.selection,newSelection:qe}),Qr(Te,function(Ie,He){return{state:$e($e({},He),{},{selection:qe})}})}}}function xn(){if(!b&&Vt(S.selection)&&!ir(S.selection.focusPath)){i("duplicate",{selection:S.selection});var X=function(ke,Te){var qe=Nt(Te);if(ir(qe))throw new Error("Cannot duplicate root object");var Ie=bn(qe),He=Nt(qe),ut=de.exports.getIn(ke,Ie);if(de.exports.isJSONArray(ut)){var wt=Nt(Te),ft=wt?Ar(Nt(wt))+1:0;return Ut(Te.map(function(In,Pn){return{op:"copy",from:de.exports.compileJSONPointer(In),path:de.exports.compileJSONPointer(Ie.concat(String(Pn+ft)))}}))}if(de.exports.isJSONObject(ut)){var an=Object.keys(ut),qn=Yh(an,He,!1);return[].concat(Ut(Te.map(function(In){var Pn=Zh(Nt(In),an);return{op:"copy",from:de.exports.compileJSONPointer(In),path:de.exports.compileJSONPointer(Ie.concat(Pn))}})),Ut(qn.map(function(In){return Eu(Ie,In)})))}throw new Error("Cannot create duplicate operations: parent must be an Object or Array")}(u,YV(S.selection));Qr(X)}}function Mn(){if(!b&&S.selection&&(Sn(S.selection)||Cn(S.selection))&&!ir(S.selection.focusPath)){i("extract",{selection:S.selection});var X=function(ke,Te){if(Cn(Te))return[{op:"move",from:de.exports.compileJSONPointer(Te.focusPath),path:""}];if(!Sn(Te))throw new Error("Cannot create extract operations: parent must be an Object or Array");var qe=bn(Te.focusPath),Ie=de.exports.getIn(ke,qe);if(de.exports.isJSONArray(Ie))return[{op:"replace",path:"",value:Te.paths.map(function(ut){var wt=Ar(Nt(ut));return Ie[wt]})}];if(de.exports.isJSONObject(Ie)){var He={};return Te.paths.forEach(function(ut){var wt=String(Nt(ut));He[wt]=Ie[wt]}),[{op:"replace",path:"",value:He}]}throw new Error("Cannot extract: unsupported type of selection "+JSON.stringify(Te))}(u,S.selection);Qr(X,function(ke,Te){if(Dr(ke))return{state:No(ke,Te,[])}})}}function cn(X){if(!b&&S.selection){var ke=function(ut,wt,ft){if(ft==="object")return{};if(ft==="array")return[];if(ft==="structure"){var an=KV(wt),qn=de.exports.getIn(ut,an);if(Array.isArray(qn)&&!ir(qn)){var In=qr(qn);return Dr(In)?Ux(In,function(Pn){return Array.isArray(Pn)?[]:$r(Pn)?void 0:""}):""}}return""}(u,S.selection,X);if(u!==void 0){var Te=M.stringify(ke),qe=FI(u,S.selection,Te,M);i("handleInsert",{type:X,operations:qe,newValue:ke,data:Te});var Ie=Nt(qe.filter(function(ut){return ut.op==="add"||ut.op==="replace"}));Qr(qe,function(ut,wt){if(Ie){var ft=de.exports.parsePath(ut,Ie.path);if(Dr(ke))return{state:$e($e({},Xa(ut,wt,ft,ev)),{},{selection:Aa(ft)})};if(ke===""){var an=ir(ft)?null:de.exports.getIn(ut,bn(ft));return i("test A",ft,Aa(ft)),{state:g1(ut,$e($e({},S),{},{selection:$r(an)?ro(ft,!0):nr(ft,!0)}),ft)}}}}),i("after patch"),Ie&&ke===""&&xr().then(function(){setTimeout(function(){return $t("",!0)})})}else{i("handleInsert",{type:X,newValue:ke});var He=[];Rf(ke,function(ut,wt){return{state:$e($e({},No(ut,wt,He)),{},{selection:Aa(He)})}})}}}function lt(X){Sr(S.selection)&&te(nr(S.selection.focusPath,!1)),cn(X)}function xe(X){if(!b&&S.selection)if(Nv(S.selection))try{var ke=S.selection.anchorPath,Te=de.exports.getIn(u,ke),qe=function(He,ut,wt){if(ut==="array"){if(Array.isArray(He))return He;if($r(He))return $_(He);if(typeof He=="string")try{var ft=wt.parse(He);if(Array.isArray(ft))return ft;if($r(ft))return $_(ft)}catch{return[He]}return[He]}if(ut==="object"){if(Array.isArray(He))return M_(He);if($r(He))return He;if(typeof He=="string")try{var an=wt.parse(He);if($r(an))return an;if(Array.isArray(an))return M_(an)}catch{return{value:He}}return{value:He}}if(ut==="value")return Dr(He)?wt.stringify(He):He;throw new Error("Cannot convert ".concat(g8(He,wt)," to ").concat(ut))}(Te,X,M);if(qe===Te)return;var Ie=[{op:"replace",path:de.exports.compileJSONPointer(ke),value:qe}];i("handleConvert",{selection:S.selection,path:ke,type:X,operations:Ie}),Qr(Ie,function(He,ut){return{state:No(He,ut,S.selection.focusPath)}})}catch(He){j(He)}else j(new Error("Cannot convert current selection to ".concat(X)))}function Qe(){var X=PI(u,S,!1),ke=bn(S.selection.focusPath);!ir(X.focusPath)&&jn(ke,bn(X.focusPath))?te(ks(X.focusPath)):te(Aa(ke)),i("insert before",{selection:S.selection,selectionBefore:X,parentPath:ke}),xr().then(Io)}function bt(){var X=Sn(S.selection)?Nt(S.selection.paths):S.selection.focusPath;i("insert after",X),te(ks(X)),xr().then(Io)}function $t(X,ke){var Te=rh(l).document.activeElement;Te.isContentEditable&&(Te.textContent=ke?X:Te.textContent+X,eF(Te))}function tt(X){return St.apply(this,arguments)}function St(){return(St=Fn(At().mark(function X(ke){var Te,qe;return At().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(!b&&S.selection){Ie.next=2;break}return Ie.abrupt("return");case 2:if(!Sr(S.selection)){Ie.next=9;break}return Te=!S.selection.edit,te($e($e({},S.selection),{},{edit:!0})),Ie.next=7,xr();case 7:return setTimeout(function(){return $t(ke,Te)}),Ie.abrupt("return");case 9:if(ke!=="{"){Ie.next=13;break}cn("object"),Ie.next=28;break;case 13:if(ke!=="["){Ie.next=17;break}cn("array"),Ie.next=28;break;case 17:if(!Cn(S.selection)){Ie.next=26;break}if(Dr(de.exports.getIn(u,S.selection.focusPath))){Ie.next=24;break}return qe=!S.selection.edit,te($e($e({},S.selection),{},{edit:!0})),Ie.next=23,xr();case 23:setTimeout(function(){return $t(ke,qe)});case 24:Ie.next=28;break;case 26:return Ie.next=28,Wn(ke);case 28:case"end":return Ie.stop()}},X)}))).apply(this,arguments)}function Wn(X){return fr.apply(this,arguments)}function fr(){return fr=Fn(At().mark(function X(ke){var Te,qe,Ie;return At().wrap(function(He){for(;;)switch(He.prev=He.next){case 0:if(!b&&S.selection){He.next=2;break}return He.abrupt("return");case 2:return cn("value"),Te=!zd(S.selection),qe=S.selection.focusPath,Ie=de.exports.getIn(u,bn(qe)),Array.isArray(Ie)||!Ie||Cn(S.selection)?te(nr(qe,!0)):te(ro(qe,!0)),He.next=9,xr();case 9:setTimeout(function(){return $t(ke,Te)});case 10:case"end":return He.stop()}},X)})),fr.apply(this,arguments)}function yr(){if(!b&&be.getState().canUndo){var X=be.undo();if(X){var ke={json:u,text:c};t(9,u=X.undo.patch?de.exports.immutableJSONPatch(u,X.undo.patch):X.undo.json),t(15,S=X.undo.state),t(10,c=X.undo.text),t(22,at=X.undo.textIsRepaired),i("undo",{item:X,json:u,documentState:S}),fa(ke,{json:u,previousJson:ke.json,redo:X.undo.patch,undo:X.redo.patch}),Hr(),S.selection&&Ya(S.selection.focusPath,!1)}}}function Qa(){if(!b&&be.getState().canRedo){var X=be.redo();if(X){var ke={json:u,text:c};t(9,u=X.redo.patch?de.exports.immutableJSONPatch(u,X.redo.patch):X.redo.json),t(15,S=X.redo.state),t(10,c=X.redo.text),t(22,at=X.redo.textIsRepaired),i("redo",{item:X,json:u,documentState:S}),fa(ke,{json:u,previousJson:ke.json,redo:X.redo.patch,undo:X.undo.patch}),Hr(),S.selection&&Ya(S.selection.focusPath,!1)}}}function Ol(X){var ke;b||(O=!0,F({id:d,json:u,selectedPath:X,onSort:(ke=Fn(At().mark(function Te(qe){return At().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:i("onSort",X,qe),Qr(qe,function(He,ut){return{state:$e($e({},No(He,ut,X)),{},{selection:nr(X,!1)})}});case 2:case"end":return Ie.stop()}},Te)})),function(Te){return ke.apply(this,arguments)}),onClose:function(){O=!1,Hr()}}))}function Uu(){S.selection&&Ol(DI(u,S.selection))}function Ju(X){var ke=X.id,Te=X.selectedPath,qe=X.onTransform,Ie=X.onClose;O=!0,L({id:ke||h,json:u,selectedPath:Te,onTransform:qe?function(He){qe({operations:He,json:u,transformedJson:de.exports.immutableJSONPatch(u,He)})}:function(He){i("onTransform",Te,He),Qr(He,function(ut,wt){return{state:$e($e({},No(ut,wt,Te)),{},{selection:nr(Te,!1)})}})},onClose:function(){O=!1,Hr(),Ie&&Ie()}})}function np(){S.selection&&Ju({selectedPath:DI(u,S.selection)})}function Ya(X){return El.apply(this,arguments)}function El(){return El=Fn(At().mark(function X(ke){var Te,qe,Ie,He,ut,wt=arguments;return At().wrap(function(ft){for(;;)switch(ft.prev=ft.next){case 0:return Te=!(wt.length>1&&wt[1]!==void 0)||wt[1],t(15,S=g1(u,S,bn(ke))),ft.next=4,xr();case 4:if(!(qe=Ml(ke))){ft.next=14;break}if(i("scrollTo",{path:ke,elem:qe,refContents:a}),Ie=a.getBoundingClientRect(),He=qe.getBoundingClientRect(),Te){ft.next=12;break}if(!(He.bottom>Ie.top&&He.top<Ie.bottom)){ft.next=12;break}return ft.abrupt("return");case 12:ut=-Ie.height/4,y(qe,{container:a,offset:ut,duration:300});case 14:case"end":return ft.stop()}},X)})),El.apply(this,arguments)}function Ml(X){return a?a.querySelector('div[data-path="'.concat(Wb(X),'"]')):null}function $l(X){var ke=Ml(X);if(ke&&a){var Te=a.getBoundingClientRect(),qe=ke.getBoundingClientRect(),Ie=Dr(de.exports.getIn(u,X))?20:qe.height;qe.top<Te.top+20?y(ke,{container:a,offset:-20,duration:0}):qe.top+Ie>Te.bottom-20&&y(ke,{container:a,offset:-(Te.height-Ie-20),duration:0})}}function fa(X,ke){X.json===void 0&&(X==null?void 0:X.text)===void 0||(c!==void 0?D({text:c,json:void 0},X,{contentErrors:U(),patchResult:ke}):u!==void 0&&D({text:void 0,json:u},X,{contentErrors:U(),patchResult:ke}))}function Qr(X,ke){if(!b){i("handlePatch",X,ke);var Te=jt(X,ke);return t(17,ge=void 0),Te}}function Rf(X,ke){var Te=S,qe=u,Ie=c,He={json:u,text:c},ut=at,wt=Xa(u,S,V,nc),ft=typeof ke=="function"?ke(X,wt):void 0;t(9,u=ft&&ft.json!==void 0?ft.json:X),t(15,S=ft&&ft.state!==void 0?ft.state:wt),t(10,c=void 0),t(22,at=!1),Fe(u),Xe({previousJson:qe,previousState:Te,previousText:Ie,previousTextIsRepaired:ut}),fa(He,null)}function No(X,ke,Te){return Xa(X,ke,Te,N_({json:de.exports.getIn(X,Te)},10240)?nc:ev)}function Al(X,ke){var Te=arguments.length>2&&arguments[2]!==void 0&&arguments[2];i("expand",{path:X,expanded:ke,recursive:Te}),t(15,S=ke?Te?Xa(u,S,X,ev):xKe(S,X):_I(S,X)),S.selection&&!ke&&EKe(S.selection,X)&&te(void 0),setTimeout(function(){Vb(l)||Hr()})}function _l(X){i("openFind",{findAndReplace:X}),t(18,ae=!1),t(19,ce=!1),xr().then(function(){t(18,ae=!0),t(19,ce=X)})}function P0(X,ke){i("handleExpandSection",X,ke);var Te=de.exports.compileJSONPointer(X);t(15,S=function(qe,Ie,He,ut){return $e($e({},Ie),{},{visibleSectionsMap:$e($e({},Ie.visibleSectionsMap),{},ul({},He,WV(E0(Ie,He).concat(ut))))})}(0,S,Te,ke))}function rp(X){i("pasted json as text",X),t(17,ge=X)}function zn(X){var ke=X.anchor,Te=X.left,qe=X.top,Ie=X.width,He=X.height,ut=X.offsetTop,wt=X.offsetLeft,ft=X.showTip;O=!0;var an=p(cQe,{json:u,documentState:S,parser:M,showTip:ft,onEditKey:st,onEditValue:Xt,onToggleEnforceString:Ft,onCut:fn,onCopy:tn,onPaste:Bn,onRemove:ze,onDuplicate:xn,onExtract:Mn,onInsertBefore:Qe,onInsert:lt,onConvert:xe,onInsertAfter:bt,onSort:Uu,onTransform:np,onCloseContextMenu:function(){m(an),Hr()}},{left:Te,top:qe,offsetTop:ut,offsetLeft:wt,width:Ie,height:He,anchor:ke,closeOnOuterClick:!0,onClose:function(){O=!1,Hr()}})}function Io(X){if(!b&&!zd(S.selection)){if(X&&(X.stopPropagation(),X.preventDefault()),X&&X.type==="contextmenu"&&X.target!==s)zn({left:X.clientX,top:X.clientY,width:260,height:336,showTip:!1});else{var ke,Te=(ke=a)===null||ke===void 0?void 0:ke.querySelector(".jse-context-menu-button.jse-selected");if(Te)zn({anchor:Te,offsetTop:2,width:260,height:336,showTip:!1});else{var qe,Ie=(qe=a)===null||qe===void 0?void 0:qe.getBoundingClientRect();Ie&&zn({top:Ie.top+2,left:Ie.left+2,width:260,height:336,showTip:!1})}}return!1}}function Gu(){return(Gu=Fn(At().mark(function X(){var ke,Te,qe;return At().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return i("apply pasted json",ge),Te=(ke=ge).path,qe=ke.contents,te(nr(Te,!1)),Ie.next=5,xr();case 5:Qr([{op:"replace",path:de.exports.compileJSONPointer(Te),value:qe}],function(He,ut){return{state:No(He,ut,Te)}});case 7:case"end":return Ie.stop()}},X)}))).apply(this,arguments)}function Hr(){i("focus"),s&&(s.focus(),s.select())}function Bf(X){r&&r.onDrag(X)}function zf(){r&&r.onDragEnd()}return n.$$set=function(X){"readOnly"in X&&t(0,b=X.readOnly),"externalContent"in X&&t(49,w=X.externalContent),"mainMenuBar"in X&&t(1,k=X.mainMenuBar),"navigationBar"in X&&t(2,x=X.navigationBar),"escapeControlCharacters"in X&&t(50,C=X.escapeControlCharacters),"escapeUnicodeCharacters"in X&&t(51,T=X.escapeUnicodeCharacters),"parser"in X&&t(52,M=X.parser),"validator"in X&&t(53,B=X.validator),"validationParser"in X&&t(54,_=X.validationParser),"pathParser"in X&&t(3,N=X.pathParser),"indentation"in X&&t(55,$=X.indentation),"onError"in X&&t(4,j=X.onError),"onChange"in X&&t(56,D=X.onChange),"onRenderValue"in X&&t(57,q=X.onRenderValue),"onRequestRepair"in X&&t(5,R=X.onRequestRepair),"onRenderMenu"in X&&t(6,G=X.onRenderMenu),"onClassName"in X&&t(58,A=X.onClassName),"onFocus"in X&&t(59,I=X.onFocus),"onBlur"in X&&t(60,z=X.onBlur),"onSortModal"in X&&t(61,F=X.onSortModal),"onTransformModal"in X&&t(62,L=X.onTransformModal)},n.$$.update=function(){1572864&n.$$.dirty[1]&&t(71,ue=Jq({escapeControlCharacters:C,escapeUnicodeCharacters:T})),262144&n.$$.dirty[1]&&we(w),512&n.$$.dirty[0]|1024&n.$$.dirty[2]&&it(ye,u),n.$$.dirty[0],512&n.$$.dirty[0]|14680064&n.$$.dirty[1]&&H(u,B,M,_),2048&n.$$.dirty[0]&&t(23,Ee=function(X){var ke={};return X.forEach(function(Te){ke[de.exports.compileJSONPointer(Te.path)]=Te}),X.forEach(function(Te){for(var qe=Te.path;qe.length>0;){qe=bn(qe);var Ie=de.exports.compileJSONPointer(qe);Ie in ke||(ke[Ie]={isChildError:!0,path:qe,message:"Contains invalid data"})}}),ke}(Bt)),256&n.$$.dirty[0]&&(r=a?function(X){var ke,Te;function qe(wt){return wt<20?200:wt<50?400:1200}function Ie(){if(X){var wt=.05*ke;X.scrollTop+=wt}}function He(wt){Te&&wt===ke||(ut(),m1("startAutoScroll",wt),ke=wt,Te=setInterval(Ie,50))}function ut(){Te&&(m1("stopAutoScroll"),clearInterval(Te),Te=void 0,ke=void 0)}return m1("createAutoScrollHandler",X),{onDrag:function(wt){if(X){var ft=wt.clientY,an=X.getBoundingClientRect(),qn=an.top,In=an.bottom;ft<qn?He(-qe(qn-ft)):ft>In?He(qe(ft-In)):ut()}},onDragEnd:function(){ut()}}}(a):void 0),1&n.$$.dirty[0]|203423744&n.$$.dirty[1]|512&n.$$.dirty[2]&&t(12,ct={readOnly:b,parser:M,normalization:ue,getJson:se,getDocumentState:Q,findElement:Ml,focus:Hr,onPatch:Qr,onInsert:cn,onExpand:Al,onSelect:te,onFind:_l,onExpandSection:P0,onPasteJson:rp,onRenderValue:q,onContextMenu:zn,onClassName:A||function(){},onDrag:Bf,onDragEnd:zf}),4096&n.$$.dirty[0]&&i("context changed",ct)},[b,k,x,N,j,R,G,function(){return at&&u!==void 0&&Rf(u),{json:u,text:c}},a,u,c,Bt,ct,s,l,S,ve,ge,ae,ce,ne,Le,at,Ee,o,V,Ce,function(){return Ue.apply(this,arguments)},function(){return pt.apply(this,arguments)},function(X,ke){return Ke.apply(this,arguments)},function(X,ke){return Me.apply(this,arguments)},function(){t(18,ae=!1),t(19,ce=!1),Ce(""),Hr()},function(X){i("select validation error",X),te(nr(X.path,!1)),Ya(X.path)},tn,function(X){if(X.preventDefault(),!b){var ke=X.clipboardData.getData("text/plain");try{An(ke)}catch{(function(qe,Ie){f(YKe,{text:qe,onParse:_2,onRepair:bHe,onApply:Ie,onRenderMenu:G},$e($e({},ym),{},{styleWindow:{width:"600px",height:"500px"},styleContent:{padding:0,height:"100%"}}),{onClose:function(){return Hr()}})})(ke,function(qe){i("repaired pasted text: ",qe),An(qe)})}}},yr,Qa,function(){Ol([])},function(){Ju({selectedPath:[]})},function(){Al([],!0,!0)},function(){Al([],!1,!0)},function(X){var ke=Bu(X).replace(/^Command\+/,"Ctrl+"),Te=X.shiftKey;if(i("keydown",{combo:ke,key:X.key}),ke==="Ctrl+X"&&(X.preventDefault(),fn(!0)),ke==="Ctrl+Shift+X"&&(X.preventDefault(),fn(!1)),ke==="Ctrl+C"&&(X.preventDefault(),tn(!0)),ke==="Ctrl+Shift+C"&&(X.preventDefault(),tn(!1)),ke==="Ctrl+D"&&(X.preventDefault(),xn()),ke!=="Delete"&&ke!=="Backspace"||(X.preventDefault(),ze()),ke==="Insert"&&(X.preventDefault(),cn("structure")),ke==="Ctrl+A"&&(X.preventDefault(),te(nr([],!1))),ke==="Ctrl+Q"&&Io(X),ke==="Up"||ke==="Shift+Up"){X.preventDefault();var qe=S.selection?PI(u,S,Te,!0)||S.selection:rd(u,S);te(qe),$l(qe.focusPath)}if(ke==="Down"||ke==="Shift+Down"){X.preventDefault();var Ie=S.selection?function(Pn,Yr){var pe=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Ct=arguments.length>3&&arguments[3]!==void 0&&arguments[3],ht=Yr.selection,Wt=!Ct&&Sn(ht)?Nt(ht.paths):ht.focusPath,Jn=Vw(Pn,Yr,Wt),Zr=Jn,Xr=Jn;if(Jn===null)return null;if(pe){var Pr=Vw(Pn,Dr(de.exports.getIn(Pn,Wt))?_I(Yr,Wt):Yr,Wt);return Pr===null?null:Jo(ht)?Er(Pn,Pr,Pr):_r(ht)?Er(Pn,Zr,Xr):Er(Pn,ht.anchorPath,Pr)}if(Sr(ht)){var UW=bn(Jn),JW=de.exports.getIn(Pn,UW);return Array.isArray(JW)?nr(Xr,!1):ro(Xr,!1)}return Cn(ht)?nr(Xr,!1):_r(ht)?Er(Pn,Zr,Xr):Er(Pn,Jn,Jn)}(u,S,Te,!0)||S.selection:rd(u,S);te(Ie),$l(Ie.focusPath)}if(ke==="Left"||ke==="Shift+Left"){X.preventDefault();var He=S.selection?function(Pn,Yr){var pe=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Ct=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],ht=Yr.selection,Wt=LI(Pn,Yr,Ct),Jn=Wt.caret,Zr=Wt.previous;if(pe)return Sn(ht)?null:Er(Pn,ht.anchorPath,ht.focusPath);if(Jn&&Zr)return Uw(Zr);var Xr=bn(ht.focusPath),Pr=de.exports.getIn(Pn,Xr);return Cn(ht)&&Array.isArray(Pr)?Er(Pn,ht.focusPath,ht.focusPath):Sn(ht)&&!Array.isArray(Pr)?ro(ht.focusPath,!1):null}(u,S,Te,!b)||S.selection:rd(u,S);te(He),$l(He.focusPath)}if(ke==="Right"||ke==="Shift+Right"){X.preventDefault();var ut=S.selection?function(Pn,Yr){var pe=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Ct=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],ht=Yr.selection,Wt=LI(Pn,Yr,Ct),Jn=Wt.caret,Zr=Wt.next;return pe?Sn(ht)?null:Er(Pn,ht.anchorPath,ht.focusPath):Jn&&Zr?Uw(Zr):Sn(ht)?nr(ht.focusPath,!1):null}(u,S,Te,!b)||S.selection:rd(u,S);te(ut),$l(ut.focusPath)}if(ke==="Enter"&&S.selection){if(!b&&Sn(S.selection)&&S.selection.paths.length===1){var wt=S.selection.focusPath,ft=de.exports.getIn(u,bn(wt));Array.isArray(ft)&&te(nr(wt,!1))}!b&&Sr(S.selection)&&(X.preventDefault(),te($e($e({},S.selection),{},{edit:!0}))),Cn(S.selection)&&(X.preventDefault(),Dr(de.exports.getIn(u,S.selection.focusPath))?Al(S.selection.focusPath,!0):b||te($e($e({},S.selection),{},{edit:!0})))}if(ke.replace(/^Shift\+/,"").replace(/^Numpad_/,"").length===1&&S.selection)return X.preventDefault(),void tt(X.key);if(ke==="Enter"&&(Jo(S.selection)||_r(S.selection)))return X.preventDefault(),void tt("");if(ke==="Ctrl+Enter"&&Cn(S.selection)){var an=de.exports.getIn(u,S.selection.focusPath);Cx(an)&&window.open(String(an),"_blank")}if(ke==="Escape"&&S.selection&&(X.preventDefault(),te(void 0)),ke==="Ctrl+F"&&(X.preventDefault(),_l(!1)),ke==="Ctrl+H"&&(X.preventDefault(),_l(!0)),ke==="Ctrl+Z"){X.preventDefault();var qn=document.activeElement;qn&&qn.blur&&qn.focus?(qn.blur(),setTimeout(function(){yr(),setTimeout(function(){return qn.select()})})):yr()}if(ke==="Ctrl+Shift+Z"){X.preventDefault();var In=document.activeElement;In&&In.blur&&In.focus?(In.blur(),setTimeout(function(){Qa(),setTimeout(function(){return In.select()})})):Qa()}},function(X){i("handleMouseDown",X),setTimeout(function(){setTimeout(function(){g||Xq(X.target,"BUTTON")||(Hr(),S.selection||u!==void 0||c!==""&&c!==void 0||nt())})})},Io,function(X){b||zn({anchor:AHe(X.target,"BUTTON"),offsetTop:0,width:260,height:336,showTip:!0})},function(){return Gu.apply(this,arguments)},function(){i("clear pasted json"),t(17,ge=void 0)},function(X){te(X),Hr(),Ya(X.focusPath)},function(X){var ke=!Wh(X.target,function(Te){return Te===l});ke&&zd(S.selection)&&(i("click outside the editor, stop edit mode"),te(function(Te){return Sr(Te)||Cn(Te)?$e($e({},Te),{},{edit:!1}):Te}),g&&s&&(s.focus(),s.blur()),xr().then(function(){setTimeout(function(){s&&s.blur()})}))},w,C,T,M,B,_,$,D,q,A,I,z,F,L,function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){return!0};i("expand");var ke=$e($e({},S),{},{expandedMap:{},visibleSectionsMap:{}});t(15,S=Xa(u,ke,V,X))},U,se,jt,Ju,Ya,Ml,Hr,ue,ye,function(X){t(18,ae=X)},function(X){en[X?"unshift":"push"](function(){t(13,s=X)})},function(X){en[X?"unshift":"push"](function(){t(8,a=X)})},function(X){en[X?"unshift":"push"](function(){t(14,l=X)})}]}var bj=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,nZe,tZe,mn,{readOnly:0,externalContent:49,mainMenuBar:1,navigationBar:2,escapeControlCharacters:50,escapeUnicodeCharacters:51,parser:52,validator:53,validationParser:54,pathParser:3,indentation:55,onError:4,onChange:56,onRenderValue:57,onRequestRepair:5,onRenderMenu:6,onClassName:58,onFocus:59,onBlur:60,onSortModal:61,onTransformModal:62,expand:63,validate:64,getJson:65,patch:66,acceptAutoRepair:7,openTransformModal:67,scrollTo:68,findElement:69,focus:70},GYe,[-1,-1,-1,-1,-1]),i}return ie(t,[{key:"expand",get:function(){return this.$$.ctx[63]}},{key:"validate",get:function(){return this.$$.ctx[64]}},{key:"getJson",get:function(){return this.$$.ctx[65]}},{key:"patch",get:function(){return this.$$.ctx[66]}},{key:"acceptAutoRepair",get:function(){return this.$$.ctx[7]}},{key:"openTransformModal",get:function(){return this.$$.ctx[67]}},{key:"scrollTo",get:function(){return this.$$.ctx[68]}},{key:"findElement",get:function(){return this.$$.ctx[69]}},{key:"focus",get:function(){return this.$$.ctx[70]}}]),t}(),rZe={id:"javascript",name:"JavaScript",description:`
<p>
  Enter a JavaScript function to filter, sort, or transform the data.
</p>
`,createQuery:function(n,e){var t=e.filter,r=e.sort,i=e.projection,o=[];if(t&&t.path&&t.relation&&t.value){var a="item => item".concat(Rl(t.path)),s=OKe(t.value),l=typeof s=="string"?"'".concat(t.value,"'"):n7e(t.value)&&!Number.isSafeInteger(s)?"".concat(t.value,"n"):t.value;o.push("  data = data.filter(".concat(a," ").concat(t.relation," ").concat(l,`)
`))}if(r&&r.path&&r.direction&&(r.direction==="desc"?o.push(`  data = data.slice().sort((a, b) => {
    // sort descending
`+"    const valueA = a".concat(Rl(r.path),`
`)+"    const valueB = b".concat(Rl(r.path),`
`)+`    return valueA > valueB ? -1 : valueA < valueB ? 1 : 0
  })
`):o.push(`  data = data.slice().sort((a, b) => {
    // sort ascending
`+"    const valueA = a".concat(Rl(r.path),`
`)+"    const valueB = b".concat(Rl(r.path),`
`)+`    return valueA > valueB ? 1 : valueA < valueB ? -1 : 0
  })
`)),i&&i.paths)if(i.paths.length>1){var u=i.paths.map(function(f){var d=f[f.length-1]||"item",h="item".concat(Rl(f));return"    ".concat(JSON.stringify(d),": ").concat(h)});o.push(`  data = data.map(item => ({
`.concat(u.join(`,
`),`})
  )
`))}else{var c="item".concat(Rl(i.paths[0]));o.push("  data = data.map(item => ".concat(c,`)
`))}return o.push(`  return data
`),`function query (data) {
`.concat(o.join(""),"}")},executeQuery:function(n,e){var t=new Function(`"use strict";

`+e+`

if (typeof query !== "function") {
  throw new Error("Cannot execute query: expecting a function named 'query' but is undefined")
}

return query;
`)()(n);return t!==void 0?t:null}};function iZe(n){Gt(n,"svelte-3ayndw",".jse-boolean-toggle.svelte-3ayndw{color:var(--jse-value-color-boolean);position:relative;padding-left:calc(0.5 * var(--jse-padding));padding-top:1px;height:var(--jse-line-height)}.jse-boolean-toggle.svelte-3ayndw:not(.jse-readonly){cursor:pointer}")}function oZe(n){var e,t,r,i,o,a;return t=new Jt({props:{data:n[0]===!0?ag:sg}}),{c:function(){e=ee("div"),Ne(t.$$.fragment),E(e,"class","jse-boolean-toggle svelte-3ayndw"),E(e,"title",r=n[1]?"Boolean value ".concat(n[0]):"Click to toggle this boolean value"),Ve(e,"jse-readonly",n[1])},m:function(s,l){me(s,e,l),Ae(t,e,null),i=!0,o||(a=Be(e,"mousedown",n[2]),o=!0)},p:function(s,l){var u=Dt(l,1)[0],c={};1&u&&(c.data=s[0]===!0?ag:sg),t.$set(c),(!i||3&u&&r!==(r=s[1]?"Boolean value ".concat(s[0]):"Click to toggle this boolean value"))&&E(e,"title",r),(!i||2&u)&&Ve(e,"jse-readonly",s[1])},i:function(s){i||(J(t.$$.fragment,s),i=!0)},o:function(s){Y(t.$$.fragment,s),i=!1},d:function(s){s&&he(e),_e(t),o=!1,a()}}}function aZe(n,e,t){var r=e.path,i=e.value,o=e.readOnly,a=e.onPatch,s=e.focus;return n.$$set=function(l){"path"in l&&t(3,r=l.path),"value"in l&&t(0,i=l.value),"readOnly"in l&&t(1,o=l.readOnly),"onPatch"in l&&t(4,a=l.onPatch),"focus"in l&&t(5,s=l.focus)},[i,o,function(l){l.stopPropagation(),o||(a([{op:"replace",path:de.exports.compileJSONPointer(r),value:!i}]),setTimeout(s))},r,a,s]}var sZe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,aZe,oZe,mn,{path:3,value:0,readOnly:1,onPatch:4,focus:5},iZe),i}return ie(t)}();function lZe(n){Gt(n,"svelte-1gn8yt9",".jse-color-picker-popup.svelte-1gn8yt9 .picker_wrapper.popup,.jse-color-picker-popup.svelte-1gn8yt9 .picker_wrapper.popup .picker_arrow::before,.jse-color-picker-popup.svelte-1gn8yt9 .picker_wrapper.popup .picker_arrow::after{background:var(--jse-color-picker-background);line-height:normal}.jse-color-picker-popup.svelte-1gn8yt9 .picker_slider,.jse-color-picker-popup.svelte-1gn8yt9 .picker_sl,.jse-color-picker-popup.svelte-1gn8yt9 .picker_editor input,.jse-color-picker-popup.svelte-1gn8yt9 .picker_sample,.jse-color-picker-popup.svelte-1gn8yt9 .picker_done button{box-shadow:var(--jse-color-picker-border-box-shadow)}.jse-color-picker-popup.svelte-1gn8yt9 .picker_editor input{background:var(--jse-background-color);color:var(--jse-text-color)}.jse-color-picker-popup.svelte-1gn8yt9 .picker_done button{background:var(--jse-button-background);color:var(--jse-button-color)}.jse-color-picker-popup.svelte-1gn8yt9 .picker_done button:hover{background:var(--jse-button-background-highlight)}")}function uZe(n){var e;return{c:function(){E(e=ee("div"),"class","jse-color-picker-popup svelte-1gn8yt9")},m:function(t,r){me(t,e,r),n[4](e)},p:Ze,i:Ze,o:Ze,d:function(t){t&&he(e),n[4](null)}}}function cZe(n,e,t){var r,i,o=e.color,a=e.onChange,s=e.showOnTop;return fo(Fn(At().mark(function l(){var u;return At().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Promise.resolve().then(function(){return tet});case 2:u=c.sent.default,i=new u({parent:r,color:o,popup:s?"top":"bottom",onDone:function(f){var d=f.rgba[3]===1?f.hex.substring(0,7):f.hex;a(d)}}),i.show();case 5:case"end":return c.stop()}},l)}))),fl(function(){i&&i.destroy()}),n.$$set=function(l){"color"in l&&t(1,o=l.color),"onChange"in l&&t(2,a=l.onChange),"showOnTop"in l&&t(3,s=l.showOnTop)},[r,o,a,s,function(l){en[l?"unshift":"push"](function(){t(0,r=l)})}]}var fZe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,cZe,uZe,Or,{color:1,onChange:2,showOnTop:3},lZe),i}return ie(t)}();function dZe(n){Gt(n,"svelte-1hv1rh7",".jse-color-picker-button.svelte-1hv1rh7{font-size:var(--jse-font-size-mono);width:var(--jse-color-picker-button-size);height:var(--jse-color-picker-button-size);box-sizing:border-box;padding:0;margin:2px;border:1px solid var(--jse-text-color);border-radius:2px;background:inherit;outline:none}.jse-color-picker-button.svelte-1hv1rh7:not(.jse-readonly){cursor:pointer}")}function hZe(n){var e,t,r,i;return{c:function(){E(e=ee("button"),"type","button"),E(e,"class","jse-color-picker-button svelte-1hv1rh7"),ja(e,"background",n[2]),E(e,"title",t=n[1]?"Color ".concat(n[0]):"Click to open a color picker"),Ve(e,"jse-readonly",n[1])},m:function(o,a){me(o,e,a),r||(i=Be(e,"click",n[3]),r=!0)},p:function(o,a){var s=Dt(a,1)[0];4&s&&ja(e,"background",o[2]),3&s&&t!==(t=o[1]?"Color ".concat(o[0]):"Click to open a color picker")&&E(e,"title",t),2&s&&Ve(e,"jse-readonly",o[1])},i:Ze,o:Ze,d:function(o){o&&he(e),r=!1,i()}}}function pZe(n,e,t){var r,i=Ni("absolute-popup").openAbsolutePopup,o=e.path,a=e.value,s=e.readOnly,l=e.onPatch,u=e.focus;function c(d){l([{op:"replace",path:de.exports.compileJSONPointer(o),value:d}]),f()}function f(){u()}return n.$$set=function(d){"path"in d&&t(4,o=d.path),"value"in d&&t(0,a=d.value),"readOnly"in d&&t(1,s=d.readOnly),"onPatch"in d&&t(5,l=d.onPatch),"focus"in d&&t(6,u=d.focus)},n.$$.update=function(){1&n.$$.dirty&&t(2,r=m8(a))},[a,s,r,function(d){if(!s){var h=d.target.getBoundingClientRect().top,v=rh(d.target).innerHeight;i(fZe,{color:a,onChange:c,showOnTop:v-h<300&&h>300},{anchor:d.target,closeOnOuterClick:!0,onClose:f,offsetTop:18,offsetLeft:-8,height:300})}},o,l,u]}var vZe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,pZe,hZe,mn,{path:4,value:0,readOnly:1,onPatch:5,focus:6},dZe),i}return ie(t)}();function kh(n,e){var t=g8(n,e);return pf("jse-value","jse-"+t,{"jse-url":Cx(n),"jse-empty":typeof n=="string"&&n.length===0})}function mZe(n){var e,t;return e=new nW({props:{value:n[1].escapeValue(n[0]),onChange:n[3],onCancel:n[4],onPaste:n[5],onFind:n[2],onValueClass:n[6]}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o=Dt(i,1)[0],a={};3&o&&(a.value=r[1].escapeValue(r[0])),4&o&&(a.onFind=r[2]),e.$set(a)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function gZe(n,e,t){var r=e.path,i=e.value,o=e.parser,a=e.normalization,s=e.enforceString,l=e.onPatch,u=e.onPasteJson,c=e.onSelect,f=e.onFind,d=e.focus;function h(v){return s?v:Nh(v,o)}return n.$$set=function(v){"path"in v&&t(7,r=v.path),"value"in v&&t(0,i=v.value),"parser"in v&&t(8,o=v.parser),"normalization"in v&&t(1,a=v.normalization),"enforceString"in v&&t(9,s=v.enforceString),"onPatch"in v&&t(10,l=v.onPatch),"onPasteJson"in v&&t(11,u=v.onPasteJson),"onSelect"in v&&t(12,c=v.onSelect),"onFind"in v&&t(2,f=v.onFind),"focus"in v&&t(13,d=v.focus)},[i,a,f,function(v,p){l([{op:"replace",path:de.exports.compileJSONPointer(r),value:h(a.unescapeValue(v))}],function(m,g){var y=p===jx?function(b,w,k){var x=bn(k),C=[Nt(k)],T=Vw(de.exports.getIn(b,x),w,C);return T?nr(x.concat(T),!1):ks(k)}(m,g,r)||g.selection:nr(r,!1);return{state:$e($e({},g),{},{selection:y})}}),p!==xx&&d()},function(){c(nr(r,!1)),d()},function(v){try{var p=o.parse(v);Dr(p)&&u({path:r,contents:p})}catch{}},function(v){return kh(h(a.unescapeValue(v)),o)},r,o,s,l,u,c,d]}var yZe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,gZe,mZe,mn,{path:7,value:0,parser:8,normalization:1,enforceString:9,onPatch:10,onPasteJson:11,onSelect:12,onFind:2,focus:13}),i}return ie(t)}();function bZe(n){Gt(n,"svelte-6ci2p7",'.jse-value.jse-string.svelte-6ci2p7{color:var(--jse-value-color-string)}.jse-value.jse-object.svelte-6ci2p7,.jse-value.jse-array.svelte-6ci2p7{min-width:16px;color:var(--jse-delimiter-color)}.jse-value.jse-number.svelte-6ci2p7{color:var(--jse-value-color-number)}.jse-value.jse-boolean.svelte-6ci2p7{color:var(--jse-value-color-boolean)}.jse-value.jse-null.svelte-6ci2p7{color:var(--jse-value-color-null)}.jse-value.jse-invalid.svelte-6ci2p7{color:var(--jse-text-color)}.jse-value.jse-url.svelte-6ci2p7{color:var(--jse-value-color-url);text-decoration:underline}.jse-value.svelte-6ci2p7{min-width:2em;padding:0 5px;box-sizing:border-box;outline:none;border-radius:1px;vertical-align:top;word-break:normal;overflow-wrap:anywhere;white-space:pre-wrap}.jse-value.svelte-6ci2p7:hover{background:var(--jse-hover-background-color)}.jse-value.jse-empty.svelte-6ci2p7{min-width:4em;outline:1px dotted var(--jse-tag-background);-moz-outline-radius:2px}.jse-value.jse-empty.svelte-6ci2p7::after{pointer-events:none;color:var(--jse-tag-background);content:"value"}')}function wZe(n){var e,t=Cu(n[1].escapeValue(n[0]))+"";return{c:function(){e=ot(t)},m:function(r,i){me(r,e,i)},p:function(r,i){3&i&&t!==(t=Cu(r[1].escapeValue(r[0]))+"")&&on(e,t)},i:Ze,o:Ze,d:function(r){r&&he(e)}}}function kZe(n){var e,t;return e=new tW({props:{text:n[1].escapeValue(n[0]),searchResultItems:n[3]}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o={};3&i&&(o.text=r[1].escapeValue(r[0])),8&i&&(o.searchResultItems=r[3]),e.$set(o)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function xZe(n){var e,t,r,i,o,a,s,l,u=[kZe,wZe],c=[];function f(d,h){return d[3]?0:1}return t=f(n),r=c[t]=u[t](n),{c:function(){e=ee("div"),r.c(),E(e,"data-type","selectable-value"),E(e,"class",i=Mr(kh(n[0],n[2]))+" svelte-6ci2p7"),E(e,"title",o=n[4]?"Ctrl+Click or Ctrl+Enter to open url in new window":null)},m:function(d,h){me(d,e,h),c[t].m(e,null),a=!0,s||(l=[Be(e,"click",n[5]),Be(e,"dblclick",n[6])],s=!0)},p:function(d,h){var v=Dt(h,1)[0],p=t;(t=f(d))===p?c[t].p(d,v):(Je(),Y(c[p],1,1,function(){c[p]=null}),Ge(),(r=c[t])?r.p(d,v):(r=c[t]=u[t](d)).c(),J(r,1),r.m(e,null)),(!a||5&v&&i!==(i=Mr(kh(d[0],d[2]))+" svelte-6ci2p7"))&&E(e,"class",i),(!a||16&v&&o!==(o=d[4]?"Ctrl+Click or Ctrl+Enter to open url in new window":null))&&E(e,"title",o)},i:function(d){a||(J(r),a=!0)},o:function(d){Y(r),a=!1},d:function(d){d&&he(e),c[t].d(),s=!1,Xn(l)}}}function jZe(n,e,t){var r,i=e.path,o=e.value,a=e.readOnly,s=e.normalization,l=e.parser,u=e.onSelect,c=e.searchResultItems;return n.$$set=function(f){"path"in f&&t(7,i=f.path),"value"in f&&t(0,o=f.value),"readOnly"in f&&t(8,a=f.readOnly),"normalization"in f&&t(1,s=f.normalization),"parser"in f&&t(2,l=f.parser),"onSelect"in f&&t(9,u=f.onSelect),"searchResultItems"in f&&t(3,c=f.searchResultItems)},n.$$.update=function(){1&n.$$.dirty&&t(4,r=Cx(o))},[o,s,l,c,r,function(f){typeof o=="string"&&r&&f.ctrlKey&&(f.preventDefault(),f.stopPropagation(),window.open(o,"_blank"))},function(f){a||(f.preventDefault(),u(nr(i,!0)))},i,a,u]}var CZe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,jZe,xZe,mn,{path:7,value:0,readOnly:8,normalization:1,parser:2,onSelect:9,searchResultItems:3},bZe),i}return ie(t)}();function SZe(n){Gt(n,"svelte-1u00zub",".jse-timestamp.svelte-1u00zub{padding:0;margin:0;height:var(--jse-line-height);color:var(--jse-value-color-number);border-radius:3px}")}function TZe(n){var e,t,r,i,o,a;return t=new Jt({props:{data:rQe}}),{c:function(){e=ee("div"),Ne(t.$$.fragment),E(e,"class","jse-timestamp svelte-1u00zub")},m:function(s,l){me(s,e,l),Ae(t,e,null),i=!0,o||(a=xf(r=vj.call(null,e,$e({text:n[0]},n[1]))),o=!0)},p:function(s,l){var u=Dt(l,1)[0];r&&oo(r.update)&&1&u&&r.update.call(null,$e({text:s[0]},s[1]))},i:function(s){i||(J(t.$$.fragment,s),i=!0)},o:function(s){Y(t.$$.fragment,s),i=!1},d:function(s){s&&he(e),_e(t),o=!1,a()}}}function OZe(n,e,t){var r,i=Ni("absolute-popup"),o=e.value;return n.$$set=function(a){"value"in a&&t(2,o=a.value)},n.$$.update=function(){4&n.$$.dirty&&t(0,r="Time: ".concat(new Date(o).toString()))},[r,i,o]}var EZe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,OZe,TZe,mn,{value:2},SZe),i}return ie(t)}();function MZe(n){var e=n.path,t=n.value,r=n.readOnly,i=n.enforceString,o=n.searchResultItems,a=n.isEditing,s=n.parser,l=n.normalization,u=n.onPatch,c=n.onPasteJson,f=n.onSelect,d=n.onFind,h=n.focus,v=[];return!a&&function(p){return p===!0||p===!1}(t)&&v.push({component:sZe,props:{path:e,value:t,readOnly:r,onPatch:u,focus:h}}),!a&&function(p){return typeof p=="string"&&!!m8(p)}(t)&&v.push({component:vZe,props:{path:e,value:t,readOnly:r,onPatch:u,focus:h}}),a&&v.push({component:yZe,props:{path:e,value:t,enforceString:i,parser:s,normalization:l,onPatch:u,onPasteJson:c,onSelect:f,onFind:d,focus:h}}),a||v.push({component:CZe,props:{path:e,value:t,readOnly:r,parser:s,normalization:l,searchResultItems:o,onSelect:f}}),!a&&Eb(t)&&v.push({component:EZe,props:{value:t}}),v}var Do={};function $Ze(n){Gt(n,"svelte-3e0qet",".item.svelte-3e0qet{cursor:default;height:var(--height, 42px);line-height:var(--height, 42px);padding:var(--itemPadding, 0 20px);color:var(--itemColor, inherit);text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.groupHeader.svelte-3e0qet{text-transform:var(--groupTitleTextTransform, uppercase)}.groupItem.svelte-3e0qet{padding-left:var(--groupItemPaddingLeft, 40px)}.item.svelte-3e0qet:active{background:var(--itemActiveBackground, #b9daff)}.item.active.svelte-3e0qet{background:var(--itemIsActiveBG, #007aff);color:var(--itemIsActiveColor, #fff)}.item.notSelectable.svelte-3e0qet{color:var(--itemIsNotSelectableColor, #999)}.item.first.svelte-3e0qet{border-radius:var(--itemFirstBorderRadius, 4px 4px 0 0)}.item.hover.svelte-3e0qet:not(.active){background:var(--itemHoverBG, #e7f2ff);color:var(--itemHoverColor, inherit)}")}function AZe(n){var e,t,r=n[0](n[1],n[2])+"";return{c:function(){E(e=ee("div"),"class",t="item "+n[3]+" svelte-3e0qet")},m:function(i,o){me(i,e,o),e.innerHTML=r},p:function(i,o){var a=Dt(o,1)[0];7&a&&r!==(r=i[0](i[1],i[2])+"")&&(e.innerHTML=r),8&a&&t!==(t="item "+i[3]+" svelte-3e0qet")&&E(e,"class",t)},i:Ze,o:Ze,d:function(i){i&&he(e)}}}function _Ze(n,e,t){var r=e.isActive,i=r!==void 0&&r,o=e.isFirst,a=o!==void 0&&o,s=e.isHover,l=s!==void 0&&s,u=e.isSelectable,c=u!==void 0&&u,f=e.getOptionLabel,d=f===void 0?void 0:f,h=e.item,v=h===void 0?void 0:h,p=e.filterText,m=p===void 0?"":p,g="";return n.$$set=function(y){"isActive"in y&&t(4,i=y.isActive),"isFirst"in y&&t(5,a=y.isFirst),"isHover"in y&&t(6,l=y.isHover),"isSelectable"in y&&t(7,c=y.isSelectable),"getOptionLabel"in y&&t(0,d=y.getOptionLabel),"item"in y&&t(1,v=y.item),"filterText"in y&&t(2,m=y.filterText)},n.$$.update=function(){if(242&n.$$.dirty){var y=[];i&&y.push("active"),a&&y.push("first"),l&&y.push("hover"),v.isGroupHeader&&y.push("groupHeader"),v.isGroupItem&&y.push("groupItem"),c||y.push("notSelectable"),t(3,g=y.join(" "))}},[d,v,m,g,i,a,l,c]}var oW=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,_Ze,AZe,Or,{isActive:4,isFirst:5,isHover:6,isSelectable:7,getOptionLabel:0,item:1,filterText:2},$Ze),i}return ie(t)}();function NZe(n){Gt(n,"svelte-1uyqfml",".listContainer.svelte-1uyqfml{box-shadow:var(--listShadow, 0 2px 3px 0 rgba(44, 62, 80, 0.24));border-radius:var(--listBorderRadius, 4px);max-height:var(--listMaxHeight, 250px);overflow-y:auto;background:var(--listBackground, #fff);border:var(--listBorder, none);position:var(--listPosition, absolute);z-index:var(--listZIndex, 2);width:100%;left:var(--listLeft, 0);right:var(--listRight, 0)}.virtualList.svelte-1uyqfml{height:var(--virtualListHeight, 200px)}.listGroupTitle.svelte-1uyqfml{color:var(--groupTitleColor, #8f8f8f);cursor:default;font-size:var(--groupTitleFontSize, 12px);font-weight:var(--groupTitleFontWeight, 600);height:var(--height, 42px);line-height:var(--height, 42px);padding:var(--groupTitlePadding, 0 20px);text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap;text-transform:var(--groupTitleTextTransform, uppercase)}.empty.svelte-1uyqfml{text-align:var(--listEmptyTextAlign, center);padding:var(--listEmptyPadding, 20px 0);color:var(--listEmptyColor, #78848f)}")}function e4(n,e,t){var r=n.slice();return r[41]=e[t],r[42]=t,r}function IZe(n){for(var e,t,r=n[1],i=[],o=0;o<r.length;o+=1)i[o]=r4(e4(n,r,o));var a=function(l){return Y(i[l],1,1,function(){i[l]=null})},s=null;return r.length||(s=t4(n)),{c:function(){for(var l=0;l<i.length;l+=1)i[l].c();e=kn(),s&&s.c()},m:function(l,u){for(var c=0;c<i.length;c+=1)i[c].m(l,u);me(l,e,u),s&&s.m(l,u),t=!0},p:function(l,u){if(114390&u[0]){var c;for(r=l[1],c=0;c<r.length;c+=1){var f=e4(l,r,c);i[c]?(i[c].p(f,u),J(i[c],1)):(i[c]=r4(f),i[c].c(),J(i[c],1),i[c].m(e.parentNode,e))}for(Je(),c=r.length;c<i.length;c+=1)a(c);Ge(),!r.length&&s?s.p(l,u):r.length?s&&(s.d(1),s=null):((s=t4(l)).c(),s.m(e.parentNode,e))}},i:function(l){if(!t){for(var u=0;u<r.length;u+=1)J(i[u]);t=!0}},o:function(l){i=i.filter(Boolean);for(var u=0;u<i.length;u+=1)Y(i[u]);t=!1},d:function(l){ji(i,l),l&&he(e),s&&s.d(l)}}}function PZe(n){var e,t,r,i=n[3];function o(a){return{props:{items:a[1],itemHeight:a[8],$$slots:{default:[RZe,function(s){return{41:s.item,42:s.i}},function(s){return[0,(s.item?1024:0)|(s.i?2048:0)]}]},$$scope:{ctx:a}}}}return i&&(e=ur(i,o(n))),{c:function(){e&&Ne(e.$$.fragment),t=kn()},m:function(a,s){e&&Ae(e,a,s),me(a,t,s),r=!0},p:function(a,s){var l={};if(2&s[0]&&(l.items=a[1]),256&s[0]&&(l.itemHeight=a[8]),9814&s[0]|11264&s[1]&&(l.$$scope={dirty:s,ctx:a}),i!==(i=a[3])){if(e){Je();var u=e;Y(u.$$.fragment,1,0,function(){_e(u,1)}),Ge()}i?(Ne((e=ur(i,o(a))).$$.fragment),J(e.$$.fragment,1),Ae(e,t.parentNode,t)):e=null}else i&&e.$set(l)},i:function(a){r||(e&&J(e.$$.fragment,a),r=!0)},o:function(a){e&&Y(e.$$.fragment,a),r=!1},d:function(a){a&&he(t),e&&_e(e,a)}}}function t4(n){var e,t=!n[11]&&n4(n);return{c:function(){t&&t.c(),e=kn()},m:function(r,i){t&&t.m(r,i),me(r,e,i)},p:function(r,i){r[11]?t&&(t.d(1),t=null):t?t.p(r,i):((t=n4(r)).c(),t.m(e.parentNode,e))},d:function(r){t&&t.d(r),r&&he(e)}}}function n4(n){var e,t;return{c:function(){e=ee("div"),t=ot(n[12]),E(e,"class","empty svelte-1uyqfml")},m:function(r,i){me(r,e,i),W(e,t)},p:function(r,i){4096&i[0]&&on(t,r[12])},d:function(r){r&&he(e)}}}function LZe(n){var e,t,r,i,o,a,s=n[4];function l(d){return{props:{item:d[41],filterText:d[13],getOptionLabel:d[6],isFirst:Qw(d[42]),isActive:lg(d[41],d[9],d[10]),isHover:ug(d[2],d[41],d[42],d[1]),isSelectable:Mu(d[41])}}}function u(){return n[29](n[42])}function c(){return n[30](n[42])}function f(){for(var d,h=arguments.length,v=new Array(h),p=0;p<h;p++)v[p]=arguments[p];return(d=n)[31].apply(d,[n[41],n[42]].concat(v))}return s&&(t=ur(s,l(n))),{c:function(){e=ee("div"),t&&Ne(t.$$.fragment),r=je(),E(e,"class","listItem"),E(e,"tabindex","-1")},m:function(d,h){me(d,e,h),t&&Ae(t,e,null),W(e,r),i=!0,o||(a=[Be(e,"mouseover",u),Be(e,"focus",c),Be(e,"click",f)],o=!0)},p:function(d,h){n=d;var v={};if(2&h[0]&&(v.item=n[41]),8192&h[0]&&(v.filterText=n[13]),64&h[0]&&(v.getOptionLabel=n[6]),1538&h[0]&&(v.isActive=lg(n[41],n[9],n[10])),6&h[0]&&(v.isHover=ug(n[2],n[41],n[42],n[1])),2&h[0]&&(v.isSelectable=Mu(n[41])),s!==(s=n[4])){if(t){Je();var p=t;Y(p.$$.fragment,1,0,function(){_e(p,1)}),Ge()}s?(Ne((t=ur(s,l(n))).$$.fragment),J(t.$$.fragment,1),Ae(t,e,r)):t=null}else s&&t.$set(v)},i:function(d){i||(t&&J(t.$$.fragment,d),i=!0)},o:function(d){t&&Y(t.$$.fragment,d),i=!1},d:function(d){d&&he(e),t&&_e(t),o=!1,Xn(a)}}}function DZe(n){var e,t,r=n[7](n[41])+"";return{c:function(){e=ee("div"),t=ot(r),E(e,"class","listGroupTitle svelte-1uyqfml")},m:function(i,o){me(i,e,o),W(e,t)},p:function(i,o){130&o[0]&&r!==(r=i[7](i[41])+"")&&on(t,r)},i:Ze,o:Ze,d:function(i){i&&he(e)}}}function r4(n){var e,t,r,i,o=[DZe,LZe],a=[];function s(l,u){return l[41].isGroupHeader&&!l[41].isSelectable?0:1}return e=s(n),t=a[e]=o[e](n),{c:function(){t.c(),r=kn()},m:function(l,u){a[e].m(l,u),me(l,r,u),i=!0},p:function(l,u){var c=e;(e=s(l))===c?a[e].p(l,u):(Je(),Y(a[c],1,1,function(){a[c]=null}),Ge(),(t=a[e])?t.p(l,u):(t=a[e]=o[e](l)).c(),J(t,1),t.m(r.parentNode,r))},i:function(l){i||(J(t),i=!0)},o:function(l){Y(t),i=!1},d:function(l){a[e].d(l),l&&he(r)}}}function RZe(n){var e,t,r,i,o,a=n[4];function s(f){return{props:{item:f[41],filterText:f[13],getOptionLabel:f[6],isFirst:Qw(f[42]),isActive:lg(f[41],f[9],f[10]),isHover:ug(f[2],f[41],f[42],f[1]),isSelectable:Mu(f[41])}}}function l(){return n[26](n[42])}function u(){return n[27](n[42])}function c(){for(var f,d=arguments.length,h=new Array(d),v=0;v<d;v++)h[v]=arguments[v];return(f=n)[28].apply(f,[n[41],n[42]].concat(h))}return a&&(t=ur(a,s(n))),{c:function(){e=ee("div"),t&&Ne(t.$$.fragment),E(e,"class","listItem")},m:function(f,d){me(f,e,d),t&&Ae(t,e,null),r=!0,i||(o=[Be(e,"mouseover",l),Be(e,"focus",u),Be(e,"click",c)],i=!0)},p:function(f,d){n=f;var h={};if(1024&d[1]&&(h.item=n[41]),8192&d[0]&&(h.filterText=n[13]),64&d[0]&&(h.getOptionLabel=n[6]),2048&d[1]&&(h.isFirst=Qw(n[42])),1536&d[0]|1024&d[1]&&(h.isActive=lg(n[41],n[9],n[10])),6&d[0]|3072&d[1]&&(h.isHover=ug(n[2],n[41],n[42],n[1])),1024&d[1]&&(h.isSelectable=Mu(n[41])),a!==(a=n[4])){if(t){Je();var v=t;Y(v.$$.fragment,1,0,function(){_e(v,1)}),Ge()}a?(Ne((t=ur(a,s(n))).$$.fragment),J(t.$$.fragment,1),Ae(t,e,null)):t=null}else a&&t.$set(h)},i:function(f){r||(t&&J(t.$$.fragment,f),r=!0)},o:function(f){t&&Y(t.$$.fragment,f),r=!1},d:function(f){f&&he(e),t&&_e(t),i=!1,Xn(o)}}}function BZe(n){var e,t,r,i,o,a,s=[PZe,IZe],l=[];function u(c,f){return c[5]?0:1}return t=u(n),r=l[t]=s[t](n),{c:function(){e=ee("div"),r.c(),E(e,"class","listContainer svelte-1uyqfml"),E(e,"style",n[14]),Ve(e,"virtualList",n[5])},m:function(c,f){me(c,e,f),l[t].m(e,null),n[32](e),i=!0,o||(a=[Be(window,"keydown",n[17]),Be(window,"resize",n[18])],o=!0)},p:function(c,f){var d=t;(t=u(c))===d?l[t].p(c,f):(Je(),Y(l[d],1,1,function(){l[d]=null}),Ge(),(r=l[t])?r.p(c,f):(r=l[t]=s[t](c)).c(),J(r,1),r.m(e,null)),(!i||16384&f[0])&&E(e,"style",c[14]),(!i||32&f[0])&&Ve(e,"virtualList",c[5])},i:function(c){i||(J(r),i=!0)},o:function(c){Y(r),i=!1},d:function(c){c&&he(e),l[t].d(),n[32](null),o=!1,Xn(a)}}}function lg(n,e,t){return e&&e[t]===n[t]}function Qw(n){return n===0}function ug(n,e,t,r){return Mu(e)&&(n===t||r.length===1)}function Mu(n){return n.isGroupHeader&&n.isSelectable||n.selectable||!n.hasOwnProperty("selectable")}function zZe(n,e,t){var r,i,o=Bg(),a=e.container,s=a===void 0?void 0:a,l=e.VirtualList,u=l===void 0?null:l,c=e.Item,f=c===void 0?oW:c,d=e.isVirtualList,h=d!==void 0&&d,v=e.items,p=v===void 0?[]:v,m=e.labelIdentifier,g=m===void 0?"label":m,y=e.getOptionLabel,b=y===void 0?function(Me,et){if(Me)return Me.isCreator?'Create "'.concat(et,'"'):Me[g]}:y,w=e.getGroupHeaderLabel,k=w===void 0?null:w,x=e.itemHeight,C=x===void 0?40:x,T=e.hoverItemIndex,M=T===void 0?0:T,B=e.value,_=B===void 0?void 0:B,N=e.optionIdentifier,$=N===void 0?"value":N,j=e.hideEmptyState,D=j!==void 0&&j,q=e.noOptionsMessage,R=q===void 0?"No options":q,G=e.isMulti,A=G!==void 0&&G,I=e.activeItemIndex,z=I===void 0?0:I,F=e.filterText,L=F===void 0?"":F,O=e.parent,V=O===void 0?null:O,Z=e.listPlacement,te=Z===void 0?null:Z,ve=e.listAutoWidth,ue=ve===void 0?null:ve,ge=e.listOffset,P=ge===void 0?5:ge,S=0,ae=!1;function ce(Me){Me.isCreator||o("itemSelected",Me)}function ne(Me){ae||t(2,M=Me)}function ye(Me){var et=Me.item,le=Me.i;if(Me.event.stopPropagation(),_&&!A&&_[$]===et[$])return Ce();et.isCreator?o("itemCreated",L):Mu(et)&&(t(19,z=le),t(2,M=le),ce(et))}function Ce(){o("closeList")}function Se(Me){return Ue.apply(this,arguments)}function Ue(){return(Ue=Fn(At().mark(function Me(et){var le;return At().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:if(!h){be.next=2;break}return be.abrupt("return");case 2:for(le=!0;le;)et>0&&M===p.length-1?t(2,M=0):t(2,et<0&&M===0?M=p.length-1:M+=et),le=!Mu(p[M]);return be.next=6,xr();case 6:pt("hover");case 7:case"end":return be.stop()}},Me)}))).apply(this,arguments)}function pt(Me){if(!h&&s){var et,le=s.querySelector(".listItem .".concat(Me));le&&(et=s.getBoundingClientRect().bottom-le.getBoundingClientRect().bottom),t(0,s.scrollTop-=et,s)}}function Ke(){var Me=V.getBoundingClientRect(),et=Me.height,le=Me.width;t(14,i=""),t(14,i+="min-width:".concat(le,"px;width:").concat(ue?"auto":"100%",";")),te==="top"||te==="auto"&&function(be,Le){var Ee=be.getBoundingClientRect(),ct=Le.getBoundingClientRect(),it={};return it.top=Ee.top<0,it.left=Ee.left<0,it.bottom=Ee.bottom+ct.height>(window.innerHeight||document.documentElement.clientHeight),it.right=Ee.right>(window.innerWidth||document.documentElement.clientWidth),it.any=it.top||it.left||it.bottom||it.right,it}(V,s).bottom?t(14,i+="bottom:".concat(et+P,"px;")):t(14,i+="top:".concat(et+P,"px;"))}return fo(function(){if(p.length>0&&!A&&_){var Me=p.findIndex(function(et){return et[$]===_[$]});Me&&t(2,M=Me)}pt("active"),s.addEventListener("scroll",function(){clearTimeout(S),S=setTimeout(function(){ae=!1},100)},!1)}),u8(function(){p||t(1,p=[]),p!==r&&p.length>0&&t(2,M=0),r=p}),n.$$set=function(Me){"container"in Me&&t(0,s=Me.container),"VirtualList"in Me&&t(3,u=Me.VirtualList),"Item"in Me&&t(4,f=Me.Item),"isVirtualList"in Me&&t(5,h=Me.isVirtualList),"items"in Me&&t(1,p=Me.items),"labelIdentifier"in Me&&t(20,g=Me.labelIdentifier),"getOptionLabel"in Me&&t(6,b=Me.getOptionLabel),"getGroupHeaderLabel"in Me&&t(7,k=Me.getGroupHeaderLabel),"itemHeight"in Me&&t(8,C=Me.itemHeight),"hoverItemIndex"in Me&&t(2,M=Me.hoverItemIndex),"value"in Me&&t(9,_=Me.value),"optionIdentifier"in Me&&t(10,$=Me.optionIdentifier),"hideEmptyState"in Me&&t(11,D=Me.hideEmptyState),"noOptionsMessage"in Me&&t(12,R=Me.noOptionsMessage),"isMulti"in Me&&t(21,A=Me.isMulti),"activeItemIndex"in Me&&t(19,z=Me.activeItemIndex),"filterText"in Me&&t(13,L=Me.filterText),"parent"in Me&&t(22,V=Me.parent),"listPlacement"in Me&&t(23,te=Me.listPlacement),"listAutoWidth"in Me&&t(24,ue=Me.listAutoWidth),"listOffset"in Me&&t(25,P=Me.listOffset)},n.$$.update=function(){4194305&n.$$.dirty[0]&&V&&s&&Ke()},[s,p,M,u,f,h,b,k,C,_,$,D,R,L,i,ne,ye,function(Me){switch(Me.key){case"Escape":Me.preventDefault(),Ce();break;case"ArrowDown":Me.preventDefault(),p.length&&Se(1);break;case"ArrowUp":Me.preventDefault(),p.length&&Se(-1);break;case"Enter":if(Me.preventDefault(),p.length===0)break;var et=p[M];if(_&&!A&&_[$]===et[$]){Ce();break}et.isCreator?o("itemCreated",L):(t(19,z=M),ce(p[M]));break;case"Tab":if(Me.preventDefault(),p.length===0||_&&_[$]===p[M][$])return Ce();t(19,z=M),ce(p[M])}},Ke,z,g,A,V,te,ue,P,function(Me){return ne(Me)},function(Me){return ne(Me)},function(Me,et,le){return ye({item:Me,i:et,event:le})},function(Me){return ne(Me)},function(Me){return ne(Me)},function(Me,et,le){return ye({item:Me,i:et,event:le})},function(Me){en[Me?"unshift":"push"](function(){t(0,s=Me)})}]}var qZe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,zZe,BZe,Or,{container:0,VirtualList:3,Item:4,isVirtualList:5,items:1,labelIdentifier:20,getOptionLabel:6,getGroupHeaderLabel:7,itemHeight:8,hoverItemIndex:2,value:9,optionIdentifier:10,hideEmptyState:11,noOptionsMessage:12,isMulti:21,activeItemIndex:19,filterText:13,parent:22,listPlacement:23,listAutoWidth:24,listOffset:25},NZe,[-1,-1]),i}return ie(t)}();function FZe(n){Gt(n,"svelte-pu1q1n",".selection.svelte-pu1q1n{text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap}")}function HZe(n){var e,t=n[0](n[1])+"";return{c:function(){E(e=ee("div"),"class","selection svelte-pu1q1n")},m:function(r,i){me(r,e,i),e.innerHTML=t},p:function(r,i){3&Dt(i,1)[0]&&t!==(t=r[0](r[1])+"")&&(e.innerHTML=t)},i:Ze,o:Ze,d:function(r){r&&he(e)}}}function VZe(n,e,t){var r=e.getSelectionLabel,i=r===void 0?void 0:r,o=e.item,a=o===void 0?void 0:o;return n.$$set=function(s){"getSelectionLabel"in s&&t(0,i=s.getSelectionLabel),"item"in s&&t(1,a=s.item)},[i,a]}var WZe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,VZe,HZe,Or,{getSelectionLabel:0,item:1},FZe),i}return ie(t)}();function UZe(n){Gt(n,"svelte-liu9pa",".multiSelectItem.svelte-liu9pa.svelte-liu9pa{background:var(--multiItemBG, #ebedef);margin:var(--multiItemMargin, 5px 5px 0 0);border-radius:var(--multiItemBorderRadius, 16px);height:var(--multiItemHeight, 32px);line-height:var(--multiItemHeight, 32px);display:flex;cursor:default;padding:var(--multiItemPadding, 0 10px 0 15px);max-width:100%}.multiSelectItem_label.svelte-liu9pa.svelte-liu9pa{margin:var(--multiLabelMargin, 0 5px 0 0);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.multiSelectItem.svelte-liu9pa.svelte-liu9pa:hover,.multiSelectItem.active.svelte-liu9pa.svelte-liu9pa{background-color:var(--multiItemActiveBG, #006fff);color:var(--multiItemActiveColor, #fff)}.multiSelectItem.disabled.svelte-liu9pa.svelte-liu9pa:hover{background:var(--multiItemDisabledHoverBg, #ebedef);color:var(--multiItemDisabledHoverColor, #c1c6cc)}.multiSelectItem_clear.svelte-liu9pa.svelte-liu9pa{border-radius:var(--multiClearRadius, 50%);background:var(--multiClearBG, #52616f);min-width:var(--multiClearWidth, 16px);max-width:var(--multiClearWidth, 16px);height:var(--multiClearHeight, 16px);position:relative;top:var(--multiClearTop, 8px);text-align:var(--multiClearTextAlign, center);padding:var(--multiClearPadding, 1px)}.multiSelectItem_clear.svelte-liu9pa.svelte-liu9pa:hover,.active.svelte-liu9pa .multiSelectItem_clear.svelte-liu9pa{background:var(--multiClearHoverBG, #fff)}.multiSelectItem_clear.svelte-liu9pa:hover svg.svelte-liu9pa,.active.svelte-liu9pa .multiSelectItem_clear svg.svelte-liu9pa{fill:var(--multiClearHoverFill, #006fff)}.multiSelectItem_clear.svelte-liu9pa svg.svelte-liu9pa{fill:var(--multiClearFill, #ebedef);vertical-align:top}")}function i4(n,e,t){var r=n.slice();return r[9]=e[t],r[11]=t,r}function o4(n){var e,t,r;function i(){for(var o,a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return(o=n)[6].apply(o,[n[11]].concat(s))}return{c:function(){(e=ee("div")).innerHTML='<svg width="100%" height="100%" viewBox="-2 -2 50 50" focusable="false" aria-hidden="true" role="presentation" class="svelte-liu9pa"><path d="M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124 l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"></path></svg>',E(e,"class","multiSelectItem_clear svelte-liu9pa")},m:function(o,a){me(o,e,a),t||(r=Be(e,"click",i),t=!0)},p:function(o,a){n=o},d:function(o){o&&he(e),t=!1,r()}}}function a4(n){var e,t,r,i,o,a,s,l=n[4](n[9])+"",u=!n[2]&&!n[3]&&o4(n);function c(){for(var f,d=arguments.length,h=new Array(d),v=0;v<d;v++)h[v]=arguments[v];return(f=n)[7].apply(f,[n[11]].concat(h))}return{c:function(){e=ee("div"),t=ee("div"),r=je(),u&&u.c(),i=je(),E(t,"class","multiSelectItem_label svelte-liu9pa"),E(e,"class",o="multiSelectItem "+(n[1]===n[11]?"active":"")+" "+(n[2]?"disabled":"")+" svelte-liu9pa")},m:function(f,d){me(f,e,d),W(e,t),t.innerHTML=l,W(e,r),u&&u.m(e,null),W(e,i),a||(s=Be(e,"click",c),a=!0)},p:function(f,d){n=f,17&d&&l!==(l=n[4](n[9])+"")&&(t.innerHTML=l),n[2]||n[3]?u&&(u.d(1),u=null):u?u.p(n,d):((u=o4(n)).c(),u.m(e,i)),6&d&&o!==(o="multiSelectItem "+(n[1]===n[11]?"active":"")+" "+(n[2]?"disabled":"")+" svelte-liu9pa")&&E(e,"class",o)},d:function(f){f&&he(e),u&&u.d(),a=!1,s()}}}function JZe(n){for(var e,t=n[0],r=[],i=0;i<t.length;i+=1)r[i]=a4(i4(n,t,i));return{c:function(){for(var o=0;o<r.length;o+=1)r[o].c();e=kn()},m:function(o,a){for(var s=0;s<r.length;s+=1)r[s].m(o,a);me(o,e,a)},p:function(o,a){var s=Dt(a,1)[0];if(63&s){var l;for(t=o[0],l=0;l<t.length;l+=1){var u=i4(o,t,l);r[l]?r[l].p(u,s):(r[l]=a4(u),r[l].c(),r[l].m(e.parentNode,e))}for(;l<r.length;l+=1)r[l].d(1);r.length=t.length}},i:Ze,o:Ze,d:function(o){ji(r,o),o&&he(e)}}}function GZe(n,e,t){var r=Bg(),i=e.value,o=i===void 0?[]:i,a=e.activeValue,s=a===void 0?void 0:a,l=e.isDisabled,u=l!==void 0&&l,c=e.multiFullItemClearable,f=c!==void 0&&c,d=e.getSelectionLabel,h=d===void 0?void 0:d;function v(p,m){m.stopPropagation(),r("multiItemClear",{i:p})}return n.$$set=function(p){"value"in p&&t(0,o=p.value),"activeValue"in p&&t(1,s=p.activeValue),"isDisabled"in p&&t(2,u=p.isDisabled),"multiFullItemClearable"in p&&t(3,f=p.multiFullItemClearable),"getSelectionLabel"in p&&t(4,h=p.getSelectionLabel)},[o,s,u,f,h,v,function(p,m){return v(p,m)},function(p,m){return f?v(p,m):{}}]}var KZe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,GZe,JZe,Or,{value:0,activeValue:1,isDisabled:2,multiFullItemClearable:3,getSelectionLabel:4},UZe),i}return ie(t)}();function QZe(n){Gt(n,"svelte-g2cagw","svelte-virtual-list-viewport.svelte-g2cagw{position:relative;overflow-y:auto;-webkit-overflow-scrolling:touch;display:block}svelte-virtual-list-contents.svelte-g2cagw,svelte-virtual-list-row.svelte-g2cagw{display:block}svelte-virtual-list-row.svelte-g2cagw{overflow:hidden}")}function s4(n,e,t){var r=n.slice();return r[23]=e[t],r}var YZe=function(n){return{item:32&n,i:32&n,hoverItemIndex:2&n}},l4=function(n){return{item:n[23].data,i:n[23].index,hoverItemIndex:n[1]}};function u4(n,e){var t,r,i,o=e[15].default,a=ia(o,e,e[14],l4),s=a||function(l){var u;return{c:function(){u=ot("Missing template")},m:function(c,f){me(c,u,f)},d:function(c){c&&he(u)}}}();return{key:n,first:null,c:function(){t=ee("svelte-virtual-list-row"),s&&s.c(),r=je(),Cb(t,"class","svelte-g2cagw"),this.first=t},m:function(l,u){me(l,t,u),s&&s.m(t,null),W(t,r),i=!0},p:function(l,u){e=l,a&&a.p&&(!i||16418&u)&&aa(a,o,e,e[14],i?oa(o,e[14],u,YZe):sa(e[14]),l4)},i:function(l){i||(J(s,l),i=!0)},o:function(l){Y(s,l),i=!1},d:function(l){l&&he(t),s&&s.d(l)}}}function ZZe(n){for(var e,t,r,i,o,a,s=[],l=new Map,u=n[5],c=function(v){return v[23].index},f=0;f<u.length;f+=1){var d=s4(n,u,f),h=c(d);l.set(h,s[f]=u4(h,d))}return{c:function(){e=ee("svelte-virtual-list-viewport"),t=ee("svelte-virtual-list-contents");for(var v=0;v<s.length;v+=1)s[v].c();ja(t,"padding-top",n[6]+"px"),ja(t,"padding-bottom",n[7]+"px"),Cb(t,"class","svelte-g2cagw"),ja(e,"height",n[0]),Cb(e,"class","svelte-g2cagw"),dl(function(){return n[18].call(e)})},m:function(v,p){me(v,e,p),W(e,t);for(var m=0;m<s.length;m+=1)s[m].m(t,null);n[16](t),n[17](e),r=function(g,y){getComputedStyle(g).position==="static"&&(g.style.position="relative");var b=ee("iframe");b.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),b.setAttribute("aria-hidden","true"),b.tabIndex=-1;var w,k=g9e();return k?(b.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",w=Be(window,"message",function(x){x.source===b.contentWindow&&y()})):(b.src="about:blank",b.onload=function(){w=Be(b.contentWindow,"resize",y)}),W(g,b),function(){(k||w&&b.contentWindow)&&w(),he(b)}}(e,n[18].bind(e)),i=!0,o||(a=Be(e,"scroll",n[8]),o=!0)},p:function(v,p){var m=Dt(p,1)[0];16418&m&&(u=v[5],Je(),s=_h(s,m,c,1,v,u,l,t,zg,u4,null,s4),Ge()),(!i||64&m)&&ja(t,"padding-top",v[6]+"px"),(!i||128&m)&&ja(t,"padding-bottom",v[7]+"px"),(!i||1&m)&&ja(e,"height",v[0])},i:function(v){if(!i){for(var p=0;p<u.length;p+=1)J(s[p]);i=!0}},o:function(v){for(var p=0;p<s.length;p+=1)Y(s[p]);i=!1},d:function(v){v&&he(e);for(var p=0;p<s.length;p+=1)s[p].d();n[16](null),n[17](null),r(),o=!1,a()}}}function XZe(n,e,t){var r,i,o,a,s,l,u=e.$$slots,c=u===void 0?{}:u,f=e.$$scope,d=e.items,h=d===void 0?void 0:d,v=e.height,p=v===void 0?"100%":v,m=e.itemHeight,g=m===void 0?40:m,y=e.hoverItemIndex,b=y===void 0?0:y,w=e.start,k=w===void 0?0:w,x=e.end,C=x===void 0?0:x,T=[],M=0,B=0,_=0;function N(){return N=Fn(At().mark(function j(D,q,R){var G,A,I,z,F,L;return At().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return G=i.scrollTop,O.next=3,xr();case 3:A=B-G,I=k;case 5:if(!(A<q&&I<D.length)){O.next=17;break}if(z=r[I-k]){O.next=12;break}return t(10,C=I+1),O.next=11,xr();case 11:z=r[I-k];case 12:F=T[I]=R||z.offsetHeight,A+=F,I+=1,O.next=5;break;case 17:t(10,C=I),L=D.length-C,t(7,_=L*(l=(B+A)/C)),T.length=D.length,i&&t(3,i.scrollTop=0,i);case 23:case"end":return O.stop()}},j)})),N.apply(this,arguments)}function $(){return $=Fn(At().mark(function j(){var D,q,R,G,A,I,z,F,L,O,V;return At().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:for(D=i.scrollTop,q=k,R=0;R<r.length;R+=1)T[k+R]=g||r[R].offsetHeight;G=0,A=0;case 5:if(!(G<h.length)){Z.next=15;break}if(I=T[G]||l,!(A+I>D)){Z.next=11;break}return t(9,k=G),t(6,B=A),Z.abrupt("break",15);case 11:A+=I,G+=1,Z.next=5;break;case 15:if(!(G<h.length)){Z.next=22;break}if(A+=T[G]||l,G+=1,!(A>D+M)){Z.next=20;break}return Z.abrupt("break",22);case 20:Z.next=15;break;case 22:for(t(10,C=G),z=h.length-C,l=A/C;G<h.length;)T[G++]=l;if(t(7,_=z*l),!(k<q)){Z.next=35;break}return Z.next=30,xr();case 30:for(F=0,L=0,O=k;O<q;O+=1)r[O-k]&&(F+=T[O],L+=g||r[O-k].offsetHeight);V=L-F,i.scrollTo(0,D+V);case 35:case"end":return Z.stop()}},j)})),$.apply(this,arguments)}return fo(function(){r=o.getElementsByTagName("svelte-virtual-list-row"),t(13,s=!0)}),n.$$set=function(j){"items"in j&&t(11,h=j.items),"height"in j&&t(0,p=j.height),"itemHeight"in j&&t(12,g=j.itemHeight),"hoverItemIndex"in j&&t(1,b=j.hoverItemIndex),"start"in j&&t(9,k=j.start),"end"in j&&t(10,C=j.end),"$$scope"in j&&t(14,f=j.$$scope)},n.$$.update=function(){3584&n.$$.dirty&&t(5,a=h.slice(k,C).map(function(j,D){return{index:D+k,data:j}})),14340&n.$$.dirty&&s&&function(j,D,q){N.apply(this,arguments)}(h,M,g)},[p,b,M,i,o,a,B,_,function(){return $.apply(this,arguments)},k,C,h,g,s,f,c,function(j){en[j?"unshift":"push"](function(){t(4,o=j)})},function(j){en[j?"unshift":"push"](function(){t(3,i=j)})},function(){M=this.offsetHeight,t(2,M)}]}var eXe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,XZe,ZZe,Or,{items:11,height:0,itemHeight:12,hoverItemIndex:1,start:9,end:10},QZe),i}return ie(t)}();function tXe(n){var e,t;return{c:function(){e=ys("svg"),E(t=ys("path"),"fill","currentColor"),E(t,"d",`M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124
    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z`),E(e,"width","100%"),E(e,"height","100%"),E(e,"viewBox","-2 -2 50 50"),E(e,"focusable","false"),E(e,"aria-hidden","true"),E(e,"role","presentation")},m:function(r,i){me(r,e,i),W(e,t)},p:Ze,i:Ze,o:Ze,d:function(r){r&&he(e)}}}var nXe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,null,tXe,Or,{}),i}return ie(t)}();function rXe(n){Gt(n,"svelte-17l1npl",".selectContainer.svelte-17l1npl.svelte-17l1npl{--internalPadding:0 16px;border:var(--border, 1px solid #d8dbdf);border-radius:var(--borderRadius, 3px);box-sizing:border-box;height:var(--height, 42px);position:relative;display:flex;align-items:center;padding:var(--padding, var(--internalPadding));background:var(--background, #fff);margin:var(--margin, 0)}.selectContainer.svelte-17l1npl input.svelte-17l1npl{cursor:default;border:none;color:var(--inputColor, #3f4f5f);height:var(--height, 42px);line-height:var(--height, 42px);padding:var(--inputPadding, var(--padding, var(--internalPadding)));width:100%;background:transparent;font-size:var(--inputFontSize, 14px);letter-spacing:var(--inputLetterSpacing, -0.08px);position:absolute;left:var(--inputLeft, 0);margin:var(--inputMargin, 0)}.selectContainer.svelte-17l1npl input.svelte-17l1npl::placeholder{color:var(--placeholderColor, #78848f);opacity:var(--placeholderOpacity, 1)}.selectContainer.svelte-17l1npl input.svelte-17l1npl:focus{outline:none}.selectContainer.svelte-17l1npl.svelte-17l1npl:hover{border-color:var(--borderHoverColor, #b2b8bf)}.selectContainer.focused.svelte-17l1npl.svelte-17l1npl{border-color:var(--borderFocusColor, #006fe8)}.selectContainer.disabled.svelte-17l1npl.svelte-17l1npl{background:var(--disabledBackground, #ebedef);border-color:var(--disabledBorderColor, #ebedef);color:var(--disabledColor, #c1c6cc)}.selectContainer.disabled.svelte-17l1npl input.svelte-17l1npl::placeholder{color:var(--disabledPlaceholderColor, #c1c6cc);opacity:var(--disabledPlaceholderOpacity, 1)}.selectedItem.svelte-17l1npl.svelte-17l1npl{line-height:var(--height, 42px);height:var(--height, 42px);overflow-x:hidden;padding:var(--selectedItemPadding, 0 20px 0 0)}.selectedItem.svelte-17l1npl.svelte-17l1npl:focus{outline:none}.clearSelect.svelte-17l1npl.svelte-17l1npl{position:absolute;right:var(--clearSelectRight, 10px);top:var(--clearSelectTop, 11px);bottom:var(--clearSelectBottom, 11px);width:var(--clearSelectWidth, 20px);color:var(--clearSelectColor, #c5cacf);flex:none !important}.clearSelect.svelte-17l1npl.svelte-17l1npl:hover{color:var(--clearSelectHoverColor, #2c3e50)}.selectContainer.focused.svelte-17l1npl .clearSelect.svelte-17l1npl{color:var(--clearSelectFocusColor, #3f4f5f)}.indicator.svelte-17l1npl.svelte-17l1npl{position:absolute;right:var(--indicatorRight, 10px);top:var(--indicatorTop, 11px);width:var(--indicatorWidth, 20px);height:var(--indicatorHeight, 20px);color:var(--indicatorColor, #c5cacf)}.indicator.svelte-17l1npl svg.svelte-17l1npl{display:inline-block;fill:var(--indicatorFill, currentcolor);line-height:1;stroke:var(--indicatorStroke, currentcolor);stroke-width:0}.spinner.svelte-17l1npl.svelte-17l1npl{position:absolute;right:var(--spinnerRight, 10px);top:var(--spinnerLeft, 11px);width:var(--spinnerWidth, 20px);height:var(--spinnerHeight, 20px);color:var(--spinnerColor, #51ce6c);animation:svelte-17l1npl-rotate 0.75s linear infinite}.spinner_icon.svelte-17l1npl.svelte-17l1npl{display:block;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;-webkit-transform:none}.spinner_path.svelte-17l1npl.svelte-17l1npl{stroke-dasharray:90;stroke-linecap:round}.multiSelect.svelte-17l1npl.svelte-17l1npl{display:flex;padding:var(--multiSelectPadding, 0 35px 0 16px);height:auto;flex-wrap:wrap;align-items:stretch}.multiSelect.svelte-17l1npl>.svelte-17l1npl{flex:1 1 50px}.selectContainer.multiSelect.svelte-17l1npl input.svelte-17l1npl{padding:var(--multiSelectInputPadding, 0);position:relative;margin:var(--multiSelectInputMargin, 0)}.hasError.svelte-17l1npl.svelte-17l1npl{border:var(--errorBorder, 1px solid #ff2d55);background:var(--errorBackground, #fff)}.a11yText.svelte-17l1npl.svelte-17l1npl{z-index:9999;border:0px;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0px;white-space:nowrap}@keyframes svelte-17l1npl-rotate{100%{transform:rotate(360deg)}}")}function c4(n,e,t){var r=n.slice();return r[103]=e[t],r}function f4(n){var e,t,r,i,o;return{c:function(){e=ee("span"),t=ot(n[33]),r=je(),i=ee("span"),o=ot(n[32]),E(e,"id","aria-selection"),E(i,"id","aria-context")},m:function(a,s){me(a,e,s),W(e,t),me(a,r,s),me(a,i,s),W(i,o)},p:function(a,s){4&s[1]&&on(t,a[33]),2&s[1]&&on(o,a[32])},d:function(a){a&&he(e),a&&he(r),a&&he(i)}}}function d4(n){var e,t,r,i=[n[18]],o=n[17];function a(s){for(var l={},u=0;u<i.length;u+=1)l=wl(l,i[u]);return{props:l}}return o&&(e=ur(o,a())),{c:function(){e&&Ne(e.$$.fragment),t=kn()},m:function(s,l){e&&Ae(e,s,l),me(s,t,l),r=!0},p:function(s,l){var u=262144&l[0]?_u(i,[qg(s[18])]):{};if(o!==(o=s[17])){if(e){Je();var c=e;Y(c.$$.fragment,1,0,function(){_e(c,1)}),Ge()}o?(Ne((e=ur(o,a())).$$.fragment),J(e.$$.fragment,1),Ae(e,t.parentNode,t)):e=null}else o&&e.$set(u)},i:function(s){r||(e&&J(e.$$.fragment,s),r=!0)},o:function(s){e&&Y(e.$$.fragment,s),r=!1},d:function(s){s&&he(t),e&&_e(e,s)}}}function h4(n){var e,t,r,i=n[26];function o(a){return{props:{value:a[2],getSelectionLabel:a[12],activeValue:a[30],isDisabled:a[9],multiFullItemClearable:a[8]}}}return i&&((e=ur(i,o(n))).$on("multiItemClear",n[38]),e.$on("focus",n[40])),{c:function(){e&&Ne(e.$$.fragment),t=kn()},m:function(a,s){e&&Ae(e,a,s),me(a,t,s),r=!0},p:function(a,s){var l={};if(4&s[0]&&(l.value=a[2]),4096&s[0]&&(l.getSelectionLabel=a[12]),1073741824&s[0]&&(l.activeValue=a[30]),512&s[0]&&(l.isDisabled=a[9]),256&s[0]&&(l.multiFullItemClearable=a[8]),i!==(i=a[26])){if(e){Je();var u=e;Y(u.$$.fragment,1,0,function(){_e(u,1)}),Ge()}i?((e=ur(i,o(a))).$on("multiItemClear",a[38]),e.$on("focus",a[40]),Ne(e.$$.fragment),J(e.$$.fragment,1),Ae(e,t.parentNode,t)):e=null}else i&&e.$set(l)},i:function(a){r||(e&&J(e.$$.fragment,a),r=!0)},o:function(a){e&&Y(e.$$.fragment,a),r=!1},d:function(a){a&&he(t),e&&_e(e,a)}}}function p4(n){var e,t,r,i,o,a=n[25];function s(l){return{props:{item:l[2],getSelectionLabel:l[12]}}}return a&&(t=ur(a,s(n))),{c:function(){e=ee("div"),t&&Ne(t.$$.fragment),E(e,"class","selectedItem svelte-17l1npl")},m:function(l,u){me(l,e,u),t&&Ae(t,e,null),r=!0,i||(o=Be(e,"focus",n[40]),i=!0)},p:function(l,u){var c={};if(4&u[0]&&(c.item=l[2]),4096&u[0]&&(c.getSelectionLabel=l[12]),a!==(a=l[25])){if(t){Je();var f=t;Y(f.$$.fragment,1,0,function(){_e(f,1)}),Ge()}a?(Ne((t=ur(a,s(l))).$$.fragment),J(t.$$.fragment,1),Ae(t,e,null)):t=null}else a&&t.$set(c)},i:function(l){r||(t&&J(t.$$.fragment,l),r=!0)},o:function(l){t&&Y(t.$$.fragment,l),r=!1},d:function(l){l&&he(e),t&&_e(t),i=!1,o()}}}function v4(n){var e,t,r,i,o,a=n[23];return a&&(t=ur(a,{})),{c:function(){e=ee("div"),t&&Ne(t.$$.fragment),E(e,"class","clearSelect svelte-17l1npl"),E(e,"aria-hidden","true")},m:function(s,l){var u;me(s,e,l),t&&Ae(t,e,null),r=!0,i||(o=Be(e,"click",(u=n[27],function(c){return c.preventDefault(),u.call(this,c)})),i=!0)},p:function(s,l){if(a!==(a=s[23])){if(t){Je();var u=t;Y(u.$$.fragment,1,0,function(){_e(u,1)}),Ge()}a?(Ne((t=ur(a,{})).$$.fragment),J(t.$$.fragment,1),Ae(t,e,null)):t=null}},i:function(s){r||(t&&J(t.$$.fragment,s),r=!0)},o:function(s){t&&Y(t.$$.fragment,s),r=!1},d:function(s){s&&he(e),t&&_e(t),i=!1,o()}}}function m4(n){var e;function t(o,a){return o[22]?oXe:iXe}var r=t(n),i=r(n);return{c:function(){e=ee("div"),i.c(),E(e,"class","indicator svelte-17l1npl"),E(e,"aria-hidden","true")},m:function(o,a){me(o,e,a),i.m(e,null)},p:function(o,a){r===(r=t(o))&&i?i.p(o,a):(i.d(1),(i=r(o))&&(i.c(),i.m(e,null)))},d:function(o){o&&he(e),i.d()}}}function iXe(n){var e,t;return{c:function(){e=ys("svg"),E(t=ys("path"),"d",`M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747
          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0
          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502
          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0
          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z`),E(e,"width","100%"),E(e,"height","100%"),E(e,"viewBox","0 0 20 20"),E(e,"focusable","false"),E(e,"aria-hidden","true"),E(e,"class","svelte-17l1npl")},m:function(r,i){me(r,e,i),W(e,t)},p:Ze,d:function(r){r&&he(e)}}}function oXe(n){var e,t;return{c:function(){e=new y9e(!1),t=kn(),e.a=t},m:function(r,i){e.m(n[22],r,i),me(r,t,i)},p:function(r,i){4194304&i[0]&&e.p(r[22])},d:function(r){r&&he(t),r&&e.d()}}}function g4(n){var e;return{c:function(){(e=ee("div")).innerHTML='<svg class="spinner_icon svelte-17l1npl" viewBox="25 25 50 50"><circle class="spinner_path svelte-17l1npl" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg>',E(e,"class","spinner svelte-17l1npl")},m:function(t,r){me(t,e,r)},d:function(t){t&&he(e)}}}function y4(n){var e,t,r,i,o=[n[34]];function a(u){n[84](u)}var s=n[24];function l(u){for(var c={},f=0;f<o.length;f+=1)c=wl(c,o[f]);return u[28]!==void 0&&(c.hoverItemIndex=u[28]),{props:c}}return s&&(e=ur(s,l(n)),en.push(function(){return to(e,"hoverItemIndex",a)}),e.$on("itemSelected",n[43]),e.$on("itemCreated",n[44]),e.$on("closeList",n[45])),{c:function(){e&&Ne(e.$$.fragment),r=kn()},m:function(u,c){e&&Ae(e,u,c),me(u,r,c),i=!0},p:function(u,c){var f=8&c[1]?_u(o,[qg(u[34])]):{};if(!t&&268435456&c[0]&&(t=!0,f.hoverItemIndex=u[28],wo(function(){return t=!1})),s!==(s=u[24])){if(e){Je();var d=e;Y(d.$$.fragment,1,0,function(){_e(d,1)}),Ge()}s?(e=ur(s,l(u)),en.push(function(){return to(e,"hoverItemIndex",a)}),e.$on("itemSelected",u[43]),e.$on("itemCreated",u[44]),e.$on("closeList",u[45]),Ne(e.$$.fragment),J(e.$$.fragment,1),Ae(e,r.parentNode,r)):e=null}else s&&e.$set(f)},i:function(u){i||(e&&J(e.$$.fragment,u),i=!0)},o:function(u){e&&Y(e.$$.fragment,u),i=!1},d:function(u){u&&he(r),e&&_e(e,u)}}}function b4(n){var e,t,r;return{c:function(){E(e=ee("input"),"name",t=n[16].name),E(e,"type","hidden"),e.value=r=n[2]?n[12](n[2]):null,E(e,"class","svelte-17l1npl")},m:function(i,o){me(i,e,o)},p:function(i,o){65536&o[0]&&t!==(t=i[16].name)&&E(e,"name",t),4100&o[0]&&r!==(r=i[2]?i[12](i[2]):null)&&(e.value=r)},d:function(i){i&&he(e)}}}function w4(n){for(var e,t=n[2],r=[],i=0;i<t.length;i+=1)r[i]=k4(c4(n,t,i));return{c:function(){for(var o=0;o<r.length;o+=1)r[o].c();e=kn()},m:function(o,a){for(var s=0;s<r.length;s+=1)r[s].m(o,a);me(o,e,a)},p:function(o,a){if(69636&a[0]){var s;for(t=o[2],s=0;s<t.length;s+=1){var l=c4(o,t,s);r[s]?r[s].p(l,a):(r[s]=k4(l),r[s].c(),r[s].m(e.parentNode,e))}for(;s<r.length;s+=1)r[s].d(1);r.length=t.length}},d:function(o){ji(r,o),o&&he(e)}}}function k4(n){var e,t,r;return{c:function(){E(e=ee("input"),"name",t=n[16].name),E(e,"type","hidden"),e.value=r=n[103]?n[12](n[103]):null,E(e,"class","svelte-17l1npl")},m:function(i,o){me(i,e,o)},p:function(i,o){65536&o[0]&&t!==(t=i[16].name)&&E(e,"name",t),4100&o[0]&&r!==(r=i[103]?i[12](i[103]):null)&&(e.value=r)},d:function(i){i&&he(e)}}}function aXe(n){for(var e,t,r,i,o,a,s,l,u,c,f,d,h,v,p,m,g,y,b=n[1]&&f4(n),w=n[17]&&d4(n),k=n[35]&&h4(n),x=[{readOnly:s=!n[13]},n[31],{placeholder:n[36]},{style:n[14]},{disabled:n[9]}],C={},T=0;T<x.length;T+=1)C=wl(C,x[T]);var M=!n[7]&&n[29]&&p4(n),B=n[37]&&v4(n),_=!n[37]&&(n[20]||n[19]&&!n[2]||!n[13]&&!n[9]&&!n[4]&&(n[29]&&!n[15]||!n[29]))&&m4(n),N=n[4]&&g4(),$=n[5]&&y4(n),j=(!n[7]||n[7]&&!n[35])&&b4(n),D=n[7]&&n[35]&&w4(n);return{c:function(){e=ee("div"),t=ee("span"),b&&b.c(),r=je(),w&&w.c(),i=je(),k&&k.c(),o=je(),a=ee("input"),l=je(),M&&M.c(),u=je(),B&&B.c(),c=je(),_&&_.c(),f=je(),N&&N.c(),d=je(),$&&$.c(),h=je(),j&&j.c(),v=je(),D&&D.c(),E(t,"aria-live","polite"),E(t,"aria-atomic","false"),E(t,"aria-relevant","additions text"),E(t,"class","a11yText svelte-17l1npl"),LA(a,C),Ve(a,"svelte-17l1npl",!0),E(e,"class",p="selectContainer "+n[21]+" svelte-17l1npl"),E(e,"style",n[11]),Ve(e,"hasError",n[10]),Ve(e,"multiSelect",n[7]),Ve(e,"disabled",n[9]),Ve(e,"focused",n[1])},m:function(q,R){me(q,e,R),W(e,t),b&&b.m(t,null),W(e,r),w&&w.m(e,null),W(e,i),k&&k.m(e,null),W(e,o),W(e,a),a.autofocus&&a.focus(),n[82](a),cl(a,n[3]),W(e,l),M&&M.m(e,null),W(e,u),B&&B.m(e,null),W(e,c),_&&_.m(e,null),W(e,f),N&&N.m(e,null),W(e,d),$&&$.m(e,null),W(e,h),j&&j.m(e,null),W(e,v),D&&D.m(e,null),n[85](e),m=!0,g||(y=[Be(window,"click",n[41]),Be(window,"focusin",n[41]),Be(window,"keydown",n[39]),Be(a,"focus",n[40]),Be(a,"input",n[83]),Be(e,"click",n[42])],g=!0)},p:function(q,R){q[1]?b?b.p(q,R):((b=f4(q)).c(),b.m(t,null)):b&&(b.d(1),b=null),q[17]?w?(w.p(q,R),131072&R[0]&&J(w,1)):((w=d4(q)).c(),J(w,1),w.m(e,i)):w&&(Je(),Y(w,1,1,function(){w=null}),Ge()),q[35]?k?(k.p(q,R),16&R[1]&&J(k,1)):((k=h4(q)).c(),J(k,1),k.m(e,o)):k&&(Je(),Y(k,1,1,function(){k=null}),Ge()),LA(a,C=_u(x,[(!m||8192&R[0]&&s!==(s=!q[13]))&&{readOnly:s},1&R[1]&&q[31],(!m||32&R[1])&&{placeholder:q[36]},(!m||16384&R[0])&&{style:q[14]},(!m||512&R[0])&&{disabled:q[9]}])),8&R[0]&&a.value!==q[3]&&cl(a,q[3]),Ve(a,"svelte-17l1npl",!0),!q[7]&&q[29]?M?(M.p(q,R),536871040&R[0]&&J(M,1)):((M=p4(q)).c(),J(M,1),M.m(e,u)):M&&(Je(),Y(M,1,1,function(){M=null}),Ge()),q[37]?B?(B.p(q,R),64&R[1]&&J(B,1)):((B=v4(q)).c(),J(B,1),B.m(e,c)):B&&(Je(),Y(B,1,1,function(){B=null}),Ge()),q[37]||!(q[20]||q[19]&&!q[2])&&(q[13]||q[9]||q[4]||(!q[29]||q[15])&&q[29])?_&&(_.d(1),_=null):_?_.p(q,R):((_=m4(q)).c(),_.m(e,f)),q[4]?N||((N=g4()).c(),N.m(e,d)):N&&(N.d(1),N=null),q[5]?$?($.p(q,R),32&R[0]&&J($,1)):(($=y4(q)).c(),J($,1),$.m(e,h)):$&&(Je(),Y($,1,1,function(){$=null}),Ge()),!q[7]||q[7]&&!q[35]?j?j.p(q,R):((j=b4(q)).c(),j.m(e,v)):j&&(j.d(1),j=null),q[7]&&q[35]?D?D.p(q,R):((D=w4(q)).c(),D.m(e,null)):D&&(D.d(1),D=null),(!m||2097152&R[0]&&p!==(p="selectContainer "+q[21]+" svelte-17l1npl"))&&E(e,"class",p),(!m||2048&R[0])&&E(e,"style",q[11]),(!m||2098176&R[0])&&Ve(e,"hasError",q[10]),(!m||2097280&R[0])&&Ve(e,"multiSelect",q[7]),(!m||2097664&R[0])&&Ve(e,"disabled",q[9]),(!m||2097154&R[0])&&Ve(e,"focused",q[1])},i:function(q){m||(J(w),J(k),J(M),J(B),J($),m=!0)},o:function(q){Y(w),Y(k),Y(M),Y(B),Y($),m=!1},d:function(q){q&&he(e),b&&b.d(),w&&w.d(),k&&k.d(),n[82](null),M&&M.d(),B&&B.d(),_&&_.d(),N&&N.d(),$&&$.d(),j&&j.d(),D&&D.d(),n[85](null),g=!1,Xn(y)}}}function x4(n){return n.map(function(e,t){return{index:t,value:e,label:"".concat(e)}})}function sXe(n,e,t){var r,i,o,a,s,l,u,c,f=Bg(),d=e.id,h=d===void 0?null:d,v=e.container,p=v===void 0?void 0:v,m=e.input,g=m===void 0?void 0:m,y=e.isMulti,b=y!==void 0&&y,w=e.multiFullItemClearable,k=w!==void 0&&w,x=e.isDisabled,C=x!==void 0&&x,T=e.isCreatable,M=T!==void 0&&T,B=e.isFocused,_=B!==void 0&&B,N=e.value,$=N===void 0?null:N,j=e.filterText,D=j===void 0?"":j,q=e.placeholder,R=q===void 0?"Select...":q,G=e.placeholderAlwaysShow,A=G!==void 0&&G,I=e.items,z=I===void 0?null:I,F=e.itemFilter,L=F===void 0?function(pe,Ct,ht){return"".concat(pe).toLowerCase().includes(Ct.toLowerCase())}:F,O=e.groupBy,V=O===void 0?void 0:O,Z=e.groupFilter,te=Z===void 0?function(pe){return pe}:Z,ve=e.isGroupHeaderSelectable,ue=ve!==void 0&&ve,ge=e.getGroupHeaderLabel,P=ge===void 0?function(pe){return pe[ae]||pe.id}:ge,S=e.labelIdentifier,ae=S===void 0?"label":S,ce=e.getOptionLabel,ne=ce===void 0?function(pe,Ct){return pe.isCreator?'Create "'.concat(Ct,'"'):pe[ae]}:ce,ye=e.optionIdentifier,Ce=ye===void 0?"value":ye,Se=e.loadOptions,Ue=Se===void 0?void 0:Se,pt=e.hasError,Ke=pt!==void 0&&pt,Me=e.containerStyles,et=Me===void 0?"":Me,le=e.getSelectionLabel,be=le===void 0?function(pe){return pe?pe[ae]:null}:le,Le=e.createGroupHeaderItem,Ee=Le===void 0?function(pe){return{value:pe,label:pe}}:Le,ct=e.createItem,it=ct===void 0?function(pe){return{value:pe,label:pe}}:ct,at=e.isSearchable,Bt=at===void 0||at,zt=e.inputStyles,H=zt===void 0?"":zt,U=e.isClearable,se=U===void 0||U,Q=e.isWaiting,we=Q!==void 0&&Q,Oe=e.listPlacement,Fe=Oe===void 0?"auto":Oe,Xe=e.listOpen,nt=Xe!==void 0&&Xe,jt=e.isVirtualList,Vt=jt!==void 0&&jt,st=e.loadOptionsInterval,Xt=st===void 0?300:st,Ft=e.noOptionsMessage,fn=Ft===void 0?"No options":Ft,Ht=e.hideEmptyState,tn=Ht!==void 0&&Ht,sr=e.inputAttributes,Bn=sr===void 0?{}:sr,An=e.listAutoWidth,ze=An===void 0||An,xn=e.itemHeight,Mn=xn===void 0?40:xn,cn=e.Icon,lt=cn===void 0?void 0:cn,xe=e.iconProps,Qe=xe===void 0?{}:xe,bt=e.showChevron,$t=bt!==void 0&&bt,tt=e.showIndicator,St=tt!==void 0&&tt,Wn=e.containerClasses,fr=Wn===void 0?"":Wn,yr=e.indicatorSvg,Qa=yr===void 0?void 0:yr,Ol=e.listOffset,Uu=Ol===void 0?5:Ol,Ju=e.ClearIcon,np=Ju===void 0?nXe:Ju,Ya=e.Item,El=Ya===void 0?oW:Ya,Ml=e.List,$l=Ml===void 0?qZe:Ml,fa=e.Selection,Qr=fa===void 0?WZe:fa,Rf=e.MultiSelection,No=Rf===void 0?KZe:Rf,Al=e.VirtualList,_l=Al===void 0?eXe:Al;function P0(pe){if(!(pe.loadOptions&&pe.filterText.length>0)){if(!pe.items)return[];pe.items&&pe.items.length>0&&mt(pe.items[0])!=="object"&&(pe.items=x4(pe.items));var Ct=pe.items.filter(function(ht){var Wt=L(ne(ht,pe.filterText),pe.filterText,ht);return Wt&&pe.isMulti&&pe.value&&Array.isArray(pe.value)&&(Wt=!pe.value.some(function(Jn){return Jn[pe.optionIdentifier]===ht[pe.optionIdentifier]})),Wt});return pe.groupBy&&(Ct=function(ht){var Wt=[],Jn={};ht.forEach(function(Xr){var Pr=V(Xr);Wt.includes(Pr)||(Wt.push(Pr),Jn[Pr]=[],Pr&&Jn[Pr].push(Object.assign(Ee(Pr,Xr),{id:Pr,isGroupHeader:!0,isSelectable:ue}))),Jn[Pr].push(Object.assign({isGroupItem:!!Pr},Xr))});var Zr=[];return te(Wt).forEach(function(Xr){Zr.push.apply(Zr,Ut(Jn[Xr]))}),Zr}(Ct)),pe.isCreatable&&(Ct=rp(Ct,pe.filterText)),Ct}}function rp(pe,Ct){if(Ct.length===0)return pe;var ht=it(Ct);return pe[0]&&Ct===pe[0][ae]?pe:(ht.isCreator=!0,[].concat(Ut(pe),[ht]))}var zn,Io,Gu,Hr,Bf,zf,X,ke=e.selectedValue,Te=ke===void 0?null:ke,qe=function(pe,Ct,ht){var Wt;return function(){var Jn=this,Zr=arguments,Xr=function(){Wt=null,ht||pe.apply(Jn,Zr)},Pr=ht&&!Wt;clearTimeout(Wt),Wt=setTimeout(Xr,Ct),Pr&&pe.apply(Jn,Zr)}}(Fn(At().mark(function pe(){var Ct;return At().wrap(function(ht){for(;;)switch(ht.prev=ht.next){case 0:return t(4,we=!0),ht.next=3,Ue(D).catch(function(Wt){console.warn("svelte-select loadOptions error :>> ",Wt),f("error",{type:"loadOptions",details:Wt})});case 3:(Ct=ht.sent)&&!Ct.cancelled&&(Ct?(Ct&&Ct.length>0&&mt(Ct[0])!=="object"&&(Ct=x4(Ct)),t(81,r=Ut(Ct)),f("loaded",{items:r})):t(81,r=[]),M&&t(81,r=rp(r,D)),t(4,we=!1),t(1,_=!0),t(5,nt=!0));case 5:case"end":return ht.stop()}},pe)})),Xt);function Ie(){var pe=!0;if($){var Ct=[],ht=[];$.forEach(function(Wt){Ct.includes(Wt[Ce])?pe=!1:(Ct.push(Wt[Ce]),ht.push(Wt))}),pe||t(2,$=ht)}return pe}function He(pe){var Ct=pe?pe[Ce]:$[Ce];return z.find(function(ht){return ht[Ce]===Ct})}function ut(pe){var Ct=pe.detail,ht=$[Ct?Ct.i:$.length-1];$.length===1?t(2,$=void 0):t(2,$=$.filter(function(Wt){return Wt!==ht})),f("clear",ht)}function wt(){t(1,_=!0),g&&g.focus()}u8(Fn(At().mark(function pe(){return At().wrap(function(Ct){for(;;)switch(Ct.prev=Ct.next){case 0:t(77,Io=$),t(78,Gu=D),t(79,Hr=_),t(80,Bf=b);case 4:case"end":return Ct.stop()}},pe)}))),fo(function(){_&&g&&g.focus()});var ft=e.ariaValues,an=ft===void 0?function(pe){return"Option ".concat(pe,", selected.")}:ft,qn=e.ariaListOpen,In=qn===void 0?function(pe,Ct){return"You are currently focused on option ".concat(pe,". There are ").concat(Ct," results available.")}:qn,Pn=e.ariaFocused,Yr=Pn===void 0?function(){return"Select is focused, type to refine list, press down to open the menu."}:Pn;return n.$$set=function(pe){"id"in pe&&t(46,h=pe.id),"container"in pe&&t(0,p=pe.container),"input"in pe&&t(6,g=pe.input),"isMulti"in pe&&t(7,b=pe.isMulti),"multiFullItemClearable"in pe&&t(8,k=pe.multiFullItemClearable),"isDisabled"in pe&&t(9,C=pe.isDisabled),"isCreatable"in pe&&t(47,M=pe.isCreatable),"isFocused"in pe&&t(1,_=pe.isFocused),"value"in pe&&t(2,$=pe.value),"filterText"in pe&&t(3,D=pe.filterText),"placeholder"in pe&&t(48,R=pe.placeholder),"placeholderAlwaysShow"in pe&&t(49,A=pe.placeholderAlwaysShow),"items"in pe&&t(50,z=pe.items),"itemFilter"in pe&&t(51,L=pe.itemFilter),"groupBy"in pe&&t(52,V=pe.groupBy),"groupFilter"in pe&&t(53,te=pe.groupFilter),"isGroupHeaderSelectable"in pe&&t(54,ue=pe.isGroupHeaderSelectable),"getGroupHeaderLabel"in pe&&t(55,P=pe.getGroupHeaderLabel),"labelIdentifier"in pe&&t(56,ae=pe.labelIdentifier),"getOptionLabel"in pe&&t(57,ne=pe.getOptionLabel),"optionIdentifier"in pe&&t(58,Ce=pe.optionIdentifier),"loadOptions"in pe&&t(59,Ue=pe.loadOptions),"hasError"in pe&&t(10,Ke=pe.hasError),"containerStyles"in pe&&t(11,et=pe.containerStyles),"getSelectionLabel"in pe&&t(12,be=pe.getSelectionLabel),"createGroupHeaderItem"in pe&&t(60,Ee=pe.createGroupHeaderItem),"createItem"in pe&&t(61,it=pe.createItem),"isSearchable"in pe&&t(13,Bt=pe.isSearchable),"inputStyles"in pe&&t(14,H=pe.inputStyles),"isClearable"in pe&&t(15,se=pe.isClearable),"isWaiting"in pe&&t(4,we=pe.isWaiting),"listPlacement"in pe&&t(63,Fe=pe.listPlacement),"listOpen"in pe&&t(5,nt=pe.listOpen),"isVirtualList"in pe&&t(64,Vt=pe.isVirtualList),"loadOptionsInterval"in pe&&t(65,Xt=pe.loadOptionsInterval),"noOptionsMessage"in pe&&t(66,fn=pe.noOptionsMessage),"hideEmptyState"in pe&&t(67,tn=pe.hideEmptyState),"inputAttributes"in pe&&t(16,Bn=pe.inputAttributes),"listAutoWidth"in pe&&t(68,ze=pe.listAutoWidth),"itemHeight"in pe&&t(69,Mn=pe.itemHeight),"Icon"in pe&&t(17,lt=pe.Icon),"iconProps"in pe&&t(18,Qe=pe.iconProps),"showChevron"in pe&&t(19,$t=pe.showChevron),"showIndicator"in pe&&t(20,St=pe.showIndicator),"containerClasses"in pe&&t(21,fr=pe.containerClasses),"indicatorSvg"in pe&&t(22,Qa=pe.indicatorSvg),"listOffset"in pe&&t(70,Uu=pe.listOffset),"ClearIcon"in pe&&t(23,np=pe.ClearIcon),"Item"in pe&&t(71,El=pe.Item),"List"in pe&&t(24,$l=pe.List),"Selection"in pe&&t(25,Qr=pe.Selection),"MultiSelection"in pe&&t(26,No=pe.MultiSelection),"VirtualList"in pe&&t(72,_l=pe.VirtualList),"selectedValue"in pe&&t(73,Te=pe.selectedValue),"ariaValues"in pe&&t(74,an=pe.ariaValues),"ariaListOpen"in pe&&t(75,In=pe.ariaListOpen),"ariaFocused"in pe&&t(76,Yr=pe.ariaFocused)},n.$$.update=function(){var pe,Ct;140&n.$$.dirty[0]|405340160&n.$$.dirty[1]&&t(81,r=P0({loadOptions:Ue,filterText:D,items:z,value:$,isMulti:b,optionIdentifier:Ce,groupBy:V,isCreatable:M})),2048&n.$$.dirty[2]&&Te&&console.warn("selectedValue is no longer used. Please use value instead."),524288&n.$$.dirty[1]&&function(ht){ht&&ht.length!==0&&!ht.some(function(Wt){return mt(Wt)!=="object"})&&$&&(b?!$.some(function(Wt){return!Wt||!Wt[Ce]}):$[Ce])&&(Array.isArray($)?t(2,$=$.map(function(Wt){return He(Wt)||Wt})):t(2,$=He()||$))}(z),4&n.$$.dirty[0]&&$&&(typeof $=="string"?t(2,(ul(pe={},Ce,$),ul(pe,"label",$),$=pe)):b&&Array.isArray($)&&$.length>0&&t(2,$=$.map(function(ht){return typeof ht=="string"?{value:ht,label:ht}:ht}))),73728&n.$$.dirty[0]&&(!Bn&&Bt||(t(31,X=Object.assign({autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:!1,tabindex:0,type:"text","aria-autocomplete":"list"},Bn)),h&&t(31,X.id=h,X),Bt||t(31,X.readonly=!0,X))),128&n.$$.dirty[0]|262144&n.$$.dirty[2]&&(b&&$&&(Array.isArray($)?t(2,$=Ut($)):t(2,$=[$])),Bf&&!b&&$&&t(2,$=null)),132&n.$$.dirty[0]&&b&&$&&$.length>1&&Ie(),4&n.$$.dirty[0]&&$&&(b?JSON.stringify($)!==JSON.stringify(Io)&&Ie()&&f("select",$):Io&&JSON.stringify($[Ce])===JSON.stringify(Io[Ce])||f("select",$)),132&n.$$.dirty[0]|32768&n.$$.dirty[2]&&!$&&b&&Io&&f("select",$),2&n.$$.dirty[0]|131072&n.$$.dirty[2]&&_!==Hr&&(_||nt?wt():g&&g.blur()),8&n.$$.dirty[0]|65536&n.$$.dirty[2]&&D!==Gu&&D.length!==0&&(t(1,_=!0),t(5,nt=!0),Ue?qe():(t(5,nt=!0),b&&t(30,zn=void 0))),12&n.$$.dirty[0]&&t(29,i=$&&D.length===0),536904208&n.$$.dirty[0]&&t(37,o=i&&se&&!C&&!we),132&n.$$.dirty[0]|393216&n.$$.dirty[1]&&t(36,a=A&&b?R:$?"":R),132&n.$$.dirty[0]&&t(35,s=b&&$&&$.length>0),141&n.$$.dirty[0]|218103808&n.$$.dirty[1]|526326&n.$$.dirty[2]&&t(34,l={Item:El,filterText:D,optionIdentifier:Ce,noOptionsMessage:fn,hideEmptyState:tn,isVirtualList:Vt,VirtualList:_l,value:$,isMulti:b,getGroupHeaderLabel:P,items:r,itemHeight:Mn,getOptionLabel:ne,listPlacement:Fe,parent:p,listAutoWidth:ze,listOffset:Uu}),132&n.$$.dirty[0]&&t(33,u=$?(Ct=void 0,Ct=b&&$.length>0?$.map(function(ht){return be(ht)}).join(", "):be($),an(Ct)):""),268435490&n.$$.dirty[0]|524288&n.$$.dirty[2]&&t(32,c=function(){if(!_||!r||r.length===0)return"";var ht=r[zf];if(nt&&ht){var Wt=be(ht),Jn=r?r.length:0;return In(Wt,Jn)}return Yr()}())},[p,_,$,D,we,nt,g,b,k,C,Ke,et,be,Bt,H,se,Bn,lt,Qe,$t,St,fr,Qa,np,$l,Qr,No,function(){t(2,$=void 0),t(5,nt=!1),f("clear",$),wt()},zf,i,zn,X,c,u,l,s,a,o,ut,function(pe){if(_)switch(pe.key){case"ArrowDown":case"ArrowUp":pe.preventDefault(),t(5,nt=!0),t(30,zn=void 0);break;case"Tab":nt||t(1,_=!1);break;case"Backspace":if(!b||D.length>0)return;if(b&&$&&$.length>0){if(ut(zn!==void 0?zn:$.length-1),zn===0||zn===void 0)break;t(30,zn=$.length>zn?zn-1:void 0)}break;case"ArrowLeft":if(!b||D.length>0)return;zn===void 0?t(30,zn=$.length-1):$.length>zn&&zn!==0&&t(30,zn-=1);break;case"ArrowRight":if(!b||D.length>0||zn===void 0)return;zn===$.length-1?t(30,zn=void 0):zn<$.length-1&&t(30,zn+=1)}},wt,function(pe){if(p){var Ct=pe.path&&pe.path.length>0?pe.path[0]:pe.target;p.contains(Ct)||p.contains(pe.relatedTarget)||(t(1,_=!1),t(5,nt=!1),t(30,zn=void 0),g&&g.blur())}},function(){C||(t(1,_=!0),t(5,nt=!nt))},function(pe){var Ct=pe.detail;if(Ct){t(3,D="");var ht=Object.assign({},Ct);ht.isGroupHeader&&!ht.isSelectable||(t(2,$=b?$?$.concat([ht]):[ht]:ht),t(2,$),setTimeout(function(){t(5,nt=!1),t(30,zn=void 0)}))}},function(pe){var Ct=pe.detail;b?(t(2,$=$||[]),t(2,$=[].concat(Ut($),[it(Ct)]))):t(2,$=it(Ct)),f("itemCreated",Ct),t(3,D=""),t(5,nt=!1),t(30,zn=void 0)},function(){t(3,D=""),t(5,nt=!1)},h,M,R,A,z,L,V,te,ue,P,ae,ne,Ce,Ue,Ee,it,function(){return r},Fe,Vt,Xt,fn,tn,ze,Mn,Uu,El,_l,Te,an,In,Yr,Io,Gu,Hr,Bf,r,function(pe){en[pe?"unshift":"push"](function(){t(6,g=pe)})},function(){D=this.value,t(3,D)},function(pe){t(28,zf=pe)},function(pe){en[pe?"unshift":"push"](function(){t(0,p=pe)})}]}var Jl=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,sXe,aXe,Or,{id:46,container:0,input:6,isMulti:7,multiFullItemClearable:8,isDisabled:9,isCreatable:47,isFocused:1,value:2,filterText:3,placeholder:48,placeholderAlwaysShow:49,items:50,itemFilter:51,groupBy:52,groupFilter:53,isGroupHeaderSelectable:54,getGroupHeaderLabel:55,labelIdentifier:56,getOptionLabel:57,optionIdentifier:58,loadOptions:59,hasError:10,containerStyles:11,getSelectionLabel:12,createGroupHeaderItem:60,createItem:61,getFilteredItems:62,isSearchable:13,inputStyles:14,isClearable:15,isWaiting:4,listPlacement:63,listOpen:5,isVirtualList:64,loadOptionsInterval:65,noOptionsMessage:66,hideEmptyState:67,inputAttributes:16,listAutoWidth:68,itemHeight:69,Icon:17,iconProps:18,showChevron:19,showIndicator:20,containerClasses:21,indicatorSvg:22,listOffset:70,ClearIcon:23,Item:71,List:24,Selection:25,MultiSelection:26,VirtualList:72,selectedValue:73,handleClear:27,ariaValues:74,ariaListOpen:75,ariaFocused:76},rXe,[-1,-1,-1,-1]),i}return ie(t,[{key:"getFilteredItems",get:function(){return this.$$.ctx[62]}},{key:"handleClear",get:function(){return this.$$.ctx[27]}}]),t}();function lXe(n){Gt(n,"svelte-13taczd","table.jse-transform-wizard.svelte-13taczd.svelte-13taczd{border-collapse:collapse;border-spacing:0;width:100%}table.jse-transform-wizard.svelte-13taczd input.svelte-13taczd{font-family:inherit;font-size:inherit}table.jse-transform-wizard.svelte-13taczd tr th.svelte-13taczd{font-weight:normal;text-align:left;width:60px}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal.svelte-13taczd{width:100%;display:flex;flex-direction:row;margin-bottom:calc(0.5 * var(--jse-padding))}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal.svelte-13taczd .selectContainer.jse-filter-path{flex:4;margin-right:calc(0.5 * var(--jse-padding))}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal.svelte-13taczd .selectContainer.jse-filter-relation{flex:1.5;margin-right:calc(0.5 * var(--jse-padding))}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal.svelte-13taczd .selectContainer.jse-sort-path{flex:3;margin-right:calc(0.5 * var(--jse-padding))}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal.svelte-13taczd .selectContainer.jse-sort-direction{flex:1}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal.svelte-13taczd .selectContainer.jse-projection-paths{flex:1}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal.svelte-13taczd .selectContainer input{box-sizing:border-box}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal .jse-filter-value.svelte-13taczd{flex:4;padding:4px 8px;border:var(--jse-input-border);border-radius:var(--jse-input-radius);outline:none;background:var(--jse-input-background);color:inherit}table.jse-transform-wizard.svelte-13taczd tr td .jse-horizontal .jse-filter-value.svelte-13taczd:focus{border:var(--jse-input-border-focus)}")}function uXe(n){var e,t,r,i,o,a,s,l,u,c,f,d,h,v,p,m,g,y,b,w,k,x,C,T,M,B,_,N,$,j,D,q,R,G,A;function I(ge){n[16](ge)}var z={containerClasses:"jse-filter-path",showIndicator:!0,items:n[6]};function F(ge){n[17](ge)}n[0]!==void 0&&(z.value=n[0]),s=new Jl({props:z}),en.push(function(){return to(s,"value",I)});var L={containerClasses:"jse-filter-relation",showIndicator:!0,items:n[8]};function O(ge){n[19](ge)}n[1]!==void 0&&(L.value=n[1]),c=new Jl({props:L}),en.push(function(){return to(c,"value",F)});var V={containerClasses:"jse-sort-path",showIndicator:!0,items:n[6]};function Z(ge){n[20](ge)}n[3]!==void 0&&(V.value=n[3]),w=new Jl({props:V}),en.push(function(){return to(w,"value",O)});var te={containerClasses:"jse-sort-direction",showIndicator:!0,items:n[9]};function ve(ge){n[21](ge)}n[4]!==void 0&&(te.value=n[4]),C=new Jl({props:te}),en.push(function(){return to(C,"value",Z)});var ue={containerClasses:"jse-projection-paths",isMulti:!0,showIndicator:!0,items:n[7]};return n[5]!==void 0&&(ue.value=n[5]),D=new Jl({props:ue}),en.push(function(){return to(D,"value",ve)}),{c:function(){e=ee("table"),t=ee("tr"),(r=ee("th")).textContent="Filter",i=je(),o=ee("td"),a=ee("div"),Ne(s.$$.fragment),u=je(),Ne(c.$$.fragment),d=je(),h=ee("input"),v=je(),p=ee("tr"),(m=ee("th")).textContent="Sort",g=je(),y=ee("td"),b=ee("div"),Ne(w.$$.fragment),x=je(),Ne(C.$$.fragment),M=je(),B=ee("tr"),(_=ee("th")).textContent="Pick",N=je(),$=ee("td"),j=ee("div"),Ne(D.$$.fragment),E(r,"class","svelte-13taczd"),E(h,"class","jse-filter-value svelte-13taczd"),E(a,"class","jse-horizontal svelte-13taczd"),E(m,"class","svelte-13taczd"),E(b,"class","jse-horizontal svelte-13taczd"),E(_,"class","svelte-13taczd"),E(j,"class","jse-horizontal svelte-13taczd"),E(e,"class","jse-transform-wizard svelte-13taczd")},m:function(ge,P){me(ge,e,P),W(e,t),W(t,r),W(t,i),W(t,o),W(o,a),Ae(s,a,null),W(a,u),Ae(c,a,null),W(a,d),W(a,h),cl(h,n[2]),W(e,v),W(e,p),W(p,m),W(p,g),W(p,y),W(y,b),Ae(w,b,null),W(b,x),Ae(C,b,null),W(e,M),W(e,B),W(B,_),W(B,N),W(B,$),W($,j),Ae(D,j,null),R=!0,G||(A=Be(h,"input",n[18]),G=!0)},p:function(ge,P){var S=Dt(P,1)[0],ae={};64&S&&(ae.items=ge[6]),!l&&1&S&&(l=!0,ae.value=ge[0],wo(function(){return l=!1})),s.$set(ae);var ce={};!f&&2&S&&(f=!0,ce.value=ge[1],wo(function(){return f=!1})),c.$set(ce),4&S&&h.value!==ge[2]&&cl(h,ge[2]);var ne={};64&S&&(ne.items=ge[6]),!k&&8&S&&(k=!0,ne.value=ge[3],wo(function(){return k=!1})),w.$set(ne);var ye={};!T&&16&S&&(T=!0,ye.value=ge[4],wo(function(){return T=!1})),C.$set(ye);var Ce={};128&S&&(Ce.items=ge[7]),!q&&32&S&&(q=!0,Ce.value=ge[5],wo(function(){return q=!1})),D.$set(Ce)},i:function(ge){R||(J(s.$$.fragment,ge),J(c.$$.fragment,ge),J(w.$$.fragment,ge),J(C.$$.fragment,ge),J(D.$$.fragment,ge),R=!0)},o:function(ge){Y(s.$$.fragment,ge),Y(c.$$.fragment,ge),Y(w.$$.fragment,ge),Y(C.$$.fragment,ge),Y(D.$$.fragment,ge),R=!1},d:function(ge){ge&&he(e),_e(s),_e(c),_e(w),_e(C),_e(D),G=!1,A()}}}function cXe(n,e,t){var r,i,o,a,s,l,u,c,f,d,h,v,p,m,g,y,b,w=Li("jsoneditor:TransformWizard"),k=e.json,x=e.queryOptions,C=x===void 0?{}:x,T=e.onChange,M=["==","!=","<","<=",">",">="].map(function(R){return{value:R,label:R}}),B=[{value:"asc",label:"ascending"},{value:"desc",label:"descending"}],_=(r=C)!==null&&r!==void 0&&(i=r.filter)!==null&&i!==void 0&&i.path?sc(C.filter.path):null,N=(o=C)!==null&&o!==void 0&&(a=o.filter)!==null&&a!==void 0&&a.relation?M.find(function(R){return R.value===C.filter.relation}):null,$=((s=C)===null||s===void 0||(l=s.filter)===null||l===void 0?void 0:l.value)||"",j=(u=C)!==null&&u!==void 0&&(c=u.sort)!==null&&c!==void 0&&c.path?sc(C.sort.path):null,D=(f=C)!==null&&f!==void 0&&(d=f.sort)!==null&&d!==void 0&&d.direction?B.find(function(R){return R.value===C.sort.direction}):null,q=(h=C)!==null&&h!==void 0&&(v=h.projection)!==null&&v!==void 0&&v.paths?C.projection.paths.map(sc):null;return n.$$set=function(R){"json"in R&&t(11,k=R.json),"queryOptions"in R&&t(10,C=R.queryOptions),"onChange"in R&&t(12,T=R.onChange)},n.$$.update=function(){var R,G,A,I,z,F,L,O,V,Z,te,ve,ue,ge,P,S,ae,ce;2048&n.$$.dirty&&t(15,p=Array.isArray(k)),34816&n.$$.dirty&&t(14,m=p?Hb(k):[]),34816&n.$$.dirty&&t(13,g=p?Hb(k,!0):[]),16384&n.$$.dirty&&t(6,y=m.map(sc)),8192&n.$$.dirty&&t(7,b=g?g.map(sc):[]),1088&n.$$.dirty&&(R=C)!==null&&R!==void 0&&(G=R.filter)!==null&&G!==void 0&&G.path&&y.find(function(ne){var ye,Ce;return jn(ne.value,(ye=C)===null||ye===void 0||(Ce=ye.filter)===null||Ce===void 0?void 0:Ce.path)}),1&n.$$.dirty&&(I=((A=_)===null||A===void 0?void 0:A.value)||null,jn((z=C)===null||z===void 0||(F=z.filter)===null||F===void 0?void 0:F.path,I)||(w("changeFilterPath",I),t(10,C=de.exports.setIn(C,["filter","path"],I,!0)),T(C))),2&n.$$.dirty&&(O=((L=N)===null||L===void 0?void 0:L.value)||null,jn((V=C)===null||V===void 0||(Z=V.filter)===null||Z===void 0?void 0:Z.relation,O)||(w("changeFilterRelation",O),t(10,C=de.exports.setIn(C,["filter","relation"],O,!0)),T(C))),4&n.$$.dirty&&(te=$||null,jn((ve=C)===null||ve===void 0||(ue=ve.filter)===null||ue===void 0?void 0:ue.value,te)||(w("changeFilterValue",te),t(10,C=de.exports.setIn(C,["filter","value"],te,!0)),T(C))),8&n.$$.dirty&&function(ne){var ye,Ce;jn((ye=C)===null||ye===void 0||(Ce=ye.sort)===null||Ce===void 0?void 0:Ce.path,ne)||(w("changeSortPath",ne),t(10,C=de.exports.setIn(C,["sort","path"],ne,!0)),T(C))}(((ge=j)===null||ge===void 0?void 0:ge.value)||null),16&n.$$.dirty&&(S=((P=D)===null||P===void 0?void 0:P.value)||null,jn((ae=C)===null||ae===void 0||(ce=ae.sort)===null||ce===void 0?void 0:ce.direction,S)||(w("changeSortDirection",S),t(10,C=de.exports.setIn(C,["sort","direction"],S,!0)),T(C))),32&n.$$.dirty&&function(ne){var ye,Ce;jn((ye=C)===null||ye===void 0||(Ce=ye.projection)===null||Ce===void 0?void 0:Ce.paths,ne)||(w("changeProjectionPaths",ne),t(10,C=de.exports.setIn(C,["projection","paths"],ne,!0)),T(C))}(q?q.map(function(ne){return ne.value}):null)},[_,N,$,j,D,q,y,b,M,B,C,k,T,g,m,p,function(R){t(0,_=R)},function(R){t(1,N=R)},function(){$=this.value,t(2,$)},function(R){t(3,j=R)},function(R){t(4,D=R)},function(R){t(5,q=R)}]}var fXe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,cXe,uXe,mn,{json:11,queryOptions:10,onChange:12},lXe),i}return ie(t)}();function dXe(n){Gt(n,"svelte-19cxesy",".jse-select-query-language.svelte-19cxesy.svelte-19cxesy{position:relative;width:32px}.jse-select-query-language.svelte-19cxesy .jse-select-query-language-container.svelte-19cxesy{position:absolute;top:0;right:0;display:flex;flex-direction:column;box-shadow:var(--jse-controls-box-shadow)}.jse-select-query-language.svelte-19cxesy .jse-select-query-language-container .jse-query-language.svelte-19cxesy{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;text-align:left;padding:var(--jse-padding) calc(2 * var(--jse-padding));white-space:nowrap;color:var(--jse-context-menu-color);background:var(--jse-context-menu-background)}.jse-select-query-language.svelte-19cxesy .jse-select-query-language-container .jse-query-language.svelte-19cxesy:hover{background:var(--jse-context-menu-background-highlight)}")}function j4(n,e,t){var r=n.slice();return r[5]=e[t],r}function hXe(n){var e,t;return e=new Jt({props:{data:sg}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:Ze,i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function pXe(n){var e,t;return e=new Jt({props:{data:ag}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:Ze,i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function C4(n){var e,t,r,i,o,a,s,l,u,c,f=n[5].name+"",d=[pXe,hXe],h=[];function v(m,g){return m[5].id===m[0]?0:1}function p(){return n[4](n[5])}return t=v(n),r=h[t]=d[t](n),{c:function(){e=ee("button"),r.c(),i=je(),o=ot(f),a=je(),E(e,"type","button"),E(e,"class","jse-query-language svelte-19cxesy"),E(e,"title",s="Select ".concat(n[5].name," as query language")),Ve(e,"selected",n[5].id===n[0])},m:function(m,g){me(m,e,g),h[t].m(e,null),W(e,i),W(e,o),W(e,a),l=!0,u||(c=Be(e,"click",p),u=!0)},p:function(m,g){var y=t;(t=v(n=m))===y?h[t].p(n,g):(Je(),Y(h[y],1,1,function(){h[y]=null}),Ge(),(r=h[t])?r.p(n,g):(r=h[t]=d[t](n)).c(),J(r,1),r.m(e,i)),(!l||2&g)&&f!==(f=n[5].name+"")&&on(o,f),(!l||2&g&&s!==(s="Select ".concat(n[5].name," as query language")))&&E(e,"title",s),(!l||3&g)&&Ve(e,"selected",n[5].id===n[0])},i:function(m){l||(J(r),l=!0)},o:function(m){Y(r),l=!1},d:function(m){m&&he(e),h[t].d(),u=!1,c()}}}function vXe(n){for(var e,t,r,i=n[1],o=[],a=0;a<i.length;a+=1)o[a]=C4(j4(n,i,a));var s=function(l){return Y(o[l],1,1,function(){o[l]=null})};return{c:function(){e=ee("div"),t=ee("div");for(var l=0;l<o.length;l+=1)o[l].c();E(t,"class","jse-select-query-language-container svelte-19cxesy"),E(e,"class","jse-select-query-language svelte-19cxesy")},m:function(l,u){me(l,e,u),W(e,t);for(var c=0;c<o.length;c+=1)o[c].m(t,null);r=!0},p:function(l,u){var c=Dt(u,1)[0];if(7&c){var f;for(i=l[1],f=0;f<i.length;f+=1){var d=j4(l,i,f);o[f]?(o[f].p(d,c),J(o[f],1)):(o[f]=C4(d),o[f].c(),J(o[f],1),o[f].m(t,null))}for(Je(),f=i.length;f<o.length;f+=1)s(f);Ge()}},i:function(l){if(!r){for(var u=0;u<i.length;u+=1)J(o[u]);r=!0}},o:function(l){o=o.filter(Boolean);for(var u=0;u<o.length;u+=1)Y(o[u]);r=!1},d:function(l){l&&he(e),ji(o,l)}}}function mXe(n,e,t){var r=e.queryLanguages,i=e.queryLanguageId,o=e.onChangeQueryLanguage;function a(s){t(0,i=s),o(s)}return n.$$set=function(s){"queryLanguages"in s&&t(1,r=s.queryLanguages),"queryLanguageId"in s&&t(0,i=s.queryLanguageId),"onChangeQueryLanguage"in s&&t(3,o=s.onChangeQueryLanguage)},[i,r,a,o,function(s){return a(s.id)}]}var gXe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,mXe,vXe,Or,{queryLanguages:1,queryLanguageId:0,onChangeQueryLanguage:3},dXe),i}return ie(t)}();function yXe(n){Gt(n,"svelte-d01h2s",".jse-header.svelte-d01h2s.svelte-d01h2s{display:flex;background:var(--jse-theme-color);color:var(--jse-menu-color)}.jse-header.svelte-d01h2s .jse-title.svelte-d01h2s{flex:1;padding:5px;vertical-align:middle}.jse-header.svelte-d01h2s button.svelte-d01h2s{border:none;background:transparent;min-width:32px;color:inherit;cursor:pointer}.jse-header.svelte-d01h2s button.svelte-d01h2s:hover{background:rgba(255, 255, 255, 0.1)}")}function S4(n){var e,t,r,i,o;return t=new Jt({props:{data:KHe}}),{c:function(){e=ee("button"),Ne(t.$$.fragment),E(e,"type","button"),E(e,"class","jse-config svelte-d01h2s"),E(e,"title","Select a query language")},m:function(a,s){me(a,e,s),Ae(t,e,null),n[6](e),r=!0,i||(o=Be(e,"click",n[3]),i=!0)},p:Ze,i:function(a){r||(J(t.$$.fragment,a),r=!0)},o:function(a){Y(t.$$.fragment,a),r=!1},d:function(a){a&&he(e),_e(t),n[6](null),i=!1,o()}}}function bXe(n){var e,t,r,i,o,a,s,l,u,c=n[0].length>1&&S4(n);return a=new Jt({props:{data:Uh}}),{c:function(){e=ee("div"),(t=ee("div")).textContent="Transform",r=je(),c&&c.c(),i=je(),o=ee("button"),Ne(a.$$.fragment),E(t,"class","jse-title svelte-d01h2s"),E(o,"type","button"),E(o,"class","jse-close svelte-d01h2s"),E(e,"class","jse-header svelte-d01h2s")},m:function(f,d){me(f,e,d),W(e,t),W(e,r),c&&c.m(e,null),W(e,i),W(e,o),Ae(a,o,null),s=!0,l||(u=Be(o,"click",n[2]),l=!0)},p:function(f,d){var h=Dt(d,1)[0];f[0].length>1?c?(c.p(f,h),1&h&&J(c,1)):((c=S4(f)).c(),J(c,1),c.m(e,i)):c&&(Je(),Y(c,1,1,function(){c=null}),Ge())},i:function(f){s||(J(c),J(a.$$.fragment,f),s=!0)},o:function(f){Y(c),Y(a.$$.fragment,f),s=!1},d:function(f){f&&he(e),c&&c.d(),_e(a),l=!1,u()}}}function wXe(n,e,t){var r,i,o=e.queryLanguages,a=e.queryLanguageId,s=e.onChangeQueryLanguage,l=Ni("simple-modal").close,u=Ni("absolute-popup"),c=u.openAbsolutePopup,f=u.closeAbsolutePopup;return n.$$set=function(d){"queryLanguages"in d&&t(0,o=d.queryLanguages),"queryLanguageId"in d&&t(4,a=d.queryLanguageId),"onChangeQueryLanguage"in d&&t(5,s=d.onChangeQueryLanguage)},[o,r,l,function(){i=c(gXe,{queryLanguages:o,queryLanguageId:a,onChangeQueryLanguage:function(d){f(i),s(d)}},{position:"bottom",offsetTop:-2,offsetLeft:0,anchor:r,closeOnOuterClick:!0})},a,s,function(d){en[d?"unshift":"push"](function(){t(1,r=d)})}]}var kXe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,wXe,bXe,mn,{queryLanguages:0,queryLanguageId:4,onChangeQueryLanguage:5},yXe),i}return ie(t)}();function xXe(n){Gt(n,"svelte-15uz9w0",".jse-modal.svelte-15uz9w0.svelte-15uz9w0{--height:36px;--multiItemHeight:28px;--multiItemMargin:2px;--multiItemPadding:2px 8px;--multiClearTop:5px;--multiItemBorderRadius:6px;--clearSelectTop:2px;--clearSelectBottom:2px;--indicatorTop:8px;flex:1;display:flex;flex-direction:column;font-family:var(--jse-font-family);font-size:var(--jse-font-size);line-height:normal;background:var(--jse-modal-background);color:var(--jse-text-color)}.jse-modal.svelte-15uz9w0 .jse-contents.svelte-15uz9w0{padding:20px;overflow:auto}.jse-modal.svelte-15uz9w0 .jse-contents .jse-actions.svelte-15uz9w0{display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding)}.jse-modal.svelte-15uz9w0 .jse-contents .jse-actions button.svelte-15uz9w0{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;background:var(--jse-button-primary-background);color:var(--jse-button-primary-color);padding:var(--jse-padding) calc(2 * var(--jse-padding));border-radius:3px}.jse-modal.svelte-15uz9w0 .jse-contents .jse-actions button.svelte-15uz9w0:hover{background:var(--jse-button-primary-background-highlight)}.jse-modal.svelte-15uz9w0 .jse-contents .jse-actions button.svelte-15uz9w0:disabled{background:var(--jse-button-primary-background-disabled)}.bg.jse-modal-bg{width:100%;height:100%;top:0;left:0;background:var(--jse-modal-overlay-background)}.bg.jse-modal-bg .jse-modal-window-wrap{margin:0}.bg.jse-modal-bg .jse-modal-window{max-width:90%;margin:4rem auto 2rem auto;border-radius:2px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-sort{width:400px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-transform{width:1200px;height:1200px;max-height:80%;display:flex}.bg.jse-modal-bg .jse-modal-content{flex:1;display:flex;max-height:calc(100vh - 6rem);padding:0}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents.svelte-15uz9w0{flex:1;display:flex;flex-direction:column;color:inherit;min-height:0;padding:0}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents.svelte-15uz9w0{flex:1;display:flex;gap:calc(2 * var(--jse-padding));min-height:0;box-sizing:border-box;padding:0 calc(2 * var(--jse-padding)) var(--jse-padding)}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-query-contents.svelte-15uz9w0{flex:1;display:flex;flex-direction:column}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-query-contents .jse-description.svelte-15uz9w0 p{margin:var(--jse-padding) 0}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-query-contents .jse-description.svelte-15uz9w0 p:first-child{margin-top:0}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-query-contents .jse-description.svelte-15uz9w0 p:last-child{margin-bottom:0}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-query-contents .jse-description.svelte-15uz9w0 code{background:var(--jse-modal-code-background);font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono)}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-query-contents textarea.jse-query.svelte-15uz9w0{flex:1;outline:none;resize:vertical}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-data-contents.svelte-15uz9w0{flex:1;display:flex;flex-direction:column;gap:calc(2 * var(--jse-padding))}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-data-contents .jse-original-data.svelte-15uz9w0{flex:1;display:flex;flex-direction:column;min-height:0;box-sizing:border-box}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-data-contents .jse-original-data.jse-hide.svelte-15uz9w0{flex:none}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-data-contents .jse-preview-data.svelte-15uz9w0{flex:1;display:flex;flex-direction:column;min-height:0;box-sizing:border-box}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-data-contents.jse-hide-original-data.svelte-15uz9w0{flex-direction:column;gap:0;margin-bottom:0}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-actions.svelte-15uz9w0{padding:var(--jse-padding) calc(2 * var(--jse-padding)) calc(2 * var(--jse-padding))}@media screen and (max-width: 1200px){.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents.svelte-15uz9w0{flex-direction:column;overflow:auto}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-query-contents textarea.jse-query.svelte-15uz9w0{min-height:150px;flex:none}.jse-modal.jse-transform.svelte-15uz9w0 .jse-contents .jse-main-contents .jse-data-contents.svelte-15uz9w0 .jse-tree-mode{height:300px;flex:none}}.jse-modal.jse-transform.svelte-15uz9w0 .jse-label.svelte-15uz9w0{font-weight:bold;display:block;box-sizing:border-box}.jse-modal.jse-transform.svelte-15uz9w0 .jse-label .jse-label-inner.svelte-15uz9w0{margin-top:calc(2 * var(--jse-padding));margin-bottom:calc(0.5 * var(--jse-padding));box-sizing:border-box}.jse-modal.jse-transform.svelte-15uz9w0 .jse-label .jse-label-inner button.svelte-15uz9w0{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;font-weight:bold;padding:0}.jse-modal.jse-transform.svelte-15uz9w0 .jse-tree-mode{flex:1;background:var(--jse-input-background-readonly);box-shadow:none;box-sizing:border-box;--jse-main-border:var(--jse-input-border)}.jse-modal.jse-transform.svelte-15uz9w0 input.svelte-15uz9w0,.jse-modal.jse-transform.svelte-15uz9w0 textarea.svelte-15uz9w0{border:var(--jse-input-border);outline:none;box-sizing:border-box;padding:calc(0.5 * var(--jse-padding));font-family:var(--jse-font-family-mono);font-size:var(--jse-font-size-mono);color:inherit;background:var(--jse-input-background)}.jse-modal.jse-transform.svelte-15uz9w0 input.svelte-15uz9w0:focus,.jse-modal.jse-transform.svelte-15uz9w0 textarea.svelte-15uz9w0:focus{border:var(--jse-input-border-focus)}.jse-modal.jse-transform.svelte-15uz9w0 input.svelte-15uz9w0:read-only,.jse-modal.jse-transform.svelte-15uz9w0 textarea.svelte-15uz9w0:read-only{background:var(--jse-input-background-readonly)}.jse-modal.jse-transform.svelte-15uz9w0 .jse-preview.jse-error.svelte-15uz9w0{flex:1;background:var(--jse-input-background-readonly);border:var(--jse-input-border);color:var(--jse-error-color);padding:calc(0.5 * var(--jse-padding))}.jse-modal.jse-transform.svelte-15uz9w0 a{color:var(--jse-a-color)}.jse-modal.jse-transform.svelte-15uz9w0 a:hover{color:var(--jse-a-color-highlight)}")}function T4(n){var e,t,r,i,o,a=[CXe,jXe],s=[];function l(u,c){return 1024&c[0]&&(e=null),e==null&&(e=!!Array.isArray(u[10])),e?0:1}return t=l(n,[-1,-1]),r=s[t]=a[t](n),{c:function(){r.c(),i=kn()},m:function(u,c){s[t].m(u,c),me(u,i,c),o=!0},p:function(u,c){var f=t;(t=l(u,c))===f?s[t].p(u,c):(Je(),Y(s[f],1,1,function(){s[f]=null}),Ge(),(r=s[t])?r.p(u,c):(r=s[t]=a[t](u)).c(),J(r,1),r.m(i.parentNode,i))},i:function(u){o||(J(r),o=!0)},o:function(u){Y(r),o=!1},d:function(u){s[t].d(u),u&&he(i)}}}function jXe(n){var e;return{c:function(){e=ot("(Only available for arrays, not for objects)")},m:function(t,r){me(t,e,r)},p:Ze,i:Ze,o:Ze,d:function(t){t&&he(e)}}}function CXe(n){var e,t;return e=new fXe({props:{queryOptions:n[8],json:n[10],onChange:n[17]}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o={};256&i[0]&&(o.queryOptions=r[8]),1024&i[0]&&(o.json=r[10]),e.$set(o)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function O4(n){var e,t;return e=new bj({props:{externalContent:n[15],readOnly:!0,mainMenuBar:!1,navigationBar:!1,escapeControlCharacters:n[2],escapeUnicodeCharacters:n[3],parser:n[4],onRenderValue:n[6],onError:console.error,onChange:Dn,onFocus:Dn,onBlur:Dn,onSortModal:Dn,onTransformModal:Dn,onClassName:n[7]}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o={};32768&i[0]&&(o.externalContent=r[15]),4&i[0]&&(o.escapeControlCharacters=r[2]),8&i[0]&&(o.escapeUnicodeCharacters=r[3]),16&i[0]&&(o.parser=r[4]),64&i[0]&&(o.onRenderValue=r[6]),128&i[0]&&(o.onClassName=r[7]),e.$set(o)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function SXe(n){var e,t,r=n[13].toString()+"";return{c:function(){e=ee("div"),t=ot(r),E(e,"class","jse-preview jse-error svelte-15uz9w0")},m:function(i,o){me(i,e,o),W(e,t)},p:function(i,o){8192&o[0]&&r!==(r=i[13].toString()+"")&&on(t,r)},i:Ze,o:Ze,d:function(i){i&&he(e)}}}function TXe(n){var e,t;return e=new bj({props:{externalContent:n[14],readOnly:!0,mainMenuBar:!1,navigationBar:!1,escapeControlCharacters:n[2],escapeUnicodeCharacters:n[3],parser:n[4],onRenderValue:n[6],onError:console.error,onChange:Dn,onFocus:Dn,onBlur:Dn,onSortModal:Dn,onTransformModal:Dn,onClassName:n[7]}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o={};16384&i[0]&&(o.externalContent=r[14]),4&i[0]&&(o.escapeControlCharacters=r[2]),8&i[0]&&(o.escapeUnicodeCharacters=r[3]),16&i[0]&&(o.parser=r[4]),64&i[0]&&(o.onRenderValue=r[6]),128&i[0]&&(o.onClassName=r[7]),e.$set(o)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function OXe(n){var e,t,r,i,o,a,s,l,u,c,f,d,h,v,p,m,g,y,b,w,k,x,C,T,M,B,_,N,$,j,D,q,R,G,A,I,z,F,L,O,V,Z,te,ve,ue,ge,P,S=n[16](n[0]).description+"";e=new kXe({props:{queryLanguages:n[5],queryLanguageId:n[0],onChangeQueryLanguage:n[22]}}),y=new Jt({props:{data:n[11]?Ma:Gs}});var ae=n[11]&&T4(n);D=new Jt({props:{data:n[12]?Ma:Gs}});var ce=n[12]&&O4(n),ne=[TXe,SXe],ye=[];function Ce(Se,Ue){return Se[13]?1:0}return F=Ce(n),L=ye[F]=ne[F](n),{c:function(){Ne(e.$$.fragment),t=je(),r=ee("div"),i=ee("div"),o=ee("div"),(a=ee("div")).innerHTML='<div class="jse-label-inner svelte-15uz9w0">Language</div>',s=je(),l=ee("div"),u=je(),(c=ee("div")).innerHTML='<div class="jse-label-inner svelte-15uz9w0">Path</div>',f=je(),d=ee("input"),v=je(),p=ee("div"),m=ee("div"),g=ee("button"),Ne(y.$$.fragment),b=ot(`
                Wizard`),w=je(),ae&&ae.c(),k=je(),(x=ee("div")).innerHTML='<div class="jse-label-inner svelte-15uz9w0">Query</div>',C=je(),T=ee("textarea"),M=je(),B=ee("div"),_=ee("div"),N=ee("div"),$=ee("div"),j=ee("button"),Ne(D.$$.fragment),q=ot(`
                  Original`),R=je(),ce&&ce.c(),G=je(),A=ee("div"),(I=ee("div")).innerHTML='<div class="jse-label-inner svelte-15uz9w0">Preview</div>',z=je(),L.c(),O=je(),V=ee("div"),Z=ee("button"),te=ot("Transform"),E(a,"class","jse-label svelte-15uz9w0"),E(l,"class","jse-description svelte-15uz9w0"),E(c,"class","jse-label svelte-15uz9w0"),E(d,"class","jse-path svelte-15uz9w0"),E(d,"type","text"),d.readOnly=!0,E(d,"title","Selected path"),d.value=h=ir(n[1])?"(whole document)":Su(ws(n[1])),E(g,"type","button"),E(g,"class","svelte-15uz9w0"),E(m,"class","jse-label-inner svelte-15uz9w0"),E(p,"class","jse-label svelte-15uz9w0"),E(x,"class","jse-label svelte-15uz9w0"),E(T,"class","jse-query svelte-15uz9w0"),E(T,"spellcheck","false"),T.value=n[9],E(o,"class","jse-query-contents svelte-15uz9w0"),E(j,"type","button"),E(j,"class","svelte-15uz9w0"),E($,"class","jse-label-inner svelte-15uz9w0"),E(N,"class","jse-label svelte-15uz9w0"),E(_,"class","jse-original-data svelte-15uz9w0"),Ve(_,"jse-hide",!n[12]),E(I,"class","jse-label svelte-15uz9w0"),E(A,"class","jse-preview-data svelte-15uz9w0"),E(B,"class","jse-data-contents svelte-15uz9w0"),Ve(B,"jse-hide-original-data",!n[12]),E(i,"class","jse-main-contents svelte-15uz9w0"),E(Z,"type","button"),E(Z,"class","jse-primary svelte-15uz9w0"),Z.disabled=ve=!!n[13],E(V,"class","jse-actions svelte-15uz9w0"),E(r,"class","jse-contents svelte-15uz9w0")},m:function(Se,Ue){Ae(e,Se,Ue),me(Se,t,Ue),me(Se,r,Ue),W(r,i),W(i,o),W(o,a),W(o,s),W(o,l),l.innerHTML=S,W(o,u),W(o,c),W(o,f),W(o,d),W(o,v),W(o,p),W(p,m),W(m,g),Ae(y,g,null),W(g,b),W(o,w),ae&&ae.m(o,null),W(o,k),W(o,x),W(o,C),W(o,T),W(i,M),W(i,B),W(B,_),W(_,N),W(N,$),W($,j),Ae(D,j,null),W(j,q),W(_,R),ce&&ce.m(_,null),W(B,G),W(B,A),W(A,I),W(A,z),ye[F].m(A,null),W(r,O),W(r,V),W(V,Z),W(Z,te),ue=!0,ge||(P=[Be(g,"click",n[20]),Be(T,"input",n[18]),Be(j,"click",n[21]),Be(Z,"click",n[19]),xf(MXe.call(null,Z))],ge=!0)},p:function(Se,Ue){var pt={};32&Ue[0]&&(pt.queryLanguages=Se[5]),1&Ue[0]&&(pt.queryLanguageId=Se[0]),e.$set(pt),(!ue||1&Ue[0])&&S!==(S=Se[16](Se[0]).description+"")&&(l.innerHTML=S),(!ue||2&Ue[0]&&h!==(h=ir(Se[1])?"(whole document)":Su(ws(Se[1])))&&d.value!==h)&&(d.value=h);var Ke={};2048&Ue[0]&&(Ke.data=Se[11]?Ma:Gs),y.$set(Ke),Se[11]?ae?(ae.p(Se,Ue),2048&Ue[0]&&J(ae,1)):((ae=T4(Se)).c(),J(ae,1),ae.m(o,k)):ae&&(Je(),Y(ae,1,1,function(){ae=null}),Ge()),(!ue||512&Ue[0])&&(T.value=Se[9]);var Me={};4096&Ue[0]&&(Me.data=Se[12]?Ma:Gs),D.$set(Me),Se[12]?ce?(ce.p(Se,Ue),4096&Ue[0]&&J(ce,1)):((ce=O4(Se)).c(),J(ce,1),ce.m(_,null)):ce&&(Je(),Y(ce,1,1,function(){ce=null}),Ge()),(!ue||4096&Ue[0])&&Ve(_,"jse-hide",!Se[12]);var et=F;(F=Ce(Se))===et?ye[F].p(Se,Ue):(Je(),Y(ye[et],1,1,function(){ye[et]=null}),Ge(),(L=ye[F])?L.p(Se,Ue):(L=ye[F]=ne[F](Se)).c(),J(L,1),L.m(A,null)),(!ue||4096&Ue[0])&&Ve(B,"jse-hide-original-data",!Se[12]),(!ue||8192&Ue[0]&&ve!==(ve=!!Se[13]))&&(Z.disabled=ve)},i:function(Se){ue||(J(e.$$.fragment,Se),J(y.$$.fragment,Se),J(ae),J(D.$$.fragment,Se),J(ce),J(L),ue=!0)},o:function(Se){Y(e.$$.fragment,Se),Y(y.$$.fragment,Se),Y(ae),Y(D.$$.fragment,Se),Y(ce),Y(L),ue=!1},d:function(Se){_e(e,Se),Se&&he(t),Se&&he(r),_e(y),ae&&ae.d(),_e(D),ce&&ce.d(),ye[F].d(),ge=!1,Xn(P)}}}function EXe(n){var e,t,r;return t=new nF({props:{$$slots:{default:[OXe]},$$scope:{ctx:n}}}),{c:function(){e=ee("div"),Ne(t.$$.fragment),E(e,"class","jse-modal jse-transform svelte-15uz9w0")},m:function(i,o){me(i,e,o),Ae(t,e,null),r=!0},p:function(i,o){var a={};65535&o[0]|16&o[1]&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i:function(i){r||(J(t.$$.fragment,i),r=!0)},o:function(i){Y(t.$$.fragment,i),r=!1},d:function(i){i&&he(e),_e(t)}}}function MXe(n){n.focus()}function $Xe(n,e,t){var r,i,o=Li("jsoneditor:TransformModal"),a=e.id,s=a===void 0?"transform-modal-"+_d():a,l=e.json,u=e.selectedPath,c=u===void 0?[]:u,f=e.escapeControlCharacters,d=e.escapeUnicodeCharacters,h=e.parser,v=e.queryLanguages,p=e.queryLanguageId,m=e.onChangeQueryLanguage,g=e.onRenderValue,y=e.onClassName,b=e.onTransform,w=Ni("simple-modal").close,k="".concat(s,":").concat(de.exports.compileJSONPointer(c)),x=Do[k]||{},C=Do.showWizard!==!1,T=Do.showOriginal!==!1,M=x.queryOptions||{},B=p===x.queryLanguageId&&x.query?x.query:j(p).createQuery(l,x.queryOptions||{}),_=x.isManual||!1,N=void 0,$={text:""};function j(q){return v.find(function(R){return R.id===q})||v[0]}var D=_f(function(q,R){try{o("previewTransform",{query:R});var G=j(p).executeQuery(q,R);t(14,$={json:G}),t(13,N=void 0)}catch(A){t(14,$={text:""}),t(13,N=A)}},300);return n.$$set=function(q){"id"in q&&t(23,s=q.id),"json"in q&&t(24,l=q.json),"selectedPath"in q&&t(1,c=q.selectedPath),"escapeControlCharacters"in q&&t(2,f=q.escapeControlCharacters),"escapeUnicodeCharacters"in q&&t(3,d=q.escapeUnicodeCharacters),"parser"in q&&t(4,h=q.parser),"queryLanguages"in q&&t(5,v=q.queryLanguages),"queryLanguageId"in q&&t(0,p=q.queryLanguageId),"onChangeQueryLanguage"in q&&t(25,m=q.onChangeQueryLanguage),"onRenderValue"in q&&t(6,g=q.onRenderValue),"onClassName"in q&&t(7,y=q.onClassName),"onTransform"in q&&t(26,b=q.onTransform)},n.$$.update=function(){16777218&n.$$.dirty[0]&&t(10,r=de.exports.getIn(l,c)),1024&n.$$.dirty[0]&&t(15,i={json:r}),1536&n.$$.dirty[0]&&D(r,B),402653953&n.$$.dirty[0]&&(t(27,Do[k]={queryOptions:M,query:B,queryLanguageId:p,isManual:_},Do),o("store state in memory",k,Do[k]))},[p,c,f,d,h,v,g,y,M,B,r,C,T,N,$,i,j,function(q){t(8,M=q),t(9,B=j(p).createQuery(l,q)),t(28,_=!1),o("updateQueryByWizard",{queryOptions:M,query:B,isManual:_})},function(q){t(9,B=q.target.value),t(28,_=!0),o("handleChangeQuery",{query:B,isManual:_})},function(){try{o("handleTransform",{query:B});var q=j(p).executeQuery(r,B);b([{op:"replace",path:de.exports.compileJSONPointer(c),value:q}]),w()}catch(R){console.error(R),t(14,$={text:""}),t(13,N=R.toString())}},function(){t(11,C=!C),t(27,Do.showWizard=C,Do)},function(){t(12,T=!T),t(27,Do.showOriginal=T,Do)},function(q){o("handleChangeQueryLanguage",q),t(0,p=q),m(q);var R=j(p);t(9,B=R.createQuery(l,M)),t(28,_=!1)},s,l,m,b,Do,_]}var AXe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,$Xe,EXe,mn,{id:23,json:24,selectedPath:1,escapeControlCharacters:2,escapeUnicodeCharacters:3,parser:4,queryLanguages:5,queryLanguageId:0,onChangeQueryLanguage:25,onRenderValue:6,onClassName:7,onTransform:26},xXe,[-1,-1]),i}return ie(t)}(),Is={};function _Xe(n){Gt(n,"svelte-120r9gh",".jse-modal.svelte-120r9gh.svelte-120r9gh{--height:36px;--multiItemHeight:28px;--multiItemMargin:2px;--multiItemPadding:2px 8px;--multiClearTop:5px;--multiItemBorderRadius:6px;--clearSelectTop:2px;--clearSelectBottom:2px;--indicatorTop:8px;flex:1;display:flex;flex-direction:column;font-family:var(--jse-font-family);font-size:var(--jse-font-size);line-height:normal;background:var(--jse-modal-background);color:var(--jse-text-color)}.jse-modal.svelte-120r9gh .jse-contents.svelte-120r9gh{padding:20px;overflow:auto}.jse-modal.svelte-120r9gh .jse-contents .jse-actions.svelte-120r9gh{display:flex;flex-direction:row;justify-content:flex-end;padding-top:var(--jse-padding)}.jse-modal.svelte-120r9gh .jse-contents .jse-actions button.svelte-120r9gh{border:none;background:transparent;color:inherit;cursor:pointer;font-family:var(--jse-font-family);font-size:var(--jse-font-size);padding:5px;margin:0;background:var(--jse-button-primary-background);color:var(--jse-button-primary-color);padding:var(--jse-padding) calc(2 * var(--jse-padding));border-radius:3px}.jse-modal.svelte-120r9gh .jse-contents .jse-actions button.svelte-120r9gh:hover{background:var(--jse-button-primary-background-highlight)}.jse-modal.svelte-120r9gh .jse-contents .jse-actions button.svelte-120r9gh:disabled{background:var(--jse-button-primary-background-disabled)}.bg.jse-modal-bg{width:100%;height:100%;top:0;left:0;background:var(--jse-modal-overlay-background)}.bg.jse-modal-bg .jse-modal-window-wrap{margin:0}.bg.jse-modal-bg .jse-modal-window{max-width:90%;margin:4rem auto 2rem auto;border-radius:2px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-sort{width:400px}.bg.jse-modal-bg .jse-modal-window.jse-modal-window-transform{width:1200px;height:1200px;max-height:80%;display:flex}.bg.jse-modal-bg .jse-modal-content{flex:1;display:flex;max-height:calc(100vh - 6rem);padding:0}.jse-modal.jse-sort.svelte-120r9gh table.svelte-120r9gh{width:100%;border-collapse:collapse;border-spacing:0}.jse-modal.jse-sort.svelte-120r9gh table th.svelte-120r9gh,.jse-modal.jse-sort.svelte-120r9gh table td.svelte-120r9gh{text-align:left;vertical-align:middle;font-weight:normal;padding-bottom:var(--jse-padding)}.jse-modal.jse-sort.svelte-120r9gh table th input.jse-path.svelte-120r9gh,.jse-modal.jse-sort.svelte-120r9gh table td input.jse-path.svelte-120r9gh{width:100%;box-sizing:border-box;padding:6px 16px;border:var(--jse-input-border);border-radius:var(--jse-input-radius);font-family:inherit;font-size:inherit;background:inherit;color:inherit;outline:none}.jse-modal.jse-sort.svelte-120r9gh table th input.jse-path.svelte-120r9gh:read-only,.jse-modal.jse-sort.svelte-120r9gh table td input.jse-path.svelte-120r9gh:read-only{background:var(--jse-input-background-readonly)}.jse-modal.jse-sort.svelte-120r9gh table th.svelte-120r9gh .selectContainer input,.jse-modal.jse-sort.svelte-120r9gh table td.svelte-120r9gh .selectContainer input{box-sizing:border-box}.jse-modal.jse-sort.svelte-120r9gh .jse-space.svelte-120r9gh{height:200px}.jse-modal.jse-sort.svelte-120r9gh .jse-space .jse-error.svelte-120r9gh{color:var(--jse-error-color)}")}function E4(n){var e,t,r,i,o,a,s;function l(c){n[13](c)}var u={showIndicator:!0,items:n[4]};return n[1]!==void 0&&(u.value=n[1]),o=new Jl({props:u}),en.push(function(){return to(o,"value",l)}),{c:function(){e=ee("tr"),(t=ee("th")).textContent="Property",r=je(),i=ee("td"),Ne(o.$$.fragment),E(t,"class","svelte-120r9gh"),E(i,"class","svelte-120r9gh")},m:function(c,f){me(c,e,f),W(e,t),W(e,r),W(e,i),Ae(o,i,null),s=!0},p:function(c,f){var d={};16&f&&(d.items=c[4]),!a&&2&f&&(a=!0,d.value=c[1],wo(function(){return a=!1})),o.$set(d)},i:function(c){s||(J(o.$$.fragment,c),s=!0)},o:function(c){Y(o.$$.fragment,c),s=!1},d:function(c){c&&he(e),_e(o)}}}function M4(n){var e,t;return{c:function(){e=ee("div"),t=ot(n[5]),E(e,"class","jse-error svelte-120r9gh")},m:function(r,i){me(r,e,i),W(e,t)},p:function(r,i){32&i&&on(t,r[5])},d:function(r){r&&he(e)}}}function NXe(n){var e,t,r,i,o,a,s,l,u,c,f,d,h,v,p,m,g,y,b,w,k,x,C,T,M,B,_,N,$,j,D,q;t=new XV({props:{title:n[3]?"Sort array items":"Sort object keys"}});var R=n[3]&&(n[4].length>1||n[1]===void 0)&&E4(n);function G(z){n[14](z)}var A={showIndicator:!0,items:n[6],isClearable:!1};n[2]!==void 0&&(A.value=n[2]),k=new Jl({props:A}),en.push(function(){return to(k,"value",G)});var I=n[5]&&M4(n);return{c:function(){e=ee("div"),Ne(t.$$.fragment),r=je(),i=ee("div"),o=ee("table"),(a=ee("colgroup")).innerHTML=`<col width="25%"/> 
        <col width="75%"/>`,s=je(),l=ee("tbody"),u=ee("tr"),(c=ee("th")).textContent="Path",f=je(),d=ee("td"),h=ee("input"),p=je(),R&&R.c(),m=je(),g=ee("tr"),(y=ee("th")).textContent="Direction",b=je(),w=ee("td"),Ne(k.$$.fragment),C=je(),T=ee("div"),I&&I.c(),M=je(),B=ee("div"),_=ee("button"),N=ot("Sort"),E(c,"class","svelte-120r9gh"),E(h,"class","jse-path svelte-120r9gh"),E(h,"type","text"),h.readOnly=!0,E(h,"title","Selected path"),h.value=v=ir(n[0])?"(whole document)":Su(ws(n[0])),E(d,"class","svelte-120r9gh"),E(y,"class","svelte-120r9gh"),E(w,"class","svelte-120r9gh"),E(o,"class","svelte-120r9gh"),E(T,"class","jse-space svelte-120r9gh"),E(_,"type","button"),E(_,"class","jse-primary svelte-120r9gh"),_.disabled=$=!!n[3]&&!n[1],E(B,"class","jse-actions svelte-120r9gh"),E(i,"class","jse-contents svelte-120r9gh"),E(e,"class","jse-modal jse-sort svelte-120r9gh")},m:function(z,F){me(z,e,F),Ae(t,e,null),W(e,r),W(e,i),W(i,o),W(o,a),W(o,s),W(o,l),W(l,u),W(u,c),W(u,f),W(u,d),W(d,h),W(l,p),R&&R.m(l,null),W(l,m),W(l,g),W(g,y),W(g,b),W(g,w),Ae(k,w,null),W(i,C),W(i,T),I&&I.m(T,null),W(i,M),W(i,B),W(B,_),W(_,N),j=!0,D||(q=[Be(_,"click",n[7]),xf(IXe.call(null,_))],D=!0)},p:function(z,F){var L=Dt(F,1)[0],O={};8&L&&(O.title=z[3]?"Sort array items":"Sort object keys"),t.$set(O),(!j||1&L&&v!==(v=ir(z[0])?"(whole document)":Su(ws(z[0])))&&h.value!==v)&&(h.value=v),z[3]&&(z[4].length>1||z[1]===void 0)?R?(R.p(z,L),26&L&&J(R,1)):((R=E4(z)).c(),J(R,1),R.m(l,m)):R&&(Je(),Y(R,1,1,function(){R=null}),Ge());var V={};!x&&4&L&&(x=!0,V.value=z[2],wo(function(){return x=!1})),k.$set(V),z[5]?I?I.p(z,L):((I=M4(z)).c(),I.m(T,null)):I&&(I.d(1),I=null),(!j||10&L&&$!==($=!!z[3]&&!z[1]))&&(_.disabled=$)},i:function(z){j||(J(t.$$.fragment,z),J(R),J(k.$$.fragment,z),j=!0)},o:function(z){Y(t.$$.fragment,z),Y(R),Y(k.$$.fragment,z),j=!1},d:function(z){z&&he(e),_e(t),R&&R.d(),_e(k),I&&I.d(),D=!1,Xn(q)}}}function IXe(n){n.focus()}function PXe(n,e,t){var r,i,o,a=Li("jsoneditor:SortModal"),s=e.id,l=e.json,u=e.selectedPath,c=e.onSort,f=Ni("simple-modal").close,d="".concat(s,":").concat(de.exports.compileJSONPointer(u)),h=de.exports.getIn(l,u),v={value:1,label:"ascending"},p=[v,{value:-1,label:"descending"}],m=Is[d]&&Is[d].selectedProperty||void 0,g=Is[d]&&Is[d].selectedDirection||v,y=void 0;return n.$$set=function(b){"id"in b&&t(8,s=b.id),"json"in b&&t(9,l=b.json),"selectedPath"in b&&t(0,u=b.selectedPath),"onSort"in b&&t(10,c=b.onSort)},n.$$.update=function(){8&n.$$.dirty&&t(12,i=r?Hb(h):void 0),4096&n.$$.dirty&&t(4,o=i?i.map(sc):void 0),18&n.$$.dirty&&m===void 0&&o&&o.length===1&&t(1,m=o[0]),2054&n.$$.dirty&&(t(11,Is[d]={selectedProperty:m,selectedDirection:g},Is),a("store state in memory",d,Is[d]))},t(3,r=Array.isArray(h)),[u,m,g,r,o,y,p,function(){try{if(t(5,y=void 0),r){if(!m)return;var b=m.value,w=g.value,k=function(T){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],B=xYe(arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],arguments.length>3&&arguments[3]!==void 0?arguments[3]:1),_=de.exports.getIn(T,M);return[{op:"replace",path:de.exports.compileJSONPointer(M),value:_.slice(0).sort(B)}]}(l,u,b,w);c(k)}else if($r(h)){var x=g.value,C=function(T){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=de.exports.getIn(T,M),N=Object.keys(_).slice();N.sort(function(R,G){return B*yj(R,G)});for(var $=[],j=0;j<N.length;j++){var D=N[j],q=de.exports.compileJSONPointer(M.concat(D));$.push({op:"move",from:q,path:q})}return $}(l,u,x);c(C)}else console.error("Cannot sort: no array or object");f()}catch(T){t(5,y=T.toString())}},s,l,c,Is,i,function(b){t(1,m=b),t(4,o),t(12,i),t(3,r)},function(b){t(2,g=b)}]}var LXe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,PXe,NXe,mn,{id:8,json:9,selectedPath:0,onSort:10},_Xe),i}return ie(t)}();function DXe(n,e,t){var r=Ni("simple-modal");return[r.open,r.close]}var RXe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,DXe,null,mn,{open:0,close:1}),i}return ie(t,[{key:"open",get:function(){return this.$$.ctx[0]}},{key:"close",get:function(){return this.$$.ctx[1]}}]),t}();function BXe(n){Gt(n,"svelte-1tua83j",`:root{--jse-font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu,
    Cantarell, "Helvetica Neue", sans-serif;--jse-font-family-mono:consolas, menlo, monaco, "Ubuntu Mono", "source-code-pro", monospace;--jse-font-size-mono:14px;--jse-font-size:16px;--jse-font-size-text-mode-search:80%;--jse-line-height:calc(1em + 4px);--jse-indent-size:calc(1em + 4px);--jse-color-picker-button-size:1em;--jse-padding:10px;--jse-theme-color:#3883fa;--jse-theme-color-highlight:#5f9dff;--jse-background-color:#fff;--jse-text-color:#4d4d4d;--jse-text-color-inverse:#fff;--jse-error-color:#ee5341;--jse-warning-color:#fdc539;--jse-main-border:1px solid #d7d7d7;--jse-menu-color:var(--jse-text-color-inverse);--jse-menu-button-size:32px;--jse-modal-background:#f5f5f5;--jse-modal-overlay-background:rgba(0, 0, 0, 0.3);--jse-modal-code-background:rgba(0, 0, 0, 0.05);--jse-tooltip-color:var(--jse-text-color);--jse-tooltip-background:var(--jse-modal-background);--jse-tooltip-border:var(--jse-main-border);--jse-tooltip-action-button-color:var(--jse-text-color-inverse);--jse-tooltip-action-button-background:#4d4d4d;--jse-panel-background:#ebebeb;--jse-panel-color:var(--jse-text-color);--jse-panel-color-readonly:#b2b2b2;--jse-panel-border:var(--jse-main-border);--jse-panel-button-color:inherit;--jse-panel-button-background:transparent;--jse-panel-button-color-highlight:var(--jse-text-color);--jse-panel-button-background-highlight:#e0e0e0;--jse-navigation-bar-background:var(--jse-background-color);--jse-navigation-bar-background-highlight:#e5e5e5;--jse-navigation-bar-dropdown-color:#656565;--jse-context-menu-background:#656565;--jse-context-menu-background-highlight:#7a7a7a;--jse-context-menu-color:var(--jse-text-color-inverse);--jse-context-menu-color-disabled:#9d9d9d;--jse-context-menu-separator-color:#7a7a7a;--jse-context-menu-button-background:var(--jse-context-menu-background);--jse-context-menu-button-background-highlight:var(--jse-context-menu-background-highlight);--jse-context-menu-button-color:var(--jse-context-menu-color);--jse-context-menu-button-size:calc(1em + 4px);--jse-context-menu-tip-background:rgba(255, 255, 255, 0.2);--jse-context-menu-tip-color:inherit;--jse-key-color:#1a1a1a;--jse-value-color:#1a1a1a;--jse-value-color-number:#ee422e;--jse-value-color-boolean:#ff8c00;--jse-value-color-null:#004ed0;--jse-value-color-string:#008000;--jse-value-color-url:#008000;--jse-delimiter-color:rgba(0, 0, 0, 0.38);--jse-edit-outline:2px solid #656565;--jse-selection-background-color:#d3d3d3;--jse-selection-background-light-color:#e8e8e8;--jse-hover-background-color:rgba(0, 0, 0, 0.06);--jse-active-line-background-color:rgba(0, 0, 0, 0.06);--jse-search-match-background-color:#99ff7780;--jse-collapsed-items-background-color:#f5f5f5;--jse-collapsed-items-selected-background-color:#c2c2c2;--jse-collapsed-items-link-color:rgba(0, 0, 0, 0.38);--jse-collapsed-items-link-color-highlight:#ee5341;--jse-search-match-color:#ffe665;--jse-search-match-outline:1px solid #ffd700;--jse-search-match-active-color:#ffd700;--jse-search-match-active-outline:1px solid #e1be00;--jse-tag-background:rgba(0, 0, 0, 0.2);--jse-tag-color:var(--jse-text-color-inverse);--jse-controls-box-shadow:0 2px 6px 0 rgba(0, 0, 0, 0.24);--jse-input-background:var(--jse-background-color);--jse-input-background-readonly:transparent;--jse-input-border:1px solid #d8dbdf;--jse-input-border-focus:1px solid var(--jse-theme-color);--jse-input-radius:3px;--jse-button-background:#e0e0e0;--jse-button-background-highlight:#e7e7e7;--jse-button-color:var(--jse-text-color);--jse-button-primary-background:var(--jse-theme-color);--jse-button-primary-background-highlight:var(--jse-theme-color-highlight);--jse-button-primary-background-disabled:#9d9d9d;--jse-button-primary-color:var(--jse-text-color-inverse);--jse-a-color:#156fc5;--jse-a-color-highlight:#0f508d;--jse-message-error-background:var(--jse-error-color);--jse-message-error-color:var(--jse-text-color-inverse);--jse-message-warning-background:#ffde5c;--jse-message-warning-color:var(--jse-text-color);--jse-message-success-background:#9ac45d;--jse-message-success-color:var(--jse-text-color-inverse);--jse-message-info-background:#9d9d9d;--jse-message-info-color:var(--jse-text-color-inverse);--jse-message-action-background:rgba(255, 255, 255, 0.2);--jse-message-action-background-highlight:rgba(255, 255, 255, 0.3);--itemIsActiveBG:#3883fa;--border:1px solid #d8dbdf;--borderRadius:3px;--background:#fff;--jse-color-picker-background:var(--jse-panel-background);--jse-color-picker-border-box-shadow:#cbcbcb 0 0 0 1px}.jse-main.svelte-1tua83j{width:100%;height:100%;min-width:0;min-height:150px;font-family:var(--jse-font-family);font-size:var(--jse-font-size);line-height:normal;position:relative;display:flex;flex-direction:row}`)}function zXe(n){var e,t,r={readOnly:n[2],indentation:n[3],externalContent:n[0],mainMenuBar:n[5],navigationBar:n[6],escapeControlCharacters:n[8],escapeUnicodeCharacters:n[9],parser:n[10],validator:n[11],validationParser:n[12],pathParser:n[13],onError:n[16],onChange:n[24],onRequestRepair:n[25],onRenderValue:n[14],onClassName:n[15],onFocus:n[27],onBlur:n[28],onRenderMenu:n[23],onSortModal:n[30],onTransformModal:n[29]};return e=new bj({props:r}),n[57](e),{c:function(){Ne(e.$$.fragment)},m:function(i,o){Ae(e,i,o),t=!0},p:function(i,o){var a={};4&o[0]&&(a.readOnly=i[2]),8&o[0]&&(a.indentation=i[3]),1&o[0]&&(a.externalContent=i[0]),32&o[0]&&(a.mainMenuBar=i[5]),64&o[0]&&(a.navigationBar=i[6]),256&o[0]&&(a.escapeControlCharacters=i[8]),512&o[0]&&(a.escapeUnicodeCharacters=i[9]),1024&o[0]&&(a.parser=i[10]),2048&o[0]&&(a.validator=i[11]),4096&o[0]&&(a.validationParser=i[12]),8192&o[0]&&(a.pathParser=i[13]),65536&o[0]&&(a.onError=i[16]),16384&o[0]&&(a.onRenderValue=i[14]),32768&o[0]&&(a.onClassName=i[15]),8388608&o[0]&&(a.onRenderMenu=i[23]),e.$set(a)},i:function(i){t||(J(e.$$.fragment,i),t=!0)},o:function(i){Y(e.$$.fragment,i),t=!1},d:function(i){n[57](null),_e(e,i)}}}function qXe(n){var e,t,r={externalContent:n[0],readOnly:n[2],indentation:n[3],tabSize:n[4],mainMenuBar:n[5],statusBar:n[7],escapeUnicodeCharacters:n[9],parser:n[10],validator:n[11],validationParser:n[12],onChange:n[24],onSwitchToTreeMode:n[26],onError:n[16],onFocus:n[27],onBlur:n[28],onRenderMenu:n[23],onSortModal:n[30],onTransformModal:n[29]};return e=new yKe({props:r}),n[56](e),{c:function(){Ne(e.$$.fragment)},m:function(i,o){Ae(e,i,o),t=!0},p:function(i,o){var a={};1&o[0]&&(a.externalContent=i[0]),4&o[0]&&(a.readOnly=i[2]),8&o[0]&&(a.indentation=i[3]),16&o[0]&&(a.tabSize=i[4]),32&o[0]&&(a.mainMenuBar=i[5]),128&o[0]&&(a.statusBar=i[7]),512&o[0]&&(a.escapeUnicodeCharacters=i[9]),1024&o[0]&&(a.parser=i[10]),2048&o[0]&&(a.validator=i[11]),4096&o[0]&&(a.validationParser=i[12]),65536&o[0]&&(a.onError=i[16]),8388608&o[0]&&(a.onRenderMenu=i[23]),e.$set(a)},i:function(i){t||(J(e.$$.fragment,i),t=!0)},o:function(i){Y(e.$$.fragment,i),t=!1},d:function(i){n[56](null),_e(e,i)}}}function $4(n){var e,t,r,i,o=[qXe,zXe],a=[];function s(l,u){return l[1]===mo.text||l[1]==="code"?0:1}return e=s(n),t=a[e]=o[e](n),{c:function(){t.c(),r=kn()},m:function(l,u){a[e].m(l,u),me(l,r,u),i=!0},p:function(l,u){var c=e;(e=s(l))===c?a[e].p(l,u):(Je(),Y(a[c],1,1,function(){a[c]=null}),Ge(),(t=a[e])?t.p(l,u):(t=a[e]=o[e](l)).c(),J(t,1),t.m(r.parentNode,r))},i:function(l){i||(J(t),i=!0)},o:function(l){Y(t),i=!1},d:function(l){a[e].d(l),l&&he(r)}}}function FXe(n){var e,t,r=n[17],i=$4(n);return{c:function(){e=ee("div"),i.c(),E(e,"class","jse-main svelte-1tua83j"),Ve(e,"jse-focus",n[18])},m:function(o,a){me(o,e,a),i.m(e,null),n[58](e),t=!0},p:function(o,a){131072&a[0]&&mn(r,r=o[17])?(Je(),Y(i,1,1,Ze),Ge(),(i=$4(o)).c(),J(i,1),i.m(e,null)):i.p(o,a),(!t||262144&a[0])&&Ve(e,"jse-focus",o[18])},i:function(o){t||(J(i),t=!0)},o:function(o){Y(i),t=!1},d:function(o){o&&he(e),i.d(o),n[58](null)}}}function HXe(n){var e,t,r,i,o;function a(l){n[55](l)}var s={};return n[22]!==void 0&&(s.open=n[22]),e=new RXe({props:s}),en.push(function(){return to(e,"open",a)}),i=new nF({props:{$$slots:{default:[FXe]},$$scope:{ctx:n}}}),{c:function(){Ne(e.$$.fragment),r=je(),Ne(i.$$.fragment)},m:function(l,u){Ae(e,l,u),me(l,r,u),Ae(i,l,u),o=!0},p:function(l,u){var c={};!t&&4194304&u[0]&&(t=!0,c.open=l[22],wo(function(){return t=!1})),e.$set(c);var f={};12582911&u[0]|2&u[2]&&(f.$$scope={dirty:u,ctx:l}),i.$set(f)},i:function(l){o||(J(e.$$.fragment,l),J(i.$$.fragment,l),o=!0)},o:function(l){Y(e.$$.fragment,l),Y(i.$$.fragment,l),o=!1},d:function(l){_e(e,l),l&&he(r),_e(i,l)}}}function VXe(n){var e,t;return e=new R9e({props:{$$slots:{default:[HXe]},$$scope:{ctx:n}}}),{c:function(){Ne(e.$$.fragment)},m:function(r,i){Ae(e,r,i),t=!0},p:function(r,i){var o={};16777215&i[0]|2&i[2]&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i:function(r){t||(J(e.$$.fragment,r),t=!0)},o:function(r){Y(e.$$.fragment,r),t=!1},d:function(r){_e(e,r)}}}function aW(n){this.$set(n)}function sW(){this.$destroy()}function WXe(n,e,t){var r,i,o,a,s,l,u=Li("jsoneditor:Main"),c=e.content,f=c===void 0?{text:""}:c,d=e.readOnly,h=d!==void 0&&d,v=e.indentation,p=v===void 0?2:v,m=e.tabSize,g=m===void 0?4:m,y=e.mode,b=y===void 0?mo.tree:y,w=e.mainMenuBar,k=w===void 0||w,x=e.navigationBar,C=x===void 0||x,T=e.statusBar,M=T===void 0||T,B=e.escapeControlCharacters,_=B!==void 0&&B,N=e.escapeUnicodeCharacters,$=N!==void 0&&N,j=e.parser,D=j===void 0?JSON:j,q=e.validator,R=q===void 0?null:q,G=e.validationParser,A=G===void 0?JSON:G,I=e.pathParser,z=I===void 0?{parse:kVe,stringify:ws}:I,F=e.queryLanguages,L=F===void 0?[rZe]:F,O=e.queryLanguageId,V=O===void 0?L[0].id:O,Z=e.onChangeQueryLanguage,te=Z===void 0?Dn:Z,ve=e.onChange,ue=ve===void 0?null:ve,ge=e.onRenderValue,P=ge===void 0?MZe:ge,S=e.onClassName,ae=S===void 0?function(){}:S,ce=e.onRenderMenu,ne=ce===void 0?Dn:ce,ye=e.onChangeMode,Ce=ye===void 0?Dn:ye,Se=e.onError,Ue=Se===void 0?function(U){console.error(U),alert(U.toString())}:Se,pt=e.onFocus,Ke=pt===void 0?Dn:pt,Me=e.onBlur,et=Me===void 0?Dn:Me,le=_d(),be=!1,Le=D;function Ee(){a?a.focus():o&&o.focus()}function ct(){return(ct=Fn(At().mark(function U(){return At().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return t(1,b=mo.text),se.next=3,xr();case 3:Ce(mo.text);case 4:case"end":return se.stop()}},U)}))).apply(this,arguments)}function it(){return(it=Fn(At().mark(function U(){return At().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return t(1,b=mo.tree),se.next=3,xr();case 3:Ce(mo.tree);case 4:case"end":return se.stop()}},U)}))).apply(this,arguments)}function at(U){return Bt.apply(this,arguments)}function Bt(){return(Bt=Fn(At().mark(function U(se){return At().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(b!==se){Q.next=2;break}return Q.abrupt("return");case 2:return t(1,b=se),Q.next=5,xr();case 5:Ee(),Ce(se);case 7:case"end":return Q.stop()}},U)}))).apply(this,arguments)}var zt={separator:!0};function H(U){u("handleChangeQueryLanguage",U),t(31,V=U),te(U)}return n.$$set=function(U){"content"in U&&t(0,f=U.content),"readOnly"in U&&t(2,h=U.readOnly),"indentation"in U&&t(3,p=U.indentation),"tabSize"in U&&t(4,g=U.tabSize),"mode"in U&&t(1,b=U.mode),"mainMenuBar"in U&&t(5,k=U.mainMenuBar),"navigationBar"in U&&t(6,C=U.navigationBar),"statusBar"in U&&t(7,M=U.statusBar),"escapeControlCharacters"in U&&t(8,_=U.escapeControlCharacters),"escapeUnicodeCharacters"in U&&t(9,$=U.escapeUnicodeCharacters),"parser"in U&&t(10,D=U.parser),"validator"in U&&t(11,R=U.validator),"validationParser"in U&&t(12,A=U.validationParser),"pathParser"in U&&t(13,z=U.pathParser),"queryLanguages"in U&&t(32,L=U.queryLanguages),"queryLanguageId"in U&&t(31,V=U.queryLanguageId),"onChangeQueryLanguage"in U&&t(33,te=U.onChangeQueryLanguage),"onChange"in U&&t(34,ue=U.onChange),"onRenderValue"in U&&t(14,P=U.onRenderValue),"onClassName"in U&&t(15,ae=U.onClassName),"onRenderMenu"in U&&t(35,ne=U.onRenderMenu),"onChangeMode"in U&&t(36,Ce=U.onChangeMode),"onError"in U&&t(16,Ue=U.onError),"onFocus"in U&&t(37,Ke=U.onFocus),"onBlur"in U&&t(38,et=U.onBlur)},n.$$.update=function(){if(1025&n.$$.dirty[0]|4194304&n.$$.dirty[1]&&(SHe(D,Le)||(u("parser changed, recreate editor"),wHe(f)&&t(0,f={json:D.parse(Le.stringify(f.json))}),t(53,Le=D),t(17,le=_d()))),1&n.$$.dirty[0]){var U=zy(f);U&&console.error("Error: "+U)}2&n.$$.dirty[0]&&t(54,l=[{text:"text",title:"Switch to text mode (current mode: ".concat(b,")"),className:"jse-group-button jse-first"+(b===mo.text||b==="code"?" jse-selected":""),onClick:function(){return at(mo.text)}},{text:"tree",title:"Switch to tree mode (current mode: ".concat(b,")"),className:"jse-group-button jse-last"+(b===mo.tree?" jse-selected":""),onClick:function(){return at(mo.tree)}}]),8388624&n.$$.dirty[1]&&t(23,r=function(se,Q){var we,Oe=(we=Q[0])&&we.space===!0&&Object.keys(we).length===1?l.concat(Q):l.concat(zt,Q);return ne(se,Oe)||Oe}),2&n.$$.dirty[0]&&(u("mode changed to",b),b==="code"&&console.warn('Deprecation warning: "code" mode is renamed to "text". Please use mode="text" instead.'))},[f,b,h,p,g,k,C,M,_,$,D,R,A,z,P,ae,Ue,le,be,i,o,a,s,r,function(U,se,Q){t(0,f=U),ue&&ue(U,se,Q)},function(){return ct.apply(this,arguments)},function(){return it.apply(this,arguments)},function(){t(18,be=!0),Ke&&Ke()},function(){t(18,be=!1),et&&et()},function(U){var se=U.id,Q=U.json,we=U.selectedPath,Oe=U.onTransform,Fe=U.onClose;h||s(AXe,{id:se,json:Q,selectedPath:we,escapeControlCharacters:_,escapeUnicodeCharacters:$,parser:D,queryLanguages:L,queryLanguageId:V,onChangeQueryLanguage:H,onRenderValue:P,onClassName:ae,onTransform:Oe},z9e,{onClose:Fe})},function(U){var se=U.id,Q=U.json,we=U.selectedPath,Oe=U.onSort,Fe=U.onClose;h||s(LXe,{id:se,json:Q,selectedPath:we,onSort:Oe},B9e,{onClose:Fe})},V,L,te,ue,ne,Ce,Ke,et,function(){return f},function(U){u("set");var se=zy(U);if(se)throw new Error(se);t(17,le=_d()),t(0,f=U)},function(U){u("update");var se=zy(U);if(se)throw new Error(se);t(0,f=U)},function(U){if(v0(f))try{t(0,f={json:D.parse(f.text),text:void 0})}catch{throw new Error("Cannot apply patch: current document contains invalid JSON")}return o?o.patch(U):a?a.patch(U):void 0},function(U){if(o)return o.expand(U);throw new Error('Method expand is not available in mode "'.concat(b,'"'))},function(U){if(a)a.openTransformModal(U);else{if(!o)throw new Error('Method transform is not available in mode "'.concat(b,'"'));o.openTransformModal(U)}},function(){if(a)return a.validate();if(o)return o.validate();throw new Error('Method validate is not available in mode "'.concat(b,'"'))},function(){return o?o.acceptAutoRepair():f},function(U){if(o)return o.scrollTo(U);throw new Error('Method scrollTo is not available in mode "'.concat(b,'"'))},function(U){if(o)return o.findElement(U);throw new Error('Method findElement is not available in mode "'.concat(b,'"'))},Ee,function(){a&&a.refresh()},aW,sW,Le,l,function(U){t(22,s=U)},function(U){en[U?"unshift":"push"](function(){t(21,a=U)})},function(U){en[U?"unshift":"push"](function(){t(20,o=U)})},function(U){en[U?"unshift":"push"](function(){t(19,i=U)})}]}var UXe=function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,WXe,VXe,mn,{content:0,readOnly:2,indentation:3,tabSize:4,mode:1,mainMenuBar:5,navigationBar:6,statusBar:7,escapeControlCharacters:8,escapeUnicodeCharacters:9,parser:10,validator:11,validationParser:12,pathParser:13,queryLanguages:32,queryLanguageId:31,onChangeQueryLanguage:33,onChange:34,onRenderValue:14,onClassName:15,onRenderMenu:35,onChangeMode:36,onError:16,onFocus:37,onBlur:38,get:39,set:40,update:41,patch:42,expand:43,transform:44,validate:45,acceptAutoRepair:46,scrollTo:47,findElement:48,focus:49,refresh:50,updateProps:51,destroy:52},BXe,[-1,-1,-1]),i}return ie(t,[{key:"get",get:function(){return this.$$.ctx[39]}},{key:"set",get:function(){return this.$$.ctx[40]}},{key:"update",get:function(){return this.$$.ctx[41]}},{key:"patch",get:function(){return this.$$.ctx[42]}},{key:"expand",get:function(){return this.$$.ctx[43]}},{key:"transform",get:function(){return this.$$.ctx[44]}},{key:"validate",get:function(){return this.$$.ctx[45]}},{key:"acceptAutoRepair",get:function(){return this.$$.ctx[46]}},{key:"scrollTo",get:function(){return this.$$.ctx[47]}},{key:"findElement",get:function(){return this.$$.ctx[48]}},{key:"focus",get:function(){return this.$$.ctx[49]}},{key:"refresh",get:function(){return this.$$.ctx[50]}},{key:"updateProps",get:function(){return aW}},{key:"destroy",get:function(){return sW}}]),t}();function JXe(n){Gt(n,"svelte-rc6e9m",".jse-value.jse-string.svelte-rc6e9m{color:var(--jse-value-color-string)}.jse-value.jse-object.svelte-rc6e9m,.jse-value.jse-array.svelte-rc6e9m{min-width:16px;color:var(--jse-delimiter-color)}.jse-value.jse-number.svelte-rc6e9m{color:var(--jse-value-color-number)}.jse-value.jse-boolean.svelte-rc6e9m{color:var(--jse-value-color-boolean)}.jse-value.jse-null.svelte-rc6e9m{color:var(--jse-value-color-null)}.jse-value.jse-invalid.svelte-rc6e9m{color:var(--jse-text-color)}.jse-value.jse-url.svelte-rc6e9m{color:var(--jse-value-color-url);text-decoration:underline}.jse-enum-value.svelte-rc6e9m{background:var(--jse-hover-background-color);border:none;padding:0;font-family:inherit;font-size:inherit;cursor:pointer;outline:none}.jse-enum-value.jse-selected.svelte-rc6e9m{background:var(--jse-selection-background-color);color:inherit}.jse-enum-value.jse-value.svelte-rc6e9m:focus{color:var(--jse-text-color)}.jse-json-node.jse-selected .jse-enum-value.svelte-rc6e9m{background:transparent}")}function A4(n,e,t){var r=n.slice();return r[13]=e[t],r}function _4(n){var e,t,r,i=n[13].text+"";return{c:function(){e=ee("option"),t=ot(i),e.__value=r=n[13].value,e.value=e.__value},m:function(o,a){me(o,e,a),W(e,t)},p:function(o,a){4&a&&i!==(i=o[13].text+"")&&on(t,i),4&a&&r!==(r=o[13].value)&&(e.__value=r,e.value=e.__value)},d:function(o){o&&he(e)}}}function GXe(n){for(var e,t,r,i,o=n[2],a=[],s=0;s<o.length;s+=1)a[s]=_4(A4(n,o,s));return{c:function(){e=ee("select");for(var l=0;l<a.length;l+=1)a[l].c();E(e,"class",t=Mr("jse-enum-value ".concat(kh(n[4],n[0])))+" svelte-rc6e9m"),n[4]===void 0&&dl(function(){return n[10].call(e)}),Ve(e,"jse-selected",n[1])},m:function(l,u){me(l,e,u);for(var c=0;c<a.length;c+=1)a[c].m(e,null);DA(e,n[4]),n[11](e),r||(i=[Be(e,"change",n[10]),Be(e,"change",n[5]),Be(e,"mousedown",KXe)],r=!0)},p:function(l,u){var c=Dt(u,1)[0];if(4&c){var f;for(o=l[2],f=0;f<o.length;f+=1){var d=A4(l,o,f);a[f]?a[f].p(d,c):(a[f]=_4(d),a[f].c(),a[f].m(e,null))}for(;f<a.length;f+=1)a[f].d(1);a.length=o.length}17&c&&t!==(t=Mr("jse-enum-value ".concat(kh(l[4],l[0])))+" svelte-rc6e9m")&&E(e,"class",t),16&c&&DA(e,l[4]),19&c&&Ve(e,"jse-selected",l[1])},i:Ze,o:Ze,d:function(l){l&&he(e),ji(a,l),n[11](null),r=!1,Xn(i)}}}function KXe(n){n.stopPropagation()}function QXe(n,e,t){var r,i=e.path,o=e.value,a=e.parser,s=e.readOnly,l=e.isSelected,u=e.onPatch,c=e.options,f=o;return n.$$set=function(d){"path"in d&&t(6,i=d.path),"value"in d&&t(7,o=d.value),"parser"in d&&t(0,a=d.parser),"readOnly"in d&&t(8,s=d.readOnly),"isSelected"in d&&t(1,l=d.isSelected),"onPatch"in d&&t(9,u=d.onPatch),"options"in d&&t(2,c=d.options)},n.$$.update=function(){128&n.$$.dirty&&t(4,f=o),2&n.$$.dirty&&function(d){d&&r&&r.focus()}(l)},[a,l,c,r,f,function(d){d.stopPropagation(),s||u([{op:"replace",path:de.exports.compileJSONPointer(i),value:f}])},i,o,s,u,function(){var d,h;h=(d=this).querySelector(":checked")||d.options[0],f=h&&h.__value,t(4,f),t(7,o)},function(d){en[d?"unshift":"push"](function(){t(3,r=d),t(2,c)})}]}(function(n){De(t,It);var e=Re(t);function t(r){var i;return re(this,t),Lt(Et(i=e.call(this)),r,QXe,GXe,mn,{path:6,value:7,parser:0,readOnly:8,isSelected:1,onPatch:9,options:2},JXe),i}return ie(t)})();function S1(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}H9e(function n(e,t,r){function i(s,l){if(!t[s]){if(!e[s]){if(!l&&S1)return S1(s);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[s]={exports:{}};e[s][0].call(c.exports,function(f){return i(e[s][1][f]||f)},c,c.exports,n,e,t,r)}return t[s].exports}for(var o=S1,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;var r=ie(function d(){re(this,d)});t._CodeOrName=r,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var i=function(d){De(v,d);var h=Re(v);function v(p){var m;if(re(this,v),m=h.call(this),!t.IDENTIFIER.test(p))throw new Error("CodeGen: name must be a valid identifier");return m.str=p,e8(m)}return ie(v,[{key:"toString",value:function(){return this.str}},{key:"emptyStr",value:function(){return!1}},{key:"names",get:function(){return ul({},this.str,1)}}]),v}(r);t.Name=i;var o=function(d){De(v,d);var h=Re(v);function v(p){var m;return re(this,v),(m=h.call(this))._items=typeof p=="string"?[p]:p,m}return ie(v,[{key:"toString",value:function(){return this.str}},{key:"emptyStr",value:function(){if(this._items.length>1)return!1;var p=this._items[0];return p===""||p==='""'}},{key:"str",get:function(){var p;return(p=this._str)!==null&&p!==void 0?p:this._str=this._items.reduce(function(m,g){return"".concat(m).concat(g)},"")}},{key:"names",get:function(){var p;return(p=this._names)!==null&&p!==void 0?p:this._names=this._items.reduce(function(m,g){return g instanceof i&&(m[g.str]=(m[g.str]||0)+1),m},{})}}]),v}(r);function a(d){for(var h=[d[0]],v=0,p=arguments.length,m=new Array(p>1?p-1:0),g=1;g<p;g++)m[g-1]=arguments[g];for(;v<m.length;)u(h,m[v]),h.push(d[++v]);return new o(h)}t._Code=o,t.nil=new o(""),t._=a;var s=new o("+");function l(d){for(var h=[f(d[0])],v=0,p=arguments.length,m=new Array(p>1?p-1:0),g=1;g<p;g++)m[g-1]=arguments[g];for(;v<m.length;)h.push(s),u(h,m[v]),h.push(s,f(d[++v]));return function(y){for(var b=1;b<y.length-1;){if(y[b]===s){var w=c(y[b-1],y[b+1]);if(w!==void 0){y.splice(b-1,3,w);continue}y[b++]="+"}b++}}(h),new o(h)}function u(d,h){var v;h instanceof o?d.push.apply(d,Ut(h._items)):d.push(h instanceof i?h:typeof(v=h)=="number"||typeof v=="boolean"||v===null?v:f(Array.isArray(v)?v.join(","):v))}function c(d,h){return h==='""'?d:d==='""'?h:typeof d=="string"?h instanceof i||d[d.length-1]!=='"'?void 0:typeof h!="string"?"".concat(d.slice(0,-1)).concat(h,'"'):h[0]==='"'?d.slice(0,-1)+h.slice(1):void 0:typeof h!="string"||h[0]!=='"'||d instanceof i?void 0:'"'.concat(d).concat(h.slice(1))}function f(d){return JSON.stringify(d).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=l,t.addCodeArg=u,t.strConcat=function(d,h){return h.emptyStr()?d:d.emptyStr()?h:l(wO||(wO=oe(["","",""])),d,h)},t.stringify=function(d){return new o(f(d))},t.safeStringify=f,t.getProperty=function(d){return typeof d=="string"&&t.IDENTIFIER.test(d)?new o(".".concat(d)):a(kO||(kO=oe(["[","]"])),d)},t.getEsmExportName=function(d){if(typeof d=="string"&&t.IDENTIFIER.test(d))return new o("".concat(d));throw new Error("CodeGen: invalid export name: ".concat(d,", use explicit $id name mapping"))},t.regexpCode=function(d){return new o(d.toString())}},{}],2:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;var r=n("./code"),i=n("./scope"),o=n("./code");Object.defineProperty(t,"_",{enumerable:!0,get:function(){return o._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return o.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return o.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return o.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return o.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return o.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return o.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return o.Name}});var a=n("./scope");Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),t.operators={GT:new r._Code(">"),GTE:new r._Code(">="),LT:new r._Code("<"),LTE:new r._Code("<="),EQ:new r._Code("==="),NEQ:new r._Code("!=="),NOT:new r._Code("!"),OR:new r._Code("||"),AND:new r._Code("&&"),ADD:new r._Code("+")};var s=function(){function F(){re(this,F)}return ie(F,[{key:"optimizeNodes",value:function(){return this}},{key:"optimizeNames",value:function(L,O){return this}}]),F}(),l=function(F){De(O,F);var L=Re(O);function O(V,Z,te){var ve;return re(this,O),(ve=L.call(this)).varKind=V,ve.name=Z,ve.rhs=te,ve}return ie(O,[{key:"render",value:function(V){var Z=V.es5,te=V._n;return"".concat(Z?i.varKinds.var:this.varKind," ").concat(this.name).concat(this.rhs===void 0?"":" = ".concat(this.rhs),";")+te}},{key:"optimizeNames",value:function(V,Z){if(V[this.name.str])return this.rhs&&(this.rhs=D(this.rhs,V,Z)),this}},{key:"names",get:function(){return this.rhs instanceof r._CodeOrName?this.rhs.names:{}}}]),O}(s),u=function(F){De(O,F);var L=Re(O);function O(V,Z,te){var ve;return re(this,O),(ve=L.call(this)).lhs=V,ve.rhs=Z,ve.sideEffects=te,ve}return ie(O,[{key:"render",value:function(V){var Z=V._n;return"".concat(this.lhs," = ").concat(this.rhs,";")+Z}},{key:"optimizeNames",value:function(V,Z){if(!(this.lhs instanceof r.Name)||V[this.lhs.str]||this.sideEffects)return this.rhs=D(this.rhs,V,Z),this}},{key:"names",get:function(){return j(this.lhs instanceof r.Name?{}:$e({},this.lhs.names),this.rhs)}}]),O}(s),c=function(F){De(O,F);var L=Re(O);function O(V,Z,te,ve){var ue;return re(this,O),(ue=L.call(this,V,te,ve)).op=Z,ue}return ie(O,[{key:"render",value:function(V){var Z=V._n;return"".concat(this.lhs," ").concat(this.op,"= ").concat(this.rhs,";")+Z}}]),O}(u),f=function(F){De(O,F);var L=Re(O);function O(V){var Z;return re(this,O),(Z=L.call(this)).label=V,Z.names={},Z}return ie(O,[{key:"render",value:function(V){var Z=V._n;return"".concat(this.label,":")+Z}}]),O}(s),d=function(F){De(O,F);var L=Re(O);function O(V){var Z;return re(this,O),(Z=L.call(this)).label=V,Z.names={},Z}return ie(O,[{key:"render",value:function(V){var Z=V._n;return"break".concat(this.label?" ".concat(this.label):"",";")+Z}}]),O}(s),h=function(F){De(O,F);var L=Re(O);function O(V){var Z;return re(this,O),(Z=L.call(this)).error=V,Z}return ie(O,[{key:"render",value:function(V){var Z=V._n;return"throw ".concat(this.error,";")+Z}},{key:"names",get:function(){return this.error.names}}]),O}(s),v=function(F){De(O,F);var L=Re(O);function O(V){var Z;return re(this,O),(Z=L.call(this)).code=V,Z}return ie(O,[{key:"render",value:function(V){var Z=V._n;return"".concat(this.code,";")+Z}},{key:"optimizeNodes",value:function(){return"".concat(this.code)?this:void 0}},{key:"optimizeNames",value:function(V,Z){return this.code=D(this.code,V,Z),this}},{key:"names",get:function(){return this.code instanceof r._CodeOrName?this.code.names:{}}}]),O}(s),p=function(F){De(O,F);var L=Re(O);function O(){var V,Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return re(this,O),(V=L.call(this)).nodes=Z,V}return ie(O,[{key:"render",value:function(V){return this.nodes.reduce(function(Z,te){return Z+te.render(V)},"")}},{key:"optimizeNodes",value:function(){for(var V=this.nodes,Z=V.length;Z--;){var te=V[Z].optimizeNodes();Array.isArray(te)?V.splice.apply(V,[Z,1].concat(Ut(te))):te?V[Z]=te:V.splice(Z,1)}return V.length>0?this:void 0}},{key:"optimizeNames",value:function(V,Z){for(var te=this.nodes,ve=te.length;ve--;){var ue=te[ve];ue.optimizeNames(V,Z)||(q(V,ue.names),te.splice(ve,1))}return te.length>0?this:void 0}},{key:"names",get:function(){return this.nodes.reduce(function(V,Z){return $(V,Z.names)},{})}}]),O}(s),m=function(F){De(O,F);var L=Re(O);function O(){return re(this,O),L.apply(this,arguments)}return ie(O,[{key:"render",value:function(V){return"{"+V._n+vn(sn(O.prototype),"render",this).call(this,V)+"}"+V._n}}]),O}(p),g=function(F){De(O,F);var L=Re(O);function O(){return re(this,O),L.apply(this,arguments)}return ie(O)}(p),y=function(F){De(O,F);var L=Re(O);function O(){return re(this,O),L.apply(this,arguments)}return ie(O)}(m);y.kind="else";var b=function(F){De(O,F);var L=Re(O);function O(V,Z){var te;return re(this,O),(te=L.call(this,Z)).condition=V,te}return ie(O,[{key:"render",value:function(V){var Z="if(".concat(this.condition,")")+vn(sn(O.prototype),"render",this).call(this,V);return this.else&&(Z+="else "+this.else.render(V)),Z}},{key:"optimizeNodes",value:function(){vn(sn(O.prototype),"optimizeNodes",this).call(this);var V=this.condition;if(V===!0)return this.nodes;var Z=this.else;if(Z){var te=Z.optimizeNodes();Z=this.else=Array.isArray(te)?new y(te):te}return Z?V===!1?Z instanceof O?Z:Z.nodes:this.nodes.length?this:new O(R(V),Z instanceof O?[Z]:Z.nodes):V!==!1&&this.nodes.length?this:void 0}},{key:"optimizeNames",value:function(V,Z){var te;if(this.else=(te=this.else)===null||te===void 0?void 0:te.optimizeNames(V,Z),vn(sn(O.prototype),"optimizeNames",this).call(this,V,Z)||this.else)return this.condition=D(this.condition,V,Z),this}},{key:"names",get:function(){var V=vn(sn(O.prototype),"names",this);return j(V,this.condition),this.else&&$(V,this.else.names),V}}]),O}(m);b.kind="if";var w=function(F){De(O,F);var L=Re(O);function O(){return re(this,O),L.apply(this,arguments)}return ie(O)}(m);w.kind="for";var k=function(F){De(O,F);var L=Re(O);function O(V){var Z;return re(this,O),(Z=L.call(this)).iteration=V,Z}return ie(O,[{key:"render",value:function(V){return"for(".concat(this.iteration,")")+vn(sn(O.prototype),"render",this).call(this,V)}},{key:"optimizeNames",value:function(V,Z){if(vn(sn(O.prototype),"optimizeNames",this).call(this,V,Z))return this.iteration=D(this.iteration,V,Z),this}},{key:"names",get:function(){return $(vn(sn(O.prototype),"names",this),this.iteration.names)}}]),O}(w),x=function(F){De(O,F);var L=Re(O);function O(V,Z,te,ve){var ue;return re(this,O),(ue=L.call(this)).varKind=V,ue.name=Z,ue.from=te,ue.to=ve,ue}return ie(O,[{key:"render",value:function(V){var Z=V.es5?i.varKinds.var:this.varKind,te=this.name,ve=this.from,ue=this.to;return"for(".concat(Z," ").concat(te,"=").concat(ve,"; ").concat(te,"<").concat(ue,"; ").concat(te,"++)")+vn(sn(O.prototype),"render",this).call(this,V)}},{key:"names",get:function(){var V=j(vn(sn(O.prototype),"names",this),this.from);return j(V,this.to)}}]),O}(w),C=function(F){De(O,F);var L=Re(O);function O(V,Z,te,ve){var ue;return re(this,O),(ue=L.call(this)).loop=V,ue.varKind=Z,ue.name=te,ue.iterable=ve,ue}return ie(O,[{key:"render",value:function(V){return"for(".concat(this.varKind," ").concat(this.name," ").concat(this.loop," ").concat(this.iterable,")")+vn(sn(O.prototype),"render",this).call(this,V)}},{key:"optimizeNames",value:function(V,Z){if(vn(sn(O.prototype),"optimizeNames",this).call(this,V,Z))return this.iterable=D(this.iterable,V,Z),this}},{key:"names",get:function(){return $(vn(sn(O.prototype),"names",this),this.iterable.names)}}]),O}(w),T=function(F){De(O,F);var L=Re(O);function O(V,Z,te){var ve;return re(this,O),(ve=L.call(this)).name=V,ve.args=Z,ve.async=te,ve}return ie(O,[{key:"render",value:function(V){return"".concat(this.async?"async ":"","function ").concat(this.name,"(").concat(this.args,")")+vn(sn(O.prototype),"render",this).call(this,V)}}]),O}(m);T.kind="func";var M=function(F){De(O,F);var L=Re(O);function O(){return re(this,O),L.apply(this,arguments)}return ie(O,[{key:"render",value:function(V){return"return "+vn(sn(O.prototype),"render",this).call(this,V)}}]),O}(p);M.kind="return";var B=function(F){De(O,F);var L=Re(O);function O(){return re(this,O),L.apply(this,arguments)}return ie(O,[{key:"render",value:function(V){var Z="try"+vn(sn(O.prototype),"render",this).call(this,V);return this.catch&&(Z+=this.catch.render(V)),this.finally&&(Z+=this.finally.render(V)),Z}},{key:"optimizeNodes",value:function(){var V,Z;return vn(sn(O.prototype),"optimizeNodes",this).call(this),(V=this.catch)===null||V===void 0||V.optimizeNodes(),(Z=this.finally)===null||Z===void 0||Z.optimizeNodes(),this}},{key:"optimizeNames",value:function(V,Z){var te,ve;return vn(sn(O.prototype),"optimizeNames",this).call(this,V,Z),(te=this.catch)===null||te===void 0||te.optimizeNames(V,Z),(ve=this.finally)===null||ve===void 0||ve.optimizeNames(V,Z),this}},{key:"names",get:function(){var V=vn(sn(O.prototype),"names",this);return this.catch&&$(V,this.catch.names),this.finally&&$(V,this.finally.names),V}}]),O}(m),_=function(F){De(O,F);var L=Re(O);function O(V){var Z;return re(this,O),(Z=L.call(this)).error=V,Z}return ie(O,[{key:"render",value:function(V){return"catch(".concat(this.error,")")+vn(sn(O.prototype),"render",this).call(this,V)}}]),O}(m);_.kind="catch";var N=function(F){De(O,F);var L=Re(O);function O(){return re(this,O),L.apply(this,arguments)}return ie(O,[{key:"render",value:function(V){return"finally"+vn(sn(O.prototype),"render",this).call(this,V)}}]),O}(m);function $(F,L){for(var O in L)F[O]=(F[O]||0)+(L[O]||0);return F}function j(F,L){return L instanceof r._CodeOrName?$(F,L.names):F}function D(F,L,O){return F instanceof r.Name?Z(F):(V=F)instanceof r._Code&&V._items.some(function(te){return te instanceof r.Name&&L[te.str]===1&&O[te.str]!==void 0})?new r._Code(F._items.reduce(function(te,ve){return ve instanceof r.Name&&(ve=Z(ve)),ve instanceof r._Code?te.push.apply(te,Ut(ve._items)):te.push(ve),te},[])):F;var V;function Z(te){var ve=O[te.str];return ve===void 0||L[te.str]!==1?te:(delete L[te.str],ve)}}function q(F,L){for(var O in L)F[O]=(F[O]||0)-(L[O]||0)}function R(F){return typeof F=="boolean"||typeof F=="number"||F===null?!F:r._(xO||(xO=oe(["!",""])),z(F))}N.kind="finally",t.CodeGen=function(){function F(L){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};re(this,F),this._values={},this._blockStarts=[],this._constants={},this.opts=$e($e({},O),{},{_n:O.lines?`
`:""}),this._extScope=L,this._scope=new i.Scope({parent:L}),this._nodes=[new g]}return ie(F,[{key:"toString",value:function(){return this._root.render(this.opts)}},{key:"name",value:function(L){return this._scope.name(L)}},{key:"scopeName",value:function(L){return this._extScope.name(L)}},{key:"scopeValue",value:function(L,O){var V=this._extScope.value(L,O);return(this._values[V.prefix]||(this._values[V.prefix]=new Set)).add(V),V}},{key:"getScopeValue",value:function(L,O){return this._extScope.getValue(L,O)}},{key:"scopeRefs",value:function(L){return this._extScope.scopeRefs(L,this._values)}},{key:"scopeCode",value:function(){return this._extScope.scopeCode(this._values)}},{key:"_def",value:function(L,O,V,Z){var te=this._scope.toName(O);return V!==void 0&&Z&&(this._constants[te.str]=V),this._leafNode(new l(L,te,V)),te}},{key:"const",value:function(L,O,V){return this._def(i.varKinds.const,L,O,V)}},{key:"let",value:function(L,O,V){return this._def(i.varKinds.let,L,O,V)}},{key:"var",value:function(L,O,V){return this._def(i.varKinds.var,L,O,V)}},{key:"assign",value:function(L,O,V){return this._leafNode(new u(L,O,V))}},{key:"add",value:function(L,O){return this._leafNode(new c(L,t.operators.ADD,O))}},{key:"code",value:function(L){return typeof L=="function"?L():L!==r.nil&&this._leafNode(new v(L)),this}},{key:"object",value:function(){for(var L=["{"],O=arguments.length,V=new Array(O),Z=0;Z<O;Z++)V[Z]=arguments[Z];for(var te=0,ve=V;te<ve.length;te++){var ue=Dt(ve[te],2),ge=ue[0],P=ue[1];L.length>1&&L.push(","),L.push(ge),(ge!==P||this.opts.es5)&&(L.push(":"),(0,r.addCodeArg)(L,P))}return L.push("}"),new r._Code(L)}},{key:"if",value:function(L,O,V){if(this._blockNode(new b(L)),O&&V)this.code(O).else().code(V).endIf();else if(O)this.code(O).endIf();else if(V)throw new Error('CodeGen: "else" body without "then" body');return this}},{key:"elseIf",value:function(L){return this._elseNode(new b(L))}},{key:"else",value:function(){return this._elseNode(new y)}},{key:"endIf",value:function(){return this._endBlockNode(b,y)}},{key:"_for",value:function(L,O){return this._blockNode(L),O&&this.code(O).endFor(),this}},{key:"for",value:function(L,O){return this._for(new k(L),O)}},{key:"forRange",value:function(L,O,V,Z){var te=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.opts.es5?i.varKinds.var:i.varKinds.let,ve=this._scope.toName(L);return this._for(new x(te,ve,O,V),function(){return Z(ve)})}},{key:"forOf",value:function(L,O,V){var Z=this,te=arguments.length>3&&arguments[3]!==void 0?arguments[3]:i.varKinds.const,ve=this._scope.toName(L);if(this.opts.es5){var ue=O instanceof r.Name?O:this.var("_arr",O);return this.forRange("_i",0,r._(jO||(jO=oe(["",".length"])),ue),function(ge){Z.var(ve,r._(CO||(CO=oe(["","[","]"])),ue,ge)),V(ve)})}return this._for(new C("of",te,ve,O),function(){return V(ve)})}},{key:"forIn",value:function(L,O,V){var Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this.opts.es5?i.varKinds.var:i.varKinds.const;if(this.opts.ownProperties)return this.forOf(L,r._(SO||(SO=oe(["Object.keys(",")"])),O),V);var te=this._scope.toName(L);return this._for(new C("in",Z,te,O),function(){return V(te)})}},{key:"endFor",value:function(){return this._endBlockNode(w)}},{key:"label",value:function(L){return this._leafNode(new f(L))}},{key:"break",value:function(L){return this._leafNode(new d(L))}},{key:"return",value:function(L){var O=new M;if(this._blockNode(O),this.code(L),O.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(M)}},{key:"try",value:function(L,O,V){if(!O&&!V)throw new Error('CodeGen: "try" without "catch" and "finally"');var Z=new B;if(this._blockNode(Z),this.code(L),O){var te=this.name("e");this._currNode=Z.catch=new _(te),O(te)}return V&&(this._currNode=Z.finally=new N,this.code(V)),this._endBlockNode(_,N)}},{key:"throw",value:function(L){return this._leafNode(new h(L))}},{key:"block",value:function(L,O){return this._blockStarts.push(this._nodes.length),L&&this.code(L).endBlock(O),this}},{key:"endBlock",value:function(L){var O=this._blockStarts.pop();if(O===void 0)throw new Error("CodeGen: not in self-balancing block");var V=this._nodes.length-O;if(V<0||L!==void 0&&V!==L)throw new Error("CodeGen: wrong number of nodes: ".concat(V," vs ").concat(L," expected"));return this._nodes.length=O,this}},{key:"func",value:function(L){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.nil,V=arguments.length>2?arguments[2]:void 0,Z=arguments.length>3?arguments[3]:void 0;return this._blockNode(new T(L,O,V)),Z&&this.code(Z).endFunc(),this}},{key:"endFunc",value:function(){return this._endBlockNode(T)}},{key:"optimize",value:function(){for(var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;L-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}},{key:"_leafNode",value:function(L){return this._currNode.nodes.push(L),this}},{key:"_blockNode",value:function(L){this._currNode.nodes.push(L),this._nodes.push(L)}},{key:"_endBlockNode",value:function(L,O){var V=this._currNode;if(V instanceof L||O&&V instanceof O)return this._nodes.pop(),this;throw new Error('CodeGen: not in block "'.concat(O?"".concat(L.kind,"/").concat(O.kind):L.kind,'"'))}},{key:"_elseNode",value:function(L){var O=this._currNode;if(!(O instanceof b))throw new Error('CodeGen: "else" without "if"');return this._currNode=O.else=L,this}},{key:"_root",get:function(){return this._nodes[0]}},{key:"_currNode",get:function(){var L=this._nodes;return L[L.length-1]},set:function(L){var O=this._nodes;O[O.length-1]=L}}]),F}(),t.not=R;var G=I(t.operators.AND);t.and=function(){for(var F=arguments.length,L=new Array(F),O=0;O<F;O++)L[O]=arguments[O];return L.reduce(G)};var A=I(t.operators.OR);function I(F){return function(L,O){return L===r.nil?O:O===r.nil?L:r._(TO||(TO=oe([""," "," ",""])),z(L),F,z(O))}}function z(F){return F instanceof r.Name?F:r._(OO||(OO=oe(["(",")"])),F)}t.or=function(){for(var F=arguments.length,L=new Array(F),O=0;O<F;O++)L[O]=arguments[O];return L.reduce(A)}},{"./code":1,"./scope":3}],3:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;var r,i=n("./code"),o=function(u){De(f,Md(Error));var c=Re(f);function f(d){var h;return re(this,f),(h=c.call(this,'CodeGen: "code" for '.concat(d," not defined"))).value=d.value,h}return ie(f)}();(function(u){u[u.Started=0]="Started",u[u.Completed=1]="Completed"})(r=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new i.Name("const"),let:new i.Name("let"),var:new i.Name("var")};var a=function(){function u(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=c.prefixes,d=c.parent;re(this,u),this._names={},this._prefixes=f,this._parent=d}return ie(u,[{key:"toName",value:function(c){return c instanceof i.Name?c:this.name(c)}},{key:"name",value:function(c){return new i.Name(this._newName(c))}},{key:"_newName",value:function(c){return"".concat(c).concat((this._names[c]||this._nameGroup(c)).index++)}},{key:"_nameGroup",value:function(c){var f,d;if(((d=(f=this._parent)===null||f===void 0?void 0:f._prefixes)===null||d===void 0?void 0:d.has(c))||this._prefixes&&!this._prefixes.has(c))throw new Error('CodeGen: prefix "'.concat(c,'" is not allowed in this scope'));return this._names[c]={prefix:c,index:0}}}]),u}();t.Scope=a;var s=function(u){De(f,u);var c=Re(f);function f(d,h){var v;return re(this,f),(v=c.call(this,h)).prefix=d,v}return ie(f,[{key:"setValue",value:function(d,h){var v=h.property,p=h.itemIndex;this.value=d,this.scopePath=i._(EO||(EO=oe([".","[","]"])),new i.Name(v),p)}}]),f}(i.Name);t.ValueScopeName=s;var l=i._(MO||(MO=oe([`
`],["\\n"])));t.ValueScope=function(u){De(f,u);var c=Re(f);function f(d){var h;return re(this,f),(h=c.call(this,d))._values={},h._scope=d.scope,h.opts=$e($e({},d),{},{_n:d.lines?l:i.nil}),h}return ie(f,[{key:"get",value:function(){return this._scope}},{key:"name",value:function(d){return new s(d,this._newName(d))}},{key:"value",value:function(d,h){var v;if(h.ref===void 0)throw new Error("CodeGen: ref must be passed in value");var p=this.toName(d),m=p.prefix,g=(v=h.key)!==null&&v!==void 0?v:h.ref,y=this._values[m];if(y){var b=y.get(g);if(b)return b}else y=this._values[m]=new Map;y.set(g,p);var w=this._scope[m]||(this._scope[m]=[]),k=w.length;return w[k]=h.ref,p.setValue(h,{property:m,itemIndex:k}),p}},{key:"getValue",value:function(d,h){var v=this._values[d];if(v)return v.get(h)}},{key:"scopeRefs",value:function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._values;return this._reduceValues(h,function(v){if(v.scopePath===void 0)throw new Error('CodeGen: name "'.concat(v,'" has no value'));return i._($O||($O=oe(["","",""])),d,v.scopePath)})}},{key:"scopeCode",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._values,h=arguments.length>1?arguments[1]:void 0,v=arguments.length>2?arguments[2]:void 0;return this._reduceValues(d,function(p){if(p.value===void 0)throw new Error('CodeGen: name "'.concat(p,'" has no value'));return p.value.code},h,v)}},{key:"_reduceValues",value:function(d,h){var v=this,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},m=arguments.length>3?arguments[3]:void 0,g=i.nil,y=function(w){var k=d[w];if(!k)return"continue";var x=p[w]=p[w]||new Map;k.forEach(function(C){if(!x.has(C)){x.set(C,r.Started);var T=h(C);if(T)g=i._(AO||(AO=oe(["",""," "," = ",";",""])),g,v.opts.es5?t.varKinds.var:t.varKinds.const,C,T,v.opts._n);else{if(!(T=m==null?void 0:m(C)))throw new o(C);g=i._(_O||(_O=oe(["","","",""])),g,T,v.opts._n)}x.set(C,r.Completed)}})};for(var b in d)y(b);return g}}]),f}(a)},{"./code":1}],4:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;var r=n("./codegen"),i=n("./util"),o=n("./names");function a(d,h){var v=d.const("err",h);d.if(r._(NO||(NO=oe([""," === null"])),o.default.vErrors),function(){return d.assign(o.default.vErrors,r._(IO||(IO=oe(["[","]"])),v))},r._(PO||(PO=oe(["",".push(",")"])),o.default.vErrors,v)),d.code(r._(LO||(LO=oe(["","++"])),o.default.errors))}function s(d,h){var v=d.gen,p=d.validateName;d.schemaEnv.$async?v.throw(r._(DO||(DO=oe(["new ","(",")"])),d.ValidationError,h)):(v.assign(r._(RO||(RO=oe(["",".errors"])),p),h),v.return(!1))}t.keywordError={message:function(d){var h=d.keyword;return r.str(BO||(BO=oe(['must pass "','" keyword validation'])),h)}},t.keyword$DataError={message:function(d){var h=d.keyword,v=d.schemaType;return v?r.str(zO||(zO=oe(['"','" keyword must be '," ($data)"])),h,v):r.str(qO||(qO=oe(['"','" keyword is invalid ($data)'])),h)}},t.reportError=function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.keywordError,v=arguments.length>2?arguments[2]:void 0,p=arguments.length>3?arguments[3]:void 0,m=d.it,g=m.gen,y=m.compositeRule,b=m.allErrors,w=u(d,h,v);(p!=null?p:y||b)?a(g,w):s(m,r._(FO||(FO=oe(["[","]"])),w))},t.reportExtraError=function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.keywordError,v=arguments.length>2?arguments[2]:void 0,p=d.it,m=p.gen,g=p.compositeRule,y=p.allErrors;a(m,u(d,h,v)),g||y||s(p,o.default.vErrors)},t.resetErrorsCount=function(d,h){d.assign(o.default.errors,h),d.if(r._(HO||(HO=oe([""," !== null"])),o.default.vErrors),function(){return d.if(h,function(){return d.assign(r._(VO||(VO=oe(["",".length"])),o.default.vErrors),h)},function(){return d.assign(o.default.vErrors,null)})})},t.extendErrors=function(d){var h=d.gen,v=d.keyword,p=d.schemaValue,m=d.data,g=d.errsCount,y=d.it;if(g===void 0)throw new Error("ajv implementation error");var b=h.name("err");h.forRange("i",g,o.default.errors,function(w){h.const(b,r._(WO||(WO=oe(["","[","]"])),o.default.vErrors,w)),h.if(r._(UO||(UO=oe(["",".instancePath === undefined"])),b),function(){return h.assign(r._(JO||(JO=oe(["",".instancePath"])),b),(0,r.strConcat)(o.default.instancePath,y.errorPath))}),h.assign(r._(GO||(GO=oe(["",".schemaPath"])),b),r.str(KO||(KO=oe(["","/",""])),y.errSchemaPath,v)),y.opts.verbose&&(h.assign(r._(QO||(QO=oe(["",".schema"])),b),p),h.assign(r._(YO||(YO=oe(["",".data"])),b),m))})};var l={keyword:new r.Name("keyword"),schemaPath:new r.Name("schemaPath"),params:new r.Name("params"),propertyName:new r.Name("propertyName"),message:new r.Name("message"),schema:new r.Name("schema"),parentSchema:new r.Name("parentSchema")};function u(d,h,v){return d.it.createErrors===!1?r._(ZO||(ZO=oe(["{}"]))):function(p,m){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},y=p.gen,b=[c(p.it,g),f(p,g)];return function(w,k,x){var C=k.params,T=k.message,M=w.keyword,B=w.data,_=w.schemaValue,N=w.it,$=N.opts,j=N.propertyName,D=N.topSchemaRef,q=N.schemaPath;x.push([l.keyword,M],[l.params,typeof C=="function"?C(w):C||r._(XO||(XO=oe(["{}"])))]),$.messages&&x.push([l.message,typeof T=="function"?T(w):T]),$.verbose&&x.push([l.schema,_],[l.parentSchema,r._(e3||(e3=oe(["","",""])),D,q)],[o.default.data,B]),j&&x.push([l.propertyName,j])}(p,m,b),y.object.apply(y,b)}(d,h,v)}function c(d,h){var v=d.errorPath,p=h.instancePath,m=p?r.str(t3||(t3=oe(["","",""])),v,(0,i.getErrorPath)(p,i.Type.Str)):v;return[o.default.instancePath,(0,r.strConcat)(o.default.instancePath,m)]}function f(d,h){var v=d.keyword,p=d.it.errSchemaPath,m=h.schemaPath,g=h.parentSchema?p:r.str(n3||(n3=oe(["","/",""])),p,v);return m&&(g=r.str(r3||(r3=oe(["","",""])),g,(0,i.getErrorPath)(m,i.Type.Str))),[l.schemaPath,g]}},{"./codegen":2,"./names":6,"./util":10}],5:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;var r=n("./codegen"),i=n("../runtime/validation_error"),o=n("./names"),a=n("./resolve"),s=n("./util"),l=n("./validate"),u=ie(function g(y){var b,w;re(this,g),this.refs={},this.dynamicAnchors={},mt(y.schema)=="object"&&(w=y.schema),this.schema=y.schema,this.schemaId=y.schemaId,this.root=y.root||this,this.baseId=(b=y.baseId)!==null&&b!==void 0?b:(0,a.normalizeId)(w==null?void 0:w[y.schemaId||"$id"]),this.schemaPath=y.schemaPath,this.localRefs=y.localRefs,this.meta=y.meta,this.$async=w==null?void 0:w.$async,this.refs={}});function c(g){var y=d.call(this,g);if(y)return y;var b,w=(0,a.getFullPath)(this.opts.uriResolver,g.root.baseId),k=this.opts.code,x=k.es5,C=k.lines,T=this.opts.ownProperties,M=new r.CodeGen(this.scope,{es5:x,lines:C,ownProperties:T});g.$async&&(b=M.scopeValue("Error",{ref:i.default,code:r._(i3||(i3=oe(['require("ajv/dist/runtime/validation_error").default'])))}));var B=M.scopeName("validate");g.validateName=B;var _,N={gen:M,allErrors:this.opts.allErrors,data:o.default.data,parentData:o.default.parentData,parentDataProperty:o.default.parentDataProperty,dataNames:[o.default.data],dataPathArr:[r.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:M.scopeValue("schema",this.opts.code.source===!0?{ref:g.schema,code:(0,r.stringify)(g.schema)}:{ref:g.schema}),validateName:B,ValidationError:b,schema:g.schema,schemaEnv:g,rootId:w,baseId:g.baseId||w,schemaPath:r.nil,errSchemaPath:g.schemaPath||(this.opts.jtd?"":"#"),errorPath:r._(o3||(o3=oe(['""']))),opts:this.opts,self:this};try{this._compilations.add(g),(0,l.validateFunctionCode)(N),M.optimize(this.opts.code.optimize);var $=M.toString();_="".concat(M.scopeRefs(o.default.scope),"return ").concat($),this.opts.code.process&&(_=this.opts.code.process(_,g));var j=new Function("".concat(o.default.self),"".concat(o.default.scope),_)(this,this.scope.get());if(this.scope.value(B,{ref:j}),j.errors=null,j.schema=g.schema,j.schemaEnv=g,g.$async&&(j.$async=!0),this.opts.code.source===!0&&(j.source={validateName:B,validateCode:$,scopeValues:M._values}),this.opts.unevaluated){var D=N.props,q=N.items;j.evaluated={props:D instanceof r.Name?void 0:D,items:q instanceof r.Name?void 0:q,dynamicProps:D instanceof r.Name,dynamicItems:q instanceof r.Name},j.source&&(j.source.evaluated=(0,r.stringify)(j.evaluated))}return g.validate=j,g}catch(R){throw delete g.validate,delete g.validateName,_&&this.logger.error("Error compiling schema, function code:",_),R}finally{this._compilations.delete(g)}}function f(g){return(0,a.inlineRef)(g.schema,this.opts.inlineRefs)?g.schema:g.validate?g:c.call(this,g)}function d(g){var y,b,w,k=fe(this._compilations);try{for(k.s();!(y=k.n()).done;){var x=y.value;if((b=x).schema===(w=g).schema&&b.root===w.root&&b.baseId===w.baseId)return x}}catch(C){k.e(C)}finally{k.f()}}function h(g,y){for(var b;typeof(b=this.refs[y])=="string";)y=b;return b||this.schemas[y]||v.call(this,g,y)}function v(g,y){var b=this.opts.uriResolver.parse(y),w=(0,a._getFullPath)(this.opts.uriResolver,b),k=(0,a.getFullPath)(this.opts.uriResolver,g.baseId,void 0);if(Object.keys(g.schema).length>0&&w===k)return m.call(this,b,g);var x=(0,a.normalizeId)(w),C=this.refs[x]||this.schemas[x];if(typeof C=="string"){var T=v.call(this,g,C);return mt(T==null?void 0:T.schema)!="object"?void 0:m.call(this,b,T)}if(mt(C==null?void 0:C.schema)=="object"){if(C.validate||c.call(this,C),x===(0,a.normalizeId)(y)){var M=C.schema,B=this.opts.schemaId,_=M[B];return _&&(k=(0,a.resolveUrl)(this.opts.uriResolver,k,_)),new u({schema:M,schemaId:B,root:g,baseId:k})}return m.call(this,b,C)}}t.SchemaEnv=u,t.compileSchema=c,t.resolveRef=function(g,y,b){var w;b=(0,a.resolveUrl)(this.opts.uriResolver,y,b);var k=g.refs[b];if(k)return k;var x=h.call(this,g,b);if(x===void 0){var C=(w=g.localRefs)===null||w===void 0?void 0:w[b],T=this.opts.schemaId;C&&(x=new u({schema:C,schemaId:T,root:g,baseId:y}))}return x!==void 0?g.refs[b]=f.call(this,x):void 0},t.getCompilingSchema=d,t.resolveSchema=v;var p=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function m(g,y){var b,w=y.baseId,k=y.schema,x=y.root;if(((b=g.fragment)===null||b===void 0?void 0:b[0])==="/"){var C,T,M=fe(g.fragment.slice(1).split("/"));try{for(M.s();!(C=M.n()).done;){var B=C.value;if(typeof k=="boolean")return;var _=k[(0,s.unescapeFragment)(B)];if(_===void 0)return;var N=mt(k=_)=="object"&&k[this.opts.schemaId];!p.has(B)&&N&&(w=(0,a.resolveUrl)(this.opts.uriResolver,w,N))}}catch(D){M.e(D)}finally{M.f()}if(typeof k!="boolean"&&k.$ref&&!(0,s.schemaHasRulesButRef)(k,this.RULES)){var $=(0,a.resolveUrl)(this.opts.uriResolver,w,k.$ref);T=v.call(this,x,$)}var j=this.opts.schemaId;return(T=T||new u({schema:k,schemaId:j,root:x,baseId:w})).schema!==T.root.schema?T:void 0}}},{"../runtime/validation_error":24,"./codegen":2,"./names":6,"./resolve":8,"./util":10,"./validate":15}],6:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./codegen"),i={data:new r.Name("data"),valCxt:new r.Name("valCxt"),instancePath:new r.Name("instancePath"),parentData:new r.Name("parentData"),parentDataProperty:new r.Name("parentDataProperty"),rootData:new r.Name("rootData"),dynamicAnchors:new r.Name("dynamicAnchors"),vErrors:new r.Name("vErrors"),errors:new r.Name("errors"),this:new r.Name("this"),self:new r.Name("self"),scope:new r.Name("scope"),json:new r.Name("json"),jsonPos:new r.Name("jsonPos"),jsonLen:new r.Name("jsonLen"),jsonPart:new r.Name("jsonPart")};t.default=i},{"./codegen":2}],7:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./resolve"),i=function(o){De(s,Md(Error));var a=Re(s);function s(l,u,c,f){var d;return re(this,s),(d=a.call(this,f||"can't resolve reference ".concat(c," from id ").concat(u))).missingRef=(0,r.resolveUrl)(l,u,c),d.missingSchema=(0,r.normalizeId)((0,r.getFullPath)(l,d.missingRef)),d}return ie(s)}();t.default=i},{"./resolve":8}],8:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;var r=n("./util"),i=n("fast-deep-equal"),o=n("json-schema-traverse"),a=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function(p){var m=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return typeof p=="boolean"||(m===!0?!l(p):!!m&&u(p)<=m)};var s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function l(p){for(var m in p){if(s.has(m))return!0;var g=p[m];if(Array.isArray(g)&&g.some(l)||mt(g)=="object"&&l(g))return!0}return!1}function u(p){var m=0;for(var g in p)if(g==="$ref"||(m++,!a.has(g)&&(mt(p[g])=="object"&&(0,r.eachItem)(p[g],function(y){return m+=u(y)}),1/0===m)))return 1/0;return m}function c(p){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(arguments.length>2?arguments[2]:void 0)!==!1&&(m=h(m));var g=p.parse(m);return f(p,g)}function f(p,m){return p.serialize(m).split("#")[0]+"#"}t.getFullPath=c,t._getFullPath=f;var d=/#\/?$/;function h(p){return p?p.replace(d,""):""}t.normalizeId=h,t.resolveUrl=function(p,m,g){return g=h(g),p.resolve(m,g)};var v=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function(p,m){var g=this;if(typeof p=="boolean")return{};var y=this.opts,b=y.schemaId,w=y.uriResolver,k=h(p[b]||m),x={"":k},C=c(w,k,!1),T={},M=new Set;return o(p,{allKeys:!0},function(N,$,j,D){if(D!==void 0){var q=C+$,R=x[D];typeof N[b]=="string"&&(R=G.call(g,N[b])),A.call(g,N.$anchor),A.call(g,N.$dynamicAnchor),x[$]=R}function G(I){if(I=h(R?(0,this.opts.uriResolver.resolve)(R,I):I),M.has(I))throw _(I);M.add(I);var z=this.refs[I];return typeof z=="string"&&(z=this.refs[z]),mt(z)=="object"?B(N,z.schema,I):I!==h(q)&&(I[0]==="#"?(B(N,T[I],I),T[I]=N):this.refs[I]=q),I}function A(I){if(typeof I=="string"){if(!v.test(I))throw new Error('invalid anchor "'.concat(I,'"'));G.call(this,"#".concat(I))}}}),T;function B(N,$,j){if($!==void 0&&!i(N,$))throw _(j)}function _(N){return new Error('reference "'.concat(N,'" resolves to more than one schema'))}}},{"./util":10,"fast-deep-equal":63,"json-schema-traverse":64}],9:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;var r=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function(i){return typeof i=="string"&&r.has(i)},t.getRules=function(){var i={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:$e($e({},i),{},{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},i.number,i.string,i.array,i.object],post:{rules:[]},all:{},keywords:{}}}},{}],10:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;var r=n("./codegen"),i=n("./codegen/code");function o(p){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.schema,g=p.opts,y=p.self;if(g.strictSchema&&typeof m!="boolean"){var b=y.RULES.keywords;for(var w in m)b[w]||v(p,'unknown keyword: "'.concat(w,'"'))}}function a(p,m){if(typeof p=="boolean")return!p;for(var g in p)if(m[g])return!0;return!1}function s(p){return typeof p=="number"?"".concat(p):p.replace(/~/g,"~0").replace(/\//g,"~1")}function l(p){return p.replace(/~1/g,"/").replace(/~0/g,"~")}function u(p){var m=p.mergeNames,g=p.mergeToName,y=p.mergeValues,b=p.resultToName;return function(w,k,x,C){var T=x===void 0?k:x instanceof r.Name?(k instanceof r.Name?m(w,k,x):g(w,k,x),x):k instanceof r.Name?(g(w,x,k),k):y(k,x);return C!==r.Name||T instanceof r.Name?T:b(w,T)}}function c(p,m){if(m===!0)return p.var("props",!0);var g=p.var("props",r._(a3||(a3=oe(["{}"]))));return m!==void 0&&f(p,g,m),g}function f(p,m,g){Object.keys(g).forEach(function(y){return p.assign(r._(s3||(s3=oe(["","",""])),m,(0,r.getProperty)(y)),!0)})}t.toHash=function(p){var m,g={},y=fe(p);try{for(y.s();!(m=y.n()).done;)g[m.value]=!0}catch(b){y.e(b)}finally{y.f()}return g},t.alwaysValidSchema=function(p,m){return typeof m=="boolean"?m:Object.keys(m).length===0||(o(p,m),!a(m,p.self.RULES.all))},t.checkUnknownRules=o,t.schemaHasRules=a,t.schemaHasRulesButRef=function(p,m){if(typeof p=="boolean")return!p;for(var g in p)if(g!=="$ref"&&m.all[g])return!0;return!1},t.schemaRefOrVal=function(p,m,g,y){var b=p.topSchemaRef,w=p.schemaPath;if(!y){if(typeof m=="number"||typeof m=="boolean")return m;if(typeof m=="string")return r._(l3||(l3=oe(["",""])),m)}return r._(u3||(u3=oe(["","","",""])),b,w,(0,r.getProperty)(g))},t.unescapeFragment=function(p){return l(decodeURIComponent(p))},t.escapeFragment=function(p){return encodeURIComponent(s(p))},t.escapeJsonPointer=s,t.unescapeJsonPointer=l,t.eachItem=function(p,m){if(Array.isArray(p)){var g,y=fe(p);try{for(y.s();!(g=y.n()).done;)m(g.value)}catch(b){y.e(b)}finally{y.f()}}else m(p)},t.mergeEvaluated={props:u({mergeNames:function(p,m,g){return p.if(r._(c3||(c3=oe([""," !== true && "," !== undefined"])),g,m),function(){p.if(r._(f3||(f3=oe([""," === true"])),m),function(){return p.assign(g,!0)},function(){return p.assign(g,r._(d3||(d3=oe([""," || {}"])),g)).code(r._(h3||(h3=oe(["Object.assign(",", ",")"])),g,m))})})},mergeToName:function(p,m,g){return p.if(r._(p3||(p3=oe([""," !== true"])),g),function(){m===!0?p.assign(g,!0):(p.assign(g,r._(v3||(v3=oe([""," || {}"])),g)),f(p,g,m))})},mergeValues:function(p,m){return p===!0||$e($e({},p),m)},resultToName:c}),items:u({mergeNames:function(p,m,g){return p.if(r._(m3||(m3=oe([""," !== true && "," !== undefined"])),g,m),function(){return p.assign(g,r._(g3||(g3=oe([""," === true ? true : "," > "," ? "," : ",""])),m,g,m,g,m))})},mergeToName:function(p,m,g){return p.if(r._(y3||(y3=oe([""," !== true"])),g),function(){return p.assign(g,m===!0||r._(b3||(b3=oe([""," > "," ? "," : ",""])),g,m,g,m))})},mergeValues:function(p,m){return p===!0||Math.max(p,m)},resultToName:function(p,m){return p.var("items",m)}})},t.evaluatedPropsToName=c,t.setEvaluated=f;var d,h={};function v(p,m){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.opts.strictSchema;if(g){if(m="strict mode: ".concat(m),g===!0)throw new Error(m);p.self.logger.warn(m)}}t.useFunc=function(p,m){return p.scopeValue("func",{ref:m,code:h[m.code]||(h[m.code]=new i._Code(m.code))})},function(p){p[p.Num=0]="Num",p[p.Str=1]="Str"}(d=t.Type||(t.Type={})),t.getErrorPath=function(p,m,g){if(p instanceof r.Name){var y=m===d.Num;return g?y?r._(w3||(w3=oe(['"[" + ',' + "]"'])),p):r._(k3||(k3=oe([`"['" + `,` + "']"`])),p):y?r._(x3||(x3=oe(['"/" + ',""])),p):r._(j3||(j3=oe(['"/" + ','.replace(/~/g, "~0").replace(/\\//g, "~1")'],['"/" + ','.replace(/~/g, "~0").replace(/\\\\//g, "~1")'])),p)}return g?(0,r.getProperty)(p).toString():"/"+s(p)},t.checkStrictMode=v},{"./codegen":2,"./codegen/code":1}],11:[function(n,e,t){function r(o,a){return a.rules.some(function(s){return i(o,s)})}function i(o,a){var s;return o[a.keyword]!==void 0||((s=a.definition.implements)===null||s===void 0?void 0:s.some(function(l){return o[l]!==void 0}))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function(o,a){var s=o.schema,l=o.self.RULES.types[a];return l&&l!==!0&&r(s,l)},t.shouldUseGroup=r,t.shouldUseRule=i},{}],12:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;var r=n("../errors"),i=n("../codegen"),o=n("../names"),a={message:"boolean schema is false"};function s(l,u){var c=l.gen,f=l.data;(0,r.reportError)({gen:c,keyword:"false schema",data:f,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:l},a,void 0,u)}t.topBoolOrEmptySchema=function(l){var u=l.gen,c=l.schema,f=l.validateName;c===!1?s(l,!1):mt(c)=="object"&&c.$async===!0?u.return(o.default.data):(u.assign(i._(C3||(C3=oe(["",".errors"])),f),null),u.return(!0))},t.boolOrEmptySchema=function(l,u){var c=l.gen;l.schema===!1?(c.var(u,!1),s(l)):c.var(u,!0)}},{"../codegen":2,"../errors":4,"../names":6}],13:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;var r,i=n("../rules"),o=n("./applicability"),a=n("../errors"),s=n("../codegen"),l=n("../util");function u(p){var m=Array.isArray(p)?p:p?[p]:[];if(m.every(i.isJSONType))return m;throw new Error("type must be JSONType or JSONType[]: "+m.join(","))}(function(p){p[p.Correct=0]="Correct",p[p.Wrong=1]="Wrong"})(r=t.DataType||(t.DataType={})),t.getSchemaTypes=function(p){var m=u(p.type);if(m.includes("null")){if(p.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!m.length&&p.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');p.nullable===!0&&m.push("null")}return m},t.getJSONTypes=u,t.coerceAndCheckDataType=function(p,m){var g=p.gen,y=p.data,b=p.opts,w=function(C,T){return T?C.filter(function(M){return c.has(M)||T==="array"&&M==="array"}):[]}(m,b.coerceTypes),k=m.length>0&&!(w.length===0&&m.length===1&&(0,o.schemaHasRulesForType)(p,m[0]));if(k){var x=d(m,y,b.strictNumbers,r.Wrong);g.if(x,function(){w.length?function(C,T,M){var B=C.gen,_=C.data,N=C.opts,$=B.let("dataType",s._(S3||(S3=oe(["typeof ",""])),_)),j=B.let("coerced",s._(T3||(T3=oe(["undefined"]))));N.coerceTypes==="array"&&B.if(s._(O3||(O3=oe([""," == 'object' && Array.isArray(",") && ",".length == 1"])),$,_,_),function(){return B.assign(_,s._(E3||(E3=oe(["","[0]"])),_)).assign($,s._(M3||(M3=oe(["typeof ",""])),_)).if(d(T,_,N.strictNumbers),function(){return B.assign(j,_)})}),B.if(s._($3||($3=oe([""," !== undefined"])),j));var D,q=fe(M);try{for(q.s();!(D=q.n()).done;){var R=D.value;(c.has(R)||R==="array"&&N.coerceTypes==="array")&&G(R)}}catch(A){q.e(A)}finally{q.f()}function G(A){switch(A){case"string":return void B.elseIf(s._(A3||(A3=oe(["",' == "number" || ',' == "boolean"'])),$,$)).assign(j,s._(_3||(_3=oe(['"" + ',""])),_)).elseIf(s._(N3||(N3=oe([""," === null"])),_)).assign(j,s._(I3||(I3=oe(['""']))));case"number":return void B.elseIf(s._(P3||(P3=oe(["",' == "boolean" || ',` === null
              || (`,' == "string" && '," && "," == +",")"])),$,_,$,_,_,_)).assign(j,s._(L3||(L3=oe(["+",""])),_));case"integer":return void B.elseIf(s._(D3||(D3=oe(["",' === "boolean" || ',` === null
              || (`,' === "string" && '," && "," == +"," && !("," % 1))"])),$,_,$,_,_,_,_)).assign(j,s._(R3||(R3=oe(["+",""])),_));case"boolean":return void B.elseIf(s._(B3||(B3=oe(["",' === "false" || '," === 0 || "," === null"])),_,_,_)).assign(j,!1).elseIf(s._(z3||(z3=oe(["",' === "true" || '," === 1"])),_,_)).assign(j,!0);case"null":return B.elseIf(s._(q3||(q3=oe(["",' === "" || '," === 0 || "," === false"])),_,_,_)),void B.assign(j,null);case"array":B.elseIf(s._(F3||(F3=oe(["",' === "string" || ',` === "number"
              || `,' === "boolean" || '," === null"])),$,$,$,_)).assign(j,s._(H3||(H3=oe(["[","]"])),_))}}B.else(),v(C),B.endIf(),B.if(s._(V3||(V3=oe([""," !== undefined"])),j),function(){B.assign(_,j),function(A,I){var z=A.gen,F=A.parentData,L=A.parentDataProperty;z.if(s._(W3||(W3=oe([""," !== undefined"])),F),function(){return z.assign(s._(U3||(U3=oe(["","[","]"])),F,L),I)})}(C,j)})}(p,m,w):v(p)})}return k};var c=new Set(["string","number","integer","boolean","null"]);function f(p,m,g){var y,b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r.Correct,w=b===r.Correct?s.operators.EQ:s.operators.NEQ;switch(p){case"null":return s._(J3||(J3=oe([""," "," null"])),m,w);case"array":y=s._(G3||(G3=oe(["Array.isArray(",")"])),m);break;case"object":y=s._(K3||(K3=oe([""," && typeof ",' == "object" && !Array.isArray(',")"])),m,m,m);break;case"integer":y=k(s._(Q3||(Q3=oe(["!("," % 1) && !isNaN(",")"])),m,m));break;case"number":y=k();break;default:return s._(Y3||(Y3=oe(["typeof "," "," ",""])),m,w,p)}return b===r.Correct?y:(0,s.not)(y);function k(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s.nil;return(0,s.and)(s._(Z3||(Z3=oe(["typeof ",' == "number"'])),m),x,g?s._(X3||(X3=oe(["isFinite(",")"])),m):s.nil)}}function d(p,m,g,y){if(p.length===1)return f(p[0],m,g,y);var b,w=(0,l.toHash)(p);if(w.array&&w.object){var k=s._(eE||(eE=oe(["typeof ",' != "object"'])),m);b=w.null?k:s._(tE||(tE=oe(["!"," || ",""])),m,k),delete w.null,delete w.array,delete w.object}else b=s.nil;for(var x in w.number&&delete w.integer,w)b=(0,s.and)(b,f(x,m,g,y));return b}t.checkDataType=f,t.checkDataTypes=d;var h={message:function(p){var m=p.schema;return"must be ".concat(m)},params:function(p){var m=p.schema,g=p.schemaValue;return typeof m=="string"?s._(nE||(nE=oe(["{type: ","}"])),m):s._(rE||(rE=oe(["{type: ","}"])),g)}};function v(p){var m=function(g){var y=g.gen,b=g.data,w=g.schema,k=(0,l.schemaRefOrVal)(g,w,"type");return{gen:y,keyword:"type",data:b,schema:w.type,schemaCode:k,schemaValue:k,parentSchema:w,params:{},it:g}}(p);(0,a.reportError)(m,h)}t.reportTypeError=v},{"../codegen":2,"../errors":4,"../rules":9,"../util":10,"./applicability":11}],14:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;var r=n("../codegen"),i=n("../util");function o(a,s,l){var u=a.gen,c=a.compositeRule,f=a.data,d=a.opts;if(l!==void 0){var h=r._(iE||(iE=oe(["","",""])),f,(0,r.getProperty)(s));if(c)(0,i.checkStrictMode)(a,"default is ignored for: ".concat(h));else{var v=r._(oE||(oE=oe([""," === undefined"])),h);d.useDefaults==="empty"&&(v=r._(aE||(aE=oe([""," || "," === null || ",' === ""'])),v,h,h)),u.if(v,r._(sE||(sE=oe([""," = ",""])),h,(0,r.stringify)(l)))}}}t.assignDefaults=function(a,s){var l=a.schema,u=l.properties,c=l.items;if(s==="object"&&u)for(var f in u)o(a,f,u[f].default);else s==="array"&&Array.isArray(c)&&c.forEach(function(d,h){return o(a,h,d.default)})}},{"../codegen":2,"../util":10}],15:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;var r=n("./boolSchema"),i=n("./dataType"),o=n("./applicability"),a=n("./dataType"),s=n("./defaults"),l=n("./keyword"),u=n("./subschema"),c=n("../codegen"),f=n("../names"),d=n("../resolve"),h=n("../util"),v=n("../errors");function p(R,G){var A=R.gen,I=R.validateName,z=R.schema,F=R.schemaEnv,L=R.opts;L.code.es5?A.func(I,c._(lE||(lE=oe(["",", ",""])),f.default.data,f.default.valCxt),F.$async,function(){A.code(c._(uE||(uE=oe(['"use strict"; ',""])),m(z,L))),function(O,V){O.if(f.default.valCxt,function(){O.var(f.default.instancePath,c._(cE||(cE=oe(["",".",""])),f.default.valCxt,f.default.instancePath)),O.var(f.default.parentData,c._(fE||(fE=oe(["",".",""])),f.default.valCxt,f.default.parentData)),O.var(f.default.parentDataProperty,c._(dE||(dE=oe(["",".",""])),f.default.valCxt,f.default.parentDataProperty)),O.var(f.default.rootData,c._(hE||(hE=oe(["",".",""])),f.default.valCxt,f.default.rootData)),V.dynamicRef&&O.var(f.default.dynamicAnchors,c._(pE||(pE=oe(["",".",""])),f.default.valCxt,f.default.dynamicAnchors))},function(){O.var(f.default.instancePath,c._(vE||(vE=oe(['""'])))),O.var(f.default.parentData,c._(mE||(mE=oe(["undefined"])))),O.var(f.default.parentDataProperty,c._(gE||(gE=oe(["undefined"])))),O.var(f.default.rootData,f.default.data),V.dynamicRef&&O.var(f.default.dynamicAnchors,c._(yE||(yE=oe(["{}"]))))})}(A,L),A.code(G)}):A.func(I,c._(bE||(bE=oe(["",", ",""])),f.default.data,function(O){return c._(wE||(wE=oe(["{",'="", ',", ",", ","=","","}={}"])),f.default.instancePath,f.default.parentData,f.default.parentDataProperty,f.default.rootData,f.default.data,O.dynamicRef?c._(kE||(kE=oe([", ","={}"])),f.default.dynamicAnchors):c.nil)}(L)),F.$async,function(){return A.code(m(z,L)).code(G)})}function m(R,G){var A=mt(R)=="object"&&R[G.schemaId];return A&&(G.code.source||G.code.process)?c._(xE||(xE=oe(["/*# sourceURL="," */"])),A):c.nil}function g(R,G){b(R)&&(w(R),y(R))?function(A,I){var z=A.schema,F=A.gen;A.opts.$comment&&z.$comment&&x(A),function(O){var V=O.schema[O.opts.schemaId];V&&(O.baseId=(0,d.resolveUrl)(O.opts.uriResolver,O.baseId,V))}(A),function(O){if(O.schema.$async&&!O.schemaEnv.$async)throw new Error("async schema in sync schema")}(A);var L=F.const("_errs",f.default.errors);k(A,L),F.var(I,c._(jE||(jE=oe([""," === ",""])),L,f.default.errors))}(R,G):(0,r.boolOrEmptySchema)(R,G)}function y(R){var G=R.schema,A=R.self;if(typeof G=="boolean")return!G;for(var I in G)if(A.RULES.all[I])return!0;return!1}function b(R){return typeof R.schema!="boolean"}function w(R){(0,h.checkUnknownRules)(R),function(G){var A=G.schema,I=G.errSchemaPath,z=G.opts,F=G.self;A.$ref&&z.ignoreKeywordsWithRef&&(0,h.schemaHasRulesButRef)(A,F.RULES)&&F.logger.warn('$ref: keywords ignored in schema at path "'.concat(I,'"'))}(R)}function k(R,G){if(R.opts.jtd)return C(R,[],!1,G);var A=(0,i.getSchemaTypes)(R.schema);C(R,A,!(0,i.coerceAndCheckDataType)(R,A),G)}function x(R){var G=R.gen,A=R.schemaEnv,I=R.schema,z=R.errSchemaPath,F=R.opts,L=I.$comment;if(F.$comment===!0)G.code(c._(CE||(CE=oe(["",".logger.log(",")"])),f.default.self,L));else if(typeof F.$comment=="function"){var O=c.str(SE||(SE=oe(["","/$comment"])),z),V=G.scopeValue("root",{ref:A.root});G.code(c._(TE||(TE=oe(["",".opts.$comment(",", ",", ",".schema)"])),f.default.self,L,O,V))}}function C(R,G,A,I){var z=R.gen,F=R.schema,L=R.data,O=R.allErrors,V=R.opts,Z=R.self.RULES;function te(ve){(0,o.shouldUseGroup)(F,ve)&&(ve.type?(z.if((0,a.checkDataType)(ve.type,L,V.strictNumbers)),T(R,ve),G.length===1&&G[0]===ve.type&&A&&(z.else(),(0,a.reportTypeError)(R)),z.endIf()):T(R,ve),O||z.if(c._(OE||(OE=oe([""," === ",""])),f.default.errors,I||0)))}!F.$ref||!V.ignoreKeywordsWithRef&&(0,h.schemaHasRulesButRef)(F,Z)?(V.jtd||function(ve,ue){!ve.schemaEnv.meta&&ve.opts.strictTypes&&(function(ge,P){P.length&&(ge.dataTypes.length?(P.forEach(function(S){B(ge.dataTypes,S)||_(ge,'type "'.concat(S,'" not allowed by context "').concat(ge.dataTypes.join(","),'"'))}),ge.dataTypes=ge.dataTypes.filter(function(S){return B(P,S)})):ge.dataTypes=P)}(ve,ue),ve.opts.allowUnionTypes||function(ge,P){P.length>1&&(P.length!==2||!P.includes("null"))&&_(ge,"use allowUnionTypes to allow union type keyword")}(ve,ue),function(ge,P){var S=ge.self.RULES.all;for(var ae in S){var ce=S[ae];if(mt(ce)=="object"&&(0,o.shouldUseRule)(ge.schema,ce)){var ne=ce.definition.type;ne.length&&!ne.some(function(ye){return M(P,ye)})&&_(ge,'missing type "'.concat(ne.join(","),'" for keyword "').concat(ae,'"'))}}}(ve,ve.dataTypes))}(R,G),z.block(function(){var ve,ue=fe(Z.rules);try{for(ue.s();!(ve=ue.n()).done;)te(ve.value)}catch(ge){ue.e(ge)}finally{ue.f()}te(Z.post)})):z.block(function(){return $(R,"$ref",Z.all.$ref.definition)})}function T(R,G){var A=R.gen,I=R.schema;R.opts.useDefaults&&(0,s.assignDefaults)(R,G.type),A.block(function(){var z,F=fe(G.rules);try{for(F.s();!(z=F.n()).done;){var L=z.value;(0,o.shouldUseRule)(I,L)&&$(R,L.keyword,L.definition,G.type)}}catch(O){F.e(O)}finally{F.f()}})}function M(R,G){return R.includes(G)||G==="number"&&R.includes("integer")}function B(R,G){return R.includes(G)||G==="integer"&&R.includes("number")}function _(R,G){(0,h.checkStrictMode)(R,G+=' at "'.concat(R.schemaEnv.baseId+R.errSchemaPath,'" (strictTypes)'),R.opts.strictTypes)}t.validateFunctionCode=function(R){b(R)&&(w(R),y(R))?function(G){var A=G.schema,I=G.opts,z=G.gen;p(G,function(){I.$comment&&A.$comment&&x(G),function(F){var L=F.schema,O=F.opts;L.default!==void 0&&O.useDefaults&&O.strictSchema&&(0,h.checkStrictMode)(F,"default is ignored in the schema root")}(G),z.let(f.default.vErrors,null),z.let(f.default.errors,0),I.unevaluated&&function(F){var L=F.gen,O=F.validateName;F.evaluated=L.const("evaluated",c._(EE||(EE=oe(["",".evaluated"])),O)),L.if(c._(ME||(ME=oe(["",".dynamicProps"])),F.evaluated),function(){return L.assign(c._($E||($E=oe(["",".props"])),F.evaluated),c._(AE||(AE=oe(["undefined"]))))}),L.if(c._(_E||(_E=oe(["",".dynamicItems"])),F.evaluated),function(){return L.assign(c._(NE||(NE=oe(["",".items"])),F.evaluated),c._(IE||(IE=oe(["undefined"]))))})}(G),k(G),function(F){var L=F.gen,O=F.schemaEnv,V=F.validateName,Z=F.ValidationError,te=F.opts;O.$async?L.if(c._(PE||(PE=oe([""," === 0"])),f.default.errors),function(){return L.return(f.default.data)},function(){return L.throw(c._(LE||(LE=oe(["new ","(",")"])),Z,f.default.vErrors))}):(L.assign(c._(DE||(DE=oe(["",".errors"])),V),f.default.vErrors),te.unevaluated&&function(ve){var ue=ve.gen,ge=ve.evaluated,P=ve.props,S=ve.items;P instanceof c.Name&&ue.assign(c._(RE||(RE=oe(["",".props"])),ge),P),S instanceof c.Name&&ue.assign(c._(BE||(BE=oe(["",".items"])),ge),S)}(F),L.return(c._(zE||(zE=oe([""," === 0"])),f.default.errors)))}(G)})}(R):p(R,function(){return(0,r.topBoolOrEmptySchema)(R)})};var N=function(){function R(G,A,I){if(re(this,R),(0,l.validateKeywordUsage)(G,A,I),this.gen=G.gen,this.allErrors=G.allErrors,this.keyword=I,this.data=G.data,this.schema=G.schema[I],this.$data=A.$data&&G.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,h.schemaRefOrVal)(G,this.schema,I,this.$data),this.schemaType=A.schemaType,this.parentSchema=G.schema,this.params={},this.it=G,this.def=A,this.$data)this.schemaCode=G.gen.const("vSchema",q(this.$data,G));else if(this.schemaCode=this.schemaValue,!(0,l.validSchemaType)(this.schema,A.schemaType,A.allowUndefined))throw new Error("".concat(I," value must be ").concat(JSON.stringify(A.schemaType)));("code"in A?A.trackErrors:A.errors!==!1)&&(this.errsCount=G.gen.const("_errs",f.default.errors))}return ie(R,[{key:"result",value:function(G,A,I){this.failResult((0,c.not)(G),A,I)}},{key:"failResult",value:function(G,A,I){this.gen.if(G),I?I():this.error(),A?(this.gen.else(),A(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}},{key:"pass",value:function(G,A){this.failResult((0,c.not)(G),void 0,A)}},{key:"fail",value:function(G){if(G===void 0)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(G),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}},{key:"fail$data",value:function(G){if(!this.$data)return this.fail(G);var A=this.schemaCode;this.fail(c._(qE||(qE=oe([""," !== undefined && (",")"])),A,(0,c.or)(this.invalid$data(),G)))}},{key:"error",value:function(G,A,I){if(A)return this.setParams(A),this._error(G,I),void this.setParams({});this._error(G,I)}},{key:"_error",value:function(G,A){(G?v.reportExtraError:v.reportError)(this,this.def.error,A)}},{key:"$dataError",value:function(){(0,v.reportError)(this,this.def.$dataError||v.keyword$DataError)}},{key:"reset",value:function(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,v.resetErrorsCount)(this.gen,this.errsCount)}},{key:"ok",value:function(G){this.allErrors||this.gen.if(G)}},{key:"setParams",value:function(G,A){A?Object.assign(this.params,G):this.params=G}},{key:"block$data",value:function(G,A){var I=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:c.nil;this.gen.block(function(){I.check$data(G,z),A()})}},{key:"check$data",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:c.nil,A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c.nil;if(this.$data){var I=this.gen,z=this.schemaCode,F=this.schemaType,L=this.def;I.if((0,c.or)(c._(FE||(FE=oe([""," === undefined"])),z),A)),G!==c.nil&&I.assign(G,!0),(F.length||L.validateSchema)&&(I.elseIf(this.invalid$data()),this.$dataError(),G!==c.nil&&I.assign(G,!1)),I.else()}}},{key:"invalid$data",value:function(){var G=this.gen,A=this.schemaCode,I=this.schemaType,z=this.def,F=this.it;return(0,c.or)(function(){if(I.length){if(!(A instanceof c.Name))throw new Error("ajv implementation error");var L=Array.isArray(I)?I:[I];return c._(HE||(HE=oe(["",""])),(0,a.checkDataTypes)(L,A,F.opts.strictNumbers,a.DataType.Wrong))}return c.nil}(),function(){if(z.validateSchema){var L=G.scopeValue("validate$data",{ref:z.validateSchema});return c._(VE||(VE=oe(["!","(",")"])),L,A)}return c.nil}())}},{key:"subschema",value:function(G,A){var I=(0,u.getSubschema)(this.it,G);(0,u.extendSubschemaData)(I,this.it,G),(0,u.extendSubschemaMode)(I,G);var z=$e($e($e({},this.it),I),{},{items:void 0,props:void 0});return g(z,A),z}},{key:"mergeEvaluated",value:function(G,A){var I=this.it,z=this.gen;I.opts.unevaluated&&(I.props!==!0&&G.props!==void 0&&(I.props=h.mergeEvaluated.props(z,G.props,I.props,A)),I.items!==!0&&G.items!==void 0&&(I.items=h.mergeEvaluated.items(z,G.items,I.items,A)))}},{key:"mergeValidEvaluated",value:function(G,A){var I=this,z=this.it,F=this.gen;if(z.opts.unevaluated&&(z.props!==!0||z.items!==!0))return F.if(A,function(){return I.mergeEvaluated(G,c.Name)}),!0}}]),R}();function $(R,G,A,I){var z=new N(R,A,G);"code"in A?A.code(z,I):z.$data&&A.validate?(0,l.funcKeywordCode)(z,A):"macro"in A?(0,l.macroKeywordCode)(z,A):(A.compile||A.validate)&&(0,l.funcKeywordCode)(z,A)}t.KeywordCxt=N;var j=/^\/(?:[^~]|~0|~1)*$/,D=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function q(R,G){var A,I,z=G.dataLevel,F=G.dataNames,L=G.dataPathArr;if(R==="")return f.default.rootData;if(R[0]==="/"){if(!j.test(R))throw new Error("Invalid JSON-pointer: ".concat(R));A=R,I=f.default.rootData}else{var O=D.exec(R);if(!O)throw new Error("Invalid JSON-pointer: ".concat(R));var V=+O[1];if((A=O[2])==="#"){if(V>=z)throw new Error(ge("property/index",V));return L[z-V]}if(V>z)throw new Error(ge("data",V));if(I=F[z-V],!A)return I}var Z,te=I,ve=fe(A.split("/"));try{for(ve.s();!(Z=ve.n()).done;){var ue=Z.value;ue&&(I=c._(WE||(WE=oe(["","",""])),I,(0,c.getProperty)((0,h.unescapeJsonPointer)(ue))),te=c._(UE||(UE=oe([""," && ",""])),te,I))}}catch(P){ve.e(P)}finally{ve.f()}return te;function ge(P,S){return"Cannot access ".concat(P," ").concat(S," levels up, current level is ").concat(z)}}t.getData=q},{"../codegen":2,"../errors":4,"../names":6,"../resolve":8,"../util":10,"./applicability":11,"./boolSchema":12,"./dataType":13,"./defaults":14,"./keyword":16,"./subschema":17}],16:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;var r=n("../codegen"),i=n("../names"),o=n("../../vocabularies/code"),a=n("../errors");function s(u){var c=u.gen,f=u.data,d=u.it;c.if(d.parentData,function(){return c.assign(f,r._(JE||(JE=oe(["","[","]"])),d.parentData,d.parentDataProperty))})}function l(u,c,f){if(f===void 0)throw new Error('keyword "'.concat(c,'" failed to compile'));return u.scopeValue("keyword",typeof f=="function"?{ref:f}:{ref:f,code:(0,r.stringify)(f)})}t.macroKeywordCode=function(u,c){var f=u.gen,d=u.keyword,h=u.schema,v=u.parentSchema,p=u.it,m=c.macro.call(p.self,h,v,p),g=l(f,d,m);p.opts.validateSchema!==!1&&p.self.validateSchema(m,!0);var y=f.name("valid");u.subschema({schema:m,schemaPath:r.nil,errSchemaPath:"".concat(p.errSchemaPath,"/").concat(d),topSchemaRef:g,compositeRule:!0},y),u.pass(y,function(){return u.error(!0)})},t.funcKeywordCode=function(u,c){var f,d=u.gen,h=u.keyword,v=u.schema,p=u.parentSchema,m=u.$data,g=u.it;(function(C,T){var M=C.schemaEnv;if(T.async&&!M.$async)throw new Error("async keyword in sync schema")})(g,c);var y=!m&&c.compile?c.compile.call(g.self,v,p,g):c.validate,b=l(d,h,y),w=d.let("valid");function k(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:c.async?r._(GE||(GE=oe(["await "]))):r.nil;d.assign(w,r._(KE||(KE=oe(["","",""])),C,(0,o.callValidateCode)(u,b,g.opts.passContext?i.default.this:i.default.self,!("compile"in c&&!m||c.schema===!1))),c.modifying)}function x(C){var T;d.if((0,r.not)((T=c.valid)!==null&&T!==void 0?T:w),C)}u.block$data(w,function(){if(c.errors===!1)k(),c.modifying&&s(u),x(function(){return u.error()});else{var C=c.async?function(){var T=d.let("ruleErrs",null);return d.try(function(){return k(r._(QE||(QE=oe(["await "]))))},function(M){return d.assign(w,!1).if(r._(YE||(YE=oe([""," instanceof ",""])),M,g.ValidationError),function(){return d.assign(T,r._(ZE||(ZE=oe(["",".errors"])),M))},function(){return d.throw(M)})}),T}():function(){var T=r._(XE||(XE=oe(["",".errors"])),b);return d.assign(T,null),k(r.nil),T}();c.modifying&&s(u),x(function(){return function(T,M){var B=T.gen;B.if(r._(eM||(eM=oe(["Array.isArray(",")"])),M),function(){B.assign(i.default.vErrors,r._(tM||(tM=oe([""," === null ? "," : ",".concat(",")"])),i.default.vErrors,M,i.default.vErrors,M)).assign(i.default.errors,r._(nM||(nM=oe(["",".length"])),i.default.vErrors)),(0,a.extendErrors)(T)},function(){return T.error()})}(u,C)})}}),u.ok((f=c.valid)!==null&&f!==void 0?f:w)},t.validSchemaType=function(u,c){var f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return!c.length||c.some(function(d){return d==="array"?Array.isArray(u):d==="object"?u&&mt(u)=="object"&&!Array.isArray(u):mt(u)==d||f&&u===void 0})},t.validateKeywordUsage=function(u,c,f){var d=u.schema,h=u.opts,v=u.self,p=u.errSchemaPath;if(Array.isArray(c.keyword)?!c.keyword.includes(f):c.keyword!==f)throw new Error("ajv implementation error");var m=c.dependencies;if(m!=null&&m.some(function(y){return!Object.prototype.hasOwnProperty.call(d,y)}))throw new Error("parent schema must have dependencies of ".concat(f,": ").concat(m.join(",")));if(c.validateSchema&&!c.validateSchema(d[f])){var g='keyword "'.concat(f,'" value is invalid at path "').concat(p,'": ')+v.errorsText(c.validateSchema.errors);if(h.validateSchema!=="log")throw new Error(g);v.logger.error(g)}}},{"../../vocabularies/code":42,"../codegen":2,"../errors":4,"../names":6}],17:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;var r=n("../codegen"),i=n("../util");t.getSubschema=function(o,a){var s=a.keyword,l=a.schemaProp,u=a.schema,c=a.schemaPath,f=a.errSchemaPath,d=a.topSchemaRef;if(s!==void 0&&u!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(s!==void 0){var h=o.schema[s];return l===void 0?{schema:h,schemaPath:r._(rM||(rM=oe(["","",""])),o.schemaPath,(0,r.getProperty)(s)),errSchemaPath:"".concat(o.errSchemaPath,"/").concat(s)}:{schema:h[l],schemaPath:r._(iM||(iM=oe(["","","",""])),o.schemaPath,(0,r.getProperty)(s),(0,r.getProperty)(l)),errSchemaPath:"".concat(o.errSchemaPath,"/").concat(s,"/").concat((0,i.escapeFragment)(l))}}if(u!==void 0){if(c===void 0||f===void 0||d===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:u,schemaPath:c,topSchemaRef:d,errSchemaPath:f}}throw new Error('either "keyword" or "schema" must be passed')},t.extendSubschemaData=function(o,a,s){var l=s.dataProp,u=s.dataPropType,c=s.data,f=s.dataTypes,d=s.propertyName;if(c!==void 0&&l!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');var h=a.gen;if(l!==void 0){var v=a.errorPath,p=a.dataPathArr,m=a.opts;g(h.let("data",r._(oM||(oM=oe(["","",""])),a.data,(0,r.getProperty)(l)),!0)),o.errorPath=r.str(aM||(aM=oe(["","",""])),v,(0,i.getErrorPath)(l,u,m.jsPropertySyntax)),o.parentDataProperty=r._(sM||(sM=oe(["",""])),l),o.dataPathArr=[].concat(Ut(p),[o.parentDataProperty])}function g(y){o.data=y,o.dataLevel=a.dataLevel+1,o.dataTypes=[],a.definedProperties=new Set,o.parentData=a.data,o.dataNames=[].concat(Ut(a.dataNames),[y])}c!==void 0&&(g(c instanceof r.Name?c:h.let("data",c,!0)),d!==void 0&&(o.propertyName=d)),f&&(o.dataTypes=f)},t.extendSubschemaMode=function(o,a){var s=a.jtdDiscriminator,l=a.jtdMetadata,u=a.compositeRule,c=a.createErrors,f=a.allErrors;u!==void 0&&(o.compositeRule=u),c!==void 0&&(o.createErrors=c),f!==void 0&&(o.allErrors=f),o.jtdDiscriminator=s,o.jtdMetadata=l}},{"../codegen":2,"../util":10}],18:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var r=n("./compile/validate");Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return r.KeywordCxt}});var i=n("./compile/codegen");Object.defineProperty(t,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return i.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return i.CodeGen}});var o=n("./runtime/validation_error"),a=n("./compile/ref_error"),s=n("./compile/rules"),l=n("./compile"),u=n("./compile/codegen"),c=n("./compile/resolve"),f=n("./compile/validate/dataType"),d=n("./compile/util"),h=n("./refs/data.json"),v=n("./runtime/uri"),p=function(I,z){return new RegExp(I,z)};p.code="new RegExp";var m=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},b={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function w(I){var z,F,L,O,V,Z,te,ve,ue,ge,P,S,ae,ce,ne,ye,Ce,Se,Ue,pt,Ke,Me,et,le,be,Le=I.strict,Ee=(z=I.code)===null||z===void 0?void 0:z.optimize,ct=Ee===!0||Ee===void 0?1:Ee||0,it=(L=(F=I.code)===null||F===void 0?void 0:F.regExp)!==null&&L!==void 0?L:p,at=(O=I.uriResolver)!==null&&O!==void 0?O:v.default;return{strictSchema:(Z=(V=I.strictSchema)!==null&&V!==void 0?V:Le)===null||Z===void 0||Z,strictNumbers:(ve=(te=I.strictNumbers)!==null&&te!==void 0?te:Le)===null||ve===void 0||ve,strictTypes:(ge=(ue=I.strictTypes)!==null&&ue!==void 0?ue:Le)!==null&&ge!==void 0?ge:"log",strictTuples:(S=(P=I.strictTuples)!==null&&P!==void 0?P:Le)!==null&&S!==void 0?S:"log",strictRequired:(ce=(ae=I.strictRequired)!==null&&ae!==void 0?ae:Le)!==null&&ce!==void 0&&ce,code:I.code?$e($e({},I.code),{},{optimize:ct,regExp:it}):{optimize:ct,regExp:it},loopRequired:(ne=I.loopRequired)!==null&&ne!==void 0?ne:200,loopEnum:(ye=I.loopEnum)!==null&&ye!==void 0?ye:200,meta:(Ce=I.meta)===null||Ce===void 0||Ce,messages:(Se=I.messages)===null||Se===void 0||Se,inlineRefs:(Ue=I.inlineRefs)===null||Ue===void 0||Ue,schemaId:(pt=I.schemaId)!==null&&pt!==void 0?pt:"$id",addUsedSchema:(Ke=I.addUsedSchema)===null||Ke===void 0||Ke,validateSchema:(Me=I.validateSchema)===null||Me===void 0||Me,validateFormats:(et=I.validateFormats)===null||et===void 0||et,unicodeRegExp:(le=I.unicodeRegExp)===null||le===void 0||le,int32range:(be=I.int32range)===null||be===void 0||be,uriResolver:at}}var k=function(){function I(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};re(this,I),this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,z=this.opts=$e($e({},z),w(z));var F=this.opts.code,L=F.es5,O=F.lines;this.scope=new u.ValueScope({scope:{},prefixes:g,es5:L,lines:O}),this.logger=function(Z){if(Z===!1)return N;if(Z===void 0)return console;if(Z.log&&Z.warn&&Z.error)return Z;throw new Error("logger must implement log, warn and error methods")}(z.logger);var V=z.validateFormats;z.validateFormats=!1,this.RULES=(0,s.getRules)(),x.call(this,y,z,"NOT SUPPORTED"),x.call(this,b,z,"DEPRECATED","warn"),this._metaOpts=_.call(this),z.formats&&M.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),z.keywords&&B.call(this,z.keywords),mt(z.meta)=="object"&&this.addMetaSchema(z.meta),T.call(this),z.validateFormats=V}return ie(I,[{key:"_addVocabularies",value:function(){this.addKeyword("$async")}},{key:"_addDefaultMetaSchema",value:function(){var z=this.opts,F=z.$data,L=z.meta,O=z.schemaId,V=h;O==="id"&&((V=$e({},h)).id=V.$id,delete V.$id),L&&F&&this.addMetaSchema(V,V[O],!1)}},{key:"defaultMeta",value:function(){var z=this.opts,F=z.meta,L=z.schemaId;return this.opts.defaultMeta=mt(F)=="object"?F[L]||F:void 0}},{key:"validate",value:function(z,F){var L;if(typeof z=="string"){if(!(L=this.getSchema(z)))throw new Error('no schema with key or ref "'.concat(z,'"'))}else L=this.compile(z);var O=L(F);return"$async"in L||(this.errors=L.errors),O}},{key:"compile",value:function(z,F){var L=this._addSchema(z,F);return L.validate||this._compileSchemaEnv(L)}},{key:"compileAsync",value:function(z,F){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");var L=this.opts.loadSchema;return O.call(this,z,F);function O(ne,ye){return V.apply(this,arguments)}function V(){return V=Fn(At().mark(function ne(ye,Ce){var Se;return At().wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:return Ue.next=2,Z.call(this,ye.$schema);case 2:return Se=this._addSchema(ye,Ce),Ue.abrupt("return",Se.validate||ve.call(this,Se));case 4:case"end":return Ue.stop()}},ne,this)})),V.apply(this,arguments)}function Z(ne){return te.apply(this,arguments)}function te(){return te=Fn(At().mark(function ne(ye){return At().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:if(Ce.t0=ye&&!this.getSchema(ye),!Ce.t0){Ce.next=4;break}return Ce.next=4,O.call(this,{$ref:ye},!0);case 4:case"end":return Ce.stop()}},ne,this)})),te.apply(this,arguments)}function ve(ne){return ue.apply(this,arguments)}function ue(){return ue=Fn(At().mark(function ne(ye){return At().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:return Ce.prev=0,Ce.abrupt("return",this._compileSchemaEnv(ye));case 4:if(Ce.prev=4,Ce.t0=Ce.catch(0),Ce.t0 instanceof a.default){Ce.next=8;break}throw Ce.t0;case 8:return ge.call(this,Ce.t0),Ce.next=11,P.call(this,Ce.t0.missingSchema);case 11:return Ce.abrupt("return",ve.call(this,ye));case 12:case"end":return Ce.stop()}},ne,this,[[0,4]])})),ue.apply(this,arguments)}function ge(ne){var ye=ne.missingSchema,Ce=ne.missingRef;if(this.refs[ye])throw new Error("AnySchema ".concat(ye," is loaded but ").concat(Ce," cannot be resolved"))}function P(ne){return S.apply(this,arguments)}function S(){return S=Fn(At().mark(function ne(ye){var Ce;return At().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return Se.next=2,ae.call(this,ye);case 2:if(Ce=Se.sent,Se.t0=this.refs[ye],Se.t0){Se.next=7;break}return Se.next=7,Z.call(this,Ce.$schema);case 7:this.refs[ye]||this.addSchema(Ce,ye,F);case 8:case"end":return Se.stop()}},ne,this)})),S.apply(this,arguments)}function ae(ne){return ce.apply(this,arguments)}function ce(){return ce=Fn(At().mark(function ne(ye){var Ce;return At().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(!(Ce=this._loading[ye])){Se.next=3;break}return Se.abrupt("return",Ce);case 3:return Se.prev=3,Se.next=6,this._loading[ye]=L(ye);case 6:return Se.abrupt("return",Se.sent);case 7:return Se.prev=7,delete this._loading[ye],Se.finish(7);case 10:case"end":return Se.stop()}},ne,this,[[3,,7,10]])})),ce.apply(this,arguments)}}},{key:"addSchema",value:function(z,F,L){var O,V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this.opts.validateSchema;if(Array.isArray(z)){var Z,te=fe(z);try{for(te.s();!(Z=te.n()).done;){var ve=Z.value;this.addSchema(ve,void 0,L,V)}}catch(ge){te.e(ge)}finally{te.f()}return this}if(mt(z)=="object"){var ue=this.opts.schemaId;if((O=z[ue])!==void 0&&typeof O!="string")throw new Error("schema ".concat(ue," must be string"))}return F=(0,c.normalizeId)(F||O),this._checkUnique(F),this.schemas[F]=this._addSchema(z,L,F,V,!0),this}},{key:"addMetaSchema",value:function(z,F){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.opts.validateSchema;return this.addSchema(z,F,!0,L),this}},{key:"validateSchema",value:function(z,F){if(typeof z=="boolean")return!0;var L;if((L=z.$schema)!==void 0&&typeof L!="string")throw new Error("$schema must be a string");if(!(L=L||this.opts.defaultMeta||this.defaultMeta()))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var O=this.validate(L,z);if(!O&&F){var V="schema is invalid: "+this.errorsText();if(this.opts.validateSchema!=="log")throw new Error(V);this.logger.error(V)}return O}},{key:"getSchema",value:function(z){for(var F;typeof(F=C.call(this,z))=="string";)z=F;if(F===void 0){var L=this.opts.schemaId,O=new l.SchemaEnv({schema:{},schemaId:L});if(!(F=l.resolveSchema.call(this,O,z)))return;this.refs[z]=F}return F.validate||this._compileSchemaEnv(F)}},{key:"removeSchema",value:function(z){if(z instanceof RegExp)return this._removeAllSchemas(this.schemas,z),this._removeAllSchemas(this.refs,z),this;switch(mt(z)){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":var F=C.call(this,z);return mt(F)=="object"&&this._cache.delete(F.schema),delete this.schemas[z],delete this.refs[z],this;case"object":this._cache.delete(z);var L=z[this.opts.schemaId];return L&&(L=(0,c.normalizeId)(L),delete this.schemas[L],delete this.refs[L]),this;default:throw new Error("ajv.removeSchema: invalid parameter")}}},{key:"addVocabulary",value:function(z){var F,L=fe(z);try{for(L.s();!(F=L.n()).done;){var O=F.value;this.addKeyword(O)}}catch(V){L.e(V)}finally{L.f()}return this}},{key:"addKeyword",value:function(z,F){var L,O=this;if(typeof z=="string")L=z,mt(F)=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),F.keyword=L);else{if(mt(z)!="object"||F!==void 0)throw new Error("invalid addKeywords parameters");if(L=(F=z).keyword,Array.isArray(L)&&!L.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(j.call(this,L,F),!F)return(0,d.eachItem)(L,function(Z){return D.call(O,Z)}),this;R.call(this,F);var V=$e($e({},F),{},{type:(0,f.getJSONTypes)(F.type),schemaType:(0,f.getJSONTypes)(F.schemaType)});return(0,d.eachItem)(L,V.type.length===0?function(Z){return D.call(O,Z,V)}:function(Z){return V.type.forEach(function(te){return D.call(O,Z,V,te)})}),this}},{key:"getKeyword",value:function(z){var F=this.RULES.all[z];return mt(F)=="object"?F.definition:!!F}},{key:"removeKeyword",value:function(z){var F=this.RULES;delete F.keywords[z],delete F.all[z];var L,O=fe(F.rules);try{for(O.s();!(L=O.n()).done;){var V=L.value,Z=V.rules.findIndex(function(te){return te.keyword===z});Z>=0&&V.rules.splice(Z,1)}}catch(te){O.e(te)}finally{O.f()}return this}},{key:"addFormat",value:function(z,F){return typeof F=="string"&&(F=new RegExp(F)),this.formats[z]=F,this}},{key:"errorsText",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.errors,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=F.separator,O=L===void 0?", ":L,V=F.dataVar,Z=V===void 0?"data":V;return z&&z.length!==0?z.map(function(te){return"".concat(Z).concat(te.instancePath," ").concat(te.message)}).reduce(function(te,ve){return te+O+ve}):"No errors"}},{key:"$dataMetaSchema",value:function(z,F){var L=this.RULES.all;z=JSON.parse(JSON.stringify(z));var O,V=fe(F);try{for(V.s();!(O=V.n()).done;){var Z,te=O.value.split("/").slice(1),ve=z,ue=fe(te);try{for(ue.s();!(Z=ue.n()).done;)ve=ve[Z.value]}catch(ce){ue.e(ce)}finally{ue.f()}for(var ge in L){var P=L[ge];if(mt(P)=="object"){var S=P.definition.$data,ae=ve[ge];S&&ae&&(ve[ge]=A(ae))}}}}catch(ce){V.e(ce)}finally{V.f()}return z}},{key:"_removeAllSchemas",value:function(z,F){for(var L in z){var O=z[L];F&&!F.test(L)||(typeof O=="string"?delete z[L]:O&&!O.meta&&(this._cache.delete(O.schema),delete z[L]))}}},{key:"_addSchema",value:function(z,F,L){var O,V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this.opts.validateSchema,Z=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.opts.addUsedSchema,te=this.opts.schemaId;if(mt(z)=="object")O=z[te];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof z!="boolean")throw new Error("schema must be object or boolean")}var ve=this._cache.get(z);if(ve!==void 0)return ve;L=(0,c.normalizeId)(O||L);var ue=c.getSchemaRefs.call(this,z,L);return ve=new l.SchemaEnv({schema:z,schemaId:te,meta:F,baseId:L,localRefs:ue}),this._cache.set(ve.schema,ve),Z&&!L.startsWith("#")&&(L&&this._checkUnique(L),this.refs[L]=ve),V&&this.validateSchema(z,!0),ve}},{key:"_checkUnique",value:function(z){if(this.schemas[z]||this.refs[z])throw new Error('schema with key or id "'.concat(z,'" already exists'))}},{key:"_compileSchemaEnv",value:function(z){if(z.meta?this._compileMetaSchema(z):l.compileSchema.call(this,z),!z.validate)throw new Error("ajv implementation error");return z.validate}},{key:"_compileMetaSchema",value:function(z){var F=this.opts;this.opts=this._metaOpts;try{l.compileSchema.call(this,z)}finally{this.opts=F}}}]),I}();function x(I,z,F){var L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"error";for(var O in I){var V=O;V in z&&this.logger[L]("".concat(F,": option ").concat(O,". ").concat(I[V]))}}function C(I){return I=(0,c.normalizeId)(I),this.schemas[I]||this.refs[I]}function T(){var I=this.opts.schemas;if(I)if(Array.isArray(I))this.addSchema(I);else for(var z in I)this.addSchema(I[z],z)}function M(){for(var I in this.opts.formats){var z=this.opts.formats[I];z&&this.addFormat(I,z)}}function B(I){if(Array.isArray(I))this.addVocabulary(I);else for(var z in this.logger.warn("keywords option as map is deprecated, pass array"),I){var F=I[z];F.keyword||(F.keyword=z),this.addKeyword(F)}}function _(){var I,z=$e({},this.opts),F=fe(m);try{for(F.s();!(I=F.n()).done;)delete z[I.value]}catch(L){F.e(L)}finally{F.f()}return z}t.default=k,k.ValidationError=o.default,k.MissingRefError=a.default;var N={log:function(){},warn:function(){},error:function(){}},$=/^[a-z_$][a-z0-9_$:-]*$/i;function j(I,z){var F=this.RULES;if((0,d.eachItem)(I,function(L){if(F.keywords[L])throw new Error("Keyword ".concat(L," is already defined"));if(!$.test(L))throw new Error("Keyword ".concat(L," has invalid name"))}),z&&z.$data&&!("code"in z)&&!("validate"in z))throw new Error('$data keyword must have "code" or "validate" function')}function D(I,z,F){var L,O=this,V=z==null?void 0:z.post;if(F&&V)throw new Error('keyword with "post" flag cannot have "type"');var Z=this.RULES,te=V?Z.post:Z.rules.find(function(ue){return ue.type===F});if(te||(te={type:F,rules:[]},Z.rules.push(te)),Z.keywords[I]=!0,z){var ve={keyword:I,definition:$e($e({},z),{},{type:(0,f.getJSONTypes)(z.type),schemaType:(0,f.getJSONTypes)(z.schemaType)})};z.before?q.call(this,te,ve,z.before):te.rules.push(ve),Z.all[I]=ve,(L=z.implements)===null||L===void 0||L.forEach(function(ue){return O.addKeyword(ue)})}}function q(I,z,F){var L=I.rules.findIndex(function(O){return O.keyword===F});L>=0?I.rules.splice(L,0,z):(I.rules.push(z),this.logger.warn("rule ".concat(F," is not defined")))}function R(I){var z=I.metaSchema;z!==void 0&&(I.$data&&this.opts.$data&&(z=A(z)),I.validateSchema=this.compile(z,!0))}var G={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function A(I){return{anyOf:[I,G]}}},{"./compile":5,"./compile/codegen":2,"./compile/ref_error":7,"./compile/resolve":8,"./compile/rules":9,"./compile/util":10,"./compile/validate":15,"./compile/validate/dataType":13,"./refs/data.json":19,"./runtime/uri":23,"./runtime/validation_error":24}],19:[function(n,e,t){e.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},{}],20:[function(n,e,t){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}},{}],21:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=n("fast-deep-equal");r.code='require("ajv/dist/runtime/equal").default',t.default=r},{"fast-deep-equal":63}],22:[function(n,e,t){function r(i){for(var o,a=i.length,s=0,l=0;l<a;)s++,(o=i.charCodeAt(l++))>=55296&&o<=56319&&l<a&&(64512&(o=i.charCodeAt(l)))==56320&&l++;return s}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,r.code='require("ajv/dist/runtime/ucs2length").default'},{}],23:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=n("uri-js");r.code='require("ajv/dist/runtime/uri").default',t.default=r},{"uri-js":65}],24:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(i){De(a,Md(Error));var o=Re(a);function a(s){var l;return re(this,a),(l=o.call(this,"validation failed")).errors=s,l.ajv=l.validation=!0,l}return ie(a)}();t.default=r},{}],25:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;var r=n("../../compile/codegen"),i=n("../../compile/util"),o={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:function(s){var l=s.params.len;return r.str(lM||(lM=oe(["must NOT have more than "," items"])),l)},params:function(s){var l=s.params.len;return r._(uM||(uM=oe(["{limit: ","}"])),l)}},code:function(s){var l=s.parentSchema,u=s.it,c=l.items;Array.isArray(c)?a(s,c):(0,i.checkStrictMode)(u,'"additionalItems" is ignored when "items" is not an array of schemas')}};function a(s,l){var u=s.gen,c=s.schema,f=s.data,d=s.keyword,h=s.it;h.items=!0;var v=u.const("len",r._(cM||(cM=oe(["",".length"])),f));if(c===!1)s.setParams({len:l.length}),s.pass(r._(fM||(fM=oe([""," <= ",""])),v,l.length));else if(mt(c)=="object"&&!(0,i.alwaysValidSchema)(h,c)){var p=u.var("valid",r._(dM||(dM=oe([""," <= ",""])),v,l.length));u.if((0,r.not)(p),function(){return function(m){u.forRange("i",l.length,v,function(g){s.subschema({keyword:d,dataProp:g,dataPropType:i.Type.Num},m),h.allErrors||u.if((0,r.not)(m),function(){return u.break()})})}(p)}),s.ok(p)}}t.validateAdditionalItems=a,t.default=o},{"../../compile/codegen":2,"../../compile/util":10}],26:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=n("../code"),i=n("../../compile/codegen"),o=n("../../compile/names"),a=n("../../compile/util");t.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:function(s){var l=s.params;return i._(hM||(hM=oe(["{additionalProperty: ","}"])),l.additionalProperty)}},code:function(s){var l=s.gen,u=s.schema,c=s.parentSchema,f=s.data,d=s.errsCount,h=s.it;if(!d)throw new Error("ajv implementation error");var v=h.allErrors,p=h.opts;if(h.props=!0,p.removeAdditional==="all"||!(0,a.alwaysValidSchema)(h,u)){var m=(0,r.allSchemaProperties)(c.properties),g=(0,r.allSchemaProperties)(c.patternProperties);l.forIn("key",f,function(k){m.length||g.length?l.if(function(x){var C;if(m.length>8){var T=(0,a.schemaRefOrVal)(h,c.properties,"properties");C=(0,r.isOwnProperty)(l,T,x)}else C=m.length?i.or.apply(void 0,Ut(m.map(function(M){return i._(vM||(vM=oe([""," === ",""])),x,M)}))):i.nil;return g.length&&(C=i.or.apply(void 0,[C].concat(Ut(g.map(function(M){return i._(mM||(mM=oe(["",".test(",")"])),(0,r.usePattern)(s,M),x)}))))),(0,i.not)(C)}(k),function(){return b(k)}):b(k)}),s.ok(i._(gM||(gM=oe([""," === ",""])),d,o.default.errors))}function y(k){l.code(i._(pM||(pM=oe(["delete ","[","]"])),f,k))}function b(k){if(p.removeAdditional==="all"||p.removeAdditional&&u===!1)y(k);else{if(u===!1)return s.setParams({additionalProperty:k}),s.error(),void(v||l.break());if(mt(u)=="object"&&!(0,a.alwaysValidSchema)(h,u)){var x=l.name("valid");p.removeAdditional==="failing"?(w(k,x,!1),l.if((0,i.not)(x),function(){s.reset(),y(k)})):(w(k,x),v||l.if((0,i.not)(x),function(){return l.break()}))}}}function w(k,x,C){var T={keyword:"additionalProperties",dataProp:k,dataPropType:a.Type.Str};C===!1&&Object.assign(T,{compositeRule:!0,createErrors:!1,allErrors:!1}),s.subschema(T,x)}}}},{"../../compile/codegen":2,"../../compile/names":6,"../../compile/util":10,"../code":42}],27:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=n("../../compile/util");t.default={keyword:"allOf",schemaType:"array",code:function(i){var o=i.gen,a=i.schema,s=i.it;if(!Array.isArray(a))throw new Error("ajv implementation error");var l=o.name("valid");a.forEach(function(u,c){if(!(0,r.alwaysValidSchema)(s,u)){var f=i.subschema({keyword:"allOf",schemaProp:c},l);i.ok(l),i.mergeEvaluated(f)}})}}},{"../../compile/util":10}],28:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=n("../code");t.default={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:r.validateUnion,error:{message:"must match a schema in anyOf"}}},{"../code":42}],29:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=n("../../compile/codegen"),i=n("../../compile/util");t.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:function(o){var a=o.params,s=a.min,l=a.max;return l===void 0?r.str(yM||(yM=oe(["must contain at least "," valid item(s)"])),s):r.str(bM||(bM=oe(["must contain at least "," and no more than "," valid item(s)"])),s,l)},params:function(o){var a=o.params,s=a.min,l=a.max;return l===void 0?r._(wM||(wM=oe(["{minContains: ","}"])),s):r._(kM||(kM=oe(["{minContains: ",", maxContains: ","}"])),s,l)}},code:function(o){var a,s,l=o.gen,u=o.schema,c=o.parentSchema,f=o.data,d=o.it,h=c.minContains,v=c.maxContains;d.opts.next?(a=h===void 0?1:h,s=v):a=1;var p=l.const("len",r._(xM||(xM=oe(["",".length"])),f));if(o.setParams({min:a,max:s}),s!==void 0||a!==0){if(s!==void 0&&a>s)return(0,i.checkStrictMode)(d,'"minContains" > "maxContains" is always invalid'),void o.fail();if((0,i.alwaysValidSchema)(d,u)){var m=r._(jM||(jM=oe([""," >= ",""])),p,a);return s!==void 0&&(m=r._(CM||(CM=oe([""," && "," <= ",""])),m,p,s)),void o.pass(m)}d.items=!0;var g=l.name("valid");s===void 0&&a===1?b(g,function(){return l.if(g,function(){return l.break()})}):a===0?(l.let(g,!0),s!==void 0&&l.if(r._(MM||(MM=oe(["",".length > 0"])),f),y)):(l.let(g,!1),y()),o.result(g,function(){return o.reset()})}else(0,i.checkStrictMode)(d,'"minContains" == 0 without "maxContains": "contains" keyword ignored');function y(){var w=l.name("_valid"),k=l.let("count",0);b(w,function(){return l.if(w,function(){return function(x){l.code(r._(SM||(SM=oe(["","++"])),x)),s===void 0?l.if(r._(TM||(TM=oe([""," >= ",""])),x,a),function(){return l.assign(g,!0).break()}):(l.if(r._(OM||(OM=oe([""," > ",""])),x,s),function(){return l.assign(g,!1).break()}),a===1?l.assign(g,!0):l.if(r._(EM||(EM=oe([""," >= ",""])),x,a),function(){return l.assign(g,!0)}))}(k)})})}function b(w,k){l.forRange("i",0,p,function(x){o.subschema({keyword:"contains",dataProp:x,dataPropType:i.Type.Num,compositeRule:!0},w),k()})}}}},{"../../compile/codegen":2,"../../compile/util":10}],30:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;var r=n("../../compile/codegen"),i=n("../../compile/util"),o=n("../code");t.error={message:function(u){var c=u.params,f=c.property,d=c.depsCount,h=c.deps;return r.str($M||($M=oe(["must have "," "," when property "," is present"])),d===1?"property":"properties",h,f)},params:function(u){var c=u.params,f=c.property,d=c.depsCount,h=c.deps,v=c.missingProperty;return r._(AM||(AM=oe(["{property: ",`,
    missingProperty: `,`,
    depsCount: `,`,
    deps: `,"}"])),f,v,d,h)}};var a={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code:function(u){var c=function(v){var p=v.schema,m={},g={};for(var y in p)y!=="__proto__"&&((Array.isArray(p[y])?m:g)[y]=p[y]);return[m,g]}(u),f=Dt(c,2),d=f[0],h=f[1];s(u,d),l(u,h)}};function s(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.schema,f=u.gen,d=u.data,h=u.it;if(Object.keys(c).length!==0){var v=f.let("missing"),p=function(g){var y=c[g];if(y.length===0)return"continue";var b=(0,o.propertyInData)(f,d,g,h.opts.ownProperties);u.setParams({property:g,depsCount:y.length,deps:y.join(", ")}),h.allErrors?f.if(b,function(){var w,k=fe(y);try{for(k.s();!(w=k.n()).done;){var x=w.value;(0,o.checkReportMissingProp)(u,x)}}catch(C){k.e(C)}finally{k.f()}}):(f.if(r._(_M||(_M=oe([""," && (",")"])),b,(0,o.checkMissingProp)(u,y,v))),(0,o.reportMissingProp)(u,v),f.else())};for(var m in c)p(m)}}function l(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.schema,f=u.gen,d=u.data,h=u.keyword,v=u.it,p=f.name("valid"),m=function(y){(0,i.alwaysValidSchema)(v,c[y])||(f.if((0,o.propertyInData)(f,d,y,v.opts.ownProperties),function(){var b=u.subschema({keyword:h,schemaProp:y},p);u.mergeValidEvaluated(b,p)},function(){return f.var(p,!0)}),u.ok(p))};for(var g in c)m(g)}t.validatePropertyDeps=s,t.validateSchemaDeps=l,t.default=a},{"../../compile/codegen":2,"../../compile/util":10,"../code":42}],31:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=n("../../compile/codegen"),i=n("../../compile/util");function o(a,s){var l=a.schema[s];return l!==void 0&&!(0,i.alwaysValidSchema)(a,l)}t.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:function(a){var s=a.params;return r.str(NM||(NM=oe(['must match "','" schema'])),s.ifClause)},params:function(a){var s=a.params;return r._(IM||(IM=oe(["{failingKeyword: ","}"])),s.ifClause)}},code:function(a){var s=a.gen,l=a.parentSchema,u=a.it;l.then===void 0&&l.else===void 0&&(0,i.checkStrictMode)(u,'"if" without "then" and "else" is ignored');var c=o(u,"then"),f=o(u,"else");if(c||f){var d=s.let("valid",!0),h=s.name("_valid");if(function(){var m=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},h);a.mergeEvaluated(m)}(),a.reset(),c&&f){var v=s.let("ifClause");a.setParams({ifClause:v}),s.if(h,p("then",v),p("else",v))}else c?s.if(h,p("then")):s.if((0,r.not)(h),p("else"));a.pass(d,function(){return a.error(!0)})}function p(m,g){return function(){var y=a.subschema({keyword:m},h);s.assign(d,h),a.mergeValidEvaluated(y,d),g?s.assign(g,r._(PM||(PM=oe(["",""])),m)):a.setParams({ifClause:m})}}}}},{"../../compile/codegen":2,"../../compile/util":10}],32:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./additionalItems"),i=n("./prefixItems"),o=n("./items"),a=n("./items2020"),s=n("./contains"),l=n("./dependencies"),u=n("./propertyNames"),c=n("./additionalProperties"),f=n("./properties"),d=n("./patternProperties"),h=n("./not"),v=n("./anyOf"),p=n("./oneOf"),m=n("./allOf"),g=n("./if"),y=n("./thenElse");t.default=function(){var b=arguments.length>0&&arguments[0]!==void 0&&arguments[0],w=[h.default,v.default,p.default,m.default,g.default,y.default,u.default,c.default,l.default,f.default,d.default];return b?w.push(i.default,a.default):w.push(r.default,o.default),w.push(s.default),w}},{"./additionalItems":25,"./additionalProperties":26,"./allOf":27,"./anyOf":28,"./contains":29,"./dependencies":30,"./if":31,"./items":33,"./items2020":34,"./not":35,"./oneOf":36,"./patternProperties":37,"./prefixItems":38,"./properties":39,"./propertyNames":40,"./thenElse":41}],33:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;var r=n("../../compile/codegen"),i=n("../../compile/util"),o=n("../code"),a={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code:function(l){var u=l.schema,c=l.it;if(Array.isArray(u))return s(l,"additionalItems",u);c.items=!0,(0,i.alwaysValidSchema)(c,u)||l.ok((0,o.validateArray)(l))}};function s(l,u){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.schema,f=l.gen,d=l.parentSchema,h=l.data,v=l.keyword,p=l.it;(function(y){var b=p.opts,w=p.errSchemaPath,k=c.length,x=k===y.minItems&&(k===y.maxItems||y[u]===!1);b.strictTuples&&!x&&(0,i.checkStrictMode)(p,'"'.concat(v,'" is ').concat(k,"-tuple, but minItems or maxItems/").concat(u,' are not specified or different at path "').concat(w,'"'),b.strictTuples)})(d),p.opts.unevaluated&&c.length&&p.items!==!0&&(p.items=i.mergeEvaluated.items(f,c.length,p.items));var m=f.name("valid"),g=f.const("len",r._(LM||(LM=oe(["",".length"])),h));c.forEach(function(y,b){(0,i.alwaysValidSchema)(p,y)||(f.if(r._(DM||(DM=oe([""," > ",""])),g,b),function(){return l.subschema({keyword:v,schemaProp:b,dataProp:b},m)}),l.ok(m))})}t.validateTuple=s,t.default=a},{"../../compile/codegen":2,"../../compile/util":10,"../code":42}],34:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=n("../../compile/codegen"),i=n("../../compile/util"),o=n("../code"),a=n("./additionalItems");t.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:function(s){var l=s.params.len;return r.str(RM||(RM=oe(["must NOT have more than "," items"])),l)},params:function(s){var l=s.params.len;return r._(BM||(BM=oe(["{limit: ","}"])),l)}},code:function(s){var l=s.schema,u=s.parentSchema,c=s.it,f=u.prefixItems;c.items=!0,(0,i.alwaysValidSchema)(c,l)||(f?(0,a.validateAdditionalItems)(s,f):s.ok((0,o.validateArray)(s)))}}},{"../../compile/codegen":2,"../../compile/util":10,"../code":42,"./additionalItems":25}],35:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=n("../../compile/util");t.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code:function(i){var o=i.gen,a=i.schema,s=i.it;if((0,r.alwaysValidSchema)(s,a))i.fail();else{var l=o.name("valid");i.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},l),i.failResult(l,function(){return i.reset()},function(){return i.error()})}},error:{message:"must NOT be valid"}}},{"../../compile/util":10}],36:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=n("../../compile/codegen"),i=n("../../compile/util");t.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:function(o){var a=o.params;return r._(zM||(zM=oe(["{passingSchemas: ","}"])),a.passing)}},code:function(o){var a=o.gen,s=o.schema,l=o.parentSchema,u=o.it;if(!Array.isArray(s))throw new Error("ajv implementation error");if(!u.opts.discriminator||!l.discriminator){var c=s,f=a.let("valid",!1),d=a.let("passing",null),h=a.name("_valid");o.setParams({passing:d}),a.block(function(){c.forEach(function(v,p){var m;(0,i.alwaysValidSchema)(u,v)?a.var(h,!0):m=o.subschema({keyword:"oneOf",schemaProp:p,compositeRule:!0},h),p>0&&a.if(r._(qM||(qM=oe([""," && ",""])),h,f)).assign(f,!1).assign(d,r._(FM||(FM=oe(["[",", ","]"])),d,p)).else(),a.if(h,function(){a.assign(f,!0),a.assign(d,p),m&&o.mergeEvaluated(m,r.Name)})})}),o.result(f,function(){return o.reset()},function(){return o.error(!0)})}}}},{"../../compile/codegen":2,"../../compile/util":10}],37:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=n("../code"),i=n("../../compile/codegen"),o=n("../../compile/util"),a=n("../../compile/util");t.default={keyword:"patternProperties",type:"object",schemaType:"object",code:function(s){var l=s.gen,u=s.schema,c=s.data,f=s.parentSchema,d=s.it,h=d.opts,v=(0,r.allSchemaProperties)(u),p=v.filter(function(k){return(0,o.alwaysValidSchema)(d,u[k])});if(v.length!==0&&(p.length!==v.length||d.opts.unevaluated&&d.props!==!0)){var m=h.strictSchema&&!h.allowMatchingProperties&&f.properties,g=l.name("valid");d.props===!0||d.props instanceof i.Name||(d.props=(0,a.evaluatedPropsToName)(l,d.props));var y=d.props;(function(){var k,x=fe(v);try{for(x.s();!(k=x.n()).done;){var C=k.value;m&&b(C),d.allErrors?w(C):(l.var(g,!0),w(C),l.if(g))}}catch(T){x.e(T)}finally{x.f()}})()}function b(k){for(var x in m)new RegExp(k).test(x)&&(0,o.checkStrictMode)(d,"property ".concat(x," matches pattern ").concat(k," (use allowMatchingProperties)"))}function w(k){l.forIn("key",c,function(x){l.if(i._(HM||(HM=oe(["",".test(",")"])),(0,r.usePattern)(s,k),x),function(){var C=p.includes(k);C||s.subschema({keyword:"patternProperties",schemaProp:k,dataProp:x,dataPropType:a.Type.Str},g),d.opts.unevaluated&&y!==!0?l.assign(i._(VM||(VM=oe(["","[","]"])),y,x),!0):C||d.allErrors||l.if((0,i.not)(g),function(){return l.break()})})})}}}},{"../../compile/codegen":2,"../../compile/util":10,"../code":42}],38:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./items");t.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:function(i){return(0,r.validateTuple)(i,"items")}}},{"./items":33}],39:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=n("../../compile/validate"),i=n("../code"),o=n("../../compile/util"),a=n("./additionalProperties");t.default={keyword:"properties",type:"object",schemaType:"object",code:function(s){var l=s.gen,u=s.schema,c=s.parentSchema,f=s.data,d=s.it;d.opts.removeAdditional==="all"&&c.additionalProperties===void 0&&a.default.code(new r.KeywordCxt(d,a.default,"additionalProperties"));var h,v=(0,i.allSchemaProperties)(u),p=fe(v);try{for(p.s();!(h=p.n()).done;){var m=h.value;d.definedProperties.add(m)}}catch(T){p.e(T)}finally{p.f()}d.opts.unevaluated&&v.length&&d.props!==!0&&(d.props=o.mergeEvaluated.props(l,(0,o.toHash)(v),d.props));var g=v.filter(function(T){return!(0,o.alwaysValidSchema)(d,u[T])});if(g.length!==0){var y,b=l.name("valid"),w=fe(g);try{for(w.s();!(y=w.n()).done;){var k=y.value;x(k)?C(k):(l.if((0,i.propertyInData)(l,f,k,d.opts.ownProperties)),C(k),d.allErrors||l.else().var(b,!0),l.endIf()),s.it.definedProperties.add(k),s.ok(b)}}catch(T){w.e(T)}finally{w.f()}}function x(T){return d.opts.useDefaults&&!d.compositeRule&&u[T].default!==void 0}function C(T){s.subschema({keyword:"properties",schemaProp:T,dataProp:T},b)}}}},{"../../compile/util":10,"../../compile/validate":15,"../code":42,"./additionalProperties":26}],40:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=n("../../compile/codegen"),i=n("../../compile/util");t.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:function(o){var a=o.params;return r._(WM||(WM=oe(["{propertyName: ","}"])),a.propertyName)}},code:function(o){var a=o.gen,s=o.schema,l=o.data,u=o.it;if(!(0,i.alwaysValidSchema)(u,s)){var c=a.name("valid");a.forIn("key",l,function(f){o.setParams({propertyName:f}),o.subschema({keyword:"propertyNames",data:f,dataTypes:["string"],propertyName:f,compositeRule:!0},c),a.if((0,r.not)(c),function(){o.error(!0),u.allErrors||a.break()})}),o.ok(c)}}}},{"../../compile/codegen":2,"../../compile/util":10}],41:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=n("../../compile/util");t.default={keyword:["then","else"],schemaType:["object","boolean"],code:function(i){var o=i.keyword,a=i.parentSchema,s=i.it;a.if===void 0&&(0,r.checkStrictMode)(s,'"'.concat(o,'" without "if" is ignored'))}}},{"../../compile/util":10}],42:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;var r=n("../compile/codegen"),i=n("../compile/util"),o=n("../compile/names"),a=n("../compile/util");function s(d){return d.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:r._(UM||(UM=oe(["Object.prototype.hasOwnProperty"])))})}function l(d,h,v){return r._(JM||(JM=oe(["",".call(",", ",")"])),s(d),h,v)}function u(d,h,v,p){var m=r._(GM||(GM=oe(["",""," === undefined"])),h,(0,r.getProperty)(v));return p?(0,r.or)(m,(0,r.not)(l(d,h,v))):m}function c(d){return d?Object.keys(d).filter(function(h){return h!=="__proto__"}):[]}t.checkReportMissingProp=function(d,h){var v=d.gen,p=d.data,m=d.it;v.if(u(v,p,h,m.opts.ownProperties),function(){d.setParams({missingProperty:r._(KM||(KM=oe(["",""])),h)},!0),d.error()})},t.checkMissingProp=function(d,h,v){var p=d.gen,m=d.data,g=d.it.opts;return r.or.apply(void 0,Ut(h.map(function(y){return(0,r.and)(u(p,m,y,g.ownProperties),r._(QM||(QM=oe([""," = ",""])),v,y))})))},t.reportMissingProp=function(d,h){d.setParams({missingProperty:h},!0),d.error()},t.hasPropFunc=s,t.isOwnProperty=l,t.propertyInData=function(d,h,v,p){var m=r._(YM||(YM=oe(["",""," !== undefined"])),h,(0,r.getProperty)(v));return p?r._(ZM||(ZM=oe([""," && ",""])),m,l(d,h,v)):m},t.noPropertyInData=u,t.allSchemaProperties=c,t.schemaProperties=function(d,h){return c(h).filter(function(v){return!(0,i.alwaysValidSchema)(d,h[v])})},t.callValidateCode=function(d,h,v,p){var m=d.schemaCode,g=d.data,y=d.it,b=y.gen,w=y.topSchemaRef,k=y.schemaPath,x=y.errorPath,C=d.it,T=p?r._(XM||(XM=oe(["",", ",", ","",""])),m,g,w,k):g,M=[[o.default.instancePath,(0,r.strConcat)(o.default.instancePath,x)],[o.default.parentData,C.parentData],[o.default.parentDataProperty,C.parentDataProperty],[o.default.rootData,o.default.rootData]];C.opts.dynamicRef&&M.push([o.default.dynamicAnchors,o.default.dynamicAnchors]);var B=r._(e$||(e$=oe(["",", ",""])),T,b.object.apply(b,M));return v!==r.nil?r._(t$||(t$=oe(["",".call(",", ",")"])),h,v,B):r._(n$||(n$=oe(["","(",")"])),h,B)};var f=r._(r$||(r$=oe(["new RegExp"])));t.usePattern=function(d,h){var v=d.gen,p=d.it.opts,m=p.unicodeRegExp?"u":"",g=p.code.regExp,y=g(h,m);return v.scopeValue("pattern",{key:y.toString(),ref:y,code:r._(i$||(i$=oe(["","(",", ",")"])),g.code==="new RegExp"?f:(0,a.useFunc)(v,g),h,m)})},t.validateArray=function(d){var h=d.gen,v=d.data,p=d.keyword,m=d.it,g=h.name("valid");if(m.allErrors){var y=h.let("valid",!0);return b(function(){return h.assign(y,!1)}),y}return h.var(g,!0),b(function(){return h.break()}),g;function b(w){var k=h.const("len",r._(o$||(o$=oe(["",".length"])),v));h.forRange("i",0,k,function(x){d.subschema({keyword:p,dataProp:x,dataPropType:i.Type.Num},g),h.if((0,r.not)(g),w)})}},t.validateUnion=function(d){var h=d.gen,v=d.schema,p=d.keyword,m=d.it;if(!Array.isArray(v))throw new Error("ajv implementation error");if(!v.some(function(b){return(0,i.alwaysValidSchema)(m,b)})||m.opts.unevaluated){var g=h.let("valid",!1),y=h.name("_valid");h.block(function(){return v.forEach(function(b,w){var k=d.subschema({keyword:p,schemaProp:w,compositeRule:!0},y);h.assign(g,r._(a$||(a$=oe([""," || ",""])),g,y)),d.mergeValidEvaluated(k,y)||h.if((0,r.not)(g))})}),d.result(g,function(){return d.reset()},function(){return d.error(!0)})}}},{"../compile/codegen":2,"../compile/names":6,"../compile/util":10}],43:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={keyword:"id",code:function(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},{}],44:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./id"),i=n("./ref");t.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",r.default,i.default]},{"./id":43,"./ref":45}],45:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;var r=n("../../compile/ref_error"),i=n("../code"),o=n("../../compile/codegen"),a=n("../../compile/names"),s=n("../../compile"),l=n("../../compile/util"),u={keyword:"$ref",schemaType:"string",code:function(d){var h=d.gen,v=d.schema,p=d.it,m=p.baseId,g=p.schemaEnv,y=p.validateName,b=p.opts,w=p.self,k=g.root;if((v==="#"||v==="#/")&&m===k.baseId)return function(){if(g===k)return f(d,y,g,g.$async);var C=h.scopeValue("root",{ref:k});return f(d,o._(s$||(s$=oe(["",".validate"])),C),k,k.$async)}();var x=s.resolveRef.call(w,k,m,v);if(x===void 0)throw new r.default(p.opts.uriResolver,m,v);return x instanceof s.SchemaEnv?function(C){var T=c(d,C);f(d,T,C,C.$async)}(x):function(C){var T=h.scopeValue("schema",b.code.source===!0?{ref:C,code:(0,o.stringify)(C)}:{ref:C}),M=h.name("valid"),B=d.subschema({schema:C,dataTypes:[],schemaPath:o.nil,topSchemaRef:T,errSchemaPath:v},M);d.mergeEvaluated(B),d.ok(M)}(x)}};function c(d,h){var v=d.gen;return h.validate?v.scopeValue("validate",{ref:h.validate}):o._(l$||(l$=oe(["",".validate"])),v.scopeValue("wrapper",{ref:h}))}function f(d,h,v,p){var m=d.gen,g=d.it,y=g.allErrors,b=g.schemaEnv,w=g.opts.passContext?a.default.this:o.nil;function k(C){var T=o._(u$||(u$=oe(["",".errors"])),C);m.assign(a.default.vErrors,o._(c$||(c$=oe([""," === null ? "," : ",".concat(",")"])),a.default.vErrors,T,a.default.vErrors,T)),m.assign(a.default.errors,o._(f$||(f$=oe(["",".length"])),a.default.vErrors))}function x(C){var T;if(g.opts.unevaluated){var M=(T=v==null?void 0:v.validate)===null||T===void 0?void 0:T.evaluated;if(g.props!==!0)if(M&&!M.dynamicProps)M.props!==void 0&&(g.props=l.mergeEvaluated.props(m,M.props,g.props));else{var B=m.var("props",o._(d$||(d$=oe(["",".evaluated.props"])),C));g.props=l.mergeEvaluated.props(m,B,g.props,o.Name)}if(g.items!==!0)if(M&&!M.dynamicItems)M.items!==void 0&&(g.items=l.mergeEvaluated.items(m,M.items,g.items));else{var _=m.var("items",o._(h$||(h$=oe(["",".evaluated.items"])),C));g.items=l.mergeEvaluated.items(m,_,g.items,o.Name)}}}p?function(){if(!b.$async)throw new Error("async schema referenced by sync schema");var C=m.let("valid");m.try(function(){m.code(o._(p$||(p$=oe(["await ",""])),(0,i.callValidateCode)(d,h,w))),x(h),y||m.assign(C,!0)},function(T){m.if(o._(v$||(v$=oe(["!("," instanceof ",")"])),T,g.ValidationError),function(){return m.throw(T)}),k(T),y||m.assign(C,!1)}),d.ok(C)}():d.result((0,i.callValidateCode)(d,h,w),function(){return x(h)},function(){return k(h)})}t.getValidate=c,t.callRef=f,t.default=u},{"../../compile":5,"../../compile/codegen":2,"../../compile/names":6,"../../compile/ref_error":7,"../../compile/util":10,"../code":42}],46:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=n("../../compile/codegen"),i=n("../discriminator/types"),o=n("../../compile"),a=n("../../compile/util");t.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:function(s){var l=s.params,u=l.discrError,c=l.tagName;return u===i.DiscrError.Tag?'tag "'.concat(c,'" must be string'):'value of tag "'.concat(c,'" must be in oneOf')},params:function(s){var l=s.params,u=l.discrError,c=l.tag,f=l.tagName;return r._(m$||(m$=oe(["{error: ",", tag: ",", tagValue: ","}"])),u,f,c)}},code:function(s){var l=s.gen,u=s.data,c=s.schema,f=s.parentSchema,d=s.it,h=f.oneOf;if(!d.opts.discriminator)throw new Error("discriminator: requires discriminator option");var v=c.propertyName;if(typeof v!="string")throw new Error("discriminator: requires propertyName");if(c.mapping)throw new Error("discriminator: mapping is not supported");if(!h)throw new Error("discriminator: requires oneOf keyword");var p=l.let("valid",!1),m=l.const("tag",r._(g$||(g$=oe(["","",""])),u,(0,r.getProperty)(v)));function g(y){var b=l.name("valid"),w=s.subschema({keyword:"oneOf",schemaProp:y},b);return s.mergeEvaluated(w,r.Name),b}l.if(r._(y$||(y$=oe(["typeof ",' == "string"'])),m),function(){return function(){var y=function(){for(var w,k={},x=_(f),C=!0,T=0;T<h.length;T++){var M=h[T];(M==null?void 0:M.$ref)&&!(0,a.schemaHasRulesButRef)(M,d.self.RULES)&&(M=o.resolveRef.call(d.self,d.schemaEnv.root,d.baseId,M==null?void 0:M.$ref))instanceof o.SchemaEnv&&(M=M.schema);var B=(w=M==null?void 0:M.properties)===null||w===void 0?void 0:w[v];if(mt(B)!="object")throw new Error('discriminator: oneOf subschemas (or referenced schemas) must have "properties/'.concat(v,'"'));C=C&&(x||_(M)),N(B,T)}if(!C)throw new Error('discriminator: "'.concat(v,'" must be required'));return k;function _(j){var D=j.required;return Array.isArray(D)&&D.includes(v)}function N(j,D){if(j.const)$(j.const,D);else{if(!j.enum)throw new Error('discriminator: "properties/'.concat(v,'" must have "const" or "enum"'));var q,R=fe(j.enum);try{for(R.s();!(q=R.n()).done;)$(q.value,D)}catch(G){R.e(G)}finally{R.f()}}}function $(j,D){if(typeof j!="string"||j in k)throw new Error('discriminator: "'.concat(v,'" values must be unique strings'));k[j]=D}}();for(var b in l.if(!1),y)l.elseIf(r._(b$||(b$=oe([""," === ",""])),m,b)),l.assign(p,g(y[b]));l.else(),s.error(!1,{discrError:i.DiscrError.Mapping,tag:m,tagName:v}),l.endIf()}()},function(){return s.error(!1,{discrError:i.DiscrError.Tag,tag:m,tagName:v})}),s.ok(p)}}},{"../../compile":5,"../../compile/codegen":2,"../../compile/util":10,"../discriminator/types":47}],47:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(r){r.Tag="tag",r.Mapping="mapping"}(t.DiscrError||(t.DiscrError={}))},{}],48:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./core"),i=n("./validation"),o=n("./applicator"),a=n("./format"),s=n("./metadata"),l=[r.default,i.default,(0,o.default)(),a.default,s.metadataVocabulary,s.contentVocabulary];t.default=l},{"./applicator":32,"./core":44,"./format":50,"./metadata":51,"./validation":54}],49:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=n("../../compile/codegen");t.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:function(i){var o=i.schemaCode;return r.str(w$||(w$=oe(['must match format "','"'])),o)},params:function(i){var o=i.schemaCode;return r._(k$||(k$=oe(["{format: ","}"])),o)}},code:function(i,o){var a=i.gen,s=i.data,l=i.$data,u=i.schema,c=i.schemaCode,f=i.it,d=f.opts,h=f.errSchemaPath,v=f.schemaEnv,p=f.self;d.validateFormats&&(l?function(){var m=a.scopeValue("formats",{ref:p.formats,code:d.code.formats}),g=a.const("fDef",r._(x$||(x$=oe(["","[","]"])),m,c)),y=a.let("fType"),b=a.let("format");a.if(r._(j$||(j$=oe(["typeof ",' == "object" && !('," instanceof RegExp)"])),g,g),function(){return a.assign(y,r._(C$||(C$=oe(["",'.type || "string"'])),g)).assign(b,r._(S$||(S$=oe(["",".validate"])),g))},function(){return a.assign(y,r._(T$||(T$=oe(['"string"'])))).assign(b,g)}),i.fail$data((0,r.or)(d.strictSchema===!1?r.nil:r._(O$||(O$=oe([""," && !",""])),c,b),function(){var w=v.$async?r._(E$||(E$=oe(["(",".async ? await ","(",") : ","(","))"])),g,b,s,b,s):r._(M$||(M$=oe(["","(",")"])),b,s),k=r._($$||($$=oe(["(typeof ",' == "function" ? '," : ",".test(","))"])),b,w,b,s);return r._(A$||(A$=oe([""," && "," !== true && "," === "," && !",""])),b,b,y,o,k)}()))}():function(){var m=p.formats[u];if(m){if(m!==!0){var g=function(x){var C=x instanceof RegExp?(0,r.regexpCode)(x):d.code.formats?r._(_$||(_$=oe(["","",""])),d.code.formats,(0,r.getProperty)(u)):void 0,T=a.scopeValue("formats",{key:u,ref:x,code:C});return mt(x)!="object"||x instanceof RegExp?["string",x,T]:[x.type||"string",x.validate,r._(N$||(N$=oe(["",".validate"])),T)]}(m),y=Dt(g,3),b=y[0],w=y[1],k=y[2];b===o&&i.pass(function(){if(mt(m)=="object"&&!(m instanceof RegExp)&&m.async){if(!v.$async)throw new Error("async format in sync schema");return r._(I$||(I$=oe(["await ","(",")"])),k,s)}return typeof w=="function"?r._(P$||(P$=oe(["","(",")"])),k,s):r._(L$||(L$=oe(["",".test(",")"])),k,s)}())}}else(function(){if(d.strictSchema!==!1)throw new Error(x());function x(){return'unknown format "'.concat(u,'" ignored in schema at path "').concat(h,'"')}p.logger.warn(x())})()}())}}},{"../../compile/codegen":2}],50:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./format");t.default=[r.default]},{"./format":49}],51:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},{}],52:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=n("../../compile/codegen"),i=n("../../compile/util"),o=n("../../runtime/equal");t.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:function(a){var s=a.schemaCode;return r._(D$||(D$=oe(["{allowedValue: ","}"])),s)}},code:function(a){var s=a.gen,l=a.data,u=a.$data,c=a.schemaCode,f=a.schema;u||f&&mt(f)=="object"?a.fail$data(r._(R$||(R$=oe(["!","(",", ",")"])),(0,i.useFunc)(s,o.default),l,c)):a.fail(r._(B$||(B$=oe([""," !== ",""])),f,l))}}},{"../../compile/codegen":2,"../../compile/util":10,"../../runtime/equal":21}],53:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=n("../../compile/codegen"),i=n("../../compile/util"),o=n("../../runtime/equal");t.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:function(a){var s=a.schemaCode;return r._(z$||(z$=oe(["{allowedValues: ","}"])),s)}},code:function(a){var s,l=a.gen,u=a.data,c=a.$data,f=a.schema,d=a.schemaCode,h=a.it;if(!c&&f.length===0)throw new Error("enum must have non-empty array");var v,p=function(){return s!=null?s:s=(0,i.useFunc)(l,o.default)};if(f.length>=h.opts.loopEnum||c)v=l.let("valid"),a.block$data(v,function(){l.assign(v,!1),l.forOf("v",d,function(g){return l.if(r._(q$||(q$=oe(["","(",", ",")"])),p(),u,g),function(){return l.assign(v,!0).break()})})});else{if(!Array.isArray(f))throw new Error("ajv implementation error");var m=l.const("vSchema",d);v=r.or.apply(void 0,Ut(f.map(function(g,y){return function(b,w){var k=f[w];return mt(k)=="object"&&k!==null?r._(F$||(F$=oe(["","(",", ","[","])"])),p(),u,b,w):r._(H$||(H$=oe([""," === ",""])),u,k)}(m,y)})))}a.pass(v)}}},{"../../compile/codegen":2,"../../compile/util":10,"../../runtime/equal":21}],54:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=n("./limitNumber"),i=n("./multipleOf"),o=n("./limitLength"),a=n("./pattern"),s=n("./limitProperties"),l=n("./required"),u=n("./limitItems"),c=n("./uniqueItems"),f=n("./const"),d=n("./enum");t.default=[r.default,i.default,o.default,a.default,s.default,l.default,u.default,c.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},f.default,d.default]},{"./const":52,"./enum":53,"./limitItems":55,"./limitLength":56,"./limitNumber":57,"./limitProperties":58,"./multipleOf":59,"./pattern":60,"./required":61,"./uniqueItems":62}],55:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=n("../../compile/codegen");t.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:function(i){var o=i.keyword,a=i.schemaCode;return r.str(V$||(V$=oe(["must NOT have "," than "," items"])),o==="maxItems"?"more":"fewer",a)},params:function(i){var o=i.schemaCode;return r._(W$||(W$=oe(["{limit: ","}"])),o)}},code:function(i){var o=i.keyword,a=i.data,s=i.schemaCode;i.fail$data(r._(U$||(U$=oe(["",".length "," ",""])),a,o==="maxItems"?r.operators.GT:r.operators.LT,s))}}},{"../../compile/codegen":2}],56:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=n("../../compile/codegen"),i=n("../../compile/util"),o=n("../../runtime/ucs2length");t.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:function(a){var s=a.keyword,l=a.schemaCode;return r.str(J$||(J$=oe(["must NOT have "," than "," characters"])),s==="maxLength"?"more":"fewer",l)},params:function(a){var s=a.schemaCode;return r._(G$||(G$=oe(["{limit: ","}"])),s)}},code:function(a){var s=a.keyword,l=a.data,u=a.schemaCode,c=a.it,f=s==="maxLength"?r.operators.GT:r.operators.LT,d=c.opts.unicode===!1?r._(K$||(K$=oe(["",".length"])),l):r._(Q$||(Q$=oe(["","(",")"])),(0,i.useFunc)(a.gen,o.default),l);a.fail$data(r._(Y$||(Y$=oe([""," "," ",""])),d,f,u))}}},{"../../compile/codegen":2,"../../compile/util":10,"../../runtime/ucs2length":22}],57:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=n("../../compile/codegen"),i=r.operators,o={maximum:{okStr:"<=",ok:i.LTE,fail:i.GT},minimum:{okStr:">=",ok:i.GTE,fail:i.LT},exclusiveMaximum:{okStr:"<",ok:i.LT,fail:i.GTE},exclusiveMinimum:{okStr:">",ok:i.GT,fail:i.LTE}},a={message:function(l){var u=l.keyword,c=l.schemaCode;return r.str(Z$||(Z$=oe(["must be "," ",""])),o[u].okStr,c)},params:function(l){var u=l.keyword,c=l.schemaCode;return r._(X$||(X$=oe(["{comparison: ",", limit: ","}"])),o[u].okStr,c)}},s={keyword:Object.keys(o),type:"number",schemaType:"number",$data:!0,error:a,code:function(l){var u=l.keyword,c=l.data,f=l.schemaCode;l.fail$data(r._(eA||(eA=oe([""," "," "," || isNaN(",")"])),c,o[u].fail,f,c))}};t.default=s},{"../../compile/codegen":2}],58:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=n("../../compile/codegen");t.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:function(i){var o=i.keyword,a=i.schemaCode;return r.str(tA||(tA=oe(["must NOT have "," than "," properties"])),o==="maxProperties"?"more":"fewer",a)},params:function(i){var o=i.schemaCode;return r._(nA||(nA=oe(["{limit: ","}"])),o)}},code:function(i){var o=i.keyword,a=i.data,s=i.schemaCode;i.fail$data(r._(rA||(rA=oe(["Object.keys(",").length "," ",""])),a,o==="maxProperties"?r.operators.GT:r.operators.LT,s))}}},{"../../compile/codegen":2}],59:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=n("../../compile/codegen");t.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:function(i){var o=i.schemaCode;return r.str(iA||(iA=oe(["must be multiple of ",""])),o)},params:function(i){var o=i.schemaCode;return r._(oA||(oA=oe(["{multipleOf: ","}"])),o)}},code:function(i){var o=i.gen,a=i.data,s=i.schemaCode,l=i.it.opts.multipleOfPrecision,u=o.let("res"),c=l?r._(aA||(aA=oe(["Math.abs(Math.round(",") - ",") > 1e-",""])),u,u,l):r._(sA||(sA=oe([""," !== parseInt(",")"])),u,u);i.fail$data(r._(lA||(lA=oe(["("," === 0 || ("," = ","/",", ","))"])),s,u,a,s,c))}}},{"../../compile/codegen":2}],60:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=n("../code"),i=n("../../compile/codegen");t.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:function(o){var a=o.schemaCode;return i.str(uA||(uA=oe(['must match pattern "','"'])),a)},params:function(o){var a=o.schemaCode;return i._(cA||(cA=oe(["{pattern: ","}"])),a)}},code:function(o){var a=o.data,s=o.$data,l=o.schema,u=o.schemaCode,c=o.it,f=s?i._(fA||(fA=oe(["(new RegExp(",", ","))"])),u,c.opts.unicodeRegExp?"u":""):(0,r.usePattern)(o,l);o.fail$data(i._(dA||(dA=oe(["!",".test(",")"])),f,a))}}},{"../../compile/codegen":2,"../code":42}],61:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=n("../code"),i=n("../../compile/codegen"),o=n("../../compile/util");t.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:function(a){var s=a.params.missingProperty;return i.str(hA||(hA=oe(["must have required property '","'"])),s)},params:function(a){var s=a.params.missingProperty;return i._(pA||(pA=oe(["{missingProperty: ","}"])),s)}},code:function(a){var s=a.gen,l=a.schema,u=a.schemaCode,c=a.data,f=a.$data,d=a.it,h=d.opts;if(f||l.length!==0){var v=l.length>=h.loopRequired;if(d.allErrors?function(){if(v||f)a.block$data(i.nil,w);else{var k,x=fe(l);try{for(x.s();!(k=x.n()).done;){var C=k.value;(0,r.checkReportMissingProp)(a,C)}}catch(T){x.e(T)}finally{x.f()}}}():function(){var k=s.let("missing");if(v||f){var x=s.let("valid",!0);a.block$data(x,function(){return function(C,T){a.setParams({missingProperty:C}),s.forOf(C,u,function(){s.assign(T,(0,r.propertyInData)(s,c,C,h.ownProperties)),s.if((0,i.not)(T),function(){a.error(),s.break()})},i.nil)}(k,x)}),a.ok(x)}else s.if((0,r.checkMissingProp)(a,l,k)),(0,r.reportMissingProp)(a,k),s.else()}(),h.strictRequired){var p,m=a.parentSchema.properties,g=a.it.definedProperties,y=fe(l);try{for(y.s();!(p=y.n()).done;){var b=p.value;(m==null?void 0:m[b])!==void 0||g.has(b)||(0,o.checkStrictMode)(d,'required property "'.concat(b,'" is not defined at "').concat(d.schemaEnv.baseId+d.errSchemaPath,'" (strictRequired)'),d.opts.strictRequired)}}catch(k){y.e(k)}finally{y.f()}}}function w(){s.forOf("prop",u,function(k){a.setParams({missingProperty:k}),s.if((0,r.noPropertyInData)(s,c,k,h.ownProperties),function(){return a.error()})})}}}},{"../../compile/codegen":2,"../../compile/util":10,"../code":42}],62:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=n("../../compile/validate/dataType"),i=n("../../compile/codegen"),o=n("../../compile/util"),a=n("../../runtime/equal");t.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:function(s){var l=s.params,u=l.i,c=l.j;return i.str(vA||(vA=oe(["must NOT have duplicate items (items ## "," and "," are identical)"])),c,u)},params:function(s){var l=s.params,u=l.i,c=l.j;return i._(mA||(mA=oe(["{i: ",", j: ","}"])),u,c)}},code:function(s){var l=s.gen,u=s.data,c=s.$data,f=s.schema,d=s.parentSchema,h=s.schemaCode,v=s.it;if(c||f){var p=l.let("valid"),m=d.items?(0,r.getSchemaTypes)(d.items):[];s.block$data(p,function(){var b=l.let("i",i._(MA||(MA=oe(["",".length"])),u)),w=l.let("j");s.setParams({i:b,j:w}),l.assign(p,!0),l.if(i._($A||($A=oe([""," > 1"])),b),function(){return(m.length>0&&!m.some(function(k){return k==="object"||k==="array"})?g:y)(b,w)})},i._(AA||(AA=oe([""," === false"])),h)),s.ok(p)}function g(b,w){var k=l.name("item"),x=(0,r.checkDataTypes)(m,k,v.opts.strictNumbers,r.DataType.Wrong),C=l.const("indices",i._(gA||(gA=oe(["{}"]))));l.for(i._(yA||(yA=oe([";","--;"])),b),function(){l.let(k,i._(bA||(bA=oe(["","[","]"])),u,b)),l.if(x,i._(wA||(wA=oe(["continue"])))),m.length>1&&l.if(i._(kA||(kA=oe(["typeof ",' == "string"'])),k),i._(xA||(xA=oe(["",' += "_"'])),k)),l.if(i._(jA||(jA=oe(["typeof ","[",'] == "number"'])),C,k),function(){l.assign(w,i._(CA||(CA=oe(["","[","]"])),C,k)),s.error(),l.assign(p,!1).break()}).code(i._(SA||(SA=oe(["","[","] = ",""])),C,k,b))})}function y(b,w){var k=(0,o.useFunc)(l,a.default),x=l.name("outer");l.label(x).for(i._(TA||(TA=oe([";","--;"])),b),function(){return l.for(i._(OA||(OA=oe([""," = ","; ","--;"])),w,b,w),function(){return l.if(i._(EA||(EA=oe(["","(","[","], ","[","])"])),k,u,b,u,w),function(){s.error(),l.assign(p,!1).break(x)})})})}}}},{"../../compile/codegen":2,"../../compile/util":10,"../../compile/validate/dataType":13,"../../runtime/equal":21}],63:[function(n,e,t){e.exports=function r(i,o){if(i===o)return!0;if(i&&o&&mt(i)=="object"&&mt(o)=="object"){if(i.constructor!==o.constructor)return!1;var a,s,l;if(Array.isArray(i)){if((a=i.length)!=o.length)return!1;for(s=a;s--!=0;)if(!r(i[s],o[s]))return!1;return!0}if(i.constructor===RegExp)return i.source===o.source&&i.flags===o.flags;if(i.valueOf!==Object.prototype.valueOf)return i.valueOf()===o.valueOf();if(i.toString!==Object.prototype.toString)return i.toString()===o.toString();if((a=(l=Object.keys(i)).length)!==Object.keys(o).length)return!1;for(s=a;s--!=0;)if(!Object.prototype.hasOwnProperty.call(o,l[s]))return!1;for(s=a;s--!=0;){var u=l[s];if(!r(i[u],o[u]))return!1}return!0}return i!=i&&o!=o}},{}],64:[function(n,e,t){var r=e.exports=function(o,a,s){typeof a=="function"&&(s=a,a={}),i(a,typeof(s=a.cb||s)=="function"?s:s.pre||function(){},s.post||function(){},o,"",o)};function i(o,a,s,l,u,c,f,d,h,v){if(l&&mt(l)=="object"&&!Array.isArray(l)){for(var p in a(l,u,c,f,d,h,v),l){var m=l[p];if(Array.isArray(m)){if(p in r.arrayKeywords)for(var g=0;g<m.length;g++)i(o,a,s,m[g],u+"/"+p+"/"+g,c,u,p,l,g)}else if(p in r.propsKeywords){if(m&&mt(m)=="object")for(var y in m)i(o,a,s,m[y],u+"/"+p+"/"+y.replace(/~/g,"~0").replace(/\//g,"~1"),c,u,p,l,y)}else(p in r.keywords||o.allKeys&&!(p in r.skipKeywords))&&i(o,a,s,m,u+"/"+p,c,u,p,l)}s(l,u,c,f,d,h,v)}}r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},{}],65:[function(n,e,t){/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(r,i){i(mt(t)=="object"&&e!==void 0?t:r.URI=r.URI||{})})(this,function(r){function i(){for(var H=arguments.length,U=Array(H),se=0;se<H;se++)U[se]=arguments[se];if(U.length>1){U[0]=U[0].slice(0,-1);for(var Q=U.length-1,we=1;we<Q;++we)U[we]=U[we].slice(1,-1);return U[Q]=U[Q].slice(1),U.join("")}return U[0]}function o(H){return"(?:"+H+")"}function a(H){return H===void 0?"undefined":H===null?"null":Object.prototype.toString.call(H).split(" ").pop().split("]").shift().toLowerCase()}function s(H){return H.toUpperCase()}function l(H){var U="[A-Za-z]",se="[0-9]",Q=i(se,"[A-Fa-f]"),we=o(o("%[EFef]"+Q+"%"+Q+Q+"%"+Q+Q)+"|"+o("%[89A-Fa-f]"+Q+"%"+Q+Q)+"|"+o("%"+Q+Q)),Oe="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Fe=i("[\\:\\/\\?\\#\\[\\]\\@]",Oe),Xe=H?"[\\uE000-\\uF8FF]":"[]",nt=i(U,se,"[\\-\\.\\_\\~]",H?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]");o(U+i(U,se,"[\\+\\-\\.]")+"*"),o(o(we+"|"+i(nt,Oe,"[\\:]"))+"*");var jt=o(o("25[0-5]")+"|"+o("2[0-4][0-9]")+"|"+o("1[0-9][0-9]")+"|"+o("0?[1-9][0-9]")+"|0?0?"+se),Vt=o(jt+"\\."+jt+"\\."+jt+"\\."+jt),st=o(Q+"{1,4}"),Xt=o(o(st+"\\:"+st)+"|"+Vt),Ft=o(o(st+"\\:")+"{6}"+Xt),fn=o("\\:\\:"+o(st+"\\:")+"{5}"+Xt),Ht=o(o(st)+"?\\:\\:"+o(st+"\\:")+"{4}"+Xt),tn=o(o(o(st+"\\:")+"{0,1}"+st)+"?\\:\\:"+o(st+"\\:")+"{3}"+Xt),sr=o(o(o(st+"\\:")+"{0,2}"+st)+"?\\:\\:"+o(st+"\\:")+"{2}"+Xt),Bn=o(o(o(st+"\\:")+"{0,3}"+st)+"?\\:\\:"+st+"\\:"+Xt),An=o(o(o(st+"\\:")+"{0,4}"+st)+"?\\:\\:"+Xt),ze=o(o(o(st+"\\:")+"{0,5}"+st)+"?\\:\\:"+st),xn=o(o(o(st+"\\:")+"{0,6}"+st)+"?\\:\\:"),Mn=o([Ft,fn,Ht,tn,sr,Bn,An,ze,xn].join("|")),cn=o(o(nt+"|"+we)+"+");o("[vV]"+Q+"+\\."+i(nt,Oe,"[\\:]")+"+"),o(o(we+"|"+i(nt,Oe))+"*");var lt=o(we+"|"+i(nt,Oe,"[\\:\\@]"));return o(o(we+"|"+i(nt,Oe,"[\\@]"))+"+"),o(o(lt+"|"+i("[\\/\\?]",Xe))+"*"),{NOT_SCHEME:new RegExp(i("[^]",U,se,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(i("[^\\%\\:]",nt,Oe),"g"),NOT_HOST:new RegExp(i("[^\\%\\[\\]\\:]",nt,Oe),"g"),NOT_PATH:new RegExp(i("[^\\%\\/\\:\\@]",nt,Oe),"g"),NOT_PATH_NOSCHEME:new RegExp(i("[^\\%\\/\\@]",nt,Oe),"g"),NOT_QUERY:new RegExp(i("[^\\%]",nt,Oe,"[\\:\\@\\/\\?]",Xe),"g"),NOT_FRAGMENT:new RegExp(i("[^\\%]",nt,Oe,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(i("[^]",nt,Oe),"g"),UNRESERVED:new RegExp(nt,"g"),OTHER_CHARS:new RegExp(i("[^\\%]",nt,Fe),"g"),PCT_ENCODED:new RegExp(we,"g"),IPV4ADDRESS:new RegExp("^("+Vt+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Mn+")"+o(o("\\%25|\\%(?!"+Q+"{2})")+"("+cn+")")+"?\\]?$")}}var u=l(!1),c=l(!0),f=function(H,U){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return function(se,Q){var we=[],Oe=!0,Fe=!1,Xe=void 0;try{for(var nt,jt=se[Symbol.iterator]();!(Oe=(nt=jt.next()).done)&&(we.push(nt.value),!Q||we.length!==Q);Oe=!0);}catch(Vt){Fe=!0,Xe=Vt}finally{try{!Oe&&jt.return&&jt.return()}finally{if(Fe)throw Xe}}return we}(H,U);throw new TypeError("Invalid attempt to destructure non-iterable instance")},d=2147483647,h=36,v=/^xn--/,p=/[^\0-\x7E]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},y=Math.floor,b=String.fromCharCode;function w(H){throw new RangeError(g[H])}function k(H,U){var se=H.split("@"),Q="";se.length>1&&(Q=se[0]+"@",H=se[1]);var we=function(Oe,Fe){for(var Xe=[],nt=Oe.length;nt--;)Xe[nt]=Fe(Oe[nt]);return Xe}((H=H.replace(m,".")).split("."),U).join(".");return Q+we}function x(H){for(var U=[],se=0,Q=H.length;se<Q;){var we=H.charCodeAt(se++);if(we>=55296&&we<=56319&&se<Q){var Oe=H.charCodeAt(se++);(64512&Oe)==56320?U.push(((1023&we)<<10)+(1023&Oe)+65536):(U.push(we),se--)}else U.push(we)}return U}var C=function(H,U){return H+22+75*(H<26)-((U!=0)<<5)},T=function(H,U,se){var Q=0;for(H=se?y(H/700):H>>1,H+=y(H/U);H>455;Q+=h)H=y(H/35);return y(Q+36*H/(H+38))},M=function(H){var U,se=[],Q=H.length,we=0,Oe=128,Fe=72,Xe=H.lastIndexOf("-");Xe<0&&(Xe=0);for(var nt=0;nt<Xe;++nt)H.charCodeAt(nt)>=128&&w("not-basic"),se.push(H.charCodeAt(nt));for(var jt=Xe>0?Xe+1:0;jt<Q;){for(var Vt=we,st=1,Xt=h;;Xt+=h){jt>=Q&&w("invalid-input");var Ft=(U=H.charCodeAt(jt++))-48<10?U-22:U-65<26?U-65:U-97<26?U-97:h;(Ft>=h||Ft>y((d-we)/st))&&w("overflow"),we+=Ft*st;var fn=Xt<=Fe?1:Xt>=Fe+26?26:Xt-Fe;if(Ft<fn)break;var Ht=h-fn;st>y(d/Ht)&&w("overflow"),st*=Ht}var tn=se.length+1;Fe=T(we-Vt,tn,Vt==0),y(we/tn)>d-Oe&&w("overflow"),Oe+=y(we/tn),we%=tn,se.splice(we++,0,Oe)}return String.fromCodePoint.apply(String,se)},B=function(H){var U=[],se=(H=x(H)).length,Q=128,we=0,Oe=72,Fe=!0,Xe=!1,nt=void 0;try{for(var jt,Vt=H[Symbol.iterator]();!(Fe=(jt=Vt.next()).done);Fe=!0){var st=jt.value;st<128&&U.push(b(st))}}catch(yr){Xe=!0,nt=yr}finally{try{!Fe&&Vt.return&&Vt.return()}finally{if(Xe)throw nt}}var Xt=U.length,Ft=Xt;for(Xt&&U.push("-");Ft<se;){var fn=d,Ht=!0,tn=!1,sr=void 0;try{for(var Bn,An=H[Symbol.iterator]();!(Ht=(Bn=An.next()).done);Ht=!0){var ze=Bn.value;ze>=Q&&ze<fn&&(fn=ze)}}catch(yr){tn=!0,sr=yr}finally{try{!Ht&&An.return&&An.return()}finally{if(tn)throw sr}}var xn=Ft+1;fn-Q>y((d-we)/xn)&&w("overflow"),we+=(fn-Q)*xn,Q=fn;var Mn=!0,cn=!1,lt=void 0;try{for(var xe,Qe=H[Symbol.iterator]();!(Mn=(xe=Qe.next()).done);Mn=!0){var bt=xe.value;if(bt<Q&&++we>d&&w("overflow"),bt==Q){for(var $t=we,tt=h;;tt+=h){var St=tt<=Oe?1:tt>=Oe+26?26:tt-Oe;if($t<St)break;var Wn=$t-St,fr=h-St;U.push(b(C(St+Wn%fr,0))),$t=y(Wn/fr)}U.push(b(C($t,0))),Oe=T(we,xn,Ft==Xt),we=0,++Ft}}}catch(yr){cn=!0,lt=yr}finally{try{!Mn&&Qe.return&&Qe.return()}finally{if(cn)throw lt}}++we,++Q}return U.join("")},_=function(H){return k(H,function(U){return p.test(U)?"xn--"+B(U):U})},N=function(H){return k(H,function(U){return v.test(U)?M(U.slice(4).toLowerCase()):U})},$={};function j(H){var U=H.charCodeAt(0);return U<16?"%0"+U.toString(16).toUpperCase():U<128?"%"+U.toString(16).toUpperCase():U<2048?"%"+(U>>6|192).toString(16).toUpperCase()+"%"+(63&U|128).toString(16).toUpperCase():"%"+(U>>12|224).toString(16).toUpperCase()+"%"+(U>>6&63|128).toString(16).toUpperCase()+"%"+(63&U|128).toString(16).toUpperCase()}function D(H){for(var U="",se=0,Q=H.length;se<Q;){var we=parseInt(H.substr(se+1,2),16);if(we<128)U+=String.fromCharCode(we),se+=3;else if(we>=194&&we<224){if(Q-se>=6){var Oe=parseInt(H.substr(se+4,2),16);U+=String.fromCharCode((31&we)<<6|63&Oe)}else U+=H.substr(se,6);se+=6}else if(we>=224){if(Q-se>=9){var Fe=parseInt(H.substr(se+4,2),16),Xe=parseInt(H.substr(se+7,2),16);U+=String.fromCharCode((15&we)<<12|(63&Fe)<<6|63&Xe)}else U+=H.substr(se,9);se+=9}else U+=H.substr(se,3),se+=3}return U}function q(H,U){function se(Q){var we=D(Q);return we.match(U.UNRESERVED)?we:Q}return H.scheme&&(H.scheme=String(H.scheme).replace(U.PCT_ENCODED,se).toLowerCase().replace(U.NOT_SCHEME,"")),H.userinfo!==void 0&&(H.userinfo=String(H.userinfo).replace(U.PCT_ENCODED,se).replace(U.NOT_USERINFO,j).replace(U.PCT_ENCODED,s)),H.host!==void 0&&(H.host=String(H.host).replace(U.PCT_ENCODED,se).toLowerCase().replace(U.NOT_HOST,j).replace(U.PCT_ENCODED,s)),H.path!==void 0&&(H.path=String(H.path).replace(U.PCT_ENCODED,se).replace(H.scheme?U.NOT_PATH:U.NOT_PATH_NOSCHEME,j).replace(U.PCT_ENCODED,s)),H.query!==void 0&&(H.query=String(H.query).replace(U.PCT_ENCODED,se).replace(U.NOT_QUERY,j).replace(U.PCT_ENCODED,s)),H.fragment!==void 0&&(H.fragment=String(H.fragment).replace(U.PCT_ENCODED,se).replace(U.NOT_FRAGMENT,j).replace(U.PCT_ENCODED,s)),H}function R(H){return H.replace(/^0*(.*)/,"$1")||"0"}function G(H,U){var se=H.match(U.IPV4ADDRESS)||[],Q=f(se,2)[1];return Q?Q.split(".").map(R).join("."):H}function A(H,U){var se=H.match(U.IPV6ADDRESS)||[],Q=f(se,3),we=Q[1],Oe=Q[2];if(we){for(var Fe=we.toLowerCase().split("::").reverse(),Xe=f(Fe,2),nt=Xe[0],jt=Xe[1],Vt=jt?jt.split(":").map(R):[],st=nt.split(":").map(R),Xt=U.IPV4ADDRESS.test(st[st.length-1]),Ft=Xt?7:8,fn=st.length-Ft,Ht=Array(Ft),tn=0;tn<Ft;++tn)Ht[tn]=Vt[tn]||st[fn+tn]||"";Xt&&(Ht[Ft-1]=G(Ht[Ft-1],U));var sr=Ht.reduce(function(xn,Mn,cn){if(!Mn||Mn==="0"){var lt=xn[xn.length-1];lt&&lt.index+lt.length===cn?lt.length++:xn.push({index:cn,length:1})}return xn},[]).sort(function(xn,Mn){return Mn.length-xn.length})[0],Bn=void 0;if(sr&&sr.length>1){var An=Ht.slice(0,sr.index),ze=Ht.slice(sr.index+sr.length);Bn=An.join(":")+"::"+ze.join(":")}else Bn=Ht.join(":");return Oe&&(Bn+="%"+Oe),Bn}return H}var I=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,z="".match(/(){0}/)[1]===void 0;function F(H){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},se={},Q=U.iri!==!1?c:u;U.reference==="suffix"&&(H=(U.scheme?U.scheme+":":"")+"//"+H);var we=H.match(I);if(we){z?(se.scheme=we[1],se.userinfo=we[3],se.host=we[4],se.port=parseInt(we[5],10),se.path=we[6]||"",se.query=we[7],se.fragment=we[8],isNaN(se.port)&&(se.port=we[5])):(se.scheme=we[1]||void 0,se.userinfo=H.indexOf("@")!==-1?we[3]:void 0,se.host=H.indexOf("//")!==-1?we[4]:void 0,se.port=parseInt(we[5],10),se.path=we[6]||"",se.query=H.indexOf("?")!==-1?we[7]:void 0,se.fragment=H.indexOf("#")!==-1?we[8]:void 0,isNaN(se.port)&&(se.port=H.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?we[4]:void 0)),se.host&&(se.host=A(G(se.host,Q),Q)),se.reference=se.scheme!==void 0||se.userinfo!==void 0||se.host!==void 0||se.port!==void 0||se.path||se.query!==void 0?se.scheme===void 0?"relative":se.fragment===void 0?"absolute":"uri":"same-document",U.reference&&U.reference!=="suffix"&&U.reference!==se.reference&&(se.error=se.error||"URI is not a "+U.reference+" reference.");var Oe=$[(U.scheme||se.scheme||"").toLowerCase()];if(U.unicodeSupport||Oe&&Oe.unicodeSupport)q(se,Q);else{if(se.host&&(U.domainHost||Oe&&Oe.domainHost))try{se.host=_(se.host.replace(Q.PCT_ENCODED,D).toLowerCase())}catch(Fe){se.error=se.error||"Host's domain name can not be converted to ASCII via punycode: "+Fe}q(se,u)}Oe&&Oe.parse&&Oe.parse(se,U)}else se.error=se.error||"URI can not be parsed.";return se}function L(H,U){var se=U.iri!==!1?c:u,Q=[];return H.userinfo!==void 0&&(Q.push(H.userinfo),Q.push("@")),H.host!==void 0&&Q.push(A(G(String(H.host),se),se).replace(se.IPV6ADDRESS,function(we,Oe,Fe){return"["+Oe+(Fe?"%25"+Fe:"")+"]"})),typeof H.port!="number"&&typeof H.port!="string"||(Q.push(":"),Q.push(String(H.port))),Q.length?Q.join(""):void 0}var O=/^\.\.?\//,V=/^\/\.(\/|$)/,Z=/^\/\.\.(\/|$)/,te=/^\/?(?:.|\n)*?(?=\/|$)/;function ve(H){for(var U=[];H.length;)if(H.match(O))H=H.replace(O,"");else if(H.match(V))H=H.replace(V,"/");else if(H.match(Z))H=H.replace(Z,"/"),U.pop();else if(H==="."||H==="..")H="";else{var se=H.match(te);if(!se)throw new Error("Unexpected dot segment condition");var Q=se[0];H=H.slice(Q.length),U.push(Q)}return U.join("")}function ue(H){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},se=U.iri?c:u,Q=[],we=$[(U.scheme||H.scheme||"").toLowerCase()];if(we&&we.serialize&&we.serialize(H,U),H.host&&!se.IPV6ADDRESS.test(H.host)){if(U.domainHost||we&&we.domainHost)try{H.host=U.iri?N(H.host):_(H.host.replace(se.PCT_ENCODED,D).toLowerCase())}catch(Xe){H.error=H.error||"Host's domain name can not be converted to "+(U.iri?"Unicode":"ASCII")+" via punycode: "+Xe}}q(H,se),U.reference!=="suffix"&&H.scheme&&(Q.push(H.scheme),Q.push(":"));var Oe=L(H,U);if(Oe!==void 0&&(U.reference!=="suffix"&&Q.push("//"),Q.push(Oe),H.path&&H.path.charAt(0)!=="/"&&Q.push("/")),H.path!==void 0){var Fe=H.path;U.absolutePath||we&&we.absolutePath||(Fe=ve(Fe)),Oe===void 0&&(Fe=Fe.replace(/^\/\//,"/%2F")),Q.push(Fe)}return H.query!==void 0&&(Q.push("?"),Q.push(H.query)),H.fragment!==void 0&&(Q.push("#"),Q.push(H.fragment)),Q.join("")}function ge(H,U){var se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Q={};return arguments[3]||(H=F(ue(H,se),se),U=F(ue(U,se),se)),!(se=se||{}).tolerant&&U.scheme?(Q.scheme=U.scheme,Q.userinfo=U.userinfo,Q.host=U.host,Q.port=U.port,Q.path=ve(U.path||""),Q.query=U.query):(U.userinfo!==void 0||U.host!==void 0||U.port!==void 0?(Q.userinfo=U.userinfo,Q.host=U.host,Q.port=U.port,Q.path=ve(U.path||""),Q.query=U.query):(U.path?(U.path.charAt(0)==="/"?Q.path=ve(U.path):(Q.path=H.userinfo===void 0&&H.host===void 0&&H.port===void 0||H.path?H.path?H.path.slice(0,H.path.lastIndexOf("/")+1)+U.path:U.path:"/"+U.path,Q.path=ve(Q.path)),Q.query=U.query):(Q.path=H.path,Q.query=U.query!==void 0?U.query:H.query),Q.userinfo=H.userinfo,Q.host=H.host,Q.port=H.port),Q.scheme=H.scheme),Q.fragment=U.fragment,Q}function P(H,U){return H&&H.toString().replace(U&&U.iri?c.PCT_ENCODED:u.PCT_ENCODED,D)}var S={scheme:"http",domainHost:!0,parse:function(H,U){return H.host||(H.error=H.error||"HTTP URIs must have a host."),H},serialize:function(H,U){var se=String(H.scheme).toLowerCase()==="https";return H.port!==(se?443:80)&&H.port!==""||(H.port=void 0),H.path||(H.path="/"),H}},ae={scheme:"https",domainHost:S.domainHost,parse:S.parse,serialize:S.serialize};function ce(H){return typeof H.secure=="boolean"?H.secure:String(H.scheme).toLowerCase()==="wss"}var ne={scheme:"ws",domainHost:!0,parse:function(H,U){var se=H;return se.secure=ce(se),se.resourceName=(se.path||"/")+(se.query?"?"+se.query:""),se.path=void 0,se.query=void 0,se},serialize:function(H,U){if(H.port!==(ce(H)?443:80)&&H.port!==""||(H.port=void 0),typeof H.secure=="boolean"&&(H.scheme=H.secure?"wss":"ws",H.secure=void 0),H.resourceName){var se=H.resourceName.split("?"),Q=f(se,2),we=Q[0],Oe=Q[1];H.path=we&&we!=="/"?we:void 0,H.query=Oe,H.resourceName=void 0}return H.fragment=void 0,H}},ye={scheme:"wss",domainHost:ne.domainHost,parse:ne.parse,serialize:ne.serialize},Ce={},Se="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Ue="[0-9A-Fa-f]",pt=o(o("%[EFef][0-9A-Fa-f]%"+Ue+Ue+"%"+Ue+Ue)+"|"+o("%[89A-Fa-f][0-9A-Fa-f]%"+Ue+Ue)+"|"+o("%"+Ue+Ue)),Ke=i("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Me=new RegExp(Se,"g"),et=new RegExp(pt,"g"),le=new RegExp(i("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Ke),"g"),be=new RegExp(i("[^]",Se,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),Le=be;function Ee(H){var U=D(H);return U.match(Me)?U:H}var ct={scheme:"mailto",parse:function(H,U){var se=H,Q=se.to=se.path?se.path.split(","):[];if(se.path=void 0,se.query){for(var we=!1,Oe={},Fe=se.query.split("&"),Xe=0,nt=Fe.length;Xe<nt;++Xe){var jt=Fe[Xe].split("=");switch(jt[0]){case"to":for(var Vt=jt[1].split(","),st=0,Xt=Vt.length;st<Xt;++st)Q.push(Vt[st]);break;case"subject":se.subject=P(jt[1],U);break;case"body":se.body=P(jt[1],U);break;default:we=!0,Oe[P(jt[0],U)]=P(jt[1],U)}}we&&(se.headers=Oe)}se.query=void 0;for(var Ft=0,fn=Q.length;Ft<fn;++Ft){var Ht=Q[Ft].split("@");if(Ht[0]=P(Ht[0]),U.unicodeSupport)Ht[1]=P(Ht[1],U).toLowerCase();else try{Ht[1]=_(P(Ht[1],U).toLowerCase())}catch(tn){se.error=se.error||"Email address's domain name can not be converted to ASCII via punycode: "+tn}Q[Ft]=Ht.join("@")}return se},serialize:function(H,U){var se,Q=H,we=(se=H.to)!=null?se instanceof Array?se:typeof se.length!="number"||se.split||se.setInterval||se.call?[se]:Array.prototype.slice.call(se):[];if(we){for(var Oe=0,Fe=we.length;Oe<Fe;++Oe){var Xe=String(we[Oe]),nt=Xe.lastIndexOf("@"),jt=Xe.slice(0,nt).replace(et,Ee).replace(et,s).replace(le,j),Vt=Xe.slice(nt+1);try{Vt=U.iri?N(Vt):_(P(Vt,U).toLowerCase())}catch(fn){Q.error=Q.error||"Email address's domain name can not be converted to "+(U.iri?"Unicode":"ASCII")+" via punycode: "+fn}we[Oe]=jt+"@"+Vt}Q.path=we.join(",")}var st=H.headers=H.headers||{};H.subject&&(st.subject=H.subject),H.body&&(st.body=H.body);var Xt=[];for(var Ft in st)st[Ft]!==Ce[Ft]&&Xt.push(Ft.replace(et,Ee).replace(et,s).replace(be,j)+"="+st[Ft].replace(et,Ee).replace(et,s).replace(Le,j));return Xt.length&&(Q.query=Xt.join("&")),Q}},it=/^([^\:]+)\:(.*)/,at={scheme:"urn",parse:function(H,U){var se=H.path&&H.path.match(it),Q=H;if(se){var we=U.scheme||Q.scheme||"urn",Oe=se[1].toLowerCase(),Fe=se[2],Xe=$[we+":"+(U.nid||Oe)];Q.nid=Oe,Q.nss=Fe,Q.path=void 0,Xe&&(Q=Xe.parse(Q,U))}else Q.error=Q.error||"URN can not be parsed.";return Q},serialize:function(H,U){var se=H.nid,Q=$[(U.scheme||H.scheme||"urn")+":"+(U.nid||se)];Q&&(H=Q.serialize(H,U));var we=H;return we.path=(se||U.nid)+":"+H.nss,we}},Bt=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,zt={scheme:"urn:uuid",parse:function(H,U){var se=H;return se.uuid=se.nss,se.nss=void 0,U.tolerant||se.uuid&&se.uuid.match(Bt)||(se.error=se.error||"UUID is not valid."),se},serialize:function(H,U){var se=H;return se.nss=(H.uuid||"").toLowerCase(),se}};$[S.scheme]=S,$[ae.scheme]=ae,$[ne.scheme]=ne,$[ye.scheme]=ye,$[ct.scheme]=ct,$[at.scheme]=at,$[zt.scheme]=zt,r.SCHEMES=$,r.pctEncChar=j,r.pctDecChars=D,r.parse=F,r.removeDotSegments=ve,r.serialize=ue,r.resolveComponents=ge,r.resolve=function(H,U,se){var Q=function(we,Oe){var Fe={scheme:"null"};if(Oe)for(var Xe in Oe)Fe[Xe]=Oe[Xe];return Fe}(0,se);return ue(ge(F(H,Q),F(U,Q),Q,!0),Q)},r.normalize=function(H,U){return typeof H=="string"?H=ue(F(H,U),U):a(H)==="object"&&(H=F(ue(H,U),U)),H},r.equal=function(H,U,se){return typeof H=="string"?H=ue(F(H,se),se):a(H)==="object"&&(H=ue(H,se)),typeof U=="string"?U=ue(F(U,se),se):a(U)==="object"&&(U=ue(U,se)),H===U},r.escapeComponent=function(H,U){return H&&H.toString().replace(U&&U.iri?c.ESCAPE:u.ESCAPE,j)},r.unescapeComponent=P,Object.defineProperty(r,"__esModule",{value:!0})})},{}],ajv:[function(n,e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var r=n("./core"),i=n("./vocabularies/draft7"),o=n("./vocabularies/discriminator"),a=n("./refs/json-schema-draft-07.json"),s=["/properties"],l="http://json-schema.org/draft-07/schema",u=function(v){De(m,v);var p=Re(m);function m(){return re(this,m),p.apply(this,arguments)}return ie(m,[{key:"_addVocabularies",value:function(){var g=this;vn(sn(m.prototype),"_addVocabularies",this).call(this),i.default.forEach(function(y){return g.addVocabulary(y)}),this.opts.discriminator&&this.addKeyword(o.default)}},{key:"_addDefaultMetaSchema",value:function(){if(vn(sn(m.prototype),"_addDefaultMetaSchema",this).call(this),this.opts.meta){var g=this.opts.$data?this.$dataMetaSchema(a,s):a;this.addMetaSchema(g,l,!1),this.refs["http://json-schema.org/schema"]=l}}},{key:"defaultMeta",value:function(){return this.opts.defaultMeta=vn(sn(m.prototype),"defaultMeta",this).call(this)||(this.getSchema(l)?l:void 0)}}]),m}(r.default);e.exports=t=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var c=n("./compile/validate");Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var f=n("./compile/codegen");Object.defineProperty(t,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var d=n("./runtime/validation_error");Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return d.default}});var h=n("./compile/ref_error");Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return h.default}})},{"./compile/codegen":2,"./compile/ref_error":7,"./compile/validate":15,"./core":18,"./refs/json-schema-draft-07.json":20,"./runtime/validation_error":24,"./vocabularies/discriminator":46,"./vocabularies/draft7":48}]},{},[])("ajv"));var YXe={};(function(n){function e(P){return P!==null&&Object.prototype.toString.call(P)==="[object Array]"}function t(P){return P!==null&&Object.prototype.toString.call(P)==="[object Object]"}function r(P,S){if(P===S)return!0;if(Object.prototype.toString.call(P)!==Object.prototype.toString.call(S))return!1;if(e(P)===!0){if(P.length!==S.length)return!1;for(var ae=0;ae<P.length;ae++)if(r(P[ae],S[ae])===!1)return!1;return!0}if(t(P)===!0){var ce={};for(var ne in P)if(hasOwnProperty.call(P,ne)){if(r(P[ne],S[ne])===!1)return!1;ce[ne]=!0}for(var ye in S)if(hasOwnProperty.call(S,ye)&&ce[ye]!==!0)return!1;return!0}return!1}function i(P){if(P===""||P===!1||P===null||e(P)&&P.length===0)return!0;if(t(P)){for(var S in P)if(P.hasOwnProperty(S))return!1;return!0}return!1}var o;o=typeof String.prototype.trimLeft=="function"?function(P){return P.trimLeft()}:function(P){return P.match(/^\s*(.*)/)[1]};var a=0,s=2,l={0:"number",1:"any",2:"string",3:"array",4:"object",5:"boolean",6:"expression",7:"null",8:"Array<number>",9:"Array<string>"},u="EOF",c="UnquotedIdentifier",f="QuotedIdentifier",d="Rbracket",h="Rparen",v="Comma",p="Colon",m="Rbrace",g="Number",y="Current",b="Expref",w="Pipe",k="Or",x="And",C="EQ",T="GT",M="LT",B="GTE",_="LTE",N="NE",$="Flatten",j="Star",D="Filter",q="Dot",R="Not",G="Lbrace",A="Lbracket",I="Lparen",z="Literal",F={".":q,"*":j,",":v,":":p,"{":G,"}":m,"]":d,"(":I,")":h,"@":y},L={"<":!0,">":!0,"=":!0,"!":!0},O={" ":!0,"	":!0,"\n":!0};function V(P){return P>="0"&&P<="9"||P==="-"}function Z(){}Z.prototype={tokenize:function(P){var S,ae,ce,ne,ye=[];for(this._current=0;this._current<P.length;)if((ne=P[this._current])>="a"&&ne<="z"||ne>="A"&&ne<="Z"||ne==="_")S=this._current,ae=this._consumeUnquotedIdentifier(P),ye.push({type:c,value:ae,start:S});else if(F[P[this._current]]!==void 0)ye.push({type:F[P[this._current]],value:P[this._current],start:this._current}),this._current++;else if(V(P[this._current]))ce=this._consumeNumber(P),ye.push(ce);else if(P[this._current]==="[")ce=this._consumeLBracket(P),ye.push(ce);else if(P[this._current]==='"')S=this._current,ae=this._consumeQuotedIdentifier(P),ye.push({type:f,value:ae,start:S});else if(P[this._current]==="'")S=this._current,ae=this._consumeRawStringLiteral(P),ye.push({type:z,value:ae,start:S});else if(P[this._current]==="`"){S=this._current;var Ce=this._consumeLiteral(P);ye.push({type:z,value:Ce,start:S})}else if(L[P[this._current]]!==void 0)ye.push(this._consumeOperator(P));else if(O[P[this._current]]!==void 0)this._current++;else if(P[this._current]==="&")S=this._current,this._current++,P[this._current]==="&"?(this._current++,ye.push({type:x,value:"&&",start:S})):ye.push({type:b,value:"&",start:S});else{if(P[this._current]!=="|"){var Se=new Error("Unknown character:"+P[this._current]);throw Se.name="LexerError",Se}S=this._current,this._current++,P[this._current]==="|"?(this._current++,ye.push({type:k,value:"||",start:S})):ye.push({type:w,value:"|",start:S})}return ye},_consumeUnquotedIdentifier:function(P){var S,ae=this._current;for(this._current++;this._current<P.length&&((S=P[this._current])>="a"&&S<="z"||S>="A"&&S<="Z"||S>="0"&&S<="9"||S==="_");)this._current++;return P.slice(ae,this._current)},_consumeQuotedIdentifier:function(P){var S=this._current;this._current++;for(var ae=P.length;P[this._current]!=='"'&&this._current<ae;){var ce=this._current;P[ce]!=="\\"||P[ce+1]!=="\\"&&P[ce+1]!=='"'?ce++:ce+=2,this._current=ce}return this._current++,JSON.parse(P.slice(S,this._current))},_consumeRawStringLiteral:function(P){var S=this._current;this._current++;for(var ae=P.length;P[this._current]!=="'"&&this._current<ae;){var ce=this._current;P[ce]!=="\\"||P[ce+1]!=="\\"&&P[ce+1]!=="'"?ce++:ce+=2,this._current=ce}return this._current++,P.slice(S+1,this._current-1).replace("\\'","'")},_consumeNumber:function(P){var S=this._current;this._current++;for(var ae=P.length;V(P[this._current])&&this._current<ae;)this._current++;var ce=parseInt(P.slice(S,this._current));return{type:g,value:ce,start:S}},_consumeLBracket:function(P){var S=this._current;return this._current++,P[this._current]==="?"?(this._current++,{type:D,value:"[?",start:S}):P[this._current]==="]"?(this._current++,{type:$,value:"[]",start:S}):{type:A,value:"[",start:S}},_consumeOperator:function(P){var S=this._current,ae=P[S];return this._current++,ae==="!"?P[this._current]==="="?(this._current++,{type:N,value:"!=",start:S}):{type:R,value:"!",start:S}:ae==="<"?P[this._current]==="="?(this._current++,{type:_,value:"<=",start:S}):{type:M,value:"<",start:S}:ae===">"?P[this._current]==="="?(this._current++,{type:B,value:">=",start:S}):{type:T,value:">",start:S}:ae==="="&&P[this._current]==="="?(this._current++,{type:C,value:"==",start:S}):void 0},_consumeLiteral:function(P){this._current++;for(var S,ae=this._current,ce=P.length;P[this._current]!=="`"&&this._current<ce;){var ne=this._current;P[ne]!=="\\"||P[ne+1]!=="\\"&&P[ne+1]!=="`"?ne++:ne+=2,this._current=ne}var ye=o(P.slice(ae,this._current));return ye=ye.replace("\\`","`"),S=this._looksLikeJSON(ye)?JSON.parse(ye):JSON.parse('"'+ye+'"'),this._current++,S},_looksLikeJSON:function(P){if(P==="")return!1;if('[{"'.indexOf(P[0])>=0||["true","false","null"].indexOf(P)>=0)return!0;if(!("-0123456789".indexOf(P[0])>=0))return!1;try{return JSON.parse(P),!0}catch{return!1}}};var te={};function ve(){}function ue(P){this.runtime=P}function ge(P){this._interpreter=P,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[a]}]},avg:{_func:this._functionAvg,_signature:[{types:[8]}]},ceil:{_func:this._functionCeil,_signature:[{types:[a]}]},contains:{_func:this._functionContains,_signature:[{types:[s,3]},{types:[1]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[s]},{types:[s]}]},floor:{_func:this._functionFloor,_signature:[{types:[a]}]},length:{_func:this._functionLength,_signature:[{types:[s,3,4]}]},map:{_func:this._functionMap,_signature:[{types:[6]},{types:[3]}]},max:{_func:this._functionMax,_signature:[{types:[8,9]}]},merge:{_func:this._functionMerge,_signature:[{types:[4],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[3]},{types:[6]}]},sum:{_func:this._functionSum,_signature:[{types:[8]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[s]},{types:[s]}]},min:{_func:this._functionMin,_signature:[{types:[8,9]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[3]},{types:[6]}]},type:{_func:this._functionType,_signature:[{types:[1]}]},keys:{_func:this._functionKeys,_signature:[{types:[4]}]},values:{_func:this._functionValues,_signature:[{types:[4]}]},sort:{_func:this._functionSort,_signature:[{types:[9,8]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[3]},{types:[6]}]},join:{_func:this._functionJoin,_signature:[{types:[s]},{types:[9]}]},reverse:{_func:this._functionReverse,_signature:[{types:[s,3]}]},to_array:{_func:this._functionToArray,_signature:[{types:[1]}]},to_string:{_func:this._functionToString,_signature:[{types:[1]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[1]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[1],variadic:!0}]}}}te.EOF=0,te.UnquotedIdentifier=0,te.QuotedIdentifier=0,te.Rbracket=0,te.Rparen=0,te.Comma=0,te.Rbrace=0,te.Number=0,te.Current=0,te.Expref=0,te.Pipe=1,te.Or=2,te.And=3,te.EQ=5,te.GT=5,te.LT=5,te.GTE=5,te.LTE=5,te.NE=5,te.Flatten=9,te.Star=20,te.Filter=21,te.Dot=40,te.Not=45,te.Lbrace=50,te.Lbracket=55,te.Lparen=60,ve.prototype={parse:function(P){this._loadTokens(P),this.index=0;var S=this.expression(0);if(this._lookahead(0)!==u){var ae=this._lookaheadToken(0),ce=new Error("Unexpected token type: "+ae.type+", value: "+ae.value);throw ce.name="ParserError",ce}return S},_loadTokens:function(P){var S=new Z().tokenize(P);S.push({type:u,value:"",start:P.length}),this.tokens=S},expression:function(P){var S=this._lookaheadToken(0);this._advance();for(var ae=this.nud(S),ce=this._lookahead(0);P<te[ce];)this._advance(),ae=this.led(ce,ae),ce=this._lookahead(0);return ae},_lookahead:function(P){return this.tokens[this.index+P].type},_lookaheadToken:function(P){return this.tokens[this.index+P]},_advance:function(){this.index++},nud:function(P){var S,ae;switch(P.type){case z:return{type:"Literal",value:P.value};case c:return{type:"Field",name:P.value};case f:var ce={type:"Field",name:P.value};if(this._lookahead(0)===I)throw new Error("Quoted identifier not allowed for function names.");return ce;case R:return{type:"NotExpression",children:[S=this.expression(te.Not)]};case j:return S=null,{type:"ValueProjection",children:[{type:"Identity"},S=this._lookahead(0)===d?{type:"Identity"}:this._parseProjectionRHS(te.Star)]};case D:return this.led(P.type,{type:"Identity"});case G:return this._parseMultiselectHash();case $:return{type:"Projection",children:[{type:$,children:[{type:"Identity"}]},S=this._parseProjectionRHS(te.Flatten)]};case A:return this._lookahead(0)===g||this._lookahead(0)===p?(S=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},S)):this._lookahead(0)===j&&this._lookahead(1)===d?(this._advance(),this._advance(),{type:"Projection",children:[{type:"Identity"},S=this._parseProjectionRHS(te.Star)]}):this._parseMultiselectList();case y:return{type:y};case b:return{type:"ExpressionReference",children:[ae=this.expression(te.Expref)]};case I:for(var ne=[];this._lookahead(0)!==h;)this._lookahead(0)===y?(ae={type:y},this._advance()):ae=this.expression(0),ne.push(ae);return this._match(h),ne[0];default:this._errorToken(P)}},led:function(P,S){var ae;switch(P){case q:var ce=te.Dot;return this._lookahead(0)!==j?{type:"Subexpression",children:[S,ae=this._parseDotRHS(ce)]}:(this._advance(),{type:"ValueProjection",children:[S,ae=this._parseProjectionRHS(ce)]});case w:return ae=this.expression(te.Pipe),{type:w,children:[S,ae]};case k:return{type:"OrExpression",children:[S,ae=this.expression(te.Or)]};case x:return{type:"AndExpression",children:[S,ae=this.expression(te.And)]};case I:for(var ne,ye=S.name,Ce=[];this._lookahead(0)!==h;)this._lookahead(0)===y?(ne={type:y},this._advance()):ne=this.expression(0),this._lookahead(0)===v&&this._match(v),Ce.push(ne);return this._match(h),{type:"Function",name:ye,children:Ce};case D:var Se=this.expression(0);return this._match(d),{type:"FilterProjection",children:[S,ae=this._lookahead(0)===$?{type:"Identity"}:this._parseProjectionRHS(te.Filter),Se]};case $:return{type:"Projection",children:[{type:$,children:[S]},this._parseProjectionRHS(te.Flatten)]};case C:case N:case T:case B:case M:case _:return this._parseComparator(S,P);case A:var Ue=this._lookaheadToken(0);return Ue.type===g||Ue.type===p?(ae=this._parseIndexExpression(),this._projectIfSlice(S,ae)):(this._match(j),this._match(d),{type:"Projection",children:[S,ae=this._parseProjectionRHS(te.Star)]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(P){if(this._lookahead(0)!==P){var S=this._lookaheadToken(0),ae=new Error("Expected "+P+", got: "+S.type);throw ae.name="ParserError",ae}this._advance()},_errorToken:function(P){var S=new Error("Invalid token ("+P.type+'): "'+P.value+'"');throw S.name="ParserError",S},_parseIndexExpression:function(){if(this._lookahead(0)===p||this._lookahead(1)===p)return this._parseSliceExpression();var P={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match(d),P},_projectIfSlice:function(P,S){var ae={type:"IndexExpression",children:[P,S]};return S.type==="Slice"?{type:"Projection",children:[ae,this._parseProjectionRHS(te.Star)]}:ae},_parseSliceExpression:function(){for(var P=[null,null,null],S=0,ae=this._lookahead(0);ae!==d&&S<3;){if(ae===p)S++,this._advance();else{if(ae!==g){var ce=this._lookahead(0),ne=new Error("Syntax error, unexpected token: "+ce.value+"("+ce.type+")");throw ne.name="Parsererror",ne}P[S]=this._lookaheadToken(0).value,this._advance()}ae=this._lookahead(0)}return this._match(d),{type:"Slice",children:P}},_parseComparator:function(P,S){return{type:"Comparator",name:S,children:[P,this.expression(te[S])]}},_parseDotRHS:function(P){var S=this._lookahead(0);return[c,f,j].indexOf(S)>=0?this.expression(P):S===A?(this._match(A),this._parseMultiselectList()):S===G?(this._match(G),this._parseMultiselectHash()):void 0},_parseProjectionRHS:function(P){var S;if(te[this._lookahead(0)]<10)S={type:"Identity"};else if(this._lookahead(0)===A)S=this.expression(P);else if(this._lookahead(0)===D)S=this.expression(P);else{if(this._lookahead(0)!==q){var ae=this._lookaheadToken(0),ce=new Error("Sytanx error, unexpected token: "+ae.value+"("+ae.type+")");throw ce.name="ParserError",ce}this._match(q),S=this._parseDotRHS(P)}return S},_parseMultiselectList:function(){for(var P=[];this._lookahead(0)!==d;){var S=this.expression(0);if(P.push(S),this._lookahead(0)===v&&(this._match(v),this._lookahead(0)===d))throw new Error("Unexpected token Rbracket")}return this._match(d),{type:"MultiSelectList",children:P}},_parseMultiselectHash:function(){for(var P,S,ae,ce=[],ne=[c,f];;){if(P=this._lookaheadToken(0),ne.indexOf(P.type)<0)throw new Error("Expecting an identifier token, got: "+P.type);if(S=P.value,this._advance(),this._match(p),ae={type:"KeyValuePair",name:S,value:this.expression(0)},ce.push(ae),this._lookahead(0)===v)this._match(v);else if(this._lookahead(0)===m){this._match(m);break}}return{type:"MultiSelectHash",children:ce}}},ue.prototype={search:function(P,S){return this.visit(P,S)},visit:function(P,S){var ae,ce,ne,ye,Ce,Se,Ue,pt,Ke;switch(P.type){case"Field":return S!==null&&t(S)?(Se=S[P.name])===void 0?null:Se:null;case"Subexpression":for(ne=this.visit(P.children[0],S),Ke=1;Ke<P.children.length;Ke++)if((ne=this.visit(P.children[1],ne))===null)return null;return ne;case"IndexExpression":return Ue=this.visit(P.children[0],S),this.visit(P.children[1],Ue);case"Index":if(!e(S))return null;var Me=P.value;return Me<0&&(Me=S.length+Me),(ne=S[Me])===void 0&&(ne=null),ne;case"Slice":if(!e(S))return null;var et=P.children.slice(0),le=this.computeSliceParams(S.length,et),be=le[0],Le=le[1],Ee=le[2];if(ne=[],Ee>0)for(Ke=be;Ke<Le;Ke+=Ee)ne.push(S[Ke]);else for(Ke=be;Ke>Le;Ke+=Ee)ne.push(S[Ke]);return ne;case"Projection":var ct=this.visit(P.children[0],S);if(!e(ct))return null;for(pt=[],Ke=0;Ke<ct.length;Ke++)(ce=this.visit(P.children[1],ct[Ke]))!==null&&pt.push(ce);return pt;case"ValueProjection":if(!t(ct=this.visit(P.children[0],S)))return null;pt=[];var it=function(Oe){for(var Fe=Object.keys(Oe),Xe=[],nt=0;nt<Fe.length;nt++)Xe.push(Oe[Fe[nt]]);return Xe}(ct);for(Ke=0;Ke<it.length;Ke++)(ce=this.visit(P.children[1],it[Ke]))!==null&&pt.push(ce);return pt;case"FilterProjection":if(!e(ct=this.visit(P.children[0],S)))return null;var at=[],Bt=[];for(Ke=0;Ke<ct.length;Ke++)i(ae=this.visit(P.children[2],ct[Ke]))||at.push(ct[Ke]);for(var zt=0;zt<at.length;zt++)(ce=this.visit(P.children[1],at[zt]))!==null&&Bt.push(ce);return Bt;case"Comparator":switch(ye=this.visit(P.children[0],S),Ce=this.visit(P.children[1],S),P.name){case C:ne=r(ye,Ce);break;case N:ne=!r(ye,Ce);break;case T:ne=ye>Ce;break;case B:ne=ye>=Ce;break;case M:ne=ye<Ce;break;case _:ne=ye<=Ce;break;default:throw new Error("Unknown comparator: "+P.name)}return ne;case $:var H=this.visit(P.children[0],S);if(!e(H))return null;var U=[];for(Ke=0;Ke<H.length;Ke++)e(ce=H[Ke])?U.push.apply(U,ce):U.push(ce);return U;case"Identity":return S;case"MultiSelectList":if(S===null)return null;for(pt=[],Ke=0;Ke<P.children.length;Ke++)pt.push(this.visit(P.children[Ke],S));return pt;case"MultiSelectHash":if(S===null)return null;var se;for(pt={},Ke=0;Ke<P.children.length;Ke++)pt[(se=P.children[Ke]).name]=this.visit(se.value,S);return pt;case"OrExpression":return i(ae=this.visit(P.children[0],S))&&(ae=this.visit(P.children[1],S)),ae;case"AndExpression":return i(ye=this.visit(P.children[0],S))===!0?ye:this.visit(P.children[1],S);case"NotExpression":return i(ye=this.visit(P.children[0],S));case"Literal":return P.value;case w:return Ue=this.visit(P.children[0],S),this.visit(P.children[1],Ue);case y:return S;case"Function":var Q=[];for(Ke=0;Ke<P.children.length;Ke++)Q.push(this.visit(P.children[Ke],S));return this.runtime.callFunction(P.name,Q);case"ExpressionReference":var we=P.children[0];return we.jmespathType=b,we;default:throw new Error("Unknown node type: "+P.type)}},computeSliceParams:function(P,S){var ae=S[0],ce=S[1],ne=S[2],ye=[null,null,null];if(ne===null)ne=1;else if(ne===0){var Ce=new Error("Invalid slice, step cannot be 0");throw Ce.name="RuntimeError",Ce}var Se=ne<0;return ae=ae===null?Se?P-1:0:this.capSliceRange(P,ae,ne),ce=ce===null?Se?-1:P:this.capSliceRange(P,ce,ne),ye[0]=ae,ye[1]=ce,ye[2]=ne,ye},capSliceRange:function(P,S,ae){return S<0?(S+=P)<0&&(S=ae<0?-1:0):S>=P&&(S=ae<0?P-1:P),S}},ge.prototype={callFunction:function(P,S){var ae=this.functionTable[P];if(ae===void 0)throw new Error("Unknown function: "+P+"()");return this._validateArgs(P,S,ae._signature),ae._func.call(this,S)},_validateArgs:function(P,S,ae){var ce,ne,ye,Ce;if(ae[ae.length-1].variadic){if(S.length<ae.length)throw ce=ae.length===1?" argument":" arguments",new Error("ArgumentError: "+P+"() takes at least"+ae.length+ce+" but received "+S.length)}else if(S.length!==ae.length)throw ce=ae.length===1?" argument":" arguments",new Error("ArgumentError: "+P+"() takes "+ae.length+ce+" but received "+S.length);for(var Se=0;Se<ae.length;Se++){Ce=!1,ne=ae[Se].types,ye=this._getTypeName(S[Se]);for(var Ue=0;Ue<ne.length;Ue++)if(this._typeMatches(ye,ne[Ue],S[Se])){Ce=!0;break}if(!Ce){var pt=ne.map(function(Ke){return l[Ke]}).join(",");throw new Error("TypeError: "+P+"() expected argument "+(Se+1)+" to be type "+pt+" but received type "+l[ye]+" instead.")}}},_typeMatches:function(P,S,ae){if(S===1)return!0;if(S!==9&&S!==8&&S!==3)return P===S;if(S===3)return P===3;if(P===3){var ce;S===8?ce=a:S===9&&(ce=s);for(var ne=0;ne<ae.length;ne++)if(!this._typeMatches(this._getTypeName(ae[ne]),ce,ae[ne]))return!1;return!0}},_getTypeName:function(P){switch(Object.prototype.toString.call(P)){case"[object String]":return s;case"[object Number]":return a;case"[object Array]":return 3;case"[object Boolean]":return 5;case"[object Null]":return 7;case"[object Object]":return P.jmespathType===b?6:4}},_functionStartsWith:function(P){return P[0].lastIndexOf(P[1])===0},_functionEndsWith:function(P){var S=P[0],ae=P[1];return S.indexOf(ae,S.length-ae.length)!==-1},_functionReverse:function(P){if(this._getTypeName(P[0])===s){for(var S=P[0],ae="",ce=S.length-1;ce>=0;ce--)ae+=S[ce];return ae}var ne=P[0].slice(0);return ne.reverse(),ne},_functionAbs:function(P){return Math.abs(P[0])},_functionCeil:function(P){return Math.ceil(P[0])},_functionAvg:function(P){for(var S=0,ae=P[0],ce=0;ce<ae.length;ce++)S+=ae[ce];return S/ae.length},_functionContains:function(P){return P[0].indexOf(P[1])>=0},_functionFloor:function(P){return Math.floor(P[0])},_functionLength:function(P){return t(P[0])?Object.keys(P[0]).length:P[0].length},_functionMap:function(P){for(var S=[],ae=this._interpreter,ce=P[0],ne=P[1],ye=0;ye<ne.length;ye++)S.push(ae.visit(ce,ne[ye]));return S},_functionMerge:function(P){for(var S={},ae=0;ae<P.length;ae++){var ce=P[ae];for(var ne in ce)S[ne]=ce[ne]}return S},_functionMax:function(P){if(P[0].length>0){if(this._getTypeName(P[0][0])===a)return Math.max.apply(Math,P[0]);for(var S=P[0],ae=S[0],ce=1;ce<S.length;ce++)ae.localeCompare(S[ce])<0&&(ae=S[ce]);return ae}return null},_functionMin:function(P){if(P[0].length>0){if(this._getTypeName(P[0][0])===a)return Math.min.apply(Math,P[0]);for(var S=P[0],ae=S[0],ce=1;ce<S.length;ce++)S[ce].localeCompare(ae)<0&&(ae=S[ce]);return ae}return null},_functionSum:function(P){for(var S=0,ae=P[0],ce=0;ce<ae.length;ce++)S+=ae[ce];return S},_functionType:function(P){switch(this._getTypeName(P[0])){case a:return"number";case s:return"string";case 3:return"array";case 4:return"object";case 5:return"boolean";case 6:return"expref";case 7:return"null"}},_functionKeys:function(P){return Object.keys(P[0])},_functionValues:function(P){for(var S=P[0],ae=Object.keys(S),ce=[],ne=0;ne<ae.length;ne++)ce.push(S[ae[ne]]);return ce},_functionJoin:function(P){var S=P[0];return P[1].join(S)},_functionToArray:function(P){return this._getTypeName(P[0])===3?P[0]:[P[0]]},_functionToString:function(P){return this._getTypeName(P[0])===s?P[0]:JSON.stringify(P[0])},_functionToNumber:function(P){var S,ae=this._getTypeName(P[0]);return ae===a?P[0]:ae!==s||(S=+P[0],isNaN(S))?null:S},_functionNotNull:function(P){for(var S=0;S<P.length;S++)if(this._getTypeName(P[S])!==7)return P[S];return null},_functionSort:function(P){var S=P[0].slice(0);return S.sort(),S},_functionSortBy:function(P){var S=P[0].slice(0);if(S.length===0)return S;var ae=this._interpreter,ce=P[1],ne=this._getTypeName(ae.visit(ce,S[0]));if([a,s].indexOf(ne)<0)throw new Error("TypeError");for(var ye=this,Ce=[],Se=0;Se<S.length;Se++)Ce.push([Se,S[Se]]);Ce.sort(function(pt,Ke){var Me=ae.visit(ce,pt[1]),et=ae.visit(ce,Ke[1]);if(ye._getTypeName(Me)!==ne)throw new Error("TypeError: expected "+ne+", received "+ye._getTypeName(Me));if(ye._getTypeName(et)!==ne)throw new Error("TypeError: expected "+ne+", received "+ye._getTypeName(et));return Me>et?1:Me<et?-1:pt[0]-Ke[0]});for(var Ue=0;Ue<Ce.length;Ue++)S[Ue]=Ce[Ue][1];return S},_functionMaxBy:function(P){for(var S,ae,ce=P[1],ne=P[0],ye=this.createKeyFunction(ce,[a,s]),Ce=-1/0,Se=0;Se<ne.length;Se++)(ae=ye(ne[Se]))>Ce&&(Ce=ae,S=ne[Se]);return S},_functionMinBy:function(P){for(var S,ae,ce=P[1],ne=P[0],ye=this.createKeyFunction(ce,[a,s]),Ce=1/0,Se=0;Se<ne.length;Se++)(ae=ye(ne[Se]))<Ce&&(Ce=ae,S=ne[Se]);return S},createKeyFunction:function(P,S){var ae=this,ce=this._interpreter;return function(ne){var ye=ce.visit(P,ne);if(S.indexOf(ae._getTypeName(ye))<0){var Ce="TypeError: expected one of "+S+", received "+ae._getTypeName(ye);throw new Error(Ce)}return ye}}},n.tokenize=function(P){return new Z().tokenize(P)},n.compile=function(P){return new ve().parse(P)},n.search=function(P,S){var ae=new ve,ce=new ge,ne=new ue(ce);ce._interpreter=ne;var ye=ae.parse(S);return ne.search(ye,P)},n.strictDeepEqual=r})(YXe);/*!
* vanilla-picker v2.12.1
* https://vanilla-picker.js.org
*
* Copyright 2017-2021 Andreas Borgen (https://github.com/Sphinxxxx), Adam Brooks (https://github.com/dissimulate)
* Released under the ISC license.
*/var wj=function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")},kj=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),tv=function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function(t,r){var i=[],o=!0,a=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done)&&(i.push(l.value),!r||i.length!==r);o=!0);}catch(c){a=!0,s=c}finally{try{!o&&u.return&&u.return()}finally{if(a)throw s}}return i}(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};String.prototype.startsWith=String.prototype.startsWith||function(n){return this.indexOf(n)===0},String.prototype.padStart=String.prototype.padStart||function(n,e){for(var t=this;t.length<n;)t=e+t;return t};var ZXe={cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"};function N4(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,t=e>0?n.toFixed(e).replace(/0+$/,"").replace(/\.$/,""):n.toString();return t||"0"}var XXe=function(){function n(e,t,r,i){wj(this,n);var o=this;if(e!==void 0)if(Array.isArray(e))this.rgba=e;else if(r===void 0){var a=e&&""+e;a&&function(s){if(s.startsWith("hsl")){var l=s.match(/([\-\d\.e]+)/g).map(Number),u=tv(l,4),c=u[0],f=u[1],d=u[2],h=u[3];h===void 0&&(h=1),c/=360,f/=100,d/=100,o.hsla=[c,f,d,h]}else if(s.startsWith("rgb")){var v=s.match(/([\-\d\.e]+)/g).map(Number),p=tv(v,4),m=p[0],g=p[1],y=p[2],b=p[3];b===void 0&&(b=1),o.rgba=[m,g,y,b]}else s.startsWith("#")?o.rgba=n.hexToRgb(s):o.rgba=n.nameToRgb(s)||n.hexToRgb(s)}(a.toLowerCase())}else this.rgba=[e,t,r,i===void 0?1:i]}return kj(n,[{key:"printRGB",value:function(e){var t=(e?this.rgba:this.rgba.slice(0,3)).map(function(r,i){return N4(r,i===3?3:0)});return e?"rgba("+t+")":"rgb("+t+")"}},{key:"printHSL",value:function(e){var t=[360,100,100,1],r=["","%","%",""],i=(e?this.hsla:this.hsla.slice(0,3)).map(function(o,a){return N4(o*t[a],a===3?3:1)+r[a]});return e?"hsla("+i+")":"hsl("+i+")"}},{key:"printHex",value:function(e){var t=this.hex;return e?t:t.substring(0,7)}},{key:"rgba",get:function(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=n.hslToRgb(this._hsla)},set:function(e){e.length===3&&(e[3]=1),this._rgba=e,this._hsla=null}},{key:"rgbString",get:function(){return this.printRGB()}},{key:"rgbaString",get:function(){return this.printRGB(!0)}},{key:"hsla",get:function(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=n.rgbToHsl(this._rgba)},set:function(e){e.length===3&&(e[3]=1),this._hsla=e,this._rgba=null}},{key:"hslString",get:function(){return this.printHSL()}},{key:"hslaString",get:function(){return this.printHSL(!0)}},{key:"hex",get:function(){var e=this.rgba.map(function(t,r){return r<3?t.toString(16):Math.round(255*t).toString(16)});return"#"+e.map(function(t){return t.padStart(2,"0")}).join("")},set:function(e){this.rgba=n.hexToRgb(e)}}],[{key:"hexToRgb",value:function(e){var t=(e.startsWith("#")?e.slice(1):e).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!t.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+e);var r=t.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map(function(i){return parseInt(i,16)});return r[3]=r[3]/255,r}},{key:"nameToRgb",value:function(e){var t=e.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),r=ZXe[t];return r===void 0?r:n.hexToRgb(r.replace(/\-/g,"00").padStart(6,"f"))}},{key:"rgbToHsl",value:function(e){var t=tv(e,4),r=t[0],i=t[1],o=t[2],a=t[3];r/=255,i/=255,o/=255;var s=Math.max(r,i,o),l=Math.min(r,i,o),u=void 0,c=void 0,f=(s+l)/2;if(s===l)u=c=0;else{var d=s-l;switch(c=f>.5?d/(2-s-l):d/(s+l),s){case r:u=(i-o)/d+(i<o?6:0);break;case i:u=(o-r)/d+2;break;case o:u=(r-i)/d+4}u/=6}return[u,c,f,a]}},{key:"hslToRgb",value:function(e){var t=tv(e,4),r=t[0],i=t[1],o=t[2],a=t[3],s=void 0,l=void 0,u=void 0;if(i===0)s=l=u=o;else{var c=function(v,p,m){return m<0&&(m+=1),m>1&&(m-=1),m<.16666666666666666?v+6*(p-v)*m:m<.5?p:m<.6666666666666666?v+(p-v)*(.6666666666666666-m)*6:v},f=o<.5?o*(1+i):o+i-o*i,d=2*o-f;s=c(d,f,r+1/3),l=c(d,f,r),u=c(d,f,r-1/3)}var h=[255*s,255*l,255*u].map(Math.round);return h[3]=a,h}}]),n}(),eet=function(){function n(){wj(this,n),this._events=[]}return kj(n,[{key:"add",value:function(e,t,r){e.addEventListener(t,r,!1),this._events.push({target:e,type:t,handler:r})}},{key:"remove",value:function(e,t,r){this._events=this._events.filter(function(i){var o=!0;return e&&e!==i.target&&(o=!1),t&&t!==i.type&&(o=!1),r&&r!==i.handler&&(o=!1),o&&n._doRemove(i.target,i.type,i.handler),!o})}},{key:"destroy",value:function(){this._events.forEach(function(e){return n._doRemove(e.target,e.type,e.handler)}),this._events=[]}}],[{key:"_doRemove",value:function(e,t,r){e.removeEventListener(t,r,!1)}}]),n}();function T1(n,e,t){var r=!1;function i(l,u,c){return Math.max(u,Math.min(l,c))}function o(l,u,c){if(c&&(r=!0),r){l.preventDefault();var f=e.getBoundingClientRect(),d=f.width,h=f.height,v=u.clientX,p=u.clientY,m=i(v-f.left,0,d),g=i(p-f.top,0,h);t(m/d,g/h)}}function a(l,u){(l.buttons===void 0?l.which:l.buttons)===1?o(l,l,u):r=!1}function s(l,u){l.touches.length===1?o(l,l.touches[0],u):r=!1}n.add(e,"mousedown",function(l){a(l,!0)}),n.add(e,"touchstart",function(l){s(l,!0)}),n.add(window,"mousemove",a),n.add(e,"touchmove",s),n.add(window,"mouseup",function(l){r=!1}),n.add(e,"touchend",function(l){r=!1}),n.add(e,"touchcancel",function(l){r=!1})}function ya(n,e){return(e||document).querySelector(n)}function lW(n){n.preventDefault(),n.stopPropagation()}function O1(n,e,t,r,i){n.add(e,"keydown",function(o){t.indexOf(o.key)>=0&&(i&&lW(o),r(o))})}var uW=function(){function n(e){wj(this,n),this.settings={popup:"right",layout:"default",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,defaultColor:"#0cf"},this._events=new eet,this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(e)}return kj(n,[{key:"setOptions",value:function(e){var t=this;if(e){var r=this.settings;if(e instanceof HTMLElement)r.parent=e;else{r.parent&&e.parent&&r.parent!==e.parent&&(this._events.remove(r.parent),this._popupInited=!1),function(s,l,u){for(var c in s)u&&u.indexOf(c)>=0||(l[c]=s[c])}(e,r),e.onChange&&(this.onChange=e.onChange),e.onDone&&(this.onDone=e.onDone),e.onOpen&&(this.onOpen=e.onOpen),e.onClose&&(this.onClose=e.onClose);var i=e.color||e.colour;i&&this._setColor(i)}var o=r.parent;if(o&&r.popup&&!this._popupInited){var a=function(s){return t.openHandler(s)};this._events.add(o,"click",a),O1(this._events,o,[" ","Spacebar","Enter"],a),this._popupInited=!0}else e.parent&&!r.popup&&this.show()}}},{key:"openHandler",value:function(e){if(this.show()){e&&e.preventDefault(),this.settings.parent.style.pointerEvents="none";var t=e&&e.type==="keydown"?this._domEdit:this.domElement;setTimeout(function(){return t.focus()},100),this.onOpen&&this.onOpen(this.colour)}}},{key:"closeHandler",value:function(e){var t=e&&e.type,r=!1;if(e)if(t==="mousedown"||t==="focusin"){var i=(this.__containedEvent||0)+100;e.timeStamp>i&&(r=!0)}else lW(e),r=!0;else r=!0;r&&this.hide()&&(this.settings.parent.style.pointerEvents="",t!=="mousedown"&&this.settings.parent.focus(),this.onClose&&this.onClose(this.colour))}},{key:"movePopup",value:function(e,t){this.closeHandler(),this.setOptions(e),t&&this.openHandler()}},{key:"setColor",value:function(e,t){this._setColor(e,{silent:t})}},{key:"_setColor",value:function(e,t){if(typeof e=="string"&&(e=e.trim()),e){t=t||{};var r=void 0;try{r=new XXe(e)}catch(o){if(t.failSilently)return;throw o}if(!this.settings.alpha){var i=r.hsla;i[3]=1,r.hsla=i}this.colour=this.color=r,this._setHSLA(null,null,null,null,t)}}},{key:"setColour",value:function(e,t){this.setColor(e,t)}},{key:"show",value:function(){if(!this.settings.parent)return!1;if(this.domElement){var e=this._toggleDOM(!0);return this._setPosition(),e}var t,r,i=this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>',o=(t=i,(r=document.createElement("div")).innerHTML=t,r.firstElementChild);return this.domElement=o,this._domH=ya(".picker_hue",o),this._domSL=ya(".picker_sl",o),this._domA=ya(".picker_alpha",o),this._domEdit=ya(".picker_editor input",o),this._domSample=ya(".picker_sample",o),this._domOkay=ya(".picker_done button",o),this._domCancel=ya(".picker_cancel button",o),o.classList.add("layout_"+this.settings.layout),this.settings.alpha||o.classList.add("no_alpha"),this.settings.editor||o.classList.add("no_editor"),this.settings.cancelButton||o.classList.add("no_cancel"),this._ifPopup(function(){return o.classList.add("popup")}),this._setPosition(),this.colour?this._updateUI():this._setColor(this.settings.defaultColor),this._bindEvents(),!0}},{key:"hide",value:function(){return this._toggleDOM(!1)}},{key:"destroy",value:function(){this._events.destroy(),this.domElement&&this.settings.parent.removeChild(this.domElement)}},{key:"_bindEvents",value:function(){var e=this,t=this,r=this.domElement,i=this._events;function o(l,u,c){i.add(l,u,c)}o(r,"click",function(l){return l.preventDefault()}),T1(i,this._domH,function(l,u){return t._setHSLA(l)}),T1(i,this._domSL,function(l,u){return t._setHSLA(null,l,1-u)}),this.settings.alpha&&T1(i,this._domA,function(l,u){return t._setHSLA(null,null,null,1-u)});var a=this._domEdit;o(a,"input",function(l){t._setColor(this.value,{fromEditor:!0,failSilently:!0})}),o(a,"focus",function(l){var u=this;u.selectionStart===u.selectionEnd&&u.select()}),this._ifPopup(function(){var l=function(c){return e.closeHandler(c)};o(window,"mousedown",l),o(window,"focusin",l),O1(i,r,["Esc","Escape"],l);var u=function(c){e.__containedEvent=c.timeStamp};o(r,"mousedown",u),o(r,"focusin",u),o(e._domCancel,"click",l)});var s=function(l){e._ifPopup(function(){return e.closeHandler(l)}),e.onDone&&e.onDone(e.colour)};o(this._domOkay,"click",s),O1(i,r,["Enter"],s)}},{key:"_setPosition",value:function(){var e=this.settings.parent,t=this.domElement;e!==t.parentNode&&e.appendChild(t),this._ifPopup(function(r){getComputedStyle(e).position==="static"&&(e.style.position="relative");var i=r===!0?"popup_right":"popup_"+r;["popup_top","popup_bottom","popup_left","popup_right"].forEach(function(o){o===i?t.classList.add(o):t.classList.remove(o)}),t.classList.add(i)})}},{key:"_setHSLA",value:function(e,t,r,i,o){o=o||{};var a=this.colour,s=a.hsla;[e,t,r,i].forEach(function(l,u){(l||l===0)&&(s[u]=l)}),a.hsla=s,this._updateUI(o),this.onChange&&!o.silent&&this.onChange(a)}},{key:"_updateUI",value:function(e){if(this.domElement){e=e||{};var t=this.colour,r=t.hsla,i="hsl("+360*r[0]+", 100%, 50%)",o=t.hslString,a=t.hslaString,s=this._domH,l=this._domSL,u=this._domA,c=ya(".picker_selector",s),f=ya(".picker_selector",l),d=ya(".picker_selector",u);b(0,c,r[0]),this._domSL.style.backgroundColor=this._domH.style.color=i,b(0,f,r[1]),w(0,f,1-r[2]),l.style.color=o,w(0,d,1-r[3]);var h=o,v=h.replace("hsl","hsla").replace(")",", 0)"),p="linear-gradient("+[h,v]+")";if(this._domA.style.background=p+`, linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0 / 2em 2em,
                   linear-gradient(45deg, lightgrey 25%,       white 25%,       white 75%, lightgrey 75%) 1em 1em / 2em 2em`,!e.fromEditor){var m=this.settings.editorFormat,g=this.settings.alpha,y=void 0;switch(m){case"rgb":y=t.printRGB(g);break;case"hsl":y=t.printHSL(g);break;default:y=t.printHex(g)}this._domEdit.value=y}this._domSample.style.color=a}function b(k,x,C){x.style.left=100*C+"%"}function w(k,x,C){x.style.top=100*C+"%"}}},{key:"_ifPopup",value:function(e,t){this.settings.parent&&this.settings.popup?e&&e(this.settings.popup):t&&t()}},{key:"_toggleDOM",value:function(e){var t=this.domElement;if(!t)return!1;var r=e?"":"none",i=t.style.display!==r;return i&&(t.style.display=r),i}}]),n}(),E1=document.createElement("style");E1.textContent='.picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:"";display:block;width:100%;height:0;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{flex:1 1 auto}.layout_default .picker_sl::before{content:"";display:block;padding-bottom:100%}.layout_default .picker_editor{order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{order:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px #1e90ff}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:#f5f5f5;background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:#fff}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid #fff;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:linear-gradient(180deg, white, rgba(255, 255, 255, 0) 50%),linear-gradient(0deg, black, rgba(0, 0, 0, 0) 50%),linear-gradient(90deg, #808080, rgba(128, 128, 128, 0))}.picker_alpha,.picker_sample{position:relative;background:linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0/2em 2em,linear-gradient(45deg, lightgrey 25%, white 25%, white 75%, lightgrey 75%) 1em 1em/2em 2em;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:"";position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:"";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}',document.documentElement.firstElementChild.appendChild(E1),uW.StyleElement=E1;var tet=Object.freeze({__proto__:null,default:uW});de.exports.compileJSONPointer;de.exports.compileJSONPointerProp;de.exports.deleteIn;de.exports.existsIn;de.exports.getIn;de.exports.immutableJSONPatch;de.exports.insertAt;de.exports.parseFrom;de.exports.parseJSONPointer;de.exports.parsePath;de.exports.revertJSONPatch;de.exports.setIn;de.exports.updateIn;function I4(n){const e=Array.from(n);return e[0]=e[0].toUpperCase(),e.unshift("n"),e.unshift("o"),e.join("")}function net(n,e=[]){const t={},r={},i={},o={},a=Array.isArray(e)?e:Object.keys(e);for(const s in n)if(s.startsWith("@")){const l=s.substring(1);l.startsWith("vnode")?o[I4(l)]=n[s]:i[I4(l)]=n[s]}else a.includes(s)?t[s]=n[s]:r[s]=n[s];return{props:t,attrs:r,listeners:i,hooks:o}}var ret=typeof global=="object"&&global&&global.Object===Object&&global;const cW=ret;var iet=typeof self=="object"&&self&&self.Object===Object&&self,oet=cW||iet||Function("return this")();const Ga=oet;var aet=Ga.Symbol;const Fa=aet;var fW=Object.prototype,set=fW.hasOwnProperty,uet=fW.toString,id=Fa?Fa.toStringTag:void 0;function cet(n){var e=set.call(n,id),t=n[id];try{n[id]=void 0;var r=!0}catch{}var i=uet.call(n);return r&&(e?n[id]=t:delete n[id]),i}var fet=Object.prototype,det=fet.toString;function het(n){return det.call(n)}var pet="[object Null]",vet="[object Undefined]",P4=Fa?Fa.toStringTag:void 0;function Hu(n){return n==null?n===void 0?vet:pet:P4&&P4 in Object(n)?cet(n):het(n)}function Ha(n){return n!=null&&typeof n=="object"}var met="[object Symbol]";function xj(n){return typeof n=="symbol"||Ha(n)&&Hu(n)==met}function get(n,e){for(var t=-1,r=n==null?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i}var yet=Array.isArray;const Mo=yet;var bet=1/0,L4=Fa?Fa.prototype:void 0,D4=L4?L4.toString:void 0;function dW(n){if(typeof n=="string")return n;if(Mo(n))return get(n,dW)+"";if(xj(n))return D4?D4.call(n):"";var e=n+"";return e=="0"&&1/n==-bet?"-0":e}function Ka(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}function jj(n){return n}var wet="[object AsyncFunction]",ket="[object Function]",xet="[object GeneratorFunction]",jet="[object Proxy]";function Cj(n){if(!Ka(n))return!1;var e=Hu(n);return e==ket||e==xet||e==wet||e==jet}var Cet=Ga["__core-js_shared__"];const M1=Cet;var R4=function(){var n=/[^.]+$/.exec(M1&&M1.keys&&M1.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function Tet(n){return!!R4&&R4 in n}var Oet=Function.prototype,Eet=Oet.toString;function Vu(n){if(n!=null){try{return Eet.call(n)}catch{}try{return n+""}catch{}}return""}var Met=/[\\^$.*+?()[\]{}|]/g,$et=/^\[object .+?Constructor\]$/,Aet=Function.prototype,_et=Object.prototype,Net=Aet.toString,Iet=_et.hasOwnProperty,Pet=RegExp("^"+Net.call(Iet).replace(Met,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Let(n){if(!Ka(n)||Tet(n))return!1;var e=Cj(n)?Pet:$et;return e.test(Vu(n))}function Det(n,e){return n==null?void 0:n[e]}function Wu(n,e){var t=Det(n,e);return Let(t)?t:void 0}var Ret=Wu(Ga,"WeakMap");const Yw=Ret;var B4=Object.create,Bet=function(){function n(){}return function(e){if(!Ka(e))return{};if(B4)return B4(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();const zet=Bet;function qet(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function hW(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var Fet=800,Het=16,Vet=Date.now;function Wet(n){var e=0,t=0;return function(){var r=Vet(),i=Het-(r-t);if(t=r,i>0){if(++e>=Fet)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function Uet(n){return function(){return n}}var Jet=function(){try{var n=Wu(Object,"defineProperty");return n({},"",{}),n}catch{}}();const cg=Jet;var Get=cg?function(n,e){return cg(n,"toString",{configurable:!0,enumerable:!1,value:Uet(e),writable:!0})}:jj;const Ket=Get;var Qet=Wet(Ket);const Yet=Qet;function Zet(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var Xet=9007199254740991,ett=/^(?:0|[1-9]\d*)$/;function Sj(n,e){var t=typeof n;return e=e==null?Xet:e,!!e&&(t=="number"||t!="symbol"&&ett.test(n))&&n>-1&&n%1==0&&n<e}function $0(n,e,t){e=="__proto__"&&cg?cg(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function ep(n,e){return n===e||n!==n&&e!==e}var ttt=Object.prototype,ntt=ttt.hasOwnProperty;function pW(n,e,t){var r=n[e];(!(ntt.call(n,e)&&ep(r,t))||t===void 0&&!(e in n))&&$0(n,e,t)}function Lf(n,e,t,r){var i=!t;t||(t={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=r?r(t[s],n[s],s,t,n):void 0;l===void 0&&(l=n[s]),i?$0(t,s,l):pW(t,s,l)}return t}var z4=Math.max;function rtt(n,e,t){return e=z4(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,o=z4(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=t(a),qet(n,this,s)}}function itt(n,e){return Yet(rtt(n,e,jj),n+"")}var ott=9007199254740991;function Tj(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=ott}function A0(n){return n!=null&&Tj(n.length)&&!Cj(n)}function att(n,e,t){if(!Ka(t))return!1;var r=typeof e;return(r=="number"?A0(t)&&Sj(e,t.length):r=="string"&&e in t)?ep(t[e],n):!1}function vW(n){return itt(function(e,t){var r=-1,i=t.length,o=i>1?t[i-1]:void 0,a=i>2?t[2]:void 0;for(o=n.length>3&&typeof o=="function"?(i--,o):void 0,a&&att(t[0],t[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var s=t[r];s&&n(e,s,r,o)}return e})}var stt=Object.prototype;function Oj(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||stt;return n===t}function ltt(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var utt="[object Arguments]";function q4(n){return Ha(n)&&Hu(n)==utt}var mW=Object.prototype,ctt=mW.hasOwnProperty,ftt=mW.propertyIsEnumerable,dtt=q4(function(){return arguments}())?q4:function(n){return Ha(n)&&ctt.call(n,"callee")&&!ftt.call(n,"callee")};const fg=dtt;function htt(){return!1}var gW=typeof exports=="object"&&exports&&!exports.nodeType&&exports,F4=gW&&typeof module=="object"&&module&&!module.nodeType&&module,ptt=F4&&F4.exports===gW,H4=ptt?Ga.Buffer:void 0,vtt=H4?H4.isBuffer:void 0,mtt=vtt||htt;const xh=mtt;var gtt="[object Arguments]",ytt="[object Array]",btt="[object Boolean]",wtt="[object Date]",ktt="[object Error]",xtt="[object Function]",jtt="[object Map]",Ctt="[object Number]",Stt="[object Object]",Ttt="[object RegExp]",Ott="[object Set]",Ett="[object String]",Mtt="[object WeakMap]",$tt="[object ArrayBuffer]",Att="[object DataView]",_tt="[object Float32Array]",Ntt="[object Float64Array]",Itt="[object Int8Array]",Ptt="[object Int16Array]",Ltt="[object Int32Array]",Dtt="[object Uint8Array]",Rtt="[object Uint8ClampedArray]",Btt="[object Uint16Array]",ztt="[object Uint32Array]",tr={};tr[_tt]=tr[Ntt]=tr[Itt]=tr[Ptt]=tr[Ltt]=tr[Dtt]=tr[Rtt]=tr[Btt]=tr[ztt]=!0;tr[gtt]=tr[ytt]=tr[$tt]=tr[btt]=tr[Att]=tr[wtt]=tr[ktt]=tr[xtt]=tr[jtt]=tr[Ctt]=tr[Stt]=tr[Ttt]=tr[Ott]=tr[Ett]=tr[Mtt]=!1;function qtt(n){return Ha(n)&&Tj(n.length)&&!!tr[Hu(n)]}function Ej(n){return function(e){return n(e)}}var yW=typeof exports=="object"&&exports&&!exports.nodeType&&exports,qd=yW&&typeof module=="object"&&module&&!module.nodeType&&module,Ftt=qd&&qd.exports===yW,$1=Ftt&&cW.process,Htt=function(){try{var n=qd&&qd.require&&qd.require("util").types;return n||$1&&$1.binding&&$1.binding("util")}catch{}}();const vf=Htt;var V4=vf&&vf.isTypedArray,Vtt=V4?Ej(V4):qtt;const Mj=Vtt;var Wtt=Object.prototype,Utt=Wtt.hasOwnProperty;function bW(n,e){var t=Mo(n),r=!t&&fg(n),i=!t&&!r&&xh(n),o=!t&&!r&&!i&&Mj(n),a=t||r||i||o,s=a?ltt(n.length,String):[],l=s.length;for(var u in n)(e||Utt.call(n,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Sj(u,l)))&&s.push(u);return s}function wW(n,e){return function(t){return n(e(t))}}var Jtt=wW(Object.keys,Object);const Gtt=Jtt;var Ktt=Object.prototype,Qtt=Ktt.hasOwnProperty;function Ytt(n){if(!Oj(n))return Gtt(n);var e=[];for(var t in Object(n))Qtt.call(n,t)&&t!="constructor"&&e.push(t);return e}function tp(n){return A0(n)?bW(n):Ytt(n)}function Ztt(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var Xtt=Object.prototype,ent=Xtt.hasOwnProperty;function tnt(n){if(!Ka(n))return Ztt(n);var e=Oj(n),t=[];for(var r in n)r=="constructor"&&(e||!ent.call(n,r))||t.push(r);return t}function Df(n){return A0(n)?bW(n,!0):tnt(n)}var nnt=vW(function(n,e,t,r){Lf(e,Df(e),n,r)});const rnt=nnt;var int=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ont=/^\w*$/;function $j(n,e){if(Mo(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||xj(n)?!0:ont.test(n)||!int.test(n)||e!=null&&n in Object(e)}var ant=Wu(Object,"create");const jh=ant;function snt(){this.__data__=jh?jh(null):{},this.size=0}function lnt(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var unt="__lodash_hash_undefined__",cnt=Object.prototype,fnt=cnt.hasOwnProperty;function dnt(n){var e=this.__data__;if(jh){var t=e[n];return t===unt?void 0:t}return fnt.call(e,n)?e[n]:void 0}var hnt=Object.prototype,pnt=hnt.hasOwnProperty;function vnt(n){var e=this.__data__;return jh?e[n]!==void 0:pnt.call(e,n)}var mnt="__lodash_hash_undefined__";function gnt(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=jh&&e===void 0?mnt:e,this}function $u(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}$u.prototype.clear=snt;$u.prototype.delete=lnt;$u.prototype.get=dnt;$u.prototype.has=vnt;$u.prototype.set=gnt;function ynt(){this.__data__=[],this.size=0}function _0(n,e){for(var t=n.length;t--;)if(ep(n[t][0],e))return t;return-1}var bnt=Array.prototype,wnt=bnt.splice;function knt(n){var e=this.__data__,t=_0(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():wnt.call(e,t,1),--this.size,!0}function xnt(n){var e=this.__data__,t=_0(e,n);return t<0?void 0:e[t][1]}function jnt(n){return _0(this.__data__,n)>-1}function Cnt(n,e){var t=this.__data__,r=_0(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function Es(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Es.prototype.clear=ynt;Es.prototype.delete=knt;Es.prototype.get=xnt;Es.prototype.has=jnt;Es.prototype.set=Cnt;var Snt=Wu(Ga,"Map");const Ch=Snt;function Tnt(){this.size=0,this.__data__={hash:new $u,map:new(Ch||Es),string:new $u}}function Ont(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function N0(n,e){var t=n.__data__;return Ont(e)?t[typeof e=="string"?"string":"hash"]:t.map}function Ent(n){var e=N0(this,n).delete(n);return this.size-=e?1:0,e}function Mnt(n){return N0(this,n).get(n)}function $nt(n){return N0(this,n).has(n)}function Ant(n,e){var t=N0(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function Ms(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Ms.prototype.clear=Tnt;Ms.prototype.delete=Ent;Ms.prototype.get=Mnt;Ms.prototype.has=$nt;Ms.prototype.set=Ant;var _nt="Expected a function";function Aj(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(_nt);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=t.cache;if(o.has(i))return o.get(i);var a=n.apply(this,r);return t.cache=o.set(i,a)||o,a};return t.cache=new(Aj.Cache||Ms),t}Aj.Cache=Ms;var Nnt=500;function Int(n){var e=Aj(n,function(r){return t.size===Nnt&&t.clear(),r}),t=e.cache;return e}var Pnt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lnt=/\\(\\)?/g,Dnt=Int(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(Pnt,function(t,r,i,o){e.push(i?o.replace(Lnt,"$1"):r||t)}),e});const Rnt=Dnt;function Bnt(n){return n==null?"":dW(n)}function kW(n,e){return Mo(n)?n:$j(n,e)?[n]:Rnt(Bnt(n))}var znt=1/0;function I0(n){if(typeof n=="string"||xj(n))return n;var e=n+"";return e=="0"&&1/n==-znt?"-0":e}function xW(n,e){e=kW(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[I0(e[t++])];return t&&t==r?n:void 0}function qnt(n,e,t){var r=n==null?void 0:xW(n,e);return r===void 0?t:r}function jW(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var Fnt=wW(Object.getPrototypeOf,Object);const _j=Fnt;var Hnt="[object Object]",Vnt=Function.prototype,Wnt=Object.prototype,CW=Vnt.toString,Unt=Wnt.hasOwnProperty,Jnt=CW.call(Object);function SW(n){if(!Ha(n)||Hu(n)!=Hnt)return!1;var e=_j(n);if(e===null)return!0;var t=Unt.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&CW.call(t)==Jnt}function Gnt(){this.__data__=new Es,this.size=0}function Knt(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function Qnt(n){return this.__data__.get(n)}function Ynt(n){return this.__data__.has(n)}var Znt=200;function Xnt(n,e){var t=this.__data__;if(t instanceof Es){var r=t.__data__;if(!Ch||r.length<Znt-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new Ms(r)}return t.set(n,e),this.size=t.size,this}function ea(n){var e=this.__data__=new Es(n);this.size=e.size}ea.prototype.clear=Gnt;ea.prototype.delete=Knt;ea.prototype.get=Qnt;ea.prototype.has=Ynt;ea.prototype.set=Xnt;function ert(n,e){return n&&Lf(e,tp(e),n)}function trt(n,e){return n&&Lf(e,Df(e),n)}var TW=typeof exports=="object"&&exports&&!exports.nodeType&&exports,W4=TW&&typeof module=="object"&&module&&!module.nodeType&&module,nrt=W4&&W4.exports===TW,U4=nrt?Ga.Buffer:void 0,J4=U4?U4.allocUnsafe:void 0;function OW(n,e){if(e)return n.slice();var t=n.length,r=J4?J4(t):new n.constructor(t);return n.copy(r),r}function rrt(n,e){for(var t=-1,r=n==null?0:n.length,i=0,o=[];++t<r;){var a=n[t];e(a,t,n)&&(o[i++]=a)}return o}function EW(){return[]}var irt=Object.prototype,ort=irt.propertyIsEnumerable,G4=Object.getOwnPropertySymbols,art=G4?function(n){return n==null?[]:(n=Object(n),rrt(G4(n),function(e){return ort.call(n,e)}))}:EW;const Nj=art;function srt(n,e){return Lf(n,Nj(n),e)}var lrt=Object.getOwnPropertySymbols,urt=lrt?function(n){for(var e=[];n;)jW(e,Nj(n)),n=_j(n);return e}:EW;const MW=urt;function crt(n,e){return Lf(n,MW(n),e)}function $W(n,e,t){var r=e(n);return Mo(n)?r:jW(r,t(n))}function Zw(n){return $W(n,tp,Nj)}function frt(n){return $W(n,Df,MW)}var drt=Wu(Ga,"DataView");const Xw=drt;var hrt=Wu(Ga,"Promise");const ek=hrt;var prt=Wu(Ga,"Set");const tk=prt;var K4="[object Map]",vrt="[object Object]",Q4="[object Promise]",Y4="[object Set]",Z4="[object WeakMap]",X4="[object DataView]",mrt=Vu(Xw),grt=Vu(Ch),yrt=Vu(ek),brt=Vu(tk),wrt=Vu(Yw),Fl=Hu;(Xw&&Fl(new Xw(new ArrayBuffer(1)))!=X4||Ch&&Fl(new Ch)!=K4||ek&&Fl(ek.resolve())!=Q4||tk&&Fl(new tk)!=Y4||Yw&&Fl(new Yw)!=Z4)&&(Fl=function(n){var e=Hu(n),t=e==vrt?n.constructor:void 0,r=t?Vu(t):"";if(r)switch(r){case mrt:return X4;case grt:return K4;case yrt:return Q4;case brt:return Y4;case wrt:return Z4}return e});const Sh=Fl;var krt=Object.prototype,xrt=krt.hasOwnProperty;function jrt(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&xrt.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var Crt=Ga.Uint8Array;const dg=Crt;function Ij(n){var e=new n.constructor(n.byteLength);return new dg(e).set(new dg(n)),e}function Srt(n,e){var t=e?Ij(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var Trt=/\w*$/;function Ort(n){var e=new n.constructor(n.source,Trt.exec(n));return e.lastIndex=n.lastIndex,e}var eL=Fa?Fa.prototype:void 0,tL=eL?eL.valueOf:void 0;function Ert(n){return tL?Object(tL.call(n)):{}}function AW(n,e){var t=e?Ij(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var Mrt="[object Boolean]",$rt="[object Date]",Art="[object Map]",_rt="[object Number]",Nrt="[object RegExp]",Irt="[object Set]",Prt="[object String]",Lrt="[object Symbol]",Drt="[object ArrayBuffer]",Rrt="[object DataView]",Brt="[object Float32Array]",zrt="[object Float64Array]",qrt="[object Int8Array]",Frt="[object Int16Array]",Hrt="[object Int32Array]",Vrt="[object Uint8Array]",Wrt="[object Uint8ClampedArray]",Urt="[object Uint16Array]",Jrt="[object Uint32Array]";function Grt(n,e,t){var r=n.constructor;switch(e){case Drt:return Ij(n);case Mrt:case $rt:return new r(+n);case Rrt:return Srt(n,t);case Brt:case zrt:case qrt:case Frt:case Hrt:case Vrt:case Wrt:case Urt:case Jrt:return AW(n,t);case Art:return new r;case _rt:case Prt:return new r(n);case Nrt:return Ort(n);case Irt:return new r;case Lrt:return Ert(n)}}function _W(n){return typeof n.constructor=="function"&&!Oj(n)?zet(_j(n)):{}}var Krt="[object Map]";function Qrt(n){return Ha(n)&&Sh(n)==Krt}var nL=vf&&vf.isMap,Yrt=nL?Ej(nL):Qrt;const Zrt=Yrt;var Xrt="[object Set]";function eit(n){return Ha(n)&&Sh(n)==Xrt}var rL=vf&&vf.isSet,tit=rL?Ej(rL):eit;const nit=tit;var rit=1,iit=2,oit=4,NW="[object Arguments]",ait="[object Array]",sit="[object Boolean]",lit="[object Date]",uit="[object Error]",IW="[object Function]",cit="[object GeneratorFunction]",fit="[object Map]",dit="[object Number]",PW="[object Object]",hit="[object RegExp]",pit="[object Set]",vit="[object String]",mit="[object Symbol]",git="[object WeakMap]",yit="[object ArrayBuffer]",bit="[object DataView]",wit="[object Float32Array]",kit="[object Float64Array]",xit="[object Int8Array]",jit="[object Int16Array]",Cit="[object Int32Array]",Sit="[object Uint8Array]",Tit="[object Uint8ClampedArray]",Oit="[object Uint16Array]",Eit="[object Uint32Array]",Kn={};Kn[NW]=Kn[ait]=Kn[yit]=Kn[bit]=Kn[sit]=Kn[lit]=Kn[wit]=Kn[kit]=Kn[xit]=Kn[jit]=Kn[Cit]=Kn[fit]=Kn[dit]=Kn[PW]=Kn[hit]=Kn[pit]=Kn[vit]=Kn[mit]=Kn[Sit]=Kn[Tit]=Kn[Oit]=Kn[Eit]=!0;Kn[uit]=Kn[IW]=Kn[git]=!1;function Iv(n,e,t,r,i,o){var a,s=e&rit,l=e&iit,u=e&oit;if(t&&(a=i?t(n,r,i,o):t(n)),a!==void 0)return a;if(!Ka(n))return n;var c=Mo(n);if(c){if(a=jrt(n),!s)return hW(n,a)}else{var f=Sh(n),d=f==IW||f==cit;if(xh(n))return OW(n,s);if(f==PW||f==NW||d&&!i){if(a=l||d?{}:_W(n),!s)return l?crt(n,trt(a,n)):srt(n,ert(a,n))}else{if(!Kn[f])return i?n:{};a=Grt(n,f,s)}}o||(o=new ea);var h=o.get(n);if(h)return h;o.set(n,a),nit(n)?n.forEach(function(m){a.add(Iv(m,e,t,m,n,o))}):Zrt(n)&&n.forEach(function(m,g){a.set(g,Iv(m,e,t,g,n,o))});var v=u?l?frt:Zw:l?Df:tp,p=c?void 0:v(n);return Zet(p||n,function(m,g){p&&(g=m,m=n[g]),pW(a,g,Iv(m,e,t,g,n,o))}),a}var Mit=1,$it=4;function Ait(n){return Iv(n,Mit|$it)}var _it="__lodash_hash_undefined__";function Nit(n){return this.__data__.set(n,_it),this}function Iit(n){return this.__data__.has(n)}function hg(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new Ms;++e<t;)this.add(n[e])}hg.prototype.add=hg.prototype.push=Nit;hg.prototype.has=Iit;function Pit(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function Lit(n,e){return n.has(e)}var Dit=1,Rit=2;function LW(n,e,t,r,i,o){var a=t&Dit,s=n.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(n),c=o.get(e);if(u&&c)return u==e&&c==n;var f=-1,d=!0,h=t&Rit?new hg:void 0;for(o.set(n,e),o.set(e,n);++f<s;){var v=n[f],p=e[f];if(r)var m=a?r(p,v,f,e,n,o):r(v,p,f,n,e,o);if(m!==void 0){if(m)continue;d=!1;break}if(h){if(!Pit(e,function(g,y){if(!Lit(h,y)&&(v===g||i(v,g,t,r,o)))return h.push(y)})){d=!1;break}}else if(!(v===p||i(v,p,t,r,o))){d=!1;break}}return o.delete(n),o.delete(e),d}function Bit(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}function zit(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var qit=1,Fit=2,Hit="[object Boolean]",Vit="[object Date]",Wit="[object Error]",Uit="[object Map]",Jit="[object Number]",Git="[object RegExp]",Kit="[object Set]",Qit="[object String]",Yit="[object Symbol]",Zit="[object ArrayBuffer]",Xit="[object DataView]",iL=Fa?Fa.prototype:void 0,A1=iL?iL.valueOf:void 0;function eot(n,e,t,r,i,o,a){switch(t){case Xit:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case Zit:return!(n.byteLength!=e.byteLength||!o(new dg(n),new dg(e)));case Hit:case Vit:case Jit:return ep(+n,+e);case Wit:return n.name==e.name&&n.message==e.message;case Git:case Qit:return n==e+"";case Uit:var s=Bit;case Kit:var l=r&qit;if(s||(s=zit),n.size!=e.size&&!l)return!1;var u=a.get(n);if(u)return u==e;r|=Fit,a.set(n,e);var c=LW(s(n),s(e),r,i,o,a);return a.delete(n),c;case Yit:if(A1)return A1.call(n)==A1.call(e)}return!1}var tot=1,not=Object.prototype,rot=not.hasOwnProperty;function iot(n,e,t,r,i,o){var a=t&tot,s=Zw(n),l=s.length,u=Zw(e),c=u.length;if(l!=c&&!a)return!1;for(var f=l;f--;){var d=s[f];if(!(a?d in e:rot.call(e,d)))return!1}var h=o.get(n),v=o.get(e);if(h&&v)return h==e&&v==n;var p=!0;o.set(n,e),o.set(e,n);for(var m=a;++f<l;){d=s[f];var g=n[d],y=e[d];if(r)var b=a?r(y,g,d,e,n,o):r(g,y,d,n,e,o);if(!(b===void 0?g===y||i(g,y,t,r,o):b)){p=!1;break}m||(m=d=="constructor")}if(p&&!m){var w=n.constructor,k=e.constructor;w!=k&&"constructor"in n&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof k=="function"&&k instanceof k)&&(p=!1)}return o.delete(n),o.delete(e),p}var oot=1,oL="[object Arguments]",aL="[object Array]",nv="[object Object]",aot=Object.prototype,sL=aot.hasOwnProperty;function sot(n,e,t,r,i,o){var a=Mo(n),s=Mo(e),l=a?aL:Sh(n),u=s?aL:Sh(e);l=l==oL?nv:l,u=u==oL?nv:u;var c=l==nv,f=u==nv,d=l==u;if(d&&xh(n)){if(!xh(e))return!1;a=!0,c=!1}if(d&&!c)return o||(o=new ea),a||Mj(n)?LW(n,e,t,r,i,o):eot(n,e,l,t,r,i,o);if(!(t&oot)){var h=c&&sL.call(n,"__wrapped__"),v=f&&sL.call(e,"__wrapped__");if(h||v){var p=h?n.value():n,m=v?e.value():e;return o||(o=new ea),i(p,m,t,r,o)}}return d?(o||(o=new ea),iot(n,e,t,r,i,o)):!1}function Pj(n,e,t,r,i){return n===e?!0:n==null||e==null||!Ha(n)&&!Ha(e)?n!==n&&e!==e:sot(n,e,t,r,Pj,i)}var lot=1,uot=2;function cot(n,e,t,r){var i=t.length,o=i,a=!r;if(n==null)return!o;for(n=Object(n);i--;){var s=t[i];if(a&&s[2]?s[1]!==n[s[0]]:!(s[0]in n))return!1}for(;++i<o;){s=t[i];var l=s[0],u=n[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in n))return!1}else{var f=new ea;if(r)var d=r(u,c,l,n,e,f);if(!(d===void 0?Pj(c,u,lot|uot,r,f):d))return!1}}return!0}function DW(n){return n===n&&!Ka(n)}function fot(n){for(var e=tp(n),t=e.length;t--;){var r=e[t],i=n[r];e[t]=[r,i,DW(i)]}return e}function RW(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}function dot(n){var e=fot(n);return e.length==1&&e[0][2]?RW(e[0][0],e[0][1]):function(t){return t===n||cot(t,n,e)}}function hot(n,e){return n!=null&&e in Object(n)}function pot(n,e,t){e=kW(e,n);for(var r=-1,i=e.length,o=!1;++r<i;){var a=I0(e[r]);if(!(o=n!=null&&t(n,a)))break;n=n[a]}return o||++r!=i?o:(i=n==null?0:n.length,!!i&&Tj(i)&&Sj(a,i)&&(Mo(n)||fg(n)))}function vot(n,e){return n!=null&&pot(n,e,hot)}var mot=1,got=2;function yot(n,e){return $j(n)&&DW(e)?RW(I0(n),e):function(t){var r=qnt(t,n);return r===void 0&&r===e?vot(t,n):Pj(e,r,mot|got)}}function bot(n){return function(e){return e==null?void 0:e[n]}}function wot(n){return function(e){return xW(e,n)}}function kot(n){return $j(n)?bot(I0(n)):wot(n)}function xot(n){return typeof n=="function"?n:n==null?jj:typeof n=="object"?Mo(n)?yot(n[0],n[1]):dot(n):kot(n)}function jot(n){return function(e,t,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[n?s:++i];if(t(o[l],l,o)===!1)break}return e}}var Cot=jot();const BW=Cot;function Sot(n,e){return n&&BW(n,e,tp)}function nk(n,e,t){(t!==void 0&&!ep(n[e],t)||t===void 0&&!(e in n))&&$0(n,e,t)}function Tot(n){return Ha(n)&&A0(n)}function rk(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function Oot(n){return Lf(n,Df(n))}function Eot(n,e,t,r,i,o,a){var s=rk(n,t),l=rk(e,t),u=a.get(l);if(u){nk(n,t,u);return}var c=o?o(s,l,t+"",n,e,a):void 0,f=c===void 0;if(f){var d=Mo(l),h=!d&&xh(l),v=!d&&!h&&Mj(l);c=l,d||h||v?Mo(s)?c=s:Tot(s)?c=hW(s):h?(f=!1,c=OW(l,!0)):v?(f=!1,c=AW(l,!0)):c=[]:SW(l)||fg(l)?(c=s,fg(s)?c=Oot(s):(!Ka(s)||Cj(s))&&(c=_W(l))):f=!1}f&&(a.set(l,c),i(c,l,r,o,a),a.delete(l)),nk(n,t,c)}function zW(n,e,t,r,i){n!==e&&BW(e,function(o,a){if(i||(i=new ea),Ka(o))Eot(n,e,a,t,zW,r,i);else{var s=r?r(rk(n,a),o,a+"",n,e,i):void 0;s===void 0&&(s=o),nk(n,a,s)}},Df)}var Mot=vW(function(n,e,t,r){zW(n,e,t,r)});const $ot=Mot;function Aot(n,e){var t={};return e=xot(e),Sot(n,function(r,i,o){$0(t,e(r,i,o),r)}),t}var pg=function(){return pg=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},pg.apply(this,arguments)};function _ot(n){return n.toLowerCase()}var Not=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Iot=/[^A-Z0-9]+/gi;function Pot(n,e){e===void 0&&(e={});for(var t=e.splitRegexp,r=t===void 0?Not:t,i=e.stripRegexp,o=i===void 0?Iot:i,a=e.transform,s=a===void 0?_ot:a,l=e.delimiter,u=l===void 0?" ":l,c=lL(lL(n,r,"$1\0$2"),o,"\0"),f=0,d=c.length;c.charAt(f)==="\0";)f++;for(;c.charAt(d-1)==="\0";)d--;return c.slice(f,d).split("\0").map(s).join(u)}function lL(n,e,t){return e instanceof RegExp?n.replace(e,t):e.reduce(function(r,i){return r.replace(i,t)},n)}function qW(n,e){var t=n.charAt(0),r=n.substr(1).toLowerCase();return e>0&&t>="0"&&t<="9"?"_"+t+r:""+t.toUpperCase()+r}function Lot(n,e){return e===void 0&&(e={}),Pot(n,pg({delimiter:"",transform:qW},e))}function Dot(n,e){return e===0?n.toLowerCase():qW(n,e)}function Rot(n,e){return e===void 0&&(e={}),Lot(n,pg({transform:Dot},e))}function Bot(n,e){const t=Object.create(null),r=n.split(",");for(let i=0;i<r.length;i++)t[r[i]]=!0;return e?i=>!!t[i.toLowerCase()]:i=>!!t[i]}const zot=Bot("String,Number,Boolean,Function,Symbol,BigInt");function qot(n){const e=n&&n.toString().match(/^\s*function (\w+)/);return e?e[1]:n===null?"null":""}function Fot(n,e){let t;const r=qot(e);if(zot(r)){const i=typeof n;t=i===r.toLowerCase(),!t&&i==="object"&&(t=n instanceof e)}else r==="Object"?t=Ka(n):r==="Array"?t=Array.isArray(n):r==="null"?t=n===null:t=n instanceof e;return{valid:t,expectedType:r}}function Hot({prop:n,type:e,validator:t}){if(![void 0,null].includes(n)&&e){let r=!1;const i=Array.isArray(e)?e:[e],o=[];for(let a=0;a<i.length&&!r;a++){const{valid:s,expectedType:l}=Fot(n,i[a]);o.push(l||""),r=s}if(!r)throw new Error(`Invalid prop: type check failed, expecting [${o.join(", ")}], receiving: ${n}`)}if(t&&!t(n))throw new Error(`Invalid prop: validator check failed, receiving: ${n}`)}function Vot(n,{mergeObject:e,mergeFunction:t}){const r=[];for(let o=n.length-1;o>=0;o--)r.push(n[o]);const i=t?(o,a)=>o instanceof Function&&a instanceof Function?t(a,o):void 0:void 0;return e==="deep"?$ot(...r,i):rnt(...r,i)}function Wot(n,{mergeFunction:e}){return n.reduce(e,()=>{})}function fc(n,e={}){const{type:t,default:r,defaultIsDynamic:i=!1,required:o=!1,validator:a,camelCase:s=!0,mergeObjectApplyOnlyToDefault:l=!1,mergeFunctionApplyOnlyToDefault:u=!0}=e;let{mergeObject:c="deep",mergeFunction:f=!1}=e;const d=[];let h,v=!1,p=!1;const m=g=>{if(g!==void 0){Hot({type:t,prop:g,validator:a});const y=SW(g),b=g instanceof Function;return v=y,p=b,y?(g=Ait(g),s?Aot(g,(w,k)=>Rot(k,{stripRegexp:/-/g})):g):g}};for(const g of n)d.push(m(g));if(!i)d.push(m(r));else if(!(r instanceof Function))throw new TypeError(`Invalid option: config.default should be Function when config.defaultIsDynamic enabled, receiving: ${r}`);v||(c=!1,p||(f=!1));for(let g=0;g<d.length;g++){const y=d[g];if(y!==void 0){g===d.length-1?h=y:c?h=Vot(l?[y,r]:d,{mergeObject:c,mergeFunction:f}):f?h=Wot(u?[y,r]:d,{mergeFunction:f}):h=y;break}}if(o&&[void 0,null].includes(h))throw new Error("Missing required prop");return i?fc(n,{...e,default:r(h),defaultIsDynamic:!1}):h}var Uot=typeof global=="object"&&global&&global.Object===Object&&global;const Jot=Uot;var Got=typeof self=="object"&&self&&self.Object===Object&&self,Kot=Jot||Got||Function("return this")();const FW=Kot;var Qot=FW.Symbol;const vg=Qot;var HW=Object.prototype,Yot=HW.hasOwnProperty,Zot=HW.toString,od=vg?vg.toStringTag:void 0;function Xot(n){var e=Yot.call(n,od),t=n[od];try{n[od]=void 0;var r=!0}catch{}var i=Zot.call(n);return r&&(e?n[od]=t:delete n[od]),i}var eat=Object.prototype,tat=eat.toString;function nat(n){return tat.call(n)}var rat="[object Null]",iat="[object Undefined]",uL=vg?vg.toStringTag:void 0;function oat(n){return n==null?n===void 0?iat:rat:uL&&uL in Object(n)?Xot(n):nat(n)}function aat(n){return n!=null&&typeof n=="object"}var sat="[object Symbol]";function lat(n){return typeof n=="symbol"||aat(n)&&oat(n)==sat}var uat=/\s/;function cat(n){for(var e=n.length;e--&&uat.test(n.charAt(e)););return e}var fat=/^\s+/;function dat(n){return n&&n.slice(0,cat(n)+1).replace(fat,"")}function ik(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var cL=0/0,hat=/^[-+]0x[0-9a-f]+$/i,pat=/^0b[01]+$/i,vat=/^0o[0-7]+$/i,mat=parseInt;function fL(n){if(typeof n=="number")return n;if(lat(n))return cL;if(ik(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=ik(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=dat(n);var t=pat.test(n);return t||vat.test(n)?mat(n.slice(2),t?2:8):hat.test(n)?cL:+n}var gat=function(){return FW.Date.now()};const _1=gat;var yat="Expected a function",bat=Math.max,wat=Math.min;function kat(n,e,t){var r,i,o,a,s,l,u=0,c=!1,f=!1,d=!0;if(typeof n!="function")throw new TypeError(yat);e=fL(e)||0,ik(t)&&(c=!!t.leading,f="maxWait"in t,o=f?bat(fL(t.maxWait)||0,e):o,d="trailing"in t?!!t.trailing:d);function h(x){var C=r,T=i;return r=i=void 0,u=x,a=n.apply(T,C),a}function v(x){return u=x,s=setTimeout(g,e),c?h(x):a}function p(x){var C=x-l,T=x-u,M=e-C;return f?wat(M,o-T):M}function m(x){var C=x-l,T=x-u;return l===void 0||C>=e||C<0||f&&T>=o}function g(){var x=_1();if(m(x))return y(x);s=setTimeout(g,p(x))}function y(x){return s=void 0,d&&r?h(x):(r=i=void 0,a)}function b(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function w(){return s===void 0?a:y(_1())}function k(){var x=_1(),C=m(x);if(r=arguments,i=this,l=x,C){if(s===void 0)return v(l);if(f)return clearTimeout(s),s=setTimeout(g,e),h(l)}return s===void 0&&(s=setTimeout(g,e)),a}return k.cancel=b,k.flush=w,k}const rv="modelValue",dL="update:modelValue",iv=["mainMenuBar","navigationBar","statusBar","readOnly","escapeControlCharacters","escapeUnicodeCharacters"],Ps=$o({name:"JsonEditorVue",props:{[rv]:{},mode:{type:String},...Object.fromEntries(Array.from(iv,n=>[n,{type:Boolean,default:void 0}]))},emits:[dL,"update:mode"],setup(n,{attrs:e,emit:t,expose:r}){var i;const o=(i=Th())==null?void 0:i.proxy,a=Qt(),s=Qt(!1),l=Qt(!1),u=fc([n.mode,Pv.mode]),c=fc([n[rv],Pv[rv]],{camelCase:!1}),f=Object.fromEntries(Array.from(iv,m=>[m,fc([n[m],Pv[m]])]).filter(([,m])=>m!==void 0)),d=kat(m=>{if(l.value){l.value=!1;return}s.value=!0,t(dL,m.text===void 0?m.json:m.text)},100),h=m=>{t("update:mode",m)},v=(m,g)=>(...y)=>{m(...y),g(...y)},p=fc([e,VW,{onChange:d,onChangeMode:h,mode:u,...f,...c!==void 0&&{content:{json:c}}}],{camelCase:!1,mergeFunction:v});return Tr(()=>n[rv],m=>{if(s.value){s.value=!1;return}l.value=!0,a.value.update([void 0,""].includes(m)?{text:""}:{json:m})},{deep:!0}),Tr(()=>n.mode,m=>{a.value.updateProps({mode:m})}),Tr(()=>Array.from(iv,m=>n[m]),m=>{a.value.updateProps(Object.fromEntries(Array.from(m,(g,y)=>[iv[y],g]).filter(([,g])=>g!==void 0)))}),Tr(()=>e,m=>{const g={};m.onChange&&(g.onChange=d),m.onChangeMode&&(g.onChangeMode=h),a.value.updateProps(fc([m,g],{camelCase:!1,mergeFunction:v}))},{deep:!0}),r==null||r({jsonEditor:a}),sU(()=>{a.value.destroy()}),mf(()=>{a.value=new UXe({target:o==null?void 0:o.$refs.jsonEditorRef,props:p}),r||(r=m=>{for(const g in m)o[g]=N1(m[g])},r({jsonEditor:a}))}),()=>Tt("div",{ref:"jsonEditorRef"})}});let Pv={},VW={};Ps.install=(n,e={})=>{if(Ps.name){if(Ps.install.installed){console.warn(`${Ps.name} has been registered.`);return}}else throw new Error("Name is required for a global component.");const{props:t,attrs:r,listeners:i,hooks:o}=net(e,Ps.props);Pv=t,VW=r,n.component(Ps.name,Ps),Ps.install.installed=!0};const xat={key:0,class:"q-gutter-md"},jat={key:1,class:"q-gutter-md"},Cat={class:"row"},fst={__name:"select",props:{field:{type:Object,default:{}},readOnly:{type:Boolean,default:!1},selected:{type:Array,default:[]}},setup(n){var u;const e=n,{dialogRef:t,onDialogOK:r}=gk(),i=pk({showSelect:!0,expand:!1,columns:[],model:lU((u=e.field)==null?void 0:u.relationTo),loading:!1,search:null,includes:[],checkArray:[],colors:[],selected:[],items:[],rws:[]});a(),uU(c=>!1),mf(async()=>{await s()}),Tr(()=>i.showSelect,c=>{});function o(c,f){var h,v;var d=pU((h=e.field)==null?void 0:h.relationTo,c)||"";return d=((v=d==null?void 0:d.admin)==null?void 0:v.label)||(d==null?void 0:d.name)||null,d||(d=c),d}function a(){var d,h,v;var c=[];if((d=i.model.fields)!=null&&d.length&&(i.model.fields.map(p=>{var m,g;if(!p.type.toLowerCase().match(/(json|media|map|relationship)/))return p.type.toLowerCase().match(/(select)/)?c.push({label:(((m=p==null?void 0:p.admin)==null?void 0:m.label)||p.name).toUpperCase(),name:p.name,field:y=>{var b,w;return p.hasMany?y[p.name].map(k=>((k==null?void 0:k.label)||(k==null?void 0:k.value))+`
, `):((b=y[p.name])==null?void 0:b.label)||((w=y[p.name])==null?void 0:w.value)},align:"center",headerClasses:" ",classes:y=>(y[p.name],"")}):(p.type=="colour"&&i.colors.push("body-cell-"+p.name),p.type=="boolean"&&i.checkArray.push("body-cell-"+p.name),c.push({label:(((g=p==null?void 0:p.admin)==null?void 0:g.label)||p.name).toUpperCase(),name:p.name,field:y=>y[p.name],align:(p.type=="boolean","center"),headerClasses:p.type=="boolean"?"text-center":"",sortable:!0}))}),i.model.timestamps)){var f=(v=(h=i.model)==null?void 0:h.admin)!=null&&v.timestampsFormat?i.model.admin.timestampsFormat:"YY-MM-DD ,HH:mm:ss a";c.push({label:"CreatedAt",name:"createdAt",field:p=>Hj(p.createdAt).format(f),align:"left",headerClasses:" ",sortable:!0,style:{}}),c.push({label:"UpdatedAt",name:"updatedAt",field:p=>Hj(p.updatedAt).format(f),align:"left",headerClasses:" ",sortable:!0,style:{}})}i.columns=c}async function s(){i.loading=!0,i.selected=[];var c={};i.model.fields.map(p=>{p.type=="relationship"&&(c[p.name]=!0)});var f=await kd.findMany(i.model.slug,{include:c}).then(p=>p).catch(p=>[]),d=[];i.model.fields.map(p=>{(p.type=="relationship"||p.hasMany)&&(d.push(p.name),d.push(p.name+"Ids"),d.push(p.name+"Id"))}),i.rws=i.items=f;for await(var h of i.items)for await(var v of e.selected)v==h.id&&i.selected.push(h);i.loading=!1}function l(){r(i.selected)}return(c,f)=>{const d=vk("q-smart-reactif");return Rr(),ms(Fd,{maximized:"","full-height":"",position:"right",ref_key:"dialogRef",ref:t},{default:ln(()=>[vt(iu,{class:"q-pa-md",style:mk({minWidth:i.expand?"82vw":"50vw",maxWidth:"75vw",width:"auto"})},{default:ln(()=>[vt(ou,{class:"q-pa-none"},{default:ln(()=>[vt(vi,{flat:"",round:"",outline:"",onClick:f[0]||(f[0]=h=>i.expand=!i.expand),icon:i.expand?"las la-expand":"las la-expand-arrows-alt"},{default:ln(()=>[vt(cU,null,{default:ln(()=>[Bi(is(i.expand?"minimize":"Maximize"),1)]),_:1})]),_:1},8,["icon"]),vt(Lv,{class:"text-capitalize text-bold"},{default:ln(()=>[Bi(is(e.field.label||e.field.name),1)]),_:1}),vt(Ys),e.readOnly?(Rr(),Sa("div",jat,[vt(vi,{to:`/espace/collections/${i.model.slug}`,label:"Manage",outline:"",icon:"las la-external-link-alt"},null,8,["to"]),Vs(vt(vi,{flat:"",icon:"mdi-close"},null,512),[[wd]])])):(Rr(),Sa("div",xat,[vt(vi,{onClick:f[1]||(f[1]=h=>s()),round:"",icon:"mdi-sync"}),Vs(vt(vi,{round:"",icon:"mdi-close"},null,512),[[wd]]),vt(vi,{onClick:f[2]||(f[2]=h=>l()),color:"green",round:"",icon:"mdi-check"})]))]),_:1}),vt(ou,null,{default:ln(()=>[vt(jL,{style:{"min-width":"400px"},modelValue:i.search,"onUpdate:modelValue":f[3]||(f[3]=h=>i.search=h),type:"text",clearable:"",label:"Search...."},null,8,["modelValue"]),vt(Ys),vt(fU,{modelValue:i.showSelect,"onUpdate:modelValue":f[4]||(f[4]=h=>i.showSelect=h),label:"Selected Only"},null,8,["modelValue"])]),_:1}),vt(jc,{class:"scroll q-pa-xs",style:{height:"80vh"}},{default:ln(()=>[vt(iu,{flat:""},{default:ln(()=>[vt(xU,{class:"ui table",color:"secondary",selected:i.selected,"onUpdate:selected":f[5]||(f[5]=h=>i.selected=h),selection:e.field.hasMany?"multiple":"single",separator:"cell","rows-per-page-options":[100,200],filter:i.search,"row-key":"id",columns:i.columns,rows:i.items||[],loading:i.loading,flat:"",style:{height:"75vh"}},{"body-cell-actions":ln(h=>[vt(jU,{props:h},{default:ln(()=>[Ro("div",null,[Ro("div",Cat,[vt(d,null,{default:ln(({active:v,toggle:p,close:m})=>[vt(vi,{onClick:g=>p(),color:"primary",round:"",dense:"",icon:"mdi-information-variant"},null,8,["onClick"]),vt(Fd,{onHide:m,"model-value":v},{default:ln(()=>[vt(iu,null,{default:ln(()=>[vt(ou,{class:"q-mx-sm"},{default:ln(()=>[vt(Lv,{shrink:""},{default:ln(()=>[Bi(" All d\xE9tails ")]),_:1}),vt(Ys),Vs(vt(vi,{round:"",flat:"",icon:"mdi-close"},null,512),[[wd]])]),_:1}),vt(jc,null,{default:ln(()=>[vt(dU,{separator:""},{default:ln(()=>[(Rr(!0),Sa(dk,null,CL(Object.keys(h.row),(g,y)=>Vs((Rr(),ms(hU,{key:y},{default:ln(()=>[vt(Bj,{side:""},{default:ln(()=>[vt(SL,{class:"text-bold text-black"},{default:ln(()=>[Bi(is(o(g,h.row[g]))+" : ",1)]),_:2},1024)]),_:2},1024),vt(Bj,null,{default:ln(()=>[Bi(is(h.row[g]),1)]),_:2},1024)]),_:2},1024)),[[fk,g!=="actions"]])),128))]),_:2},1024)]),_:2},1024),vt(jc)]),_:2},1024)]),_:2},1032,["onHide","model-value"]),Bi(" \xA0 \xA0 "),vt(vi,{onClick:g=>{var y;return c.$router.push(`/espace/collections/edit/${i.model.slug}?ref=${(y=h.row)==null?void 0:y.id}`)},round:"",dense:"",icon:"las la-link"},null,8,["onClick"])]),_:2},1024)])])]),_:2},1032,["props"])]),_:1},8,["selected","selection","filter","columns","rows","loading"])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},512)}}};function Lj(n){return Sat.test(n)}var Sat=/^-?[0-9]+$/;function WW(n){return Tat.test(n)}var Tat=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;function Oat(n,e){var t=parseFloat(n),r=String(t),i=hL(n),o=hL(r);if(i===o)return!0;if((e==null?void 0:e.approx)===!0){var a=14;if(!Lj(n)&&o.length>=a&&i.startsWith(o.substring(0,a)))return!0}return!1}var ru;(function(n){n.underflow="underflow",n.overflow="overflow",n.truncate_integer="truncate_integer",n.truncate_float="truncate_float"})(ru||(ru={}));function Eat(n){if(!Oat(n,{approx:!1})){if(Lj(n))return ru.truncate_integer;var e=parseFloat(n);return isFinite(e)?e===0?ru.underflow:ru.truncate_float:ru.overflow}}function hL(n){return n.replace(Mat,"").replace(Aat,"").replace(_at,"").replace($at,"")}var Mat=/[eE][+-]?\d+$/,$at=/^-?(0*)?/,Aat=/\./,_at=/0+$/;function ok(n){return ok=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ok(n)}function Nat(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function pL(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Iat(n,e,t){return e&&pL(n.prototype,e),t&&pL(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Pat(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Lat=function(){function n(e){if(Nat(this,n),Pat(this,"isLosslessNumber",!0),!WW(e))throw new Error('Invalid number (value: "'+e+'")');this.value=e}return Iat(n,[{key:"valueOf",value:function(){var t=Eat(this.value);if(t===void 0||t===ru.truncate_float)return parseFloat(this.value);if(Lj(this.value))return BigInt(this.value);throw new Error("Cannot safely convert to number: "+"the value '".concat(this.value,"' would ").concat(t," and become ").concat(parseFloat(this.value)))}},{key:"toString",value:function(){return this.value}}]),n}();function Dat(n){return n&&ok(n)==="object"&&n.isLosslessNumber===!0||!1}function Rat(n){return new Lat(n)}function ak(n){return ak=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ak(n)}function Bat(n,e){return Dj({"":n},"",n,e)}function Dj(n,e,t,r){return Array.isArray(t)?r.call(n,e,qat(t,r)):t&&ak(t)==="object"&&!Dat(t)?r.call(n,e,zat(t,r)):r.call(n,e,t)}function zat(n,e){return Object.keys(n).forEach(function(t){var r=Dj(n,t,n[t],e);r!==void 0?n[t]=r:delete n[t]}),n}function qat(n,e){for(var t=0;t<n.length;t++)n[t]=Dj(n,t+"",n[t],e);return n}function dst(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Rat,r=0,i=s();return v(i),m(),e?Bat(i,e):i;function o(){if(n[r]==="{"){r++,u();for(var N={},$=!0;r<n.length&&n[r]!=="}";){$?$=!1:(d(),u());var j=c();j===void 0&&b(),Object.prototype.hasOwnProperty.call(N,j)&&w(j),u(),h(),N[j]=s()}return n[r]!=="}"&&k(),r++,N}}function a(){if(n[r]==="["){r++,u();for(var N=[],$=!0;r<n.length&&n[r]!=="]";){$?$=!1:d();var j=s();p(j),N.push(j)}return n[r]!=="]"&&x(),r++,N}}function s(){var N,$,j,D,q,R;u();var G=(N=($=(j=(D=(q=(R=c())!==null&&R!==void 0?R:f())!==null&&q!==void 0?q:o())!==null&&D!==void 0?D:a())!==null&&j!==void 0?j:l("true",!0))!==null&&$!==void 0?$:l("false",!1))!==null&&N!==void 0?N:l("null",null);return u(),G}function l(N,$){if(n.slice(r,r+N.length)===N)return r+=N.length,$}function u(){for(;Fat(n[r]);)r++}function c(){if(n[r]==='"'){r++;for(var N="";r<n.length&&n[r]!=='"';){if(n[r]==="\\"){var $=n[r+1],j=Vat[$];j!==void 0?(N+=j,r++):$==="u"?ov(n[r+2])&&ov(n[r+3])&&ov(n[r+4])&&ov(n[r+5])?(N+=String.fromCharCode(parseInt(n.slice(r+2,r+6),16)),r+=5):T(r):C(r)}else N+=n[r];r++}return y(),r++,N}}function f(){var N=r;if(n[r]==="-"&&(r++,g(N)),n[r]==="0")r++;else if(Hat(n[r]))for(r++;av(n[r]);)r++;if(n[r]===".")for(r++,g(N);av(n[r]);)r++;if(n[r]==="e"||n[r]==="E")for(r++,(n[r]==="-"||n[r]==="+")&&r++,g(N);av(n[r]);)r++;if(r>N)return t(n.slice(N,r))}function d(){if(n[r]!==",")throw new SyntaxError("Comma ',' expected after value ".concat(_()));r++}function h(){if(n[r]!==":")throw new SyntaxError("Colon ':' expected after property name ".concat(_()));r++}function v(N){if(N===void 0)throw new SyntaxError("JSON value expected ".concat(_()))}function p(N){if(N===void 0)throw new SyntaxError("Array item expected ".concat(_()))}function m(){if(r<n.length)throw new SyntaxError("Expected end of input ".concat(_()))}function g(N){if(!av(n[r])){var $=n.slice(N,r);throw new SyntaxError("Invalid number '".concat($,"', expecting a digit ").concat(_()))}}function y(){if(n[r]!=='"')throw new SyntaxError(`End of string '"' expected `.concat(_()))}function b(){throw new SyntaxError("Quoted object key expected ".concat(_()))}function w(N){throw new SyntaxError("Duplicate key '".concat(N,"' encountered at position ").concat(r-N.length-1))}function k(){throw new SyntaxError("Quoted object key or end of object '}' expected ".concat(_()))}function x(){throw new SyntaxError("Array item or end of array ']' expected ".concat(_()))}function C(N){var $=n.slice(N,N+2);throw new SyntaxError("Invalid escape character '".concat($,"' ").concat(M()))}function T(N){for(var $=N+2;/\w/.test(n[$]);)$++;var j=n.slice(N,$);throw new SyntaxError("Invalid unicode character '".concat(j,"' ").concat(M()))}function M(){return"at position ".concat(r)}function B(){return n[r]?"but got '".concat(n[r],"'"):"but reached end of input"}function _(){return B()+" "+M()}}function Fat(n){return Wat[n]===!0}function ov(n){return/^[0-9a-fA-F]/.test(n)}function av(n){return/[0-9]/.test(n)}function Hat(n){return/[1-9]/.test(n)}var Vat={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},Wat={" ":!0,"\n":!0,"	":!0,"\r":!0};function mg(n){return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(n)}function Uat(n,e,t,r){var i=Jat(t),o=typeof e=="function"?e.call({"":n},"",n):n;return a(o,"");function a(c,f){if(Array.isArray(r)){var d=r.find(function(v){return v.test(c)});if(d){var h=d.stringify(c);if(typeof h!="string"||!WW(h))throw new Error("Invalid JSON number: output of a number stringifier must be a string containing a JSON number "+"(output: ".concat(h,")"));return h}}if(typeof c=="boolean"||typeof c=="number"||typeof c=="string"||c===null||c instanceof Date||c instanceof Boolean||c instanceof Number||c instanceof String)return JSON.stringify(c);if(c&&c.isLosslessNumber||typeof c=="bigint")return c.toString();if(Array.isArray(c))return s(c,f);if(c&&mg(c)==="object")return l(c,f)}function s(c,f){for(var d=i?f+i:void 0,h=i?`[
`:"[",v=0;v<c.length;v++){var p=typeof e=="function"?e.call(c,String(v),c[v]):c[v];i&&(h+=d),typeof p!="undefined"&&typeof p!="function"?h+=a(p,d):h+="null",v<c.length-1&&(h+=i?`,
`:",")}return h+=i?`
`+f+"]":"]",h}function l(c,f){if(typeof c.toJSON=="function")return Uat(c.toJSON(),e,t,void 0);var d=Array.isArray(e)?e.map(String):Object.keys(c),h=i?f+i:void 0,v=!0,p=i?`{
`:"{";return d.forEach(function(m){var g=typeof e=="function"?e.call(c,m,c[m]):c[m];if(u(m,g)){v?v=!1:p+=i?`,
`:",";var y=JSON.stringify(m);p+=i?h+y+": ":y+":",p+=a(g,h)}}),p+=i?`
`+f+"}":"}",p}function u(c,f){return typeof f!="undefined"&&typeof f!="function"&&mg(f)!=="symbol"}}function Jat(n){if(typeof n=="number")return" ".repeat(n);if(typeof n=="string"&&n!=="")return n}export{_L as F,lst as Q,cst as T,d9e as _,sst as a,fst as b,ust as f,Ps as k,dst as p,Uat as s};
